Summary,Issue key,Issue id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Component/s,Component/s,Component/s,Component/s,Component/s,Component/s,Due Date,Votes,Labels,Labels,Labels,Labels,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Log Work,Log Work,Log Work,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocker),Outward issue link (Blocker),Inward issue link (Cause),Outward issue link (Cause),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Derived),Inward issue link (Duplicate),Inward issue link (Duplicate),Inward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Duplicate),Inward issue link (Reference),Inward issue link (Reference),Outward issue link (Reference),Outward issue link (Reference),Inward issue link (Supersession),Outward issue link (Supersession),Outward issue link (Supersession),Outward issue link (Supersession),Outward issue link (Supersession),Outward issue link (Supersession),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Accept),Custom field (Actual Result),Custom field (Add-on Type),Custom field (Affected App(s)),Custom field (Affects Clover-for-Eclipse),Custom field (Approvers),Custom field (Backlog Order),Custom field (Backlog Order (Obsolete)),Custom field (Blocked from migrating),Custom field (Bug Fix Policy),Custom field (Bug Type),Custom field (Bug/Suggestion Type),Custom field (Bugmaster Rank),Custom field (CVE ID),Custom field (CVSS Score),Custom field (CVSS Severity),Custom field (Category),Custom field (Churned),Custom field (Complexity),Custom field (Confluence Page Id),Custom field (Contact Email),Custom field (Contact Name),Custom field (Current Status),Custom field (Date of First Response),Custom field (Demo Cascader),Custom field (Deployment Type),Custom field (Development Effort),Custom field (Do you intend to migrate to the new experience in the next 6 months?),Custom field (Do you plan to migrate to new Portfolio plans within the next 3 months?),Custom field (Does fix include system behavior or UI changes?),Custom field (Done Criteria),Custom field (EIS),Custom field (Effort),Custom field (Engineering contact),Custom field (Enterprise Customers),Custom field (Epic Link),Custom field (Epic/Theme),Custom field (Expected Result),Custom field (External issue ID),Custom field (External issue ID),Custom field (External issue ID),Custom field (External issue ID),Custom field (Feature),Custom field (Feedback About),Custom field (Fixed in Long Term Support Release/s),Custom field (Flagged),Custom field (Flaky Count),Custom field (Global Rank),Custom field (Global Rank (Obsolete)),Custom field (Have you used Portfolio for JIRA's new 2.0 plans?),Custom field (Have you used the new improved experience?),Custom field (Health Monitor),Custom field (HipChat Team),Custom field (Hypothesis),Custom field (If you have any other thoughts please share them here:),Custom field (Implemented in HipChat Clients),Custom field (Interested Team/s),Custom field (Internal Priority),Custom field (Issue Key Searcher),Custom field (JIRA Support Rank),Custom field (JIRA Support Rank (Obsolete)),Custom field (Last commented),Custom field (Last commented by user?),Custom field (Latest Update),Custom field (Market Group Requested by),Custom field (More Detailed Required),Custom field (Next Review and Update),Custom field (Occurrence Factor),Custom field (Original Estimate),Custom field (Original story points),Custom field (Page Path),Custom field (Parent Link),Custom field (Participants),Custom field (Participants),Custom field (Participants),Custom field (Participants),Custom field (Participants),Custom field (Participants),Custom field (Partners),Custom field (Partners),Custom field (Performance Gain),Custom field (Play),Custom field (Please share any other thoughts here:),Custom field (Prioritization),Custom field (Product Space Key),Custom field (Product Space Name),Custom field (Project Type),Custom field (Public Documentation URL),Custom field (Quality Assistance),Custom field (Questions you want to answer),Custom field (R1 Due),Custom field (Rank),Custom field (Rank (Obsolete)),Custom field (Ratio),Custom field (Reason),Custom field (Reason for Rejection),Custom field (Regular Expression),Custom field (Regular Expression - old),Custom field (Related Product(s)),Custom field (Release notes),Custom field (Req.),Custom field (Request Participants),Custom field (Resource),Custom field (Result),Custom field (Review Link),Custom field (Review Status),Custom field (Risk),Custom field (Sales Blocker),Custom field (Server / Client),Custom field (Server applicable?),Custom field (Shirt Size),Custom field (Splunk query to find customers impacted by this bug),Sprint,Sprint,Sprint,Sprint,Sprint,Custom field (Story Points),Custom field (Studio Rank),Custom field (Support Points),Custom field (Support Rank),Custom field (Support Rank (Obsolete)),Custom field (Support reference count),Custom field (SupportRank (Obsolete)),Custom field (Symptom Severity),Custom field (System/UI Changes),Custom field (T-Shirt Size),Custom field (Target Release Date),Custom field (Target deployment),Custom field (Target end),Custom field (Target start),Custom field (Task Points),Custom field (Team),Custom field (Team),Custom field (Team),Custom field (Team Central),Custom field (Themes),Custom field (Tool Bar),Custom field (Total NB Contacts Collected),Custom field (UIS),Custom field (URL),Custom field (UTC Timezone Offset),Custom field (Unique Views),Custom field (Value),Custom field (What's preventing you from migrating to the Improved interface?),Custom field (What's the main reason you're currently using Classic plans?),"Custom field (What, if any, Classic plan features are missing from new plans that are essential for your work?)","Custom field (What, if any, features are missing from the Improved experience?)",Custom field (When is this event fired?),Custom field (xSP),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
NPE during test execution on IntelliJ 2016.3 Windows and java version below 1.8,CLOV-1985,660317,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,glewandowski,glewandowski,19/Jan/2017 1:54 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,open-source,,,CIJ Plugin,,,,,,,0,,,,,,,,,"h2. Environment Details

This bug occurs only on the following environment configuration:

* Windows machine
* IntelliJ Idea Ultimate Edition 2016.3
* JDK 1.6 and JDK 1.7

h2. HTR
# Install Clover plugin to IntelliJ
# Run tests with using JDK 1.7 or JDK 1.6

h2. Expected result

Tests are run, sources are instrumented and coverage is gathered properly.

h2. Actual result

NullPointerException is thrown from compiler process:

{noformat}
Information:java: java.lang.NullPointerException
Information:java: 	at com.atlassian.clover.idea.build.jps.CloverJavaSourceTransformer.transform(CloverJavaSourceTransformer.java:90)
Information:java: 	at org.jetbrains.jps.javac.TransformableJavaFileObject.getCharContent(TransformableJavaFileObject.java:51)
Information:java: 	at com.sun.tools.javac.main.JavaCompiler.readSource(JavaCompiler.java:483)
Information:java: 	at com.sun.tools.javac.main.JavaCompiler.parse(JavaCompiler.java:550)
Information:java: 	at com.sun.tools.javac.main.JavaCompiler.parseFiles(JavaCompiler.java:804)
Information:java: 	at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:727)
Information:java: 	at com.sun.tools.javac.main.Main.compile(Main.java:353)
Information:java: 	at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:113)
Information:java: 	at org.jetbrains.jps.javac.JavacMain.compile(JavacMain.java:180)
Information:java: 	at org.jetbrains.jps.javac.ExternalJavacProcess.compile(ExternalJavacProcess.java:189)
Information:java: 	at org.jetbrains.jps.javac.ExternalJavacProcess.access$400(ExternalJavacProcess.java:48)
Information:java: 	at org.jetbrains.jps.javac.ExternalJavacProcess$CompilationRequestsHandler$1.run(ExternalJavacProcess.java:254)
Information:java: 	at org.jetbrains.jps.service.impl.SharedThreadPoolImpl$1.run(SharedThreadPoolImpl.java:44)
Information:java: 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)
Information:java: 	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
Information:java: 	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
Information:java: 	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
Information:java: 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
Information:java: 	at java.lang.Thread.run(Thread.java:662)
{noformat}

h2. Workarounds

This bug seems to be related only with the specific environment configuration specified in the first point. The easiest workaround is  to use newer JDK version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hyflg7:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hyfmnz:",9223372036854775807,,,,,,,,,,,"1|hyflgf:",9223372036854775807,246844800,true,,,,,,,,,,glewandowski(glewandowski),,,,,,,,,,,,,,,,,,,"1|hyge73:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hyflfj:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"19/Jan/2017 2:03 PM;glewandowski;Generally, the problem lies in the {{com.atlassian.clover.idea.build.jps.CloverJavaSourceTransformer#transform}} method when we reference to a _CompileContext_ 

{code}
@Override
    public CharSequence transform(final File file, final CharSequence charSequence) throws TransformError {
        // get current project
        jpsProject = CloverJavaBuilder.getInstance().getCompileContext().getProjectDescriptor().getProject();
{code}
_CompileContext_ is set by _ModuleLevelBuilder#buildStarted_. This method should be technically called for every process but it looks like it's not on a Windows platform and JDK 1.6 and 1.7. 

I spent some time on IntelliJ static analysis and debugging and I think it may be connected with a way how IntelliJ forks processes. Forking for JDK 1.8 and 1.9 is handled differently than forking 1.7 and older.  ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Instrumentation error for generic array constructor reference,CLOV-1984,659733,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Won't Fix,,mparfianowicz,mparfianowicz,17/Jan/2017 4:12 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:00 PM,13/Aug/2019 6:52 AM,,,,,,open-source,,,Instrumentation,,,,,,,2,java8,,,,,,,,"Clover fails to instrument source code in case when a java8 method reference is used to call a generic array constructor, such as:
{code:java}
Class<?>[]::new{code}

Example:

{code}
public class A {
  public void a(Class<?>[] interfaces) { 
    java.util.Arrays.stream(interfaces).toArray(Class<?>[]::new); 
  }
}
{code}

Stack trace:

{noformat}
com.atlassian.clover.api.CloverException: /tmp/A.java:4:5:unexpected token: java
at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:161)
at com.atlassian.clover.CloverInstr.execute(CloverInstr.java:76)
at com.atlassian.clover.CloverInstr.mainImpl(CloverInstr.java:54)
at com.atlassian.clover.CloverInstr.main(CloverInstr.java:39)
Caused by: line 4:5: unexpected token: java
at com.atlassian.clover.instr.java.JavaRecognizer.conditionalExpression(JavaRecognizer.java:4581)
at com.atlassian.clover.instr.java.JavaRecognizer.assignmentExpression(JavaRecognizer.java:4448)
at com.atlassian.clover.instr.java.JavaRecognizer.expression(JavaRecognizer.java:3515)
at com.atlassian.clover.instr.java.JavaRecognizer.statement(JavaRecognizer.java:3038)
at com.atlassian.clover.instr.java.JavaRecognizer.outerCompoundStmt(JavaRecognizer.java:2825)
at com.atlassian.clover.instr.java.JavaRecognizer.field(JavaRecognizer.java:2394)
at com.atlassian.clover.instr.java.JavaRecognizer.classBlock(JavaRecognizer.java:1857)
at com.atlassian.clover.instr.java.JavaRecognizer.classDefinition(JavaRecognizer.java:865)
at com.atlassian.clover.instr.java.JavaRecognizer.typeDefinition2(JavaRecognizer.java:795)
at com.atlassian.clover.instr.java.JavaRecognizer.typeDefinition(JavaRecognizer.java:648)
at com.atlassian.clover.instr.java.JavaRecognizer.compilationUnit(JavaRecognizer.java:566)
at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:213)
at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:126)
... 3 more
{noformat}

*Workaround:*

1) Do not write a generic array constructor reference. Sic! Java, because of type erasure, don't have generic arrays.

2) Change method reference to a lambda, e.g.:

{code}
value -> new Class<?>[value]
{code}

3) Or exclude source file from instrumentation.


*Expected fix:*

Extend Clover's ANTLR grammar to handle generic array constructor references:

{noformat}
A<B>[]::new
{noformat}

Note: Clover already handles:
{noformat}
A::new
A[]::new
A<B>::new
A<B>::<B>new
(A)B::new
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hyfiin:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hyfjr3:",9223372036854775807,,,,,,,,,,,"1|hyfiiv:",9223372036854775807,247017600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hygbhr:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hyfihz:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
com.atlassian.clover.api.CloverException: unexpected token: @ for type arguments with annoations,CLOV-1979,655499,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Tracked Elsewhere,,ssaasen,ssaasen,23/Dec/2016 12:06 AM,23/Dec/2016 9:07 AM,15/Nov/2024 6:01 PM,23/Dec/2016 9:07 AM,4.1.2,,,,,n/a,,,,,,,,,,0,,,,,,,,,"If a type argument for a parameterized type has an annotation, clover fails with the following error:

 
{code:java}
22-Dec-2016 23:45:34	com.atlassian.clover.api.CloverException: ...Test.java:43:56:unexpected token: @
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:161)
22-Dec-2016 23:45:34	        at com.atlassian.clover.CloverInstr.execute(CloverInstr.java:76)
22-Dec-2016 23:45:34	        at com.atlassian.clover.CloverInstr.mainImpl(CloverInstr.java:54)
22-Dec-2016 23:45:34	        at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrumentSources(AbstractInstrumenter.java:197)
22-Dec-2016 23:45:34	        at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrument(AbstractInstrumenter.java:72)
22-Dec-2016 23:45:34	        at com.atlassian.maven.plugin.clover.CloverInstrumentInternalMojo.execute(CloverInstrumentInternalMojo.java:291)
22-Dec-2016 23:45:34	        at com.atlassian.maven.plugin.clover.CloverSetupMojo.execute(CloverSetupMojo.java:31)
22-Dec-2016 23:45:34	        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)
22-Dec-2016 23:45:34	        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)
22-Dec-2016 23:45:34	        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
22-Dec-2016 23:45:34	        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
22-Dec-2016 23:45:34	        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)
22-Dec-2016 23:45:34	        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)
22-Dec-2016 23:45:34	        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
22-Dec-2016 23:45:34	        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)
22-Dec-2016 23:45:34	        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)
22-Dec-2016 23:45:34	        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)
22-Dec-2016 23:45:34	        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)
22-Dec-2016 23:45:34	        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)
22-Dec-2016 23:45:34	        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)
22-Dec-2016 23:45:34	        at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)
22-Dec-2016 23:45:34	        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
22-Dec-2016 23:45:34	        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
22-Dec-2016 23:45:34	        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
22-Dec-2016 23:45:34	        at java.lang.reflect.Method.invoke(Method.java:498)
22-Dec-2016 23:45:34	        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
22-Dec-2016 23:45:34	        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
22-Dec-2016 23:45:34	        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
22-Dec-2016 23:45:34	        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
22-Dec-2016 23:45:34	Caused by: line 43:56: unexpected token: @
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.typeArguments(JavaRecognizer.java:1227)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.classOrInterfaceType(JavaRecognizer.java:1154)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.classTypeSpec(JavaRecognizer.java:1086)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.typeSpec(JavaRecognizer.java:1048)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.parameterDeclaration(JavaRecognizer.java:3536)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.parameterDeclarationList(JavaRecognizer.java:2706)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.field(JavaRecognizer.java:2370)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.classBlock(JavaRecognizer.java:1857)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.classDefinition(JavaRecognizer.java:865)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.typeDefinition2(JavaRecognizer.java:795)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.typeDefinition(JavaRecognizer.java:648)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.JavaRecognizer.compilationUnit(JavaRecognizer.java:566)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:213)
22-Dec-2016 23:45:34	        at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:126)
22-Dec-2016 23:45:34	        ... 28 more

{code}

The code causing this is:

{code:java}
@Property
public void testFooBar(ArrayList<@From(Files.class) File> files) throws Exception {
{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,CLOV-1839,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hyeugv:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2016-12-23 09:06:48.316,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hyevrr:",9223372036854775807,,,,,,,,,,,"1|hyeuh3:",9223372036854775807,249177600,true,,,,,,,,,,mparfianowicz(mparfianowicz),ssaasen(ssaasen),,,,,,,,,,,,,,,,,,"1|hyfopz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hyeug7:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"23/Dec/2016 9:06 AM;mparfianowicz;Hi Stefan,

Thank you for reporting this bug. This is a duplicate of a feature request: 

https://jira.atlassian.com/browse/CLOV-1839

As you can see in the linked issue, I've already made some progress in it (all items marked (/) are ready), but it still requires polishing extensive testing for side-effects and performance. But you may want to try to build Clover from a branch, if you need this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
__CLR4_1_2_TEST_NAME_SNIFFER is ambiguous compilation failure,CLOV-1978,654800,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Won't Fix,,mparfianowicz,mparfianowicz,20/Dec/2016 9:05 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.3.0,,,,,open-source,,,Instrumentation,,,,,,,0,,,,,,,,,"Bug affects Clover 3.3.0 and higher.

 

*Steps to reproduce:*
 * an inner class must have at least two parents, i.e.
 ** extend one class and implement one or more interfaces
 ** or implement two or more interfaces
 * Clover instrumentation succeeds
 * Javac compilation fails with an error:

{{java: reference to __CLR4_1_2_TEST_NAME_SNIFFER is ambiguous}}
 \{\{ both variable __CLR4_1_2_TEST_NAME_SNIFFER in <one class> and variable __CLR4_1_2_TEST_NAME_SNIFFER in <another class> match}}

 

*Code sample:*
{code:java}
class MyBaseTest {
    // the __CLR_4_1_2_TEST_NAME_SNIFFER field is injected here
    void foo() {
    }
}{code}
 
{code:java}
interface MyInterface {
    // the __CLR_4_1_2_TEST_NAME_SNIFFER field is injected here
    static void foo() {
    }
}{code}
 
{code:java}
class MyTest {
    // the __CLR_4_1_2_TEST_NAME_SNIFFER field is injected here

    class InnerTest extends MyBaseTest implements MyInterface {
        // the __CLR_4_1_2_TEST_NAME_SNIFFER field is NOT injected here 
        // because it's an inner class and Clover
        // is designed to re-use field from the outer class

        public void test() {
            // __CLR4_1_2_TEST_NAME_SNIFFER.getTestName() is called
            // compilation fails because the following three fields are visible in this scope:
            //   MyBaseTest.__CLR_4_1_2_TEST_NAME_SNIFFER
            //   MyInterface.__CLR_4_1_2_TEST_NAME_SNIFFER
            //   MyTest.__CLR_4_1_2_TEST_NAME_SNIFFER
            // Clover's algorithm expected to use the one from outer MyTest class and 
            // did not expect to see other fields from super class or interfaces
        }
    }
}
{code}
 

*Workaround:*
 * as this is related with ""multiple inheritance"" (as Java interfaces may actually contain business logic - either in a form of static or default methods - Clover adds its code to them), disable instrumentation of interfaces by Clover, e.g. using an inline comment

{code:java}
///CLOVER:OFF
interface MyInterface {
    // no Clover instrumentation will be added
    static void foo() {
    }
}{code}
 

*Probable fix:*

Try to use fully qualified name (to refer to the outer class or to refer to the parent class), e.g.:
{code:java}
MyTest.__CLR4_1_2_TEST_NAME_SNIFFER.getTestName(){code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hyeqr3:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2017-01-14 18:02:34.772,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hyes27:",9223372036854775807,,,,,,,,,,,"1|hyeqrb:",9223372036854775807,247276800,true,,,,,,,,,,e8c40f00b7d3(ktdabull545066090),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hyflaf:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hyeqqf:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"14/Jan/2017 6:02 PM;e8c40f00b7d3;Clever.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Hudson Clover Plugin fails to run if HUDSON_HOME contains space character,CLOV-1973,640174,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,18/Oct/2016 9:54 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,open-source,,,,,,,,,,0,,,,,,,,,"See also --CLOV-1956--.

In case HUDSON_HOME contains space character, build with Hudson Clover Plugin fails because -lib is quoted twice. It happens in both cases:
 * when put in quotes is enabled

{code:java}
[workspace] $ ant clover.fullclean clean test.run -d -Dclover.skip.current=true -Dclover.optimization.enabled=false -lib '""/Users/mparfianowicz/.hudson 3.3.3/plugins/clover/WEB-INF/lib/clover-4.1.2.jar""' -listener com.atlassian.clover.ci.AntIntegrationListener '-Dclover.license.path=""/Users/mparfianowicz/.hudson 3.3.3/jobs/abc/workspace/.clover/clover.license""' 
Apache Ant(TM) version 1.9.6 compiled on June 29 2015 
Trying the default build file: build.xml 
Buildfile: /Users/mparfianowicz/.hudson 3.3.3/jobs/abc/workspace/build.xml 
BUILD FAILED Class not found: com.atlassian.clover.ci.AntIntegrationListener 

{code}
 * when put in quotes is disabled

{code:java}
[workspace] $ ant clover.fullclean clean test.run -d -Dclover.skip.current=true -Dclover.optimization.enabled=false -lib '""/Users/mparfianowicz/.hudson 3.3.3/plugins/clover/WEB-INF/lib/clover-4.1.2.jar""' -listener com.atlassian.clover.ci.AntIntegrationListener ""-Dclover.license.path=/Users/mparfianowicz/.hudson 3.3.3/jobs/abc/workspace/.clover/clover.license""
Apache Ant(TM) version 1.9.6 compiled on June 29 2015
Trying the default build file: build.xml
Buildfile: /Users/mparfianowicz/.hudson 3.3.3/jobs/abc/workspace/build.xml

BUILD FAILED
Class not found: com.atlassian.clover.ci.AntIntegrationListener

{code}
Note that '-lib ..clover.jar' is always put in double quotes by AntIntegrator.

Probable fix:
 * honour putValuesInQuotes property for -lib or
 * do not put in quotes at all",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hyclv3:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hycnk7:",9223372036854775807,,,,,,,,,,,"1|hyclvb:",9223372036854775807,254880000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hydm6v:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hycluf:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enabling Clover working set throws an exception,CLOV-1970,637848,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,10/Oct/2016 7:35 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:05 PM,13/Aug/2019 6:52 AM,,,,,,open-source,,,CEP Plugin,,,,,,,0,,,,,,,,,"Steps to reproduce:

Coverage Explorer > Drop-down menu > Enable Clover Working Set

Expected:

Clover Working Set is selected

Actual:

an exception is thrown
{code:java}
org.eclipse.core.runtime.AssertionFailedException: assertion failed: working set with same name already registered
 at org.eclipse.core.runtime.Assert.isTrue(Assert.java:110)
 at org.eclipse.ui.internal.AbstractWorkingSetManager.addWorkingSet(AbstractWorkingSetManager.java:228)
 at org.eclipse.ui.internal.WorkingSetManager.addWorkingSet(WorkingSetManager.java:63)
 at com.atlassian.clover.eclipse.core.ui.workingset.CloverWorkingSet.checkCache(CloverWorkingSet.java:65)
 at com.atlassian.clover.eclipse.core.ui.workingset.CloverWorkingSet.includesCU(CloverWorkingSet.java:206)
 at com.atlassian.clover.eclipse.core.ui.editors.java.CoverageAnnotationModel.editorInWorkingSet(CoverageAnnotationModel.java:644)
 at com.atlassian.clover.eclipse.core.ui.editors.java.CoverageAnnotationModel.rebuildAnnotations(CoverageAnnotationModel.java:627)
 at com.atlassian.clover.eclipse.core.ui.editors.java.CoverageAnnotationModel.refreshSync(CoverageAnnotationModel.java:106)
 at com.atlassian.clover.eclipse.core.ui.editors.java.CoverageAnnotationModel.access$000(CoverageAnnotationModel.java:63)
 at com.atlassian.clover.eclipse.core.ui.editors.java.CoverageAnnotationModel$1.run(CoverageAnnotationModel.java:93)
 at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)

{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hycbgn:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hycd7r:",9223372036854775807,,,,,,,,,,,"1|hycbgv:",9223372036854775807,255484800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hydcjb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hycbfz:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Clover Maven Plugin adds ""clover"" classifier for directory-based artifacts",CLOV-1966,624385,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,19/Aug/2016 6:55 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,open-source,,,,,,,,,,1,,,,,,,,,"*Problem*

Clover Maven Plugin replaces list of artifacts and artifacts dependencies by using an artifact with the ""clover"" classifier if any such exists. 

This is useful for ""clover:instrument"" goal and multi-module Maven builds, because this way instrumented module can use instrumented dependencies (instead of normal ones). 

However, a build can have an artifact being a '/target/classes' folder (for a current module compiled). Maven's artifact resolver resolves such directory to be an artifact with a ""clover"" classifier too. Example:

 !aspectproject-normal-jar.png|thumbnail! 

 !aspectproject-clover-jar.png|thumbnail! 

As Clover ""sees"" such artifact as resolved, it replaces it by the ""clover"" one, despite the fact that this is the same location. 

This is superfluous. 

In a normal build it works fine, but it fails when aspectj-maven-plugin is used together with clover-maven-plugin. See:
 * https://answers.atlassian.com/questions/39984820
 * CLV-6357 ticket

*Possible fixes*
 * do not add ""clover"" classifier to artifacts in the same location
 * do not swizzle artifacts in clover:setup
 * do not swizzle artifacts if useCloverClassifier=false (extend usage of this property)

*Workaround*

Set cloveredArtifactExpiryInMillis=-1. This will trick Clover to see all 'clover' artifacts as outdated. Warning in logs is produced:

{quote}
[WARNING] Using [<artifact>], built on <date> even though a Clovered version exists but it's older (lastModified: <date> ) and could fail the build. Please consider running Clover again on that dependency's project.
{quote}

 * note that setting useCloverClassifier=false does not help (this is for output artifacts, not dependencies)
 * note that changing ""clover:instrument"" to ""clover:setup"" does not help",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Aug/2016 6:56 AM;mparfianowicz;aspectproject-clover-jar.png;https://jira.atlassian.com/secure/attachment/209866/aspectproject-clover-jar.png","19/Aug/2016 6:56 AM;mparfianowicz;aspectproject-normal-jar.png;https://jira.atlassian.com/secure/attachment/209867/aspectproject-normal-jar.png",,,,,,,,,,,,,,,true,,"1|hyabpb:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hyadnb:",9223372036854775807,,,,,,,,,,,"1|hyabpj:",9223372036854775807,260064000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hybg4f:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hyabon:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Code metrics should take into account method context filter in IDEA,CLOV-1964,617825,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,21/Jul/2016 7:13 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,open-source,,,CIJ Plugin,,,,,,,1,,,,,,,,,"When a method context filter is configured in IDEA (e.g. "".*toString.*""), a method is filtered-out in the source editor:

!method_context_filtered_in_source.png|thumbnail!

However, it is not being filtered out in the project tree in the Cloverage view - code metric shows ""1"" instead of ""0"" for this method:

!method_context_ignored_in_metrics.png|thumbnail!

Furthermore, when coverage data is being exported to the HTML report, even if the ""use current filter settings"" is enabled, it ignores the method context defined:

!method_context_ignored_in_html_export.png|thumbnail!

!method_context_not_filtered_in_html_source.png|thumbnail!

At the same time, when an HTML report is generated from Maven, for instance, it applies the filter mostly correctly (mostly because it filters-out the most from a class complexity, but it could show ""0"" for a method itself too):

!html_report_with_filter.png|thumbnail!

!html_report_without_filter.png|thumbnail!

!html_report_class_methods.png|thumbnail!

*Expected behaviour*

All methods excluded by the method context filter should affect code metrics.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Jul/2016 7:33 AM;mparfianowicz;html_report_class_methods.png;https://jira.atlassian.com/secure/attachment/207871/html_report_class_methods.png","21/Jul/2016 7:32 AM;mparfianowicz;html_report_with_filter.png;https://jira.atlassian.com/secure/attachment/207769/html_report_with_filter.png","21/Jul/2016 7:33 AM;mparfianowicz;html_report_without_filter.png;https://jira.atlassian.com/secure/attachment/207870/html_report_without_filter.png","21/Jul/2016 7:14 AM;mparfianowicz;method_context_filtered_in_source.png;https://jira.atlassian.com/secure/attachment/207765/method_context_filtered_in_source.png","21/Jul/2016 7:17 AM;mparfianowicz;method_context_ignored_in_html_export.png;https://jira.atlassian.com/secure/attachment/207767/method_context_ignored_in_html_export.png","21/Jul/2016 7:16 AM;mparfianowicz;method_context_ignored_in_metrics.png;https://jira.atlassian.com/secure/attachment/207766/method_context_ignored_in_metrics.png","21/Jul/2016 7:18 AM;mparfianowicz;method_context_not_filtered_in_html_source.png;https://jira.atlassian.com/secure/attachment/207768/method_context_not_filtered_in_html_source.png",,,,,,,,,,true,,"1|hy9e6n:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2016-09-13 06:58:17.109,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hy9ggn:",9223372036854775807,,,,,,,,,,,"1|hy9e6v:",9223372036854775807,257299200,true,,,,,,,,,,b6f3a9ee-3f01-4eb3-b23e-65efa3ca99b3(stephen.williams.home2053069827),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hyaknj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy9e5z:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"13/Sep/2016 6:58 AM;b6f3a9ee-3f01-4eb3-b23e-65efa3ca99b3;I'm a little concerned that this issue is considered low priority. My team has been using the Clover-for-Maven plugin for some time to produce code coverage data that is sent to SonarQube. Although the code coverage data in SonarQube is very useful, it isn't being used by developers on a day to day basis because the data is out of sight, ie. not in their IDE. This means that code coverage data is not informing developers when they write tests, which is a problem. To solve this issue, we are trialling the Clover-for-IDEA plugin and, so far, are pleased with the results.

However, we are using Clover-for-Maven and Clover-for-IDEA plugin filters to exclude certain files and source code statements and methods. Filters are a major feature of Clover and we find them useful. Unfortunately, this bug means that the code coverage data the developers see in IDEA is different from the code coverage data they see in SonarQube. This is obviously a significant problem for developers and it will likely limit the uptake of the Clover-for-IDEA plugin within the team until the data in developers IDEs is comparable to the data in SonarQube.

I'm wondering if this bug is considered low priority because I've misunderstood the impact of the bug or that the development of the Clover-for-IDEA plugin is a low priority within Atlassian.;;;","13/Sep/2016 9:24 AM;mparfianowicz;Hi Stephen,

Not long time ago we've introduced new field in this JIRA project. There are two fields now:
* Priority tells how high the issue is in the backlog
* Symptom Severity tells how painful the problem is

The Priority is low because this bug is not considered as urgent. However I will increase the severity to 'Major' - I agree that having different results in Maven and IDEA can be problematic for developers. 

Cheers
Marek;;;","19/Sep/2016 11:51 AM;b6f3a9ee-3f01-4eb3-b23e-65efa3ca99b3;OK, thanks for the response Marek. Look forward to the resolution of this issue.
Regards;;;","19/Sep/2016 1:02 PM;mparfianowicz;Hi Stephen, unfortunately I can't promise anything, it's not on a short-term roadmap.;;;","20/Sep/2016 6:41 AM;b6f3a9ee-3f01-4eb3-b23e-65efa3ca99b3;So is it true to say that the Clover-for-IDEA plugin filters do not work in that they do not actually filter code / files out of Clover code coverage metrics? That is, we can either use code coverage metrics or filters but not both?

Sorry to labour the point here but I'm trying to assess whether it is worth our team continuing to work with the plugin.

Thanks;;;",,,,,,,,,,,,,,,,,,,,,,
Exclusion Annotations setting works non-deterministic way in CEP plugin,CLOV-1962,615401,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,glewandowski,glewandowski,12/Jul/2016 6:15 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,4.0.5,,,,,open-source,,,CEP Plugin,,,,,,,1,,,,,,,,,"Changing {{Exclusion Annotation}} makes Annotations in Eclipse behave inconsistently and changes are not applied right away to current editor window. 

h2. Steps to reproduce
# Open Coverage Explorer window
# Change settings {{Exclusion Annotation}} settings
 !screenshot-1.png|thumbnail! 

h2. Actual behavior

Annotation settings are not applied to any editor windows.

h2. Expected behavior

Annotations should be hidden or not according to selected preferences.

h3. Workaround

In order to get changes applied user needs to restart Eclipse. Sometimes it's not sufficient and it's still required change coverage highlighting settings back and forth to see Clover annotations. 
 !screenshot-2.png|thumbnail! 
",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1136,,,,,,,,,,"12/Jul/2016 6:47 AM;glewandowski;screenshot-1.png;https://jira.atlassian.com/secure/attachment/206967/screenshot-1.png","12/Jul/2016 6:57 AM;glewandowski;screenshot-2.png;https://jira.atlassian.com/secure/attachment/206968/screenshot-2.png",,,,,,,,,,,,,,,true,,"1|hy92lb:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hy950n:",9223372036854775807,,,,,,,,,,,"1|hy92lj:",9223372036854775807,263347200,true,,,,,,,,,,glewandowski(glewandowski),,,,,,,,,,,,,,,,,,,"1|hyaa87:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy92kn:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Could not find 'target/site/clover/clover.xml'.  Did you generate the XML report for Clover?,CLOV-1959,612326,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Handled by Support,,7312c5b6de28,7312c5b6de28,28/Jun/2016 4:43 PM,12/Jul/2016 6:22 AM,15/Nov/2024 6:09 PM,04/Jul/2016 5:43 AM,,,,,,n/a,,,,,,,,,,0,,,,,,,,,"Maven Version 2.2.1
Jenkins clover plugin added and clover report path given target/site/clover
Goal is: clean install clover:clover

Build is getting successful, but the clover report is not generated. Please find the log

Publishing Clover coverage report...
Clover xml file does not exist in: E:\Jenkins\jobs\assessment-service-impl-1.0-SNAPSHOT\workspace\target\site\clover called: clover.xml and will not be copied to: E:\Jenkins\jobs\assessment-service-impl-1.0-SNAPSHOT\builds\41\clover.xml
Could not find 'target/site/clover/clover.xml'.  Did you generate the XML report for Clover?
Warning: you have no plugins providing access control for builds, so falling back to legacy behavior of permitting any downstream builds to be triggered
Triggering a new build of uproject-war-1.0-SNAPSHOT
Finished: SUCCESS",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy8mxr:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2016-06-28 21:27:57.589,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hy8pbb:",9223372036854775807,,,,,,,,,,,"1|hy8mxz:",9223372036854775807,263347200,true,,,,,,,,,,7312c5b6de28(tulasikrishnag269808806),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hy9vsn:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy8mx3:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"28/Jun/2016 9:27 PM;mparfianowicz;Please check your build logs if Clover really ran and instrumented code in your build. I suspect that your goal should be:
{noformat}
mvn clean clover:setup verify clover:aggregate clover:clover
{noformat}

or

{noformat}
mvn clean clover:instrument install clover:aggregate clover:clover
{noformat}

Unless you have configured Clover goals in your pom.xml. 

;;;","03/Jul/2016 6:43 AM;7312c5b6de28;Thanks it worked.;;;","12/Jul/2016 5:17 AM;7312c5b6de28;Team,
I could not be able to log a JIRA as it says ""You account does not have assigned access"". Once I have added the maven commands and updated the pom.xml,the clover is generated, but frequently the server is running Java heap out of memory. I have increased the memory of  ""MAVEN_OPTS"" but still it is failing. Can you please help me on the issue ?;;;","12/Jul/2016 6:20 AM;mparfianowicz;Could you please create a ticket at support.atlassian.com and attach build scripts (e.g. pom.xml, screen shots from Bamboo server job configuration in case you use it) and build logs? 

The jira.atlassian.com is our public issue tracker (we track bugs and feature requests here, they are visible to everyone). Thus, the support.atlassian.com is more suitable place to handle your case (as all files attached by you will be visible only for our support engineers).;;;",,,,,,,,,,,,,,,,,,,,,,,
Fix Ant 1.9.7 double quotes,CLOV-1956,610524,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,21/Jun/2016 1:17 PM,21/Apr/2017 9:24 AM,15/Nov/2024 6:09 PM,10/Oct/2016 9:06 AM,,,,,,4.1.2,,,Integrations,,,,,,,0,,,,,,,,,"Ant prior to version 1.9.7 incorrectly handled arguments containing white space characters (they were being passed as separate arguments). For this reason, we put various paths (e.g. path to a license file) in double quotes. 

This has been fixed in Ant 1.9.7. However, as a consequence it does not strip double-quotes now, so paths are interpreted literally - with quotes.

We need a fix on Clover side, but at the same time to keep compatibility with older Ant versions. 

Consider adding proper flag for Clover-for-Ant tasks (e.g. ""withQuotes=true"").

See also:
 * BAM-10740
 * BAM-17201",,,"Time submitted by mparfianowicz for review CR-CLOV-399;10/Oct/2016 9:06 AM;mparfianowicz;2340",,,,,2340,,,,2340,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/2016 12:21 PM;mparfianowicz;bamboo_toggle.png;https://jira.atlassian.com/secure/attachment/213431/bamboo_toggle.png","03/Oct/2016 12:30 PM;mparfianowicz;hudson3_fix.png;https://jira.atlassian.com/secure/attachment/213160/hudson3_fix.png",,,,,,,,,,,,,,,true,,"1|hy8d8n:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hy8fnr:",9223372036854775807,,,,,,,,,,,"1|hy8d8v:",9223372036854775807,256176000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwa9lz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,2.0,9223372036854775807,,"1|hy8d7z:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"03/Oct/2016 12:30 PM;mparfianowicz;Added new toggle in Hudson2 / Hudson3 / Jenkins Clover Plugin:

!hudson3_fix.png!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover does not instrument all nodes in Groovy AST,CLOV-1953,610453,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,21/Jun/2016 4:33 AM,21/Apr/2017 9:24 AM,15/Nov/2024 6:09 PM,30/Jun/2016 2:45 PM,,,,,,4.1.2,,,Groovy,,,,,,,1,,,,,,,,,"Problem was reproduced in Groovy 2.4.3 and 2.4.4:

https://answers.atlassian.com/questions/39141626/why-is-clover-showing-green-on-gray

https://answers.atlassian.com/questions/39141622/incomplete-clover-coverage-in-grails-2.5-integration-testing",,,"Time submitted by mparfianowicz for review CR-CLOV-396;10/Aug/2016 10:27 AM;mparfianowicz;1020",,,,,1020,,,,1020,,,,,,,,,,,,,,,,,,,,,,,,"21/Jun/2016 10:57 AM;mparfianowicz;Beatles.groovy;https://jira.atlassian.com/secure/attachment/205278/Beatles.groovy","21/Jun/2016 10:58 AM;mparfianowicz;DataReader.groovy;https://jira.atlassian.com/secure/attachment/205279/DataReader.groovy","21/Jun/2016 9:36 AM;mparfianowicz;enum-class-trait-statements.png;https://jira.atlassian.com/secure/attachment/205276/enum-class-trait-statements.png","21/Jun/2016 9:13 AM;mparfianowicz;while-if-groovy.png;https://jira.atlassian.com/secure/attachment/205271/while-if-groovy.png","21/Jun/2016 9:12 AM;mparfianowicz;while-if-groovy.png;https://jira.atlassian.com/secure/attachment/205270/while-if-groovy.png",,,,,,,,,,,,true,,"1|hy8cj3:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2016-06-21 06:32:51.522,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hy8ey7:",9223372036854775807,,,,,,,,,,,"1|hy8cjb:",9223372036854775807,264384000,true,,,,,,,,,,mparfianowicz(mparfianowicz),68e8a6379a00(mzampare),943a75d604aa(thomas.bierwirth1292212868),,,,,,,,,,,,,,,,,"1|hwa9lb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,5.0,9223372036854775807,,"1|hy8cif:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"21/Jun/2016 6:32 AM;68e8a6379a00;Marek, you have classified this Bug as 'minor'. What is the workaround which you think would be available to us? For us it is rather blocker. 
;;;","21/Jun/2016 6:50 AM;943a75d604aa;I'd like to second the above comment. The very purpose of the tool, i.e. measuring code coverage, is dysfunctional. This, to us, is not a minor bug but rather a blocker. I also wonder how this product is tested with respect to Groovy code and how such a fundamental bug can slip into production.;;;","21/Jun/2016 7:45 AM;mparfianowicz;Indeed. The 'Minor' priority was the default one when I was creating an issue. I overlooked it. I just increased the priority to 'Critical'. ;;;","21/Jun/2016 9:12 AM;mparfianowicz;*Bug #1:* if blocks are not instrumented when they are located inside the while loop; reproduced in Groovy 2.3.11 and Groovy 2.4.7 with Clover 4.1.1 and Clover 4.0.6. 

!while-if-groovy.png! ;;;","21/Jun/2016 9:36 AM;mparfianowicz;*Bug #2:* some statements inside enum and trait are not instrumented 

 !enum-class-trait-statements.png! ;;;","21/Jun/2016 11:46 AM;mparfianowicz;FYI: I increased the priority to Blocker; it's on the top of our backlog now. I don't know the release date for 4.1.2 at the moment, however. I'll keep you updated.;;;","21/Jun/2016 11:47 AM;68e8a6379a00;Thanks, very much appreciated.;;;","23/Jun/2016 8:45 AM;mparfianowicz;I plan to make deeper analysis of this around July, 1st. I should know how complex to fix it is by this date.;;;","23/Jun/2016 9:31 AM;943a75d604aa;Hi Marek. That would be great. We are very curious to learn about the outcome of your investigation.;;;","29/Jun/2016 10:32 AM;mparfianowicz;*Update:*

Lack of code coverage for traits is not a bug but a 'feature'. By design traits are treated like interfaces (one of the reasons is that you cannot instantiate them directly but only by composition with another classes; another reason is that actual logic in trait's methods may differ depending on the order of trait composition - this about 'super' keyword; another technical reason is that we cannot inject Clover's methods and fields into a trait as it won't compile). I created an improvement request for this CLOV-1960 however it's unlikely to be implemented in a near future.  ;;;","30/Jun/2016 2:15 PM;mparfianowicz;*Update:*

No coverage for while loops was caused by a software bug. Clover instrumented all 1st level statements inside the loop (i.e. direct leafs under the 'while' node in the AST - abstract syntax tree) and did not recurse deeper in the tree. I also found a similar behaviour in nested blocks, e.g.

{code} { { { { abc() } } } } {code}
I fixed both bugs.;;;","30/Jun/2016 2:45 PM;mparfianowicz;I don't have the date of the next release yet, however you can try the SNAPSHOT version if you wish:

* Clover Core https://maven.atlassian.com/central-snapshot/com/atlassian/clover/clover/4.2.0-SNAPSHOT/
* Clover Maven Plugin https://maven.atlassian.com/central-snapshot/com/atlassian/maven/plugins/clover-maven-plugin/4.2.0-SNAPSHOT/
;;;",,,,,,,,,,,,,,,
SonarQube - resource was not found,CLOV-1948,605535,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Invalid,,f34454ca57e1,f34454ca57e1,01/Jun/2016 8:46 PM,06/Jun/2016 6:48 AM,15/Nov/2024 6:09 PM,06/Jun/2016 6:48 AM,4.1.1,,,,,n/a,,,Build system,,,,,,,0,,,,,,,,,"I'm using SonarQube within go.cd with the clover plugin. The XML report is correctly generated but none of the groovy files can be found (even though the paths are correct).

20:27:47.127 [INFO] [20:27:47.125] Sensor org.sonar.plugins.clover.CloverSensor@36e8fffc
20:27:47.129 [INFO] [20:27:47.128] Parsing /ul/go-agent/pipelines/SME_CCDS_EXTRACT_PR/xyzextract/target/site/clover/clover.xml
20:27:47.222 [WARN] [20:27:47.221] Resource /ul/go-agent/pipelines/XYZ_EXTRACT_PR/xyzextract/src/main/groovy/com/abc/ProfileServiceImpl.groovy was not found.
20:27:47.225 [WARN] [20:27:47.225] Resource /ul/go-agent/pipelines/XYZ_EXTRACT_PR/xyzextract/src/main/groovy/com/abc/InfrequentServiceImpl.groovy was not found.
","SUSE Linux Enterprise Server 11 (x86_64)
VERSION = 11
PATCHLEVEL = 3",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy7m67:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2016-06-02 08:23:27.007,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hy7oq7:",9223372036854775807,,,,,,,,,,,"1|hy7m6f:",9223372036854775807,266803200,true,,,,,,,,,,glewandowski(glewandowski),f34454ca57e1(mark.thomas599099737),,,,,,,,,,,,,,,,,,"1|hy8xxz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy7m5j:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"02/Jun/2016 8:23 AM;glewandowski;Hello [~mark.thomas599099737],

Thanks for contacting us. Could you share more information about your environment, build scripts, logs, which integrations do you use? To keep your data safe, please raise an issue  at  http://support.atlassian.com including those data, however, please keep in mind that Sonar platform is not officially supported by Atlassian, thus, if problem appears strictly because of it, we may won't be able to help you.

Please note that list of supported platforms is available [here|https://confluence.atlassian.com/display/CLOVER/Supported+Platforms];;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Parser error on valid generic array constructor reference,CLOV-1947,603295,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,jhinch,jhinch,25/May/2016 3:09 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,4.1.1,,,,,open-source,,,Instrumentation,,,,,,,0,,,,,,,,,"Clover seems to fail to parse Generic array constructor references, even though javac is happy to accept it.

e.g.

{noformat}
IntFunction<Class<?>[]> f = Class<?>[]::new;
{noformat}

as a workaround you can use non generic classes:

{noformat}
IntFunction<Class[]> f = Class[]::new;
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy7c1b:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2016-05-25 08:05:11.425,,,,,,,,,,,,,,,,,,,,Other,,,,"2|hy7emn:",9223372036854775807,,,,,,,,,,,"1|hy7c1j:",9223372036854775807,267494400,true,,,,,,,,,,jhinch(jhinch),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hy8np3:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy7c0n:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"25/May/2016 8:05 AM;mparfianowicz;Hi Jason, thank you very much for reporting this problem. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Allow usage of explicit ""this"" as first method argument (JSR 308)",CLOV-1934,580981,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,11/Mar/2016 8:38 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,long term roadmap,,,Instrumentation,,,,,,,0,,,,,,,,,"A follow up of CLOV-1839. 

JSR 308 (type annotations) allows to annotate any occurrence of the type.

As all instance methods have an implicit ""this"" argument, in order to make it possible to annotate it, the JSR specification extended the grammar for method signatures, so that you can use ""this"" keyword as argument name (only for a first argument). 

These two methods are equivalent for javac:

{code}

class A { public String toString() { ... } }   

class A { public String toString(A this) { ... } }

{code}

 

Currently Clover throws parse exception if encounters ""this"" keyword as name of an argument.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1839,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy4lnj:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hy4onz:",9223372036854775807,,,,,,,,,,,"1|hy4lnr:",9223372036854775807,273888000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hy62vr:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy4ln3:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Dynamically resolve build dir,CLOV-1923,579274,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Obsolete,,glewandowski,glewandowski,07/Mar/2016 2:03 PM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,22/Apr/2017 9:51 AM,,,,,,open-source,,,,,,,,,,0,,,,,,,,,"Currently when projects redefines build dir to e.g. {{target}} Clover ignores that and instruments code to {{build}}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy4cmn:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hy4fov:",9223372036854775807,,,,,,,,,,,"1|hy4cmv:",9223372036854775807,274320000,true,,,,,,,,,,glewandowski(glewandowski),,,,,,,,,,,,,,,,,,,"1|hwbn1b:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy4cm7:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
FileNotFoundException on cloverReport task when there's clover.db file not exists,CLOV-1918,578320,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Obsolete,,glewandowski,glewandowski,03/Mar/2016 12:35 PM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,22/Apr/2017 10:02 AM,,,,,,open-source,,,,,,,,,,0,,,,,,,,,"It's not always required in all projects, especially in multimodule projects when there are war/ear projects",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy47jb:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hy4anj:",9223372036854775807,,,,,,,,,,,"1|hy47jj:",9223372036854775807,274665600,true,,,,,,,,,,glewandowski(glewandowski),,,,,,,,,,,,,,,,,,,"1|hwbn1j:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy47iv:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""Client missing parameter: __CLR4_0_4_TEST_NAME_SNIFFER ""  error when running code coverage",CLOV-1885,572925,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Cannot Reproduce,,4cadeaf4283b,4cadeaf4283b,17/Feb/2016 10:15 PM,21/Apr/2017 9:06 AM,15/Nov/2024 6:09 PM,21/Apr/2017 9:06 AM,4.0.4,,,,,n/a,,,Maven plugin,,,,,,,0,,,,,,,,,"When running code coverage, we see this error 
Client missing parameter: __CLR4_0_4_TEST_NAME_SNIFFER . Are there any docs on how we can debug or workaround this issue ? ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy3ejz:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2016-02-18 09:52:42.163,,,,,,,,,,,,,,,,,,,,,,,,"2|hy3hvr:",9223372036854775807,,,,,,,,,,,"1|hy3ek7:",9223372036854775807,275875200,true,,,,,,,,,,4cadeaf4283b(mpalki960993136),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hy4y2f:",9223372036854775807,,,,,,,,,,,,,,Low,,,,,,,,,,,,9223372036854775807,,"1|hy3ejj:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"17/Feb/2016 11:27 PM;4cadeaf4283b;This happens in our multi-module project when the coverage is being computed for the top-level module. 
If we compile the child-modules separately, and run code-coverage only for the top-level module then we do not see this issue. ;;;","18/Feb/2016 9:52 AM;mparfianowicz;Could you please raise a ticket on support.atlassian.com and attach:
 * a build log with debug logging enabled (mvn -X) 
 * pom.xml in which you keep Clover configuration (if you have any)
 * at least one log from test execution (JUnit? TEST-*.xml?)

I suspect that you have some custom tool, which automatically processes fields declared in the class and that this tool does not know how to cope with the __CLR4_0_4_TEST_NAME_SNIFFER field which was injected by Clover. However, I need files requested above to confirm this. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,
CloverCompilerAdapter should look for Javac.compileList also in super classes,CLOV-1884,570934,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,12/Feb/2016 6:07 AM,12/Feb/2016 2:49 PM,15/Nov/2024 6:09 PM,12/Feb/2016 2:49 PM,,,,,,open-source,,,Ant Tasks,,,,,,,0,,,,,,,,,"It may happen that user will wrap or subclass the Apache's Javac field. In such case, Clover won't be able to find and set this field and break the build. The CloverCompilerAdapter should look it up in a class hierarchy. 

We can use Apache's FieldUtils for this purpose.",,,"Time submitted by mparfianowicz for review CR-CLOV-376;12/Feb/2016 2:49 PM;mparfianowicz;120",,,,,120,,,,120,,,,,,,,,,,,,,,,CLOV-1534,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy33wf:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hy379b:",9223372036854775807,,,,,,,,,,,"1|hy33wn:",9223372036854775807,276393600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hy4o5r:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,1.0,9223372036854775807,,"1|hy33vz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Compilation error while instrumenting clover,CLOV-1878,563907,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Invalid,mparfianowicz,nraman,nraman,19/Jan/2016 2:38 AM,19/Jan/2016 9:50 AM,15/Nov/2024 6:09 PM,19/Jan/2016 9:32 AM,4.1.1,,,,,n/a,,,Instrumentation,,,,,,,0,,,,,,,,,"Compilation error while instrumenting the amps code base with clover.

I tried with both maven.clover.useFullyQualifiedJavaLang true/false

Env : Mac + JDK 8
Repository : https://bitbucket.org/atlassian/amps
Command : mvn clean clover:setup verify clover2:aggregate clover2:clover -Dmaven.clover.useFullyQualifiedJavaLang=true

[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.2:compile (default-compile) on project maven-amps-plugin: Compilation failure: Compilation failure:
[ERROR] /Users/nraman/Development/amps/maven-amps-plugin/target/clover/src-instrumented/com/atlassian/maven/plugins/amps/util/ant/AntJavaExecutorThread.java:[34,703] non-static variable java cannot be referenced from a static context
[ERROR] /Users/nraman/Development/amps/maven-amps-plugin/target/clover/src-instrumented/com/atlassian/maven/plugins/amps/util/ant/AntJavaExecutorThread.java:[34,707] cannot find symbol
[ERROR] symbol:   variable lang
[ERROR] location: variable java of type org.apache.tools.ant.taskdefs.Java
[ERROR] /Users/nraman/Development/amps/maven-amps-plugin/target/clover/src-instrumented/com/atlassian/maven/plugins/amps/util/ant/AntJavaExecutorThread.java:[34,2237] non-static variable java cannot be referenced from a static context",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy23nr:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2016-01-19 09:49:55.321,,,,,,,,,,,,,,,,,,,,,,,,"2|hy27gn:",9223372036854775807,,,,,,,,,,,"1|hy23nz:",9223372036854775807,278467200,true,,,,,,,,,,mparfianowicz(mparfianowicz),nraman(nraman),,,,,,,,,,,,,,,,,,"1|hwbn0n:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy23nb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"19/Jan/2016 9:49 AM;mparfianowicz;Compilation error was caused by a class field named 'java'.

It conflicted with code added by Clover: _java.lang.System.err.println(""...."");_

Java compiler treated a fully-qualified class name as the 'lang' field in the 'java' variable and complained that a symbol is missing. 

Solution:
 * do not use 'java' name for fields as it conflicts with the 'java.lang.*' package or
 * set useFullyQualifiedJavaLang=false (risk: it may conflict with non-java.lang classes named the same, e.g. String, Exception)

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
'@CompileStatic annotation causes compilation errors with elvis operators with Clover and Grails,CLOV-1863,557011,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,glewandowski,glewandowski,17/Dec/2015 1:32 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,open-source,,,Grails Plugin,,,,,,,22,,,,,,,,,"Mixing {{@CompileStatic}} annotation, [elvis|http://docs.groovy-lang.org/latest/html/documentation/index.html#_elvis_operator] operators and Clover For Grails plugin causes compilation error connected with type inferring.  


{code:java}
package helloworld
import groovy.transform.CompileStatic

@CompileStatic
class MyFile {
    def update(MyFile myFile) {
       myFile = myFile ?: new MyFile()
    }
}
{code}

Results with:
{noformat}
  [groovyc] MyFile.groovy: 7: [Static type checking] - Cannot assign value of type java.lang.Object to variable of type helloworld.MyFile
  [groovyc]  @ line 7, column 24.
  [groovyc]           myFile = myFile ?: new MyFile()
  [groovyc]                           ^
  [groovyc]
  [groovyc] 1 error
{noformat}

h2. Workaround
Do not use {{@CompileStatic}} annotation with Cloverized project and elvis operator",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy16g7:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hy1anz:",9223372036854775807,,,,,,,,,,,"1|hy16gf:",9223372036854775807,281318400,true,,,,,,,,,,glewandowski(glewandowski),,,,,,,,,,,,,,,,,,,"1|hy2ybr:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy16fr:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Old Clover logo visible in Eclipse Marketplace Clover plugin,CLOV-1857,542269,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,,glewandowski,glewandowski,07/Dec/2015 11:52 AM,29/Jan/2016 9:53 AM,15/Nov/2024 6:09 PM,29/Jan/2016 9:53 AM,,,,,,n/a,,,CEP Plugin,,,,,,,0,,,,,,,,,Old logo presented on https://marketplace.eclipse.org/content/atlassian-clover-eclipse,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy0p2f:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hy0tgv:",9223372036854775807,,,,,,,,,,,"1|hy0p2n:",9223372036854775807,282182400,true,,,,,,,,,,glewandowski(glewandowski),,,,,,,,,,,,,,,,,,,"1|hy2if3:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy0p1z:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IntelliJ IDEA plugin with version 4.1.1 shows wrong supported version,CLOV-1856,542256,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,,glewandowski,glewandowski,07/Dec/2015 10:35 AM,21/Apr/2017 8:41 AM,15/Nov/2024 6:09 PM,21/Apr/2017 8:41 AM,,,,,,4.1.2,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Site for Clover on IntelliJ plugin page indicates Clover 4.1.1 supports Idea 9x however it's not true. 
Update plugin.xml to show correct version. 

https://plugins.jetbrains.com/plugin/?id=132 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1855,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy0oyn:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2017-04-21 08:41:49.642,,,,,,,,,,,,,,,,,,,,,,,,"2|hy0tdb:",9223372036854775807,,,,,,,,,,,"1|hy0oyv:",9223372036854775807,238896000,true,,,,,,,,,,glewandowski(glewandowski),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwbn67:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,0.5,9223372036854775807,,"1|hy0oy7:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"21/Apr/2017 8:41 AM;mparfianowicz;4.1.2 shows 111.69+;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover IDEA Plugin 4.1.0 has wrong version in plugin.xml,CLOV-1854,542244,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,mparfianowicz,glewandowski,glewandowski,07/Dec/2015 9:38 AM,09/Dec/2015 11:05 AM,15/Nov/2024 6:09 PM,07/Dec/2015 12:07 PM,,,,,,4.1.1,,,,,,,,,,0,,,,,,,,,Clover for Idea 4.1.0 shows wrong 4.0.1 version instead of 4.1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy0ovb:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hy0t9z:",9223372036854775807,,,,,,,,,,,"1|hy0ovj:",9223372036854775807,282182400,true,,,,,,,,,,glewandowski(glewandowski),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxzvrj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,4.1.0 Sprint 4,,,,,0.0,9223372036854775807,,"1|hy0ouv:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error in clover plugin during startup in IntelliJ,CLOV-1853,541391,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Duplicate,,0164bc77c54f,0164bc77c54f,04/Dec/2015 9:35 PM,07/Dec/2015 7:13 AM,15/Nov/2024 6:09 PM,07/Dec/2015 7:12 AM,,,,,,4.1.0,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/atlassian/clover/idea/coverage/monitor/ProcessExitDatabaseMonitor
java.lang.NoClassDefFoundError: com/atlassian/clover/idea/coverage/monitor/ProcessExitDatabaseMonitor
	at com.atlassian.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:156)
	at com.atlassian.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:87)
	at com.intellij.ide.startup.impl.StartupManagerImpl.b(StartupManagerImpl.java:342)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$700(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$3.run(StartupManagerImpl.java:165)
	at com.intellij.openapi.project.DumbServiceImpl.runWhenSmart(DumbServiceImpl.java:150)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:162)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$1000(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:196)
	at com.intellij.openapi.project.DumbServiceImpl.a(DumbServiceImpl.java:318)
	at com.intellij.openapi.project.DumbServiceImpl.access$1100(DumbServiceImpl.java:52)
	at com.intellij.openapi.project.DumbServiceImpl$10.run(DumbServiceImpl.java:503)
	at com.intellij.openapi.application.impl.LaterInvocator$1.run(LaterInvocator.java:158)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.a(LaterInvocator.java:337)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:321)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:749)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:702)
	at java.awt.EventQueue$3.run(EventQueue.java:696)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:719)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:861)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:649)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:380)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)

","Java version=1.8.0_40-release, Java vendor=JetBrains s.r.o, OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IU-143.870
Plugin release=4.0.6.v20150918000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1757,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy0n1z:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,2015-12-07 07:13:29.315,,,,,,,,,,,,,,,,,,,,,,,,"2|hy0rh3:",9223372036854775807,,,,,,,,,,,"1|hy0n27:",9223372036854775807,282182400,true,,,,,,,,,,glewandowski(glewandowski),0164bc77c54f(rush00121543561911),,,,,,,,,,,,,,,,,,"1|hy2gmv:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy0n1j:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Dec/2015 7:13 AM;glewandowski;Thanks for the bug report, unfortunately Clover is not supporting IntelliJ IDEA 15 yet. You can check all supported platforms at [this|https://confluence.atlassian.com/display/CLOVER/Supported+Platforms] page.
We have an open issue which you can track here: https://jira.atlassian.com/browse/CLOV-1757. The issue is scheduled for next 4.1.0 release, which is expected end of December
.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Opening existing cloverized project in intellij 15.0.1 generates NoClassDefFoundError,CLOV-1849,540471,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,,0460c342f187,0460c342f187,03/Dec/2015 4:34 PM,03/Dec/2015 5:26 PM,15/Nov/2024 6:09 PM,03/Dec/2015 5:26 PM,,,,,,n/a,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/intellij/execution/ui/RunContentListener
java.lang.NoClassDefFoundError: com/intellij/execution/ui/RunContentListener
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:760)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:642)
	at com.intellij.util.lang.UrlClassLoader._defineClass(UrlClassLoader.java:257)
	at com.intellij.util.lang.UrlClassLoader.defineClass(UrlClassLoader.java:253)
	at com.intellij.util.lang.UrlClassLoader._findClass(UrlClassLoader.java:222)
	at com.intellij.ide.plugins.cl.PluginClassLoader.b(PluginClassLoader.java:124)
	at com.intellij.ide.plugins.cl.PluginClassLoader.a(PluginClassLoader.java:77)
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:66)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at com.atlassian.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:156)
	at com.atlassian.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:87)
	at com.intellij.ide.startup.impl.StartupManagerImpl.b(StartupManagerImpl.java:342)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$700(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$3.run(StartupManagerImpl.java:165)
	at com.intellij.openapi.project.DumbServiceImpl.runWhenSmart(DumbServiceImpl.java:150)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:162)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$1000(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:196)
	at com.intellij.openapi.project.DumbServiceImpl.a(DumbServiceImpl.java:318)
	at com.intellij.openapi.project.DumbServiceImpl.access$1100(DumbServiceImpl.java:52)
	at com.intellij.openapi.project.DumbServiceImpl$10.run(DumbServiceImpl.java:503)
	at com.intellij.openapi.application.impl.LaterInvocator$1.run(LaterInvocator.java:158)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.a(LaterInvocator.java:337)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:321)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:749)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:702)
	at java.awt.EventQueue$3.run(EventQueue.java:696)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:719)
	at com.intellij.ide.IdeEventQueue.f(IdeEventQueue.java:861)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:649)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:380)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)","Java version=1.8.0_40-release, Java vendor=JetBrains s.r.o, OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IU-143.382
Plugin release=4.0.6.v20150918000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1757,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy0jen:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,2015-12-03 17:26:02.725,,,,,,,,,,,,,,,,,,,,,,,,"2|hy0nvr:",9223372036854775807,,,,,,,,,,,"1|hy0jev:",9223372036854775807,282528000,true,,,,,,,,,,glewandowski(glewandowski),0460c342f187(joe.parks),,,,,,,,,,,,,,,,,,"1|hy2d1r:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy0je7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Dec/2015 5:26 PM;glewandowski;Thanks for the bug report. This error log is connected with Clover running on IntelliJ IDEA 15, unfortunately Clover is not supporting IntelliJ IDEA 15 yet. You can check all supported platforms at [this|https://confluence.atlassian.com/display/CLOVER/Supported+Platforms] page. We have an open issue which you can track here: CLOV-1757. The issue is scheduled to be shipped with 4.1.0 version, which is expected to be released this year.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Random quit; no clue what happened.",CLOV-1845,538880,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,,d97e2d837fc7,d97e2d837fc7,30/Nov/2015 10:09 PM,01/Dec/2015 7:07 AM,15/Nov/2024 6:09 PM,01/Dec/2015 6:54 AM,,,,,,4.1.0,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/intellij/execution/ui/RunContentListener
java.lang.NoClassDefFoundError: com/intellij/execution/ui/RunContentListener
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:760)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:642)
	at com.intellij.util.lang.UrlClassLoader._defineClass(UrlClassLoader.java:257)
	at com.intellij.util.lang.UrlClassLoader.defineClass(UrlClassLoader.java:253)
	at com.intellij.util.lang.UrlClassLoader._findClass(UrlClassLoader.java:222)
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClassInsideSelf(PluginClassLoader.java:124)
	at com.intellij.ide.plugins.cl.PluginClassLoader.tryLoadingClass(PluginClassLoader.java:77)
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:66)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at com.atlassian.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:156)
	at com.atlassian.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:87)
	at com.intellij.ide.startup.impl.StartupManagerImpl.runActivity(StartupManagerImpl.java:342)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$700(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$3.run(StartupManagerImpl.java:165)
	at com.intellij.openapi.project.DumbServiceImpl.runWhenSmart(DumbServiceImpl.java:150)
	at com.intellij.ide.startup.impl.StartupManagerImpl.queueSmartModeActivity(StartupManagerImpl.java:162)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$1000(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:196)
	at com.intellij.openapi.project.DumbServiceImpl.updateFinished(DumbServiceImpl.java:318)
	at com.intellij.openapi.project.DumbServiceImpl.access$1100(DumbServiceImpl.java:52)
	at com.intellij.openapi.project.DumbServiceImpl$10.run(DumbServiceImpl.java:503)
	at com.intellij.openapi.application.impl.LaterInvocator$1.run(LaterInvocator.java:158)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.runNextEvent(LaterInvocator.java:337)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:321)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:749)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:702)
	at java.awt.EventQueue$3.run(EventQueue.java:696)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:719)
	at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:861)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:649)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:380)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)","Java version=1.8.0_40-release, Java vendor=JetBrains s.r.o, OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IC-143.382
Plugin release=4.0.6.v20150918000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1757,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy0bfz:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,2015-12-01 06:54:05.921,,,,,,,,,,,,,,,,,,,,,,,,"2|hy0g0f:",9223372036854775807,,,,,,,,,,,"1|hy0bg7:",9223372036854775807,282700800,true,,,,,,,,,,glewandowski(glewandowski),d97e2d837fc7(matthewcory12111239945),,,,,,,,,,,,,,,,,,"1|hy25kf:",9223372036854775807,,,,java.lang.NoClassDefFoundError: com/intellij/execution/ui/RunContentListener,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy0bfj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Dec/2015 6:54 AM;glewandowski;Thanks for the bug report. This error log is connected with Clover running on IntelliJ IDEA 15, unfortunately Clover is not supporting IntelliJ IDEA 15 yet. You can check all supported platforms at [this page|https://confluence.atlassian.com/display/CLOVER/Supported+Platforms]. We have an open issue which you can track here: CLOV-1757. The issue is scheduled to be shipped with  4.1.0 version, which is expected to be released this year. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
error reported by IntelliJ,CLOV-1842,537581,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,,85f5314713dc,85f5314713dc,27/Nov/2015 10:44 AM,01/Dec/2015 7:07 AM,15/Nov/2024 6:09 PM,27/Nov/2015 10:47 AM,,,,,,n/a,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/intellij/execution/ui/RunContentListener
java.lang.NoClassDefFoundError: com/intellij/execution/ui/RunContentListener
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:760)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:642)
	at com.intellij.util.lang.UrlClassLoader._defineClass(UrlClassLoader.java:257)
	at com.intellij.util.lang.UrlClassLoader.defineClass(UrlClassLoader.java:253)
	at com.intellij.util.lang.UrlClassLoader._findClass(UrlClassLoader.java:222)
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClassInsideSelf(PluginClassLoader.java:124)
	at com.intellij.ide.plugins.cl.PluginClassLoader.tryLoadingClass(PluginClassLoader.java:77)
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:66)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at com.atlassian.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:156)
	at com.atlassian.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:87)
	at com.intellij.ide.startup.impl.StartupManagerImpl.runActivity(StartupManagerImpl.java:342)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$700(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$3.run(StartupManagerImpl.java:165)
	at com.intellij.openapi.project.DumbServiceImpl.runWhenSmart(DumbServiceImpl.java:150)
	at com.intellij.ide.startup.impl.StartupManagerImpl.queueSmartModeActivity(StartupManagerImpl.java:162)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$1000(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:196)
	at com.intellij.openapi.project.DumbServiceImpl.updateFinished(DumbServiceImpl.java:318)
	at com.intellij.openapi.project.DumbServiceImpl.access$1100(DumbServiceImpl.java:52)
	at com.intellij.openapi.project.DumbServiceImpl$10.run(DumbServiceImpl.java:503)
	at com.intellij.openapi.application.impl.LaterInvocator$1.run(LaterInvocator.java:158)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.runNextEvent(LaterInvocator.java:337)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:321)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:726)
	at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:866)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:654)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:381)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)","Java version=1.8.0_40-release, Java vendor=JetBrains s.r.o, OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IC-143.1015
Plugin release=4.0.6.v20150918000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1757,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy079j:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,2015-11-27 10:46:47.843,,,,,,,,,,,,,,,,,,,,,,,,"2|hy0bzj:",9223372036854775807,,,,,,,,,,,"1|hy079r:",9223372036854775807,283046400,true,,,,,,,,,,85f5314713dc(dpinol1828090047),glewandowski(glewandowski),,,,,,,,,,,,,,,,,,"1|hy21jb:",9223372036854775807,,,,java.lang.NoClassDefFoundError: com/intellij/execution/ui/RunContentListener,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy0793:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Nov/2015 10:46 AM;glewandowski;Thanks for the bug report, unfortunately Clover is not supporting IntelliJ IDEA 15 yet. You can check all supported platforms at [this|https://confluence.atlassian.com/display/CLOVER/Supported+Platforms] page.
We have an open issue which you can track here: https://jira.atlassian.com/browse/CLOV-1757. The issue is scheduled for next 4.1.0 release.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
ava.lang.NoClassDefFoundError: com/atlassian/clover/idea/coverage/monitor/ProcessExitDatabaseMonitor,CLOV-1840,536801,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,,d97e2d837fc7,d97e2d837fc7,25/Nov/2015 6:54 PM,21/Apr/2017 9:19 AM,15/Nov/2024 6:09 PM,26/Nov/2015 7:38 AM,,,,,,n/a,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/atlassian/clover/idea/coverage/monitor/ProcessExitDatabaseMonitor
java.lang.NoClassDefFoundError: com/atlassian/clover/idea/coverage/monitor/ProcessExitDatabaseMonitor
	at com.atlassian.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:156)
	at com.atlassian.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:87)
	at com.intellij.ide.startup.impl.StartupManagerImpl.runActivity(StartupManagerImpl.java:342)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$700(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$3.run(StartupManagerImpl.java:165)
	at com.intellij.openapi.project.DumbServiceImpl.runWhenSmart(DumbServiceImpl.java:150)
	at com.intellij.ide.startup.impl.StartupManagerImpl.queueSmartModeActivity(StartupManagerImpl.java:162)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$1000(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:196)
	at com.intellij.openapi.project.DumbServiceImpl.updateFinished(DumbServiceImpl.java:318)
	at com.intellij.openapi.project.DumbServiceImpl.access$1100(DumbServiceImpl.java:52)
	at com.intellij.openapi.project.DumbServiceImpl$10.run(DumbServiceImpl.java:503)
	at com.intellij.openapi.application.impl.LaterInvocator$1.run(LaterInvocator.java:158)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.runNextEvent(LaterInvocator.java:337)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:321)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:749)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:702)
	at java.awt.EventQueue$3.run(EventQueue.java:696)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:719)
	at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:861)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:649)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:380)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)

","Java version=1.8.0_40-release, Java vendor=JetBrains s.r.o, OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IC-143.382
Plugin release=4.0.6.v20150918000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1757,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hy04q7:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,2015-11-26 07:38:02.058,,,,,,,,,,,,,,,,,,,,,,,,"2|hy09j3:",9223372036854775807,,,,,,,,,,,"1|hy04qf:",9223372036854775807,283132800,true,,,,,,,,,,glewandowski(glewandowski),d97e2d837fc7(matthewcory12111239945),,,,,,,,,,,,,,,,,,"1|hy1z7b:",9223372036854775807,,,,java.lang.NoClassDefFoundError: com/intellij/execution/ui/RunContentListener,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hy04pr:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/2015 7:38 AM;glewandowski;Thanks for the bug report, unfortunately Clover is not supporting IntelliJ IDEA 15 yet. You can check all supported platforms at [this|https://confluence.atlassian.com/display/CLOVER/Supported+Platforms] page.
We have an open issue which you can track here: https://jira.atlassian.com/browse/CLOV-1757. The issue is scheduled for next 4.1.0 release. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Sourcepath property is not working for maven Clover Report,CLOV-1836,510293,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Handled by Support,,5343923daec8,5343923daec8,09/Nov/2015 7:41 PM,12/Nov/2015 11:24 AM,15/Nov/2024 6:09 PM,10/Nov/2015 1:26 PM,4.0.0,,,,,n/a,,,Maven plugin,,,,,,,0,support-request,,,,,,,,"Clover database is generated on my Mac and trying to  generate report on target server where our automation runs.Getting errors for all the java filed and no coverage report

{color:red}ERROR: Failed to render syntax highlights for /.....{color}

*Noticed similar issue at CLOV-1415 - The clover2:clover goal does not pass the sourcepath property to underlying <clover-report> task Open*

Tried to add *sourcepath* element in my maven clover configuration and still problem is not solved

*{color:red}Given below my POM example{color}*

Using clover version - 4.0.0

{color:red}Coped  custom_clover_report_descriptor.xml in parent module{color}

<custom.clover.report.descriptor.location>../custom_clover_report_descriptor.xml</custom.clover.report.descriptor.location

*
When I run in debug mode mvn -X -> I see source files are picking up and saying ""FOUND"".*

Not sure what else I am missing here. Need your help.

*POM.xml
=========*

 {code}

<build>
                <plugins>
                    <plugin>
                        <groupId>com.atlassian.maven.plugins</groupId>
                        <artifactId>maven-clover2-plugin</artifactId>
                         <version>${clover.version}</version>
                        <configuration>
                            <cloverOutputDirectory />
                            <flushPolicy>threaded</flushPolicy>
                             <flushInterval>100</flushInterval>
                            <failOnViolation>false</failOnViolation>
                            <alwaysReport>true</alwaysReport>
                            <jdk>1.8</jdk>
                            <licenseLocation>${clover.licenselocation}</licenseLocation>
                            <generateHtml>true</generateHtml>
                            <generateXml>true</generateXml>
                            <includesTestSourceRoots>false</includesTestSourceRoots>
                            <singleCloverDatabase>true</singleCloverDatabase>
                            <reportDescriptor>${custom.clover.report.descriptor.location}</reportDescriptor>
                        </configuration>
                        <executions>
                         <execution>
                             <id>clover</id>
                             <goals>
                                 <goal>setup</goal>
                                 <goal>snapshot</goal>
                             </goals>
                         </execution>
                         <execution>
                             <phase>verify</phase>
                             <goals>
                                 <goal>aggregate</goal>
                                 <goal>clover</goal>
                                 <goal>check</goal>
                             </goals>
                         </execution>
                     </executions>
                    </plugin>                    
                </plugins>
            </build>
            <reporting>
                <plugins>
                    <plugin>
                        <groupId>com.atlassian.maven.plugins</groupId>
                        <artifactId>maven-clover2-plugin</artifactId>
                        <configuration>
                              <contextFilters>static</contextFilters>
                        </configuration>
                    </plugin>
                  </plugins>
             </reporting>

{code}
{color:red}*custom_clover_report_descriptor.xml
================================*{color}
{code}
<project name=""Clover Report"" default=""current"">
    <clover-format id=""clover.format"" type=""${type}"" orderBy=""${orderBy}"" filter=""${filter}"" reportStyle=""${reportStyle}""/>
    <clover-setup initString=""${cloverdb}""/>
    <fileset id=""test.sources"" dir=""${projectDir}"">
        <include name=""${testPattern}""/>
    </fileset>

    <clover-columns id=""clover.columns"">
        <totalChildren/>
        <filteredElements/>
        <avgMethodComplexity/>
        <uncoveredElements format=""raw""/>
        <totalPercentageCovered format=""longbar""/>
    </clover-columns>

    <target name=""historical"">
        <clover-report>
            <current outfile=""${output}"" summary=""${summary}""
                     charset=""${charset}"" title=""${title}"" titleAnchor=""${titleAnchor}""
                     span=""${span}"" alwaysReport=""${alwaysReport}""
                     showInnerFunctions=""${showInnerFunctions}"" showLambdaFunctions=""${showLambdaFunctions}"">
                <format refid=""clover.format""/>
                <testsources refid=""test.sources""/>
                <columns refid=""clover.columns""/>
            </current>

            <historical outfile=""${historyout}"" historydir=""${history}""
                        charset=""${charset}"" title=""${title}"" titleAnchor=""${titleAnchor}""
                        span=""${span}"">
                <format refid=""clover.format""/>
            </historical>
        </clover-report>

    </target>
    <target name=""current"">
        <clover-report>
            <current outfile=""${output}"" summary=""${summary}""
                     charset=""${charset}"" title=""${title}"" titleAnchor=""${titleAnchor}""
                     span=""${span}"" alwaysReport=""${alwaysReport}""
                     showInnerFunctions=""${showInnerFunctions}"" showLambdaFunctions=""${showLambdaFunctions}"">
                <format refid=""clover.format""/>
                <testsources refid=""test.sources""/>
                <columns refid=""clover.columns""/>
                <sourcepath>
                    <pathelement location=""${projectDir}/src/main/java""/>
                    <!-- <pathelement path=""src/main/java""/> -->
                    <!-- <dirset dir=""."">
                        <include name=""**/src/main/java"" />
                    </dirset> -->
                </sourcepath>

            </current>
        </clover-report>
    </target>
</project>
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxzegf:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-11-10 13:26:25.044,,,,,,,,,,,,,,,,,,,,,,,,"2|hxzjl3:",9223372036854775807,,,,,,,,,,,"1|hxzegn:",9223372036854775807,284515200,true,,,,,,,,,,glewandowski(glewandowski),5343923daec8(kodali.rameshbabu1685382737),,,,,,,,,,,,,,,,,,"1|hy1ben:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxzefz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"10/Nov/2015 1:26 PM;glewandowski;Hello [~kodali.rameshbabu1685382737],

Thank you for the bug report, but https://jira.atlassian.com portal is not best platform to get help on issues like this. The https://support.atlassian.com or https://answers.atlassian.com is. I'm going to help you on [referenced |https://answers.atlassian.com/questions/32114428/sourcepath-property-is-not-working-for-maven-clover-report-with-clover-version-4.0.0] answers question and close this issue. If we confirm a new bug, we're going to open one using this portal. 

Best regards,
Grzegorz Lewandowski ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Unicode 0x200B (zero-width whitespace) causes instrumentation failure,CLOV-1835,493814,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,05/Nov/2015 8:17 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,open-source,,,Instrumentation,,,,,,,0,,,,,,,,,"JDK 6 implements Unicode 4.0. In this version of Unicode, the zero-width whitespace character (0x200B) is being treated as a whitespace.

JDK 7 implements Unicode 6.0. In this version of Unicode, the zero-width whitespace has been reclassified to the 'format character' group (other characters in this group are, for example, left-/right- text direction markers).

Thus, Java compiler in JDK 6 allows to use 0x200B as a normal whitespace character, e.g. separating symbols. 

The Java compiler since JDK 7 silently ignores the 0x200B, which means that it cannot be used to separate symbols anymore. However you can put this character virtually in any place, e.g.:

{code:java}
void this<200B>Is<200B>MyMethod();
{code}

Clover fails on parsing the 200B character:

{noformat}
Xyz.java:287:90:unexpected char: 0x200B
at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:166)
at com.atlassian.clover.CloverInstr.execute(CloverInstr.java:76)
at com.atlassian.clover.CloverInstr.mainImpl(CloverInstr.java:54)
at ...
{noformat}

*Planned fix:*

 * Ignore 200B characters in Java 7+. Treat 200B character as space in Java 6.
 * Question: Shall it be based on source level setting or the JDK detected?
 * Question: which other control characters needs to be ignored by Clover?
 * Question: which other whitespace characters (other than space, \t, \n, \r) shall be recognized by Clover parser?

*Workaround:*

Remove all 200B character occurrences from the source code. 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxz713:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxzc6n:",9223372036854775807,,,,,,,,,,,"1|hxz71b:",9223372036854775807,284947200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwbxvr:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,2.0,9223372036854775807,,"1|hxz70n:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"05/Nov/2015 9:01 AM;mparfianowicz;How javac (JDK7) treats control characters:

{code:java}
public class A {
    // unicode characters are inserted after first word in each method:

    //void no BreakSpace00A0() {} - not allowed, compilation error
    void word⁠Joiner2060() {} // allowed
    void zero﻿WidthNoBreakSpaceFEFF() {} // allowed
    void zero​WidthSpace200B() {} // allowed
    void zero‌WidthNonJoiner200C() {} // allowed
    void zero‍WidthJointer200D() {} // allowed
    void soft­Hyphen00AD() {} // allowed
    // void hyphenation‧Point2027() {} - not allowed, compilation error

    // line 2028 and pararagraph 2029 separators
    // int a=1; not allowed
    // int b=2; not allowed
}
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Instrumentation failure of an annotation inside the catch clause,CLOV-1834,492092,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,glewandowski,fa2185a632f0,fa2185a632f0,03/Nov/2015 11:04 PM,09/Dec/2015 11:05 AM,15/Nov/2024 6:09 PM,04/Dec/2015 11:43 AM,4.0.3,,,,,4.1.0,,,Instrumentation,Maven plugin,,,,,,0,,,,,,,,,"Clover is failing to instrument below section of java 7 code
{code}
        try
        {
            innerStream.close();
        }
        catch (@SuppressWarnings(""unused"") final IOException e)
        {
            // ignore 
        }
{code}
This is a perfectly valid java 7 syntax but clover instrumentation fails at @SuppressWarnings(""unused"") annotation. ",CentOS 7 64 bit java 7 ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxz3pz:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-11-04 09:06:42.719,,,,,,,,,,,,,,,,,,,,,,,,"2|hxz8vz:",9223372036854775807,,,,,,,,,,,"1|hxz3q7:",9223372036854775807,285033600,true,,,,,,,,,,glewandowski(glewandowski),mparfianowicz(mparfianowicz),fa2185a632f0(yugeshreddy88877890536),,,,,,,,,,,,,,,,,"1|hxzvr3:",9223372036854775807,,,,,,,,,,,,,,,,,,,,4.1.0 Sprint 4,,,,,1.0,9223372036854775807,,"1|hxz3pj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"04/Nov/2015 9:06 AM;mparfianowicz;Hello Yugesh, thank you for reporting this issue. I have reproduced your problem. 

There was a similar bug before and it has been fixed in Clover version 3.1.6: CLOV-1096.

The problem in your case is as follows: Clover grammar after fixing CLOV-1096 allows to have 

{{catch(final <annotations> <type> <variable>)}}

but not

{{catch(<annotations> final <type> <variable>)}}

This, in order to workaround your problem you have to swap the order the ""final"" keyword and annotations:

{code:java}
catch (final @SuppressWarnings(""unused"") IOException e)
{code}

;;;","04/Nov/2015 9:12 AM;mparfianowicz;Developer notes. Excerpt from java.g:

{noformat}
// an exception handler
handler returns [CloverToken last]
{
    String type = null;
    last = null;
}
    :   ""catch"" LPAREN! (""final"")? (annotation2[false])* type=typeSpec (BOR type=typeSpec)* IDENT RPAREN!
        {enterContext(ContextStore.CONTEXT_CATCH);}
        last=compoundStatement
        {exitContext();}
    ;

{noformat}

The

{noformat}
(""final"")? (annotation2[false])*
{noformat}

should be declarable in any order. All of the following forms shall be allowed:

{noformat}
catch (Exception ex)     // handled
catch (final Exception ex)  // handled
catch (final @SuppressWarnings(""unused"") @Deprecated  Exception ex)  // handled
catch (@SuppressWarnings(""unused"") @Deprecated final Exception ex)   // not handled
catch (@SuppressWarnings(""unused"") final @Deprecated Exception ex)   // not handled
{noformat}
;;;","04/Nov/2015 4:00 PM;fa2185a632f0;Thanks Marek. I will follow the workaround solution to unblock this issue. ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Error at IntelliJ IDEA15 Startup,CLOV-1833,491649,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,mparfianowicz,2ca7eed1a33c,2ca7eed1a33c,03/Nov/2015 4:35 PM,04/Nov/2015 6:56 AM,15/Nov/2024 6:09 PM,04/Nov/2015 6:54 AM,,,,,,n/a,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/atlassian/clover/idea/coverage/monitor/ProcessExitDatabaseMonitor
java.lang.NoClassDefFoundError: com/atlassian/clover/idea/coverage/monitor/ProcessExitDatabaseMonitor
	at com.atlassian.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:156)
	at com.atlassian.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:87)
	at com.intellij.ide.startup.impl.StartupManagerImpl.b(StartupManagerImpl.java:342)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$700(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$3.run(StartupManagerImpl.java:165)
	at com.intellij.openapi.project.DumbServiceImpl.runWhenSmart(DumbServiceImpl.java:150)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:162)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$1000(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:196)
	at com.intellij.openapi.project.DumbServiceImpl.a(DumbServiceImpl.java:318)
	at com.intellij.openapi.project.DumbServiceImpl.access$1100(DumbServiceImpl.java:52)
	at com.intellij.openapi.project.DumbServiceImpl$10.run(DumbServiceImpl.java:503)
	at com.intellij.openapi.application.impl.LaterInvocator$1.run(LaterInvocator.java:158)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.a(LaterInvocator.java:337)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:321)
	at java.awt.event.InvocationEvent.dispatch(Invo","Java version=1.8.0_51, Java vendor=Oracle Corporation, OS name=Windows 7, OS architecture=x86, IDEA build number=IU-143.381
Plugin release=4.0.6.v20150918000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1757,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxz2wf:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,2015-11-04 06:53:52.588,,,,,,,,,,,,,,,,,,,,,,,,"2|hxz82f:",9223372036854775807,,,,,,,,,,,"1|hxz2wn:",9223372036854775807,285033600,true,,,,,,,,,,mparfianowicz(mparfianowicz),2ca7eed1a33c(rymhardy),,,,,,,,,,,,,,,,,,"1|hy10g7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxz2vz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Nov/2015 6:53 AM;mparfianowicz;Thanks for the bug report, unfortunately Clover is not supporting IntelliJ IDEA 15 yet. You can check all supported platforms at [this|https://confluence.atlassian.com/display/CLOVER/Supported+Platforms ] page.
We have an open issue which you can track here: https://jira.atlassian.com/browse/CLOV-1757. The issue is scheduled for next 4.1.0 release, which is expected end of November.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Opened a recent project in Intellij 15 after upgrading from 14.x,CLOV-1832,491333,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,,bee2e0e05f4c,bee2e0e05f4c,03/Nov/2015 12:57 PM,01/Dec/2015 7:07 AM,15/Nov/2024 6:09 PM,04/Nov/2015 6:53 AM,,,,,,n/a,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/intellij/execution/ui/RunContentListener
java.lang.NoClassDefFoundError: com/intellij/execution/ui/RunContentListener
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:760)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:642)
	at com.intellij.util.lang.UrlClassLoader._defineClass(UrlClassLoader.java:257)
	at com.intellij.util.lang.UrlClassLoader.defineClass(UrlClassLoader.java:253)
	at com.intellij.util.lang.UrlClassLoader._findClass(UrlClassLoader.java:222)
	at com.intellij.ide.plugins.cl.PluginClassLoader.b(PluginClassLoader.java:124)
	at com.intellij.ide.plugins.cl.PluginClassLoader.a(PluginClassLoader.java:77)
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:66)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at com.atlassian.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:156)
	at com.atlassian.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:87)
	at com.intellij.ide.startup.impl.StartupManagerImpl.b(StartupManagerImpl.java:342)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$700(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$3.run(StartupManagerImpl.java:165)
	at com.intellij.openapi.project.DumbServiceImpl.runWhenSmart(DumbServiceImpl.java:150)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:162)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$1000(StartupManagerImpl.j","Java version=1.8.0_51, Java vendor=Oracle Corporation, OS name=Windows 7, OS architecture=x86, IDEA build number=IU-143.381
Plugin release=4.0.6.v20150918000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1757,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxz2kn:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,2015-11-03 12:59:19.175,,,,,,,,,,,,,,,,,,,,,,,,"2|hxz7qn:",9223372036854775807,,,,,,,,,,,"1|hxz2kv:",9223372036854775807,285120000,true,,,,,,,,,,glewandowski(glewandowski),bee2e0e05f4c(jefferson.gibson),,,,,,,,,,,,,,,,,,"1|hy105z:",9223372036854775807,,,,java.lang.NoClassDefFoundError: com/intellij/execution/ui/RunContentListener,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxz2k7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Nov/2015 12:59 PM;glewandowski;Thanks for the bug report, unfortunately Clover is not supporting IntelliJ IDEA 15 yet. You can check all supported platforms at [this|https://confluence.atlassian.com/display/CLOVER/Supported+Platforms ] page.
We have an open issue which you can track here: https://jira.atlassian.com/browse/CLOV-1757. The issue is scheduled for next 4.1.0 release, which is expected end of November.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Atlassian Clover for IDEA (15) crashes,CLOV-1831,491411,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,mparfianowicz,8b9fec05069d,8b9fec05069d,03/Nov/2015 12:29 PM,01/Dec/2015 7:07 AM,15/Nov/2024 6:09 PM,04/Nov/2015 6:52 AM,,,,,,n/a,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/intellij/execution/ui/RunContentListener
java.lang.NoClassDefFoundError: com/intellij/execution/ui/RunContentListener
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:760)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:642)
	at com.intellij.util.lang.UrlClassLoader._defineClass(UrlClassLoader.java:257)
	at com.intellij.util.lang.UrlClassLoader.defineClass(UrlClassLoader.java:253)
	at com.intellij.util.lang.UrlClassLoader._findClass(UrlClassLoader.java:222)
	at com.intellij.ide.plugins.cl.PluginClassLoader.b(PluginClassLoader.java:124)
	at com.intellij.ide.plugins.cl.PluginClassLoader.a(PluginClassLoader.java:77)
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:66)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)
	at com.atlassian.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:156)
	at com.atlassian.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:87)
	at com.intellij.ide.startup.impl.StartupManagerImpl.b(StartupManagerImpl.java:342)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$700(StartupManagerImpl.java:58)
	at com.intellij.ide.startup.impl.StartupManagerImpl$3.run(StartupManagerImpl.java:165)
	at com.intellij.openapi.project.DumbServiceImpl.runWhenSmart(DumbServiceImpl.java:150)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:162)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$1000(StartupManagerImpl.j","Java version=1.8.0_51, Java vendor=Oracle Corporation, OS name=Windows 7, OS architecture=x86, IDEA build number=IU-143.381
Plugin release=4.0.6.v20150918000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1757,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxz2jb:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,2015-11-03 12:36:28.041,,,,,,,,,,,,,,,,,,,,,,,,"2|hxz7pb:",9223372036854775807,,,,,,,,,,,"1|hxz2jj:",9223372036854775807,285120000,true,,,,,,,,,,8b9fec05069d(ckorakidis1252208683),glewandowski(glewandowski),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,"1|hy1053:",9223372036854775807,,,,java.lang.NoClassDefFoundError: com/intellij/execution/ui/RunContentListener,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxz2iv:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Nov/2015 12:36 PM;glewandowski;Thanks for the bug report, unfortunately Clover is not supporting IntelliJ IDEA 15 yet. You can check all supported platforms at [this|https://confluence.atlassian.com/display/CLOVER/Supported+Platforms ] page.
We have an open issue which you can track here: https://jira.atlassian.com/browse/CLOV-1757. The issue is scheduled for next 4.1.0 release, which is expected end of November.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Broken link on Clover help page on CAC,CLOV-1830,490336,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,akord,akord,02/Nov/2015 12:58 AM,02/Nov/2015 8:17 AM,15/Nov/2024 6:09 PM,02/Nov/2015 8:17 AM,,,,,,n/a,,,Documentation,,,,,,,0,,,,,,,,,"Not sure if this is the right place to report CAC documentation issues, but this page has a broken link: https://confluence.atlassian.com/display/CLOVER/Best+Practices+for+Maven

The ""Overview of Test Optimization"" link at the bottom of the page goes to a 404 page on WAC:
https://www.atlassian.com/software/clover/features/optimization.jsp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxz0dz:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-11-02 08:16:48.23,,,,,,,,,,,,,,,,,,,,,,,,"2|hxz5lj:",9223372036854775807,,,,,,,,,,,"1|hxz0e7:",9223372036854775807,285206400,true,,,,,,,,,,akord(akord),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hy0y2v:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxz0dj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"02/Nov/2015 8:16 AM;mparfianowicz;Hi Ali, thank you very much for reporting this dead link. I just fixed it. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Test optimization in Eclipse Mars 4.5.1 keeps running one test,CLOV-1823,482519,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Invalid,mparfianowicz,mparfianowicz,mparfianowicz,23/Oct/2015 12:32 PM,23/Mar/2017 2:58 PM,15/Nov/2024 6:09 PM,26/Oct/2015 3:20 PM,,,,,,n/a,,,CEP Plugin,,,,,,,0,,,,,,,,,"Steps to reproduce:
 * rebuild a project, clean database and optimization snapshot
 * two times on 'run optimized' button, for the first time it runs all test, for the second time it runs one test (and should none)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxynun:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxyt1r:",9223372036854775807,,,,,,,,,,,"1|hxynuv:",9223372036854775807,285811200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hy0n2v:",9223372036854775807,,,,,,,,,,,,,,,,,,,,4.1.0 Sprint 3,,,,,0.5,9223372036854775807,,"1|hxynu7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"26/Oct/2015 3:09 PM;mparfianowicz;Not reproducible. Turned out to be a problem with a corrupted installation of Clover (two Clover versions in one Eclipse).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
StringIndexOutOfBoundsException in CloverStartup.evaluateDaysLeft,CLOV-1808,475672,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Obsolete,mparfianowicz,mparfianowicz,mparfianowicz,15/Oct/2015 7:23 AM,21/Apr/2017 8:30 AM,15/Nov/2024 6:09 PM,21/Apr/2017 8:30 AM,4.0.0,,,,,n/a,,,Instrumentation,,,,,,,0,,,,,,,,,"Clover fails to decode the license key. Stacktrace:

{noformat}
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: 47
 at java.lang.String.charAt(String.java:646)
 at com.atlassian.clover.CloverStartup.evaluateDaysLeft(CloverStartup.java:334)
 at com.atlassian.clover.CloverStartup.loadLicense(CloverStartup.java:122)
 at com.atlassian.clover.CloverStartup.loadLicense(CloverStartup.java:26)
 at com.atlassian.clover.CloverInstr.mainImpl(CloverInstr.java:45)
 at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrumentSources(AbstractInstrumenter.java:196)
 at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrument(AbstractInstrumenter.java:71)
 at com.atlassian.maven.plugin.clover.CloverInstrumentInternalMojo.execute(CloverInstrumentInternalMojo.java:290) 
 at com.atlassian.maven.plugin.clover.CloverSetupMojo.execute(CloverSetupMojo.java:30)
 at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager. java:134):
.. 11 more
{noformat}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxy93r:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxyejr:",9223372036854775807,,,,,,,,,,,"1|hxy93z:",9223372036854775807,238896000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwbxw7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,1.0,9223372036854775807,,"1|hxy93b:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"21/Apr/2017 8:30 AM;mparfianowicz;obsolete, the 'default' branch no longer checks for  a license key;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Coverage Explorer not rendered correctly on KDE environment,CLOV-1798,469525,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,glewandowski,glewandowski,28/Sep/2015 12:26 PM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,4.0.0,,,,,long term roadmap,,,CEP Plugin,,,,,,,0,,,,,,,,,"h3. Problem

{{Coverage Explorer}} doesn't render correctly on KDE environment (reproducible at least on 2 OSes), see attached screenshots. On Kubuntu (KDE 4.14.6) other {{Test Run Explorer}} also is malformed. Metrics are accessible after choosing class/node in second tab.
||CentOS||Kubuntu||
|{code}Qt: 4.8.5
KDE Development Platform 4.10.5
KIO Client 2.0
{code}|{code}Qt: 4.8.6
KDE Development Platform 4.14.6
KIO Client 2.0
{code}|
h3. Cause

The problem is probably caused by Eclipse incompatibility with new GTK3 used in KDE. Especially with the default GTK theme {{oxygen-gtk}}.
 [https://bugs.eclipse.org/bugs/show_bug.cgi?id=470994|https://bugs.eclipse.org/bugs/show_bug.cgi?id=470994]
 [https://bugs.eclipse.org/bugs/show_bug.cgi?id=432673|https://bugs.eclipse.org/bugs/show_bug.cgi?id=432673]
h3. Possible workaround

For {{Kubuntu}} it was enough to apply [this|http://stackoverflow.com/a/29411684/769187] fix. 
 For {{CentOS}} with older KDE version above fix is required but also changing GTK theme to {{Adwaita}}.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/2015 12:29 PM;glewandowski;centos.png;https://jira.atlassian.com/secure/attachment/175479/centos.png","28/Sep/2015 12:29 PM;glewandowski;kubuntu.png;https://jira.atlassian.com/secure/attachment/175480/kubuntu.png","28/Sep/2015 12:35 PM;glewandowski;kubuntu_test_explorer.png;https://jira.atlassian.com/secure/attachment/175481/kubuntu_test_explorer.png",,,,,,,,,,,,,,true,,"1|hxxiaf:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxxo53:",9223372036854775807,,,,,,,,,,,"1|hxxian:",9223372036854775807,288230400,true,,,,,,,,,,glewandowski(glewandowski),,,,,,,,,,,,,,,,,,,"1|hy2ifb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxxi9z:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Groovy code with Generics throw NPEs,CLOV-1779,452987,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,glewandowski,a86e82895aec,a86e82895aec,05/Aug/2015 3:40 PM,10/Sep/2015 12:39 PM,15/Nov/2024 6:09 PM,09/Sep/2015 9:11 AM,4.0.1,,,,,4.0.6,,,Groovy,,,,,,,0,,,,,,,,,"Starting with Clover version 4.0.1 when running JUnit tests against clover instrumented code I am getting a null pointer exception when attempting to call this method:

{code:java}
// in DateUtil.groovy
  static <T extends Date> T copy(T date) {
    (T) date?.clone()
  }
{code}

It seems like something has changed with the instrumentation. Either of these two other variations of this same code *doesn't* have this problem:

{code:java}
  static Date copy(Date date) {
    date?.clone()
  }

  static def copy(def date) {
    date?.clone()
  }
{code}


Here's the top of the stacktrace:
{noformat}
java.lang.NullPointerException
	at com.sun.beans.TypeResolver.resolve(TypeResolver.java:203)
	at com.sun.beans.TypeResolver.resolve(TypeResolver.java:218)
	at com.sun.beans.TypeResolver.resolveInClass(TypeResolver.java:96)
	at java.beans.FeatureDescriptor.getParameterTypes(FeatureDescriptor.java:387)
	at java.beans.MethodDescriptor.setMethod(MethodDescriptor.java:116)
	at java.beans.MethodDescriptor.<init>(MethodDescriptor.java:72)
	at java.beans.MethodDescriptor.<init>(MethodDescriptor.java:56)
	at java.beans.Introspector.getTargetMethodInfo(Introspector.java:1205)
	at java.beans.Introspector.getBeanInfo(Introspector.java:426)
	at java.beans.Introspector.getBeanInfo(Introspector.java:173)
	at groovy.lang.MetaClassImpl$15.run(MetaClassImpl.java:3244)
	at java.security.AccessController.doPrivileged(Native Method)
	at groovy.lang.MetaClassImpl.addProperties(MetaClassImpl.java:3242)
	at groovy.lang.MetaClassImpl.initialize(MetaClassImpl.java:3225)
	at org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:222)
	at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:253)
	at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:255)
	at org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:859)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.createCallStaticSite(CallSiteArray.java:72)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.createCallSite(CallSiteArray.java:159)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)
	at com.surescripts.common.DateUtilTest.clone_NonNullValue(DateUtilTest.groovy:16)
{noformat}","*Clover* versions 4.0.1 and up (4.0.0 works fine)
*JDK: *
java version ""1.8.0_51""
Java(TM) SE Runtime Environment (build 1.8.0_51-b16)
Java HotSpot(TM) 64-Bit Server VM (build 25.51-b03, mixed mode)
*Groovy*: 2.3.11
*Gradle Plugin*: 2.0.1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxv9x3:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-08-06 08:28:59.997,,,,,,,,,,,,,,,,,,,,,,,,"2|hxvgnz:",9223372036854775807,,,,,,,,,,,"1|hxv9x3:",9223372036854775807,289872000,true,,,,,,,,,,glewandowski(glewandowski),a86e82895aec(jjathman),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,"1|hwcqwv:",9223372036854775807,,,,com.sun.beans.TypeResolver.resolve\(TypeResolver.java:\d+,,,,,,,,,,,,,,,,4.0.6 Sprint 2,,,,,3.0,9223372036854775807,,"1|hxv9wn:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"06/Aug/2015 8:28 AM;mparfianowicz;Hi Joe, thank you very much for reporting this issue. We'll check what's wrong. ;;;","06/Aug/2015 1:06 PM;a86e82895aec;Thank you, let me know if you aren't able to reproduce the issue I can try distilling a smaller example in a full project.;;;","24/Aug/2015 10:16 AM;mparfianowicz;Hi Joe, 

I'd like to give you a status update. This bug has the highest priority and is included in our current sprint, so I hope to have a fix (and a snapshot build) mid of September the latest (*)

By the way: have you tried using the latest Groovy version - 2.4.4?

(*) unless it turns out to be a bug in groovyc which cannot be work-arounded on Clover side and developers of Groovy will have to make a fix.

Cheers;;;","24/Aug/2015 11:38 AM;mparfianowicz;Similar issues:
* https://issues.apache.org/jira/browse/GROOVY-7278
* https://issues.apache.org/jira/browse/GROOVY-7298;;;","24/Aug/2015 11:43 AM;mparfianowicz;Possibly related with CLOV-1490 implemented in 4.0.1.;;;","24/Aug/2015 2:18 PM;a86e82895aec;Marek, I tried using Groovy 2.4.4 today on our build and got the same results with Clover 4.0.5. Everything was successful with 2.4.4 and 4.0.0 though. Thanks for looking in to it. We are fine using Clover 4.0.0 for now, we just like to stay up to date on the tools we use as much as possible. Thanks!;;;","09/Sep/2015 9:10 AM;glewandowski;Thank you Joe for your help in resolving this issue. It occurred we had an bug in AST transformations which has been fixed. Fix will be included in upcoming 4.0.6 release but you can try SNAPSHOT version which is accessible in [Atlassian Central Repository |https://maven.atlassian.com/service/local/repositories/atlassian-central-snapshot/content/com/atlassian/clover/clover/4.0.6-SNAPSHOT/clover-4.0.6-20150908.142605-9.jar];;;","09/Sep/2015 2:19 PM;a86e82895aec;Thanks a lot for fixing this. I think we will probably wait for the official release as this isn't really a blocker for us since 4.0.0 works well enough. Appreciate the work!;;;",,,,,,,,,,,,,,,,,,,
Instrumentation error on certain projects since 4.0.5 build of Clover. ,CLOV-1777,449747,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,mparfianowicz,5dc3870b23c3,5dc3870b23c3,27/Jul/2015 5:47 AM,27/Jul/2015 7:24 AM,15/Nov/2024 6:09 PM,27/Jul/2015 7:24 AM,4.0.5,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"Instrumentation error on certain projects since 4.0.5 build of Clover. 

Making it a major as we can't run Clover on certain projects any longer. 

You can let me know if you need any other information/logs/etc.

Cheers

{code}
build	27-Jul-2015 13:46:14	[INFO] Processing files at 1.8 source level.
build	27-Jul-2015 13:46:17	[INFO] Instrumentation error
build	27-Jul-2015 13:46:17	java.util.NoSuchElementException
build	27-Jul-2015 13:46:17		at java.util.ArrayDeque.getFirst(ArrayDeque.java:324)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.headIdentifiersStack(JavaRecognizer.java:113)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.pushIdentifierToHeadStack(JavaRecognizer.java:109)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.primaryExpressionPart(JavaRecognizer.java:3368)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.postfixExpression(JavaRecognizer.java:5047)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.unaryExpressionNotPlusMinus(JavaRecognizer.java:5007)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.unaryExpression(JavaRecognizer.java:4867)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.multiplicativeExpression(JavaRecognizer.java:4817)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.additiveExpression(JavaRecognizer.java:4787)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.shiftExpression(JavaRecognizer.java:4754)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.relationalExpression(JavaRecognizer.java:4706)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.equalityExpression(JavaRecognizer.java:4673)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.andExpression(JavaRecognizer.java:4654)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.exclusiveOrExpression(JavaRecognizer.java:4635)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.inclusiveOrExpression(JavaRecognizer.java:4616)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.logicalAndExpression(JavaRecognizer.java:4597)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.logicalOrExpression(JavaRecognizer.java:4578)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.conditionalExpression(JavaRecognizer.java:4549)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.conditionalExpression2(JavaRecognizer.java:5558)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.annMemberValue2(JavaRecognizer.java:5528)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.annMemberValuePair(JavaRecognizer.java:5465)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.annotation2(JavaRecognizer.java:1509)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.annotation(JavaRecognizer.java:667)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.packageDefinition(JavaRecognizer.java:593)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.compilationUnit(JavaRecognizer.java:540)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:212)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:125)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.CloverInstr.execute(CloverInstr.java:76)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.CloverInstr.mainImpl(CloverInstr.java:54)
build	27-Jul-2015 13:46:17		at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrumentSources(AbstractInstrumenter.java:197)
build	27-Jul-2015 13:46:17		at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrument(AbstractInstrumenter.java:72)
build	27-Jul-2015 13:46:17		at com.atlassian.maven.plugin.clover.CloverInstrumentInternalMojo.execute(CloverInstrumentInternalMojo.java:289)
build	27-Jul-2015 13:46:17		at com.atlassian.maven.plugin.clover.CloverSetupMojo.execute(CloverSetupMojo.java:31)
build	27-Jul-2015 13:46:17		at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)
build	27-Jul-2015 13:46:17		at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)
build	27-Jul-2015 13:46:17		at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)
build	27-Jul-2015 13:46:17		at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)
build	27-Jul-2015 13:46:17		at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)
build	27-Jul-2015 13:46:17		at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)
build	27-Jul-2015 13:46:17		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
build	27-Jul-2015 13:46:17		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
build	27-Jul-2015 13:46:17		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
build	27-Jul-2015 13:46:17		at java.lang.reflect.Method.invoke(Method.java:483)
build	27-Jul-2015 13:46:17		at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
build	27-Jul-2015 13:46:17		at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
build	27-Jul-2015 13:46:17		at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
build	27-Jul-2015 13:46:17		at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
build	27-Jul-2015 13:46:17	[INFO]                                                                         
{code}",,,,,,,,,,,,,,,,,,,,,,,,CLOV-1776,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxutgn:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-07-27 07:22:59.648,,,,,,,,,,,,,,,,,,,,,,,,"2|hxv0ev:",9223372036854775807,,,,,,,,,,,"1|hxutgf:",9223372036854775807,293673600,true,,,,,,,,,,mparfianowicz(mparfianowicz),5dc3870b23c3(ronan4),,,,,,,,,,,,,,,,,,"1|hxx8rb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxutg7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"27/Jul/2015 7:22 AM;mparfianowicz;Hi Ronan,

I've noticed that you reported two bugs with the same content: CLOV-1776 and CLOV-1777. I believe this was just accidental, thus I'm closing the latter one as duplicate; problem will be tracked in the first one. 

In case you had different intention, feel free to reopen it. 

Cheers
Marek;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Instrumentation error on certain projects since 4.0.5 build of Clover. ,CLOV-1776,449746,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,glewandowski,5dc3870b23c3,5dc3870b23c3,27/Jul/2015 5:46 AM,18/Sep/2015 1:36 PM,15/Nov/2024 6:09 PM,24/Aug/2015 9:15 AM,4.0.5,,,,,4.0.6,,,Instrumentation,,,,,,,0,,,,,,,,,"Instrumentation error on certain projects since 4.0.5 build of Clover. 

Making it a blocker as we can't run Clover on certain projects any longer. 

{code}
build	27-Jul-2015 13:46:14	[INFO] Processing files at 1.8 source level.
build	27-Jul-2015 13:46:17	[INFO] Instrumentation error
build	27-Jul-2015 13:46:17	java.util.NoSuchElementException
build	27-Jul-2015 13:46:17		at java.util.ArrayDeque.getFirst(ArrayDeque.java:324)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.headIdentifiersStack(JavaRecognizer.java:113)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.pushIdentifierToHeadStack(JavaRecognizer.java:109)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.primaryExpressionPart(JavaRecognizer.java:3368)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.postfixExpression(JavaRecognizer.java:5047)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.unaryExpressionNotPlusMinus(JavaRecognizer.java:5007)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.unaryExpression(JavaRecognizer.java:4867)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.multiplicativeExpression(JavaRecognizer.java:4817)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.additiveExpression(JavaRecognizer.java:4787)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.shiftExpression(JavaRecognizer.java:4754)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.relationalExpression(JavaRecognizer.java:4706)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.equalityExpression(JavaRecognizer.java:4673)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.andExpression(JavaRecognizer.java:4654)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.exclusiveOrExpression(JavaRecognizer.java:4635)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.inclusiveOrExpression(JavaRecognizer.java:4616)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.logicalAndExpression(JavaRecognizer.java:4597)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.logicalOrExpression(JavaRecognizer.java:4578)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.conditionalExpression(JavaRecognizer.java:4549)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.conditionalExpression2(JavaRecognizer.java:5558)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.annMemberValue2(JavaRecognizer.java:5528)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.annMemberValuePair(JavaRecognizer.java:5465)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.annotation2(JavaRecognizer.java:1509)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.annotation(JavaRecognizer.java:667)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.packageDefinition(JavaRecognizer.java:593)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.JavaRecognizer.compilationUnit(JavaRecognizer.java:540)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:212)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:125)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.CloverInstr.execute(CloverInstr.java:76)
build	27-Jul-2015 13:46:17		at com.atlassian.clover.CloverInstr.mainImpl(CloverInstr.java:54)
build	27-Jul-2015 13:46:17		at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrumentSources(AbstractInstrumenter.java:197)
build	27-Jul-2015 13:46:17		at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrument(AbstractInstrumenter.java:72)
build	27-Jul-2015 13:46:17		at com.atlassian.maven.plugin.clover.CloverInstrumentInternalMojo.execute(CloverInstrumentInternalMojo.java:289)
build	27-Jul-2015 13:46:17		at com.atlassian.maven.plugin.clover.CloverSetupMojo.execute(CloverSetupMojo.java:31)
build	27-Jul-2015 13:46:17		at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
build	27-Jul-2015 13:46:17		at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)
build	27-Jul-2015 13:46:17		at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)
build	27-Jul-2015 13:46:17		at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)
build	27-Jul-2015 13:46:17		at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)
build	27-Jul-2015 13:46:17		at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)
build	27-Jul-2015 13:46:17		at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)
build	27-Jul-2015 13:46:17		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
build	27-Jul-2015 13:46:17		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
build	27-Jul-2015 13:46:17		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
build	27-Jul-2015 13:46:17		at java.lang.reflect.Method.invoke(Method.java:483)
build	27-Jul-2015 13:46:17		at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
build	27-Jul-2015 13:46:17		at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
build	27-Jul-2015 13:46:17		at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
build	27-Jul-2015 13:46:17		at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
build	27-Jul-2015 13:46:17	[INFO]                                                                         
{code}",,,,,,,,,,,,,,,,,CLOV-1596,,,,CLOV-1777,,,,,,,,,,,,,,,"27/Jul/2015 11:11 PM;5dc3870b23c3;YesNoType.java;https://jira.atlassian.com/secure/attachment/168612/YesNoType.java",,,,,,,,,,,,,,,,true,,"1|hxutgf:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-07-27 07:17:02.189,,,,,,,,,,,,,,,,,,,,,,,,"2|hxv0en:",9223372036854775807,,,,,,,,,,,"1|hxutg7:",9223372036854775807,291254400,true,,,,,,,,,,glewandowski(glewandowski),mparfianowicz(mparfianowicz),5dc3870b23c3(ronan4),,,,,,,,,,,,,,,,,"1|hwc913:",9223372036854775807,,,,at com\.atlassian\.clover\.instr\.java\.JavaRecognizer\.headIdentifiersStack,,,,,,,,,,,,,,,,4.0.6 Sprint 2,,,,,2.0,9223372036854775807,,"1|hxutfz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"27/Jul/2015 7:17 AM;mparfianowicz;Hi Ronan, thank you very much for reporting this issue. May I ask you to attach source code of the file which causes this instrumentation error? 

In case you're not sure which file is it, please run your build with debug logging (mvn -X), it should print a message which file is being processed.;;;","27/Jul/2015 7:19 AM;mparfianowicz;Regression of: CLOV-1596;;;","27/Jul/2015 12:59 PM;glewandowski;Hi Ronan, I found out that regression was introduced to {{package-info}} files instrumentation. Could you confirm that Clover is failing to instrument {{package-info.java}} file in your project?;;;","27/Jul/2015 6:35 PM;mparfianowicz;Hi Ronan, 

If it's also caused by package-info.java file in your case, as a workaround you can exclude them from instrumentation, either by defining <excludes> or <excludesList> in pom.xml:
https://docs.atlassian.com/maven-clover2-plugin/latest/setup-mojo.html#excludes
https://docs.atlassian.com/maven-clover2-plugin/latest/setup-mojo.html#excludesList

or using the {{-Dmaven.clover.excludesList=...}} option.

Cheers
Marek;;;","27/Jul/2015 11:10 PM;5dc3870b23c3;Hey Marek and Grzegorz,

Thanks for looking into this so quickly for us.

Using the -X option, our issue actually seems to be and OTA (open travel alliance) auto generated source file.

{code}
batch/target/clover/src-instrumented/org/opentravel/ota/_2003/_05/YesNoType.java'
build	28-Jul-2015 08:34:45	[INFO] Instrumentation error
build	28-Jul-2015 08:34:45	java.util.NoSuchElementException
build	28-Jul-2015 08:34:45		at java.util.ArrayDeque.getFirst(ArrayDeque.java:324)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.headIdentifiersStack(JavaRecognizer.java:113)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.pushIdentifierToHeadStack(JavaRecognizer.java:109)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.primaryExpressionPart(JavaRecognizer.java:3368)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.postfixExpression(JavaRecognizer.java:5047)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.unaryExpressionNotPlusMinus(JavaRecognizer.java:5007)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.unaryExpression(JavaRecognizer.java:4867)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.multiplicativeExpression(JavaRecognizer.java:4817)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.additiveExpression(JavaRecognizer.java:4787)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.shiftExpression(JavaRecognizer.java:4754)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.relationalExpression(JavaRecognizer.java:4706)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.equalityExpression(JavaRecognizer.java:4673)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.andExpression(JavaRecognizer.java:4654)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.exclusiveOrExpression(JavaRecognizer.java:4635)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.inclusiveOrExpression(JavaRecognizer.java:4616)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.logicalAndExpression(JavaRecognizer.java:4597)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.logicalOrExpression(JavaRecognizer.java:4578)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.conditionalExpression(JavaRecognizer.java:4549)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.conditionalExpression2(JavaRecognizer.java:5558)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.annMemberValue2(JavaRecognizer.java:5528)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.annMemberValuePair(JavaRecognizer.java:5465)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.annotation2(JavaRecognizer.java:1509)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.annotation(JavaRecognizer.java:667)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.packageDefinition(JavaRecognizer.java:593)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.compilationUnit(JavaRecognizer.java:540)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:212)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:125)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.CloverInstr.execute(CloverInstr.java:76)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.CloverInstr.mainImpl(CloverInstr.java:54)
build	28-Jul-2015 08:34:45		at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrumentSources(AbstractInstrumenter.java:197)
build	28-Jul-2015 08:34:45		at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrument(AbstractInstrumenter.java:72)
build	28-Jul-2015 08:34:45		at com.atlassian.maven.plugin.clover.CloverInstrumentInternalMojo.execute(CloverInstrumentInternalMojo.java:289)
build	28-Jul-2015 08:34:45		at com.atlassian.maven.plugin.clover.CloverSetupMojo.execute(CloverSetupMojo.java:31)
build	28-Jul-2015 08:34:45		at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:132)
build	28-Jul-2015 08:34:45		at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
build	28-Jul-2015 08:34:45		at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
build	28-Jul-2015 08:34:45		at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
build	28-Jul-2015 08:34:45		at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)
build	28-Jul-2015 08:34:45		at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)
build	28-Jul-2015 08:34:45		at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)
build	28-Jul-2015 08:34:45		at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:120)
build	28-Jul-2015 08:34:45		at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:347)
build	28-Jul-2015 08:34:45		at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:154)
build	28-Jul-2015 08:34:45		at org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)
build	28-Jul-2015 08:34:45		at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)
build	28-Jul-2015 08:34:45		at org.apache.maven.cli.MavenCli.main(MavenCli.java:157)
build	28-Jul-2015 08:34:45		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
build	28-Jul-2015 08:34:45		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
build	28-Jul-2015 08:34:45		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
build	28-Jul-2015 08:34:45		at java.lang.reflect.Method.invoke(Method.java:497)
build	28-Jul-2015 08:34:45		at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
build	28-Jul-2015 08:34:45		at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
build	28-Jul-2015 08:34:45		at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)
build	28-Jul-2015 08:34:45		at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)
build	28-Jul-2015 08:34:45	[INFO]                                                                         
{code}

We probably should be excluding these in any case.... but I have attached the source in case it's something you guys want to fix.
 ;;;","28/Jul/2015 8:29 AM;mparfianowicz;Hi Ronan,

Unfortunately, I did not reproduce your problem yet (i.e. I was able to successfully instrument the attached file using Clover 4.0.5). According to the stack trace:

{noformat}
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.annotation(JavaRecognizer.java:667)
build	28-Jul-2015 08:34:45		at com.atlassian.clover.instr.java.JavaRecognizer.packageDefinition(JavaRecognizer.java:593)
{noformat}

Parsing failed on the annotation for a package, which does not seem to be a case in your sample (i.e. the YesNoType is not a package-info.java file and does not have any annotations before a ""package"" keyword).

May I ask you to:
 * double-check if you've attached correct version of the file
 * paste more build log - I'd like to see what happened before instrumenting the YesNoType.java
 * paste a source code of the file which was instrumented before the YesNoType - I'd like to check if it has any influence on YesNoType - I suspect that this problem is related with instrumentation of more than one file (for instance that parser's state machine was not cleaned properly between parsing of subsequent files)

Cheers
Marek;;;","28/Jul/2015 8:35 AM;mparfianowicz;Could you also tell what Maven and Java version as well as what <source> level settings (either in the maven-compiler-plugin or the in the maven-clover2-plugin) do you use?;;;","31/Jul/2015 4:15 AM;5dc3870b23c3;{code}
Apache Maven 3.2.2 (45f7c06d68e745d05611f7fd14efb6594181933e; 2014-06-17T23:51:42+10:00)
Maven home: /usr/local/maven/latest
Java version: 1.8.0_40, vendor: Oracle Corporation
Java home: /usr/java/jdk1.8.0_40/jre
Default locale: en_US, platform encoding: UTF-8
OS name: ""linux"", version: ""2.6.32-504.30.3.el6.x86_64"", arch: ""amd64"", family: ""unix""
{code}

We're using clover auto integrated with bamboo. 

{code}
<plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>${maven.compiler.plugin.version}</version>
                <configuration>
                    <source>1.8</source>
                    <target>1.8</target>
                </configuration>
            </plugin>
{code}

Just FYI...I've asked the developer who committed the OTA auto generated code into our src/ folder to remove it and generate it at build time with a jaxb plugin. So that's done and we're no longer experiencing the issue. 

More of the logs attached as well. 
;;;","31/Jul/2015 8:15 PM;mparfianowicz;{quote}More of the logs attached as well. {quote}

I don't see any logs attached. May I ask you to attach them again? 

Please note that jira.atlassian.com is a public issue tracker. In case you're concerned about data present in your logs, feel free to create a ticket at support.atlassian.com and attach logs there. ;;;","24/Aug/2015 9:25 AM;mparfianowicz;Hi Ronan, 

We have implemented a fix, which solves a compilation error of package-info.java files having the same stack trace as your case. I believe it will fix your case as well. Could you please try to build your project with the latest snapshot build of Clover Core (com.atlassian.clover:clover:4.0.6-SNAPSHOT)? 

It's available in Atlassian Central Snapshot repository:
https://maven.atlassian.com/content/repositories/atlassian-central-snapshot/com/atlassian/clover/clover/4.0.6-SNAPSHOT/

Cheers
Marek
;;;",,,,,,,,,,,,,,,,,
Eclipse Mars 4.5 does not load platform:/ resources properly,CLOV-1766,444634,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,08/Jul/2015 12:57 PM,25/Oct/2016 8:34 AM,15/Nov/2024 6:09 PM,10/Jul/2015 11:31 PM,,,,,,4.0.5,,,CEP Plugin,,,,,,,0,,,,,,,,,"Clover uses ""platform:/"" URIs to load standard Eclipse icons from eclipse-core such as a package icon, a folder icon etc. 

Eclipse Mars is buggy and does not always fetch these resources, as a consequence we don't see proper icons on a toolbar.

Fix: bundle new icons in Clover-for-Eclipse plugin and replace ""platform:/"" references by new icons using local URIs.

Note: try aligning look of new icons with ADG and Clover's HTML reports.",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1817,,CLOV-1761,,,,,,,,"08/Jul/2015 2:53 PM;mparfianowicz;ADG_Class_Green_14892c.gif;https://jira.atlassian.com/secure/attachment/166614/ADG_Class_Green_14892c.gif","08/Jul/2015 2:53 PM;mparfianowicz;ADG_Class_Green_14892c.xcf;https://jira.atlassian.com/secure/attachment/166613/ADG_Class_Green_14892c.xcf","08/Jul/2015 2:53 PM;mparfianowicz;ADG_Folder_Open_Brown_815b3a.gif;https://jira.atlassian.com/secure/attachment/166612/ADG_Folder_Open_Brown_815b3a.gif","08/Jul/2015 2:53 PM;mparfianowicz;ADG_Folder_Open_Brown_815b3a.xcf;https://jira.atlassian.com/secure/attachment/166611/ADG_Folder_Open_Brown_815b3a.xcf","08/Jul/2015 2:53 PM;mparfianowicz;ADG_Navigation_Tree_Brown_815b3a.gif;https://jira.atlassian.com/secure/attachment/166610/ADG_Navigation_Tree_Brown_815b3a.gif","08/Jul/2015 2:53 PM;mparfianowicz;ADG_Navigation_Tree_Brown_815b3a.xcf;https://jira.atlassian.com/secure/attachment/166609/ADG_Navigation_Tree_Brown_815b3a.xcf","08/Jul/2015 2:53 PM;mparfianowicz;ADG_View_Card_Modified_Brown_815b3a.gif;https://jira.atlassian.com/secure/attachment/166608/ADG_View_Card_Modified_Brown_815b3a.gif","08/Jul/2015 2:53 PM;mparfianowicz;ADG_View_Card_Modified_Brown_815b3a.xcf;https://jira.atlassian.com/secure/attachment/166607/ADG_View_Card_Modified_Brown_815b3a.xcf",,,,,,,,,true,,"1|hxu233:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxu9db:",9223372036854775807,,,,,,,,,,,"1|hxu23b:",9223372036854775807,295315200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwcqy7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,4.0.5 Sprint 3,,,,,2.0,9223372036854775807,,"1|hxu22n:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Instrumentation of method references with no compilation errors,CLOV-1762,443025,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,02/Jul/2015 11:26 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,3.2.0,,,,,long term roadmap,,,Instrumentation,,,,,,,1,,,,,,,,,"In CLOV-1596 we've prepared a solution for JDK8 streams based on rewriting expression-like lambda functions into lambda code blocks. However, this technique cannot be applied to method references (as we don't know number of arguments to be passed). 

Figure out how to fix this. 

Ideas:
 * type casts -> not promising
 * chaning signature to ""<T> T lambdaInc(int, T, int)"" -> not promising
 * dedicated lambdaInc wrappers -> promising but very complex
 * ...

",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1465,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxtudr:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxu1rb:",9223372036854775807,,,,,,,,,,,"1|hxtudz:",9223372036854775807,295833600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxwe5b:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxtudb:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
it always gives nullpointexception,CLOV-1760,442507,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,73665d50d67d,73665d50d67d,01/Jul/2015 9:06 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,4.0.0,,,,,open-source,,,CIJ Plugin,,,,,,,0,,,,,,,,,"null
java.lang.NullPointerException
	at com.atlassian.clover.idea.testexplorer.TestRunExplorerTreeBuilder.sortBySourceRoot(TestRunExplorerTreeBuilder.java:119)
	at com.atlassian.clover.idea.testexplorer.TestRunExplorerTreeBuilder.addSourceRoots(TestRunExplorerTreeBuilder.java:132)
	at com.atlassian.clover.idea.testexplorer.TestRunExplorerTreeBuilder.populate(TestRunExplorerTreeBuilder.java:262)
	at com.atlassian.clover.idea.testexplorer.TestRunExplorerTreeBuilder.populate(TestRunExplorerTreeBuilder.java:225)
	at com.atlassian.clover.idea.testexplorer.TestRunBrowserPanel.update(TestRunBrowserPanel.java:87)
	at com.atlassian.clover.idea.testexplorer.TestRunExplorerToolWindow.doUpdate(TestRunExplorerToolWindow.java:268)
	at com.atlassian.clover.idea.testexplorer.TestRunExplorerToolWindow.access$100(TestRunExplorerToolWindow.java:63)
	at com.atlassian.clover.idea.testexplorer.TestRunExplorerToolWindow$2.run(TestRunExplorerToolWindow.java:131)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:319)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:715)
	at java.awt.EventQueue.access$400(EventQueue.java:82)
	at java.awt.EventQueue$2.run(EventQueue.java:676)
	at java.awt.EventQueue$2.run(EventQueue.java:674)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:86)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:685)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:697)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:524)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:335)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)

","Java version=1.8.0_45, Java vendor=Apple Inc., OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IU-135.1306
Plugin release=4.0.4.v20150416000000",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxts2f:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,2015-07-01 10:17:52.919,,,,,,,,,,,,,,,,,,,,,,,,"2|hxtzg7:",9223372036854775807,,,,,,,,,,,"1|hxts2n:",9223372036854775807,295920000,true,,,,,,,,,,glewandowski(glewandowski),73665d50d67d(taylander),,,,,,,,,,,,,,,,,,"1|hwfkp3:",9223372036854775807,,,,at com.atlassian.clover.idea.testexplorer.TestRunExplorerTreeBuilder.sortBySourceRoot\(TestRunExplorerTreeBuilder.java:\d+\),,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxts1z:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jul/2015 10:17 AM;glewandowski;I've created account and a ticket on support.atlassian.com, please check your mailbox for ongoing notification about it. 
URL to the issue: https://support.atlassian.com/browse/CLV-6254;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover can't make a coverage folder,CLOV-1751,437320,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,3bc4d534b427,3bc4d534b427,12/Jun/2015 9:46 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,4.0.0,,,,,open-source,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Got this error in a project I was working on, desptie it working fine in two other similar projects and on a different machine that is currently unavailable.

Could not create coverage directory C:\Users\myUser\Google Drive\workspace\project2OutOf3\.clover
java.lang.Throwable
	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:113)
	at com.atlassian.clover.idea.CloverPlugin$IdeaLogger.log(CloverPlugin.java:78)
	at com.atlassian.clover.Logger.error(Logger.java:110)
	at com.atlassian.clover.idea.build.CloverCompiler$ValidateInitStringTask.execute(CloverCompiler.java:247)
	at com.intellij.compiler.impl.CompileDriver.a(CompileDriver.java:2379)
	at com.intellij.compiler.impl.CompileDriver.access$900(CompileDriver.java:122)
	at com.intellij.compiler.impl.CompileDriver$8.run(CompileDriver.java:710)
	at com.intellij.compiler.progress.CompilerTask.run(CompilerTask.java:167)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl$TaskRunnable.run(ProgressManagerImpl.java:471)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl$2.run(ProgressManagerImpl.java:178)
	at com.intellij.openapi.progress.ProgressManager.executeProcessUnderProgress(ProgressManager.java:209)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:212)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.runProcess(ProgressManagerImpl.java:171)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl$8.run(ProgressManagerImpl.java:380)
	at com.intellij.openapi.application.impl.ApplicationImpl$8.run(ApplicationImpl.java:419)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.","Java version=1.8.0_45, Java vendor=Oracle Corporation, OS name=Windows 8, OS architecture=x86, IDEA build number=IU-135.1306
Plugin release=4.0.4.v20150416000000",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxszo7:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,2015-06-15 13:02:31.09,,,,,,,,,,,,,,,,,,,,,,,,"2|hxt76v:",9223372036854775807,,,,,,,,,,,"1|hxszof:",9223372036854775807,297302400,true,,,,,,,,,,3bc4d534b427(haidbz),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwfkov:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxsznr:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jun/2015 1:02 PM;mparfianowicz;Hi Håvard,

As you can see in a message description:

{quote}
Could not create coverage directory C:\Users\myUser\Google Drive\workspace\project2OutOf3\.clover
{quote}

Clover was unable to create this folder. Could you please check:
 * if a folder or a file with such name does not exist already
 * if you have write permissions to this location

You have mentioned that you have two other projects working fine. Could you please check what locations of Clover databases are defined for them? Is there any chance that they are using the same path?

Cheers
Marek;;;","15/Jun/2015 1:05 PM;mparfianowicz;A code fragment responsible for this error:

{code:java}
            final File initStringFile = new File(initStr);
            if (!initStringFile.getParentFile().exists()) {
                if (!initStringFile.getParentFile().mkdirs()) {
                    final String message = ""Could not create coverage directory "" + initStringFile.getParentFile();
                    LOG.error(message);
                    ...
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,
OutOfMemoryError while flushing coverage data,CLOV-1743,433510,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,29/May/2015 8:24 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.4,,,,,long term roadmap,,,Database,,,,,,,1,,,,,,,,,"'
{noformat}
29-May-2015 12:53:08 	ERROR: java.lang.OutOfMemoryError flushing coverage for recorder /media/ephemeral0/bamboo-working-dir/BAM-CLOVER344-UT/components/bamboo-core/target/clover/clover.dbbjv36u_ia9lwdsf: Java heap space
29-May-2015 12:53:08 	Exception in thread ""CloverFlushThread"" java.lang.OutOfMemoryError: Java heap space
29-May-2015 12:53:08 	        at java.util.zip.DeflaterOutputStream.<init>(DeflaterOutputStream.java:56)
29-May-2015 12:53:08 	        at com.cenqua.clover.util.FileUtils.createDeflateOutputStream(FileUtils.java:468)
29-May-2015 12:53:08 	        at com.cenqua.clover.FileBasedGlobalCoverageRecording.write(FileBasedGlobalCoverageRecording.java:39)
29-May-2015 12:53:08 	        at com.cenqua.clover.GlobalRecordingWriteStrategy$1.write(GlobalRecordingWriteStrategy.java:9)
29-May-2015 12:53:08 	        at com.cenqua.clover.BaseCoverageRecorder.write(BaseCoverageRecorder.java:108)
29-May-2015 12:53:08 	        at com.cenqua.clover.FixedSizeCoverageRecorder.write(FixedSizeCoverageRecorder.java:56)
29-May-2015 12:53:08 	        at com.cenqua.clover.BaseCoverageRecorder.flush(BaseCoverageRecorder.java:302)
29-May-2015 12:53:08 	        at com.cenqua.clover.BaseCoverageRecorder.flush(BaseCoverageRecorder.java:271)
29-May-2015 12:53:08 	        at com.cenqua.clover.BaseCoverageRecorder$CloverFlushThread.run(BaseCoverageRecorder.java:155)
29-May-2015 12:55:48 	ERROR: java.lang.OutOfMemoryError flushing coverage for recorder /media/ephemeral0/bamboo-working-dir/BAM-CLOVER344-UT/components/bamboo-core/target/clover/clover.dbdozy2b_ia9lwcia: Java heap space
29-May-2015 12:55:48 	Exception in thread ""CloverFlushThread"" java.lang.OutOfMemoryError: Java heap space
29-May-2015 12:56:03 	ERROR: java.lang.OutOfMemoryError flushing coverage for recorder /media/ephemeral0/bamboo-working-dir/BAM-CLOVER344-UT/components/bamboo-api/target/clover/clover.dbjcsfjm_ia9lwcij: Java heap space
29-May-2015 12:56:03 	Exception in thread ""CloverFlushThread"" java.lang.OutOfMemoryError: Java heap space
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxsg6v:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxsnxb:",9223372036854775807,,,,,,,,,,,"1|hxsg73:",9223372036854775807,298684800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkw7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,2.0,9223372036854775807,,"1|hxsg6f:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Generated sources and forked instrumentation,CLOV-1731,426030,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,59be85ca750f,59be85ca750f,04/May/2015 9:06 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,4.0.4,,,,,long term roadmap,,,Maven plugin,,,,,,,0,,,,,,,,,"In our project, source gets generated through annotation processors (i.e ""transparently"" through maven-compiler-plugin).

I have seen a couple of bug reports regarding generated sources and Clover, but they all revolved around using the {{setup}} goal. I don't think that works in our case, since we want to run clover (incl. check) in ""normal"" builds.

If I leave {{includesAllSourceRoots}} set to false, the compiler re-generates the code, but claims the classes are duplicate (presumably because both {{target/generated-sources/annotations/}} and {{target/clover/generated-sources/annotations/}} are in the source roots.

If I set {{includesAllSourceRoots}} to true, I do see that the generated code gets instrumented (thus the .java source for these appear 3 times in {{target/}}), and the compiler still complains (it is not explicit about _where_ the duplicates are, but i assume the compiler then uses {{target/clover/src/}} (instrumented) and {{target/generated-sources/annotations/}} (generated before clover kicked in).

I'm sorry if this duplicating other issues, or if there is an existing solution for this. I have found anything.

I'll try to debug myself a bit further and see if I can come up with anything (maybe an IT), but I thought I'd report this, since you seem to be quite responsive here.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/May/2015 9:54 PM;59be85ca750f;CLOV-1731.zip;https://jira.atlassian.com/secure/attachment/160051/CLOV-1731.zip","07/May/2015 11:05 AM;59be85ca750f;clover-version-in-ITs.patch;https://jira.atlassian.com/secure/attachment/160438/clover-version-in-ITs.patch","11/May/2015 1:13 PM;mparfianowicz;verify_includeAllSourceRoots_false;https://jira.atlassian.com/secure/attachment/160970/verify_includeAllSourceRoots_false","11/May/2015 1:13 PM;mparfianowicz;verify_includeAllSourceRoots_true;https://jira.atlassian.com/secure/attachment/160971/verify_includeAllSourceRoots_true",,,,,,,,,,,,,true,,"1|hxratj:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-05-07 10:53:39.631,,,,,,,,,,,,,,,,,,,,,,,,"2|hxrj53:",9223372036854775807,,,,,,,,,,,"1|hxratr:",9223372036854775807,294710400,true,,,,,,,,,,59be85ca750f(gregory.joseph),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxu1cn:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxrat3:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"04/May/2015 9:54 PM;59be85ca750f;The key to reproducing (I'll attach an IT shortly) is to use maven-compiler-plugin 3.3 (presumably earlier versions too -- related to MCOMPILER-157 and associated issues).
You'll already see the problem by removing {{useIncrementalCompilation}} and just running {{mvn clean compile && mvn compile}} from the IT's folder.
Setting {{useIncrementalCompilation}} did the trick for our non-clovered build, but for some reason that doesn't seem to be enough when running Clover.;;;","04/May/2015 9:55 PM;59be85ca750f;Here's an IT that should show the problem. Unzip it in the root of the maven plugin repo and enable it with : 
{noformat}
diff -r 9e5770344457 pom.xml
--- a/pom.xml	Mon Apr 20 13:28:08 2015 +0200
+++ b/pom.xml	Mon May 04 23:55:11 2015 +0200
@@ -406,6 +406,7 @@
                                 <pomInclude>**/contexts/pom.xml</pomInclude>
                                 <pomInclude>**/fork-maven-plugin/pom.xml</pomInclude>
                                 <pomInclude>**/generated-sources/pom.xml</pomInclude>
+                                <pomInclude>**/generated-sources-with-instrument/pom.xml</pomInclude>
                                 <pomInclude>**/gmaven-plugin/pom.xml</pomInclude>
                                 <pomInclude>**/gmaven-plugin-no-java/pom.xml</pomInclude>
                                 <pomInclude>**/groovy-eclipse-plugin/pom.xml</pomInclude>
{noformat};;;","07/May/2015 10:53 AM;mparfianowicz;Hi Gregory, thanks a lot for reporting this bug. I'll have a look at it and see if there's any workaround available. ;;;","07/May/2015 11:10 AM;59be85ca750f;Hey Marek,

Here's another unrelated patch, which fixes clover and clover-maven-plugin versions for all ITs (I found they were all a bit inconsistent, and some were running with a slightly different version -- it also made it hard to run the ITs local since I dont have access to SNAPSHOTs of Clover core)

I found that setting the compiler's {{verbose}} flag helped debunking some of these issues in ITs, so you might want to enable that too.

As for a workaround, I locally did this: in {{com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter#redirectSourceDirectories(java.lang.String)}}, in the loop of source roots, simply always set {{needsRedirection}} to true. No IT broke after that, so I don't know if ITs are missing, or if indeed the code was really complex than it needed to be, or (more likely) if I'm missing something obvious.

Here's a patch that does exactly that and takes some obvious simplification steps:
{code}
diff -r 9e5770344457 src/main/java/com/atlassian/maven/plugin/clover/internal/instrumentation/AbstractInstrumenter.java
--- a/src/main/java/com/atlassian/maven/plugin/clover/internal/instrumentation/AbstractInstrumenter.java	Mon Apr 20 13:28:08 2015 +0200
+++ b/src/main/java/com/atlassian/maven/plugin/clover/internal/instrumentation/AbstractInstrumenter.java	Thu May 07 13:10:49 2015 +0200
@@ -134,21 +134,12 @@
 
         final CloverSourceScanner scanner = getSourceScanner();
         for (final String sourceRoot : sourceRoots) {
-            // if includeAllSourceRoots=true then all source roots will be redirected to the location of instrumented sources
-            // if includeAllSourceRoots=false then we don't redirect generated source roots
-            boolean needsRedirection = getConfiguration().isIncludesAllSourceRoots() ||
-                    !isGeneratedSourcesDirectory(sourceRoot);
+            // Always redirect (e.g. 'src/main/java' -> 'target/clover/src-instrumented') except Groovy sources:
+            // we don't instrument Groovy at source level, so the Clover's instrumented folder is empty; Groovy files will be instrumented
+            // during compilation on the AST level (e.g. 'src/main/groovy' -> 'src/main/groovy')
+            boolean needsRedirection = !scanner.isSourceRootForLanguage(sourceRoot, Language.Builtin.GROOVY);
 
-            // a) if it's a Java directory then use location of instrumented sources instead of the original source
-            // root (e.g. 'src/main/java' -> 'target/clover/src-instrumented')
-            // b) if it's a Groovy directory then don't change the location because we don't instrument Groovy on
-            // a source level, so the Clover's instrumented folder is empty; Groovy files will be instrumented
-            // during compilation on the AST level (e.g. 'src/main/groovy' -> 'src/main/groovy')
-            if (scanner.isSourceRootForLanguage(sourceRoot, Language.Builtin.GROOVY))  {
-                addCompileSourceRoot(sourceRoot);
-            } else {
-                addCompileSourceRoot(needsRedirection ? getSourceDirectory() : sourceRoot);
-            }
+            addCompileSourceRoot(needsRedirection ? getSourceDirectory() : sourceRoot);
         }
 
         getConfiguration().getLog().debug(""Clover "" + getSourceType() + "" source directories after change:"");
{code};;;","07/May/2015 11:24 AM;mparfianowicz;{quote}
 it also made it hard to run the ITs local since I dont have access to SNAPSHOTs of Clover core
{quote}

Snapshots are here: https://maven.atlassian.com/content/groups/public/com/atlassian/clover/clover/

;;;","07/May/2015 11:29 AM;59be85ca750f;ha, cool thanks for that, I'll add it to our Nexus; hope you still apply the patch though, allows controlling both versions from the main pom.xml rather than in each IT ;);;;","11/May/2015 12:49 PM;mparfianowicz;Hi Gregory,

I've been testing various scenarios and I've found as follows.

*1) Running annotation processor without Clover*

This works fine, of course. During compilation, the maven-compiler-plugin adds extra source root for annotations.

{noformat}
[DEBUG] Output directory: f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\classes
[DEBUG] Adding f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations to compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\main\java
[DEBUG] New compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\main\java
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations
{noformat}

*2) Running clover2:setup from a command line*

This works fine too, because Clover redirects source roots before the maven-compiler-plugin comes in. Thus the maven-compiler-plugin already ""sees"" target\clover\src-instrumented folder:

mvn clean clover2:setup

{noformat}
[DEBUG] Output directory: f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\classes
[DEBUG] Adding f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations to compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src-instrumented
[DEBUG] New compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src-instrumented     <<< INSTRUMENTED SOURCES
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations  
{noformat}

One small problem here is that you will not have target\generated-sources\annotations instrumented by Clover. But this is not a huge problem in my opinion, as measuring code coverage for generated sources is usually obsolete. 

*3) Running clover2:instrument from a command line*

This works fine too. Similarly as for clover2:setup, Clover will redirect source roots, although into a different location.

mvn clean clover2:instrument

{noformat}
[DEBUG] Output directory: f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\classes
[DEBUG] Adding f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\generated-sources\annotations to compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src
[DEBUG] New compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src     <<< INSTRUMENTED SOURCES
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\generated-sources\annotations
{noformat}

The target\clover\generated-sources\annotations will also not be instrumented by Clover.


*4) Running clover2:instrument as a goal bound to a life cycle phase*

This is when you declare clover2:instrument as a goal in <executions> section.

mvn clean verify (+ clover2:instrument in pom)

{noformat}
[DEBUG] Output directory: F:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\classes
[DEBUG] Adding F:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\generated-sources\annotations to compile source roots:
  F:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src
  F:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations
[DEBUG] New compile source roots:
  F:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src
  F:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations
  F:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\generated-sources\annotations
{noformat}

This case does not work, unfortunately. Neither includesAllSourceRoots=true nor includesAllSourceRoots=false can help here. I'll explain it in more details in next comment. 

Cheers
Marek;;;","11/May/2015 1:02 PM;mparfianowicz;*ad 4) includeAllSourceRoots=false*

In this case, the maven-compiler-plugin adds 'target\generated-sources\annotations' directory to a list of source roots and writes DummyFactory.java into this folder. 

The maven-clover2-plugin sees this additional source root, but it does not redirect it into a different location (because the includeAllSourceRoots is set to false). 

Next the maven-compiler-plugin runs again (in a forked build cycle), reads Dummy.java from the 'target\clover\src' and writes the DummyFactory.java into 'target\clover\generated-sources\annotations', adding it as an additional source root. 

As a consequence, javac finds both 'target\generated-sources\annotations\DummyFactory.java' and 'target\clover\generated-sources\annotations\DummyFactory.java' and fails.


{noformat}
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ maven-clover2-plugin-sample-generated-sources-and-instrument ---
...
[DEBUG] Adding f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations to compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\main\java
[DEBUG] New compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\main\java
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations
...
[INFO] --- maven-clover2-plugin:4.0.4:instrumentInternal (main) @ maven-clover2-plugin-sample-generated-sources-and-instrument ---
...
[DEBUG] Clover main source directories before change:
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\main\java]
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations]
[DEBUG] Clover main source directories after change:
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src]
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations]
[DEBUG] Clover test source directories before change:
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\test\java]
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-test-sources\test-annotations]
[DEBUG] Clover test source directories after change:
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src-test]
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-test-sources\test-annotations]
...
[DEBUG] Adding f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\generated-sources\annotations to compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations
[DEBUG] New compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\generated-sources\annotations
...
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /f:/Work/support/clov-1731-generated-sources/maven-clover2-plugin-hg/src/it/generated-sources-with-instrument/target/clover/generated-sources/annotations/com/atlassian/maven/plugin/clover/samples/generated_and_instrument/DummyFactory.java:[6,14] duplicate class: com.atlassian.maven.plugin.clover.samples.generated_and_instrument.DummyFactory
{noformat}


;;;","11/May/2015 1:12 PM;mparfianowicz;*ad 4) includeAllSourceRoots=true*

In this case, the maven-compiler-plugin adds the 'target\generated-sources\annotations' directory to a list of source roots and writes DummyFactory.java into this folder.

Next, the maven-clover2-plugin sees this additional source root, instruments files located in it and redirects to the 'target\clover\src'  (i.e. both 'src\main\java' and 'target\generated-sources\annotations' are redirected to 'target\clover\src').  

Next, the maven-compiler-plugin runs again, adds new source root (target\clover\generated-sources\annotations) and writes new DummyFactory.java. 

Thus, compilation fails because javac sees two files:
 * target\clover\src\...\DummyFactory.java  (instrumented by Clover)
 * target\clover\generated-sources\annotations\...\DummyFactory.java  (not instrumented)


{noformat}
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ maven-clover2-plugin-sample-generated-sources-and-instrument ---
...
[DEBUG] Adding f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations to compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\main\java
[DEBUG] New compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\main\java
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations
...
[INFO] --- maven-clover2-plugin:4.0.4:instrumentInternal (main) @ maven-clover2-plugin-sample-generated-sources-and-instrument ---
...
[DEBUG] Processed 'f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations\com\atlassian\maven\plugin\clover\samples\generated_and_instrument\DummyFactory.java' to 'f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src\com\atlassian\maven\plugin\clover\samples\generated_and_instrument\DummyFactory.java'   <<<< CLOVER INSTRUMENTS GENERATED FILE
[DEBUG] Processed 'f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\main\java\com\atlassian\maven\plugin\clover\samples\generated_and_instrument\Dummy.java' to 'f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src\com\atlassian\maven\plugin\clover\samples\generated_and_instrument\Dummy.java'
[DEBUG] Processed 'f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\main\java\com\atlassian\maven\plugin\clover\samples\generated_and_instrument\Simple.java' to 'f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src\com\atlassian\maven\plugin\clover\samples\generated_and_instrument\Simple.java'
...
[DEBUG] Clover main source directories before change:
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\main\java]
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-sources\annotations]
[DEBUG] Clover main source directories after change:
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src]
[DEBUG] Clover test source directories before change:
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\src\test\java]
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\generated-test-sources\test-annotations]
[DEBUG] Clover test source directories after change:
[DEBUG] [Clover]  source root [f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src-test]
...
[INFO] --- maven-compiler-plugin:3.3:compile (default-compile) @ maven-clover2-plugin-sample-generated-sources-and-instrument ---
...
[DEBUG] Adding f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\generated-sources\annotations to compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src
[DEBUG] New compile source roots:
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\src
  f:\Work\support\clov-1731-generated-sources\maven-clover2-plugin-hg\src\it\generated-sources-with-instrument\target\clover\generated-sources\annotations
...
[ERROR] /f:/Work/support/clov-1731-generated-sources/maven-clover2-plugin-hg/src/it/generated-sources-with-instrument/target/clover/generated-sources/annotations/com/atlassian/maven/plugin/clover/samples/generated_and_instrument/DummyFactory.java:[6,14] duplicate class: com.atlassian.maven.plugin.clover.samples.generated_and_instrument.DummyFactory
{noformat}

;;;","11/May/2015 1:26 PM;mparfianowicz;{quote}
... in the loop of source roots, simply always set needsRedirection to true. No IT broke after that, so I don't know if ITs are missing, or if indeed the code was really complex than it needed to be, or (more likely) if I'm missing something obvious. Here's a patch that does exactly that and takes some obvious simplification steps:
{quote}

Thanks for a hint and a code snippet. The most probably IT are missing some test cases and this is a reason why your change seemed to be OK. 

However, logic is a little bit more complex: 
 * the includeAllSourceRoots flag is used to decide whether we want to have generated sources instrumented by Clover or not; in most cases users don't want to see generated classes in coverage reports as they just generate unnecessary ""noise""
 * the ""scanner.isSourceRootForLanguage(sourceRoot, Language.Builtin.GROOVY)"" is a workaround for the Groovy plugin, which contains 'src/main/groovy' and 'src/test/groovy' locations hardcoded - which means that changing source directories does not have any effect on the Groovy plugin; for this reason Clover must keep an original source root
 * note that it's also possible to have more source roots (than standard src/main|test/java|groovy), which do not contain generated sources (added by the maven-build-helper-plugin, for instance); this also must be taken into account
;;;","11/May/2015 1:33 PM;mparfianowicz;Summarizing, as a workaround you can:
 * use clover2:setup from a command line; possibly with test/verify goals to avoid installation of instrumented JARs into ~/m2
 * use clover2:instrument from a command line

I hope that they will be sufficient for you. 

I will keep this bug report open, but honestly speaking I don't see it to be a high-priority one. Thus the most probably it won't be fixed it in the nearest future. ;;;","11/May/2015 2:19 PM;59be85ca750f;Invoking the goals ""manually"" isn't really satisfying for us, since what we want is check coverage on CI and releases.

bq. the includeAllSourceRoots flag is used to decide whether we want to have generated sources instrumented by Clover or not; in most cases users don't want to see generated classes in coverage reports as they just generate unnecessary ""noise""

Agreed, and I should have checked, but I assumed it was _also_ used somewhere else than in the code that decides whether or not we should ""redirect"" (i.e you could always ""redirect"" but still filter our the list of filters that are processed by Clover);;;","11/May/2015 9:10 PM;mparfianowicz;{quote}
Invoking the goals ""manually"" isn't really satisfying for us
{quote}

OK. In such case, there is a chance that the following combination:
* includeAllSourceRoots=true   (to redirect a target\generated-sources\annotations directory to the target\clover\src in order to get rid of one of the 'annotations' source roots)
* excludes=**/*Factory.java    (to not instrument generated sources which were created in main build cycle because they will be created again in a forked one)
* copyExcludedFiles=false      (to not copy generated sources to target\clover\src as they will be re-generated again in the target\clover\generated-sources\annotations)

will do the trick. I tested it on your code sample and it worked. 

However, please keep in mind that:
 * <excludes> are defined for generated sources only, because we know that they will be re-generated again in a forked build cycle; do not define too much in the <excludes> when the <copyExcludedFiles> is set to false, otherwise you may have a compilation error due to missing source files in a source path
 * I didn't check how the copyExcludedFiles=false will affect non-Java files (such as resource files, stored in src/main|test/java)


Cheers
Marek;;;","11/May/2015 9:17 PM;mparfianowicz;{quote}
Agreed, and I should have checked, but I assumed it was also used somewhere else than in the code that decides whether or not we should ""redirect"" (i.e you could always ""redirect"" but still filter our the list of filters that are processed by Clover)
{quote}

Well, yes, there are two options to manage it:
 * <includeAllSourceRoots> to decide whether generated source directories shall be in scope of instrumentation
 * <includes> / <excludes> to define file-based patterns

Please keep in mind, however, that <includes>/<excludes> contain path patterns, which are being resolved against source roots. Which means that in case when you have complex naming conventions and it may not be easy to separate regular and generated code using package/class name patterns. For this reason exclusion based on source roots may be necessary. ;;;","11/May/2015 9:19 PM;mparfianowicz;Please do not hesitate to ask if you have any questions. 

Cheers
Marek;;;","15/Jul/2015 9:55 AM;59be85ca750f;Thanks for the steady follow-up as always, Marek. I'll keep you updated if we find something else or bump into other issues, but thw workaround works for us for now.;;;",,,,,,,,,,,
Repository pollution protection reports a custom classifier under Maven 2.2.x,CLOV-1682,421006,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,20/Apr/2015 9:12 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,4.0.4,,,,,someday,,,Maven plugin,,,,,,,0,,,,,,,,,"*Problem:*

Probably bug in Maven, needs further investigation. 

Running ""clean clover2:instrument"" on a simple project (no additional plugins) with repository pollution protection enabled causes a build failure.

{noformat}
maven-clover2-plugin-hg\src\it\pollutionProtection>mvn clean clover2:instrument  -Dmaven.clover.repositoryPollutionProtection=true
[INFO] Scanning for projects...
[INFO] snapshot com.atlassian.maven.plugins:maven-clover2-plugin:4.0.4-SNAPSHOT: checking for updates from atlassian-internal
[INFO] ------------------------------------------------------------------------
[INFO] Building Unnamed - com.atlassian.maven.plugins.sample:clover-pollution-protection:jar:1.0-SNAPSHOT
[INFO]    task-segment: [clean, clover2:instrument]
[INFO] ------------------------------------------------------------------------
[INFO] [clean:clean {execution: default-clean}]
[INFO] Deleting directory f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target
[INFO] Preparing clover2:instrument
[INFO] snapshot com.atlassian.clover:clover:4.0.4-SNAPSHOT: checking for updates from atlassian-internal
[INFO] [clover2:instrumentInternal {execution: default-instrumentInternal}]
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Clover's repository pollution protection is enabled. Your build produces an artifact (com.atlassian.maven.plugins.sample:clover-pollution-protection:jar:tests:1.0-SNAPSHOT) with a custom classi
fier. As Maven does not support multiple classifiers for an artifact, appending second 'clover' classifier may not be handled correctly. You can:
 - remove a custom classifier or
 - configure Clover to not append the '-clover' classifier
to fix it. You can also disable pollution protection (-Dmaven.clover.repositoryPollutionProtection=false) if you know that it doesn't affect your build.
{noformat}

Adding extra logging showed that it fails because a custom 'tests' classifier is used during a build - see XXXXXXXXXX below. 

{noformat}
maven-clover2-plugin-hg\src\it\pollutionProtection>mvn clean clover2:instrument  
[INFO] Scanning for projects...
[INFO] snapshot com.atlassian.maven.plugins:maven-clover2-plugin:4.0.4-SNAPSHOT: checking for updates from atlassian-internal
[INFO] ------------------------------------------------------------------------
[INFO] Building Unnamed - com.atlassian.maven.plugins.sample:clover-pollution-protection:jar:1.0-SNAPSHOT
[INFO]    task-segment: [clean, clover2:instrument]
[INFO] ------------------------------------------------------------------------
[INFO] [clean:clean {execution: default-clean}]
[INFO] Preparing clover2:instrument
[INFO] snapshot com.atlassian.clover:clover:4.0.4-SNAPSHOT: checking for updates from atlassian-internal
[INFO] [clover2:instrumentInternal {execution: default-instrumentInternal}]
[INFO] XXXXXXXXXX CLASSIFIER= com.atlassian.maven.plugins.sample:clover-pollution-protection:jar:tests:1.0-SNAPSHOT
[INFO] Clover Version 4.0.4, built on April 15 2015 (build-dev)
[INFO] Loaded from: d:\Data\.m2\repository\com\atlassian\clover\clover\4.0.4-SNAPSHOT\clover-4.0.4-SNAPSHOT.jar
[INFO] Clover: Developer License registered to Atlassian.
[INFO] Creating new database at 'f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\clover\clover.db'.
[INFO] Processing files at 1.8 source level.
[INFO] Clover all over. Instrumented 1 file (1 package).
[INFO] Elapsed time = 0,077 secs. (12,987 files/sec, 64,935 srclines/sec)
[INFO] Clover Version 4.0.4, built on April 15 2015 (build-dev)
[INFO] Loaded from: d:\Data\.m2\repository\com\atlassian\clover\clover\4.0.4-SNAPSHOT\clover-4.0.4-SNAPSHOT.jar
[INFO] Clover: Developer License registered to Atlassian.
[INFO] Updating existing database at 'f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\clover\clover.db'.
[INFO] Processing files at 1.8 source level.
[INFO] Clover all over. Instrumented 1 file (1 package).
[INFO] 1 test method detected.
[INFO] Elapsed time = 0,016 secs. (62,5 files/sec, 562,5 srclines/sec)
[INFO] [resources:resources {execution: default-resources}]
[WARNING] Using platform encoding (Cp1250 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\src\main\resources
[INFO] Copying 1 resource
[INFO] [compiler:compile {execution: default-compile}]
[INFO] Compiling 1 source file to f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\clover\classes
[INFO] [resources:testResources {execution: default-testResources}]
[WARNING] Using platform encoding (Cp1250 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\src\test\resources
[INFO] [compiler:testCompile {execution: default-testCompile}]
[INFO] Compiling 1 source file to f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\clover\test-classes
[INFO] [surefire:test {execution: default-test}]
[INFO] Surefire report directory: f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\clover\surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running ATest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.168 sec

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] [jar:jar {execution: default-jar}]
[INFO] Building jar: f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\clover\clover-pollution-protection-1.0-SNAPSHOT-clover.jar
[INFO] [install:install {execution: default-install}]
[INFO] Installing f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\clover\clover-pollution-protection-1.0-SNAPSHOT-clover.jar to d:\Data\.m2\repository\com\atlassian\maven\plugins\sam
ple\clover-pollution-protection\1.0-SNAPSHOT\clover-pollution-protection-1.0-SNAPSHOT-clover.jar
[INFO] [clover2:instrument {execution: default-cli}]
[INFO] XXXXXXXXXX CLASSIFIER= com.atlassian.maven.plugins.sample:clover-pollution-protection:jar:1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
{noformat}

What's interesting, running the same test but with clover2:setup not only does not fails a build (because repository pollution protection does not fail due to custom classifier if no 'clover' is used), but the artifact produced does NOT have the 'tests' classifier:

{noformat}
maven-clover2-plugin-hg\src\it\pollutionProtection>mvn clean clover2:setup verify 
[INFO] Scanning for projects...
[INFO] snapshot com.atlassian.maven.plugins:maven-clover2-plugin:4.0.4-SNAPSHOT: checking for updates from atlassian-internal
[INFO] ------------------------------------------------------------------------
[INFO] Building Unnamed - com.atlassian.maven.plugins.sample:clover-pollution-protection:jar:1.0-SNAPSHOT
[INFO]    task-segment: [clean, clover2:setup, verify]
[INFO] ------------------------------------------------------------------------
[INFO] [clean:clean {execution: default-clean}]
[INFO] Deleting directory f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target
[INFO] snapshot com.atlassian.clover:clover:4.0.4-SNAPSHOT: checking for updates from atlassian-internal
[INFO] [clover2:setup {execution: default-cli}]
[INFO] XXXXXXXXXX CLASSIFIER= com.atlassian.maven.plugins.sample:clover-pollution-protection:jar:1.0-SNAPSHOT
[INFO] Clover Version 4.0.4, built on April 15 2015 (build-dev)
[INFO] Loaded from: d:\Data\.m2\repository\com\atlassian\clover\clover\4.0.4-SNAPSHOT\clover-4.0.4-SNAPSHOT.jar
[INFO] Clover: Developer License registered to Atlassian.
[INFO] Creating new database at 'f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\clover\clover.db'.
[INFO] Processing files at 1.8 source level.
[INFO] Clover all over. Instrumented 1 file (1 package).
[INFO] Elapsed time = 0,057 secs. (17,544 files/sec, 87,719 srclines/sec)
[INFO] Clover Version 4.0.4, built on April 15 2015 (build-dev)
[INFO] Loaded from: d:\Data\.m2\repository\com\atlassian\clover\clover\4.0.4-SNAPSHOT\clover-4.0.4-SNAPSHOT.jar
[INFO] Clover: Developer License registered to Atlassian.
[INFO] Updating existing database at 'f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\clover\clover.db'.
[INFO] Processing files at 1.8 source level.
[INFO] Clover all over. Instrumented 1 file (1 package).
[INFO] 1 test method detected.
[INFO] Elapsed time = 0,011 secs. (90,909 files/sec, 818,182 srclines/sec)
[INFO] [resources:resources {execution: default-resources}]
[WARNING] Using platform encoding (Cp1250 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\src\main\resources
[INFO] Copying 1 resource
[INFO] [compiler:compile {execution: default-compile}]
[INFO] Compiling 1 source file to f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\classes
[INFO] [resources:testResources {execution: default-testResources}]
[WARNING] Using platform encoding (Cp1250 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\src\test\resources
[INFO] [compiler:testCompile {execution: default-testCompile}]
[INFO] Compiling 1 source file to f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\test-classes
[INFO] [surefire:test {execution: default-test}]
[INFO] Surefire report directory: f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running ATest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.155 sec

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO] [jar:jar {execution: default-jar}]
[INFO] Building jar: f:\Work\maven-clover2-plugin-hg\src\it\pollutionProtection\target\clover-pollution-protection-1.0-SNAPSHOT.jar
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESSFUL
[INFO] ------------------------------------------------------------------------
{noformat}


It affects Maven 2.2.x. Does not occur in Maven 2.1.x or Maven 3.x. 

Summarizing, it seems that forking a parallel build life cycle causes that an artefact's classifier changes from empty to 'tests':

* with clover2:instrument:

{noformat}
[INFO] [clover2:instrumentInternal {execution: default-instrumentInternal}]
[INFO] XXXXXXXXXX CLASSIFIER= com.atlassian.maven.plugins.sample:clover-pollution-protection:jar:tests:1.0-SNAPSHOT
...
[INFO] [clover2:instrument {execution: default-cli}]
[INFO] XXXXXXXXXX CLASSIFIER= com.atlassian.maven.plugins.sample:clover-pollution-protection:jar:1.0-SNAPSHOT
{noformat}

* with clover2:setup:

{noformat}
[INFO] [clover2:setup {execution: default-cli}]
[INFO] XXXXXXXXXX CLASSIFIER= com.atlassian.maven.plugins.sample:clover-pollution-protection:jar:1.0-SNAPSHOT
{noformat}


*Workaround:*
 * use clover2:setup instead of clover2:instrument to avoid forking life cycle or
 * use different Maven version or
 * disable the protection
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxqkyv:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxqtiv:",9223372036854775807,,,,,,,,,,,"1|hxqkz3:",9223372036854775807,302140800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxtdtz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,3.0,9223372036854775807,,"1|hxqkyf:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MavenIntegrator shall not add arguments if they are already present in original command,CLOV-1679,419577,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,glewandowski,mparfianowicz,mparfianowicz,15/Apr/2015 8:19 AM,25/May/2015 10:11 AM,15/Nov/2024 6:09 PM,25/May/2015 10:11 AM,,,,,,4.0.5,,,Maven plugin,,,,,,,0,,,,,,,,,"This applies to:
 * build phases 
 * Clover's properties

Current problems:

1) The ""clean"" phase can be doubled

For example if original command has:
{noformat}
mvn clean test
{noformat}

it becomes:

{noformat}
mvn clean clean clover2:setup test clover2:aggregate clover2:clover ...
{noformat}

2) User cannot override default values of Clover properties

For example if a property is already defined:

{noformat}
mvn test -Dmaven.clover.licenseLocation=/my/clover.license
{noformat}

MavenIntegrator adds a second one with it's own value:

{noformat}
mvn test -Dmaven.clover.licenseLocation=/my/clover.license -Dmaven.clover.licenseLocation=/tmp/clover.license
{noformat}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxqdwn:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxqmjr:",9223372036854775807,,,,,,,,,,,"1|hxqdwv:",9223372036854775807,302572800,true,,,,,,,,,,glewandowski(glewandowski),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxpohz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,1.0,9223372036854775807,,"1|hxqdw7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover Report Sorting on Percentage Columns Not Sorting Correctly,CLOV-1676,417359,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,f7da7e640ab2,f7da7e640ab2,07/Apr/2015 4:52 PM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,4.0.0,,,,,long term roadmap,,,Reporting,,,,,,,0,adg,,,,,,,,"See attached screenshot.  

In this case, sorting ""%Total Coverage"" in decending  produces:

100, 90.9, 89.4, 83.4, 69.9, 27.8, 98.7, 98.3, 89.9",Grails Clover Plugin 4.0.0 Windows 7 64Bit,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1508,,,,,,,,"07/Apr/2015 4:51 PM;f7da7e640ab2;CloverReportSortIssue.png;https://jira.atlassian.com/secure/attachment/156864/CloverReportSortIssue.png",,,,,,,,,,,,,,,,true,,"1|hxq0l3:",9223372036854775807,,,,,9223372036854775807,,,,,,1,,,,,2015-04-07 20:34:21.58,,,,,,,,,,,,,,,,,,,,,,,,"2|hxq9d3:",9223372036854775807,,,,,,,,,,,"1|hxq0lb:",9223372036854775807,303177600,true,,,,,,,,,,mparfianowicz(mparfianowicz),f7da7e640ab2(mmckenzie1),,,,,,,,,,,,,,,,,,"1|hxsv13:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxq0kn:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,5,,,,,,,"07/Apr/2015 8:34 PM;mparfianowicz;Hi Mitch, thanks a lot for reporting this bug. I suspect that it may be a problem in the AUI library. 

BTW: there is an upgrade of the AUI planned in future (CLOV-1508); I hope it will fix this bug. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Clover installs instrumented-jars in local Maven repo, in place of non-instrument ones",CLOV-1668,410073,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,59be85ca750f,59be85ca750f,13/Mar/2015 1:25 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,4.0.2,,,,,n/a,,,Maven plugin,,,,,,,0,,,,,,,,,"I'm not sure if this has been reintroduced or something else is wrong, since the CLOVKB claims it is not the case: https://confluence.atlassian.com/display/CLOVERKB/Maven+is+deploying+instrumented+jars
(I _am_ using the {{instrument}} goal - followed by {{log}} and {{check}})
In the below, you can see that, e.g., {{target/clover/magnolia-module-diff-1.7-SNAPSHOT-clover-tests.jar}} gets copied to {{.../magnolia-module-diff-1.7-SNAPSHOT-tests.jar}} (without {{-clover}} qualifier!)

This seems to happen for ~all artifacts except the ""main"" jar. (test jar, assemblies, etc..).

In this case, the situation is saved by the ""real"" install plugin that gets executed later and overwrites those wrong artifacts. However, if we use the (newish) {{installAtEnd}} feature of the {{maven-install-plugin}}, then this doesn't happen, and we end up with instrumented jars in place of the non-instrumented ones, which has tons of ugly consequences. See for yourself with the snippet:{code:xml}
  <build>
    <pluginManagement>
      <plugins>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-install-plugin</artifactId>
          <configuration>
            <installAtEnd>false</installAtEnd>
          </configuration>
        </plugin>
      </plugins>
    </pluginManagement>
  </build>
{code}

Why is Clover installing anything, anyway ? Shouldn't it just _attach_ the instrumented jars (and only those) to the build, and let Maven do the rest ?

{noformat}
[INFO] --- maven-clover2-plugin:4.0.2:check (instrument-and-check) @ magnolia-module-diff ---
[INFO] 
[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ magnolia-module-diff ---
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/target/clover/magnolia-module-diff-1.7-SNAPSHOT-clover.jar to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT-clover.jar
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/pom.xml to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT.pom
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/target/magnolia-module-diff-1.7-SNAPSHOT-bundle.zip to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT-bundle.zip
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/target/magnolia-module-diff-1.7-SNAPSHOT-bundle.tar.gz to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT-bundle.tar.gz
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/target/magnolia-module-diff-1.7-SNAPSHOT-tests.jar to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT-tests.jar
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/target/clover/magnolia-module-diff-1.7-SNAPSHOT-clover-bundle.zip to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT-bundle.zip
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/target/clover/magnolia-module-diff-1.7-SNAPSHOT-clover-bundle.tar.gz to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT-bundle.tar.gz
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/target/clover/magnolia-module-diff-1.7-SNAPSHOT-clover-tests.jar to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT-tests.jar
[INFO] 
[INFO] <<< maven-clover2-plugin:4.0.2:instrument (instrument-and-check) < [clover]install @ magnolia-module-diff <<<
[INFO] 
[INFO] --- maven-clover2-plugin:4.0.2:instrument (instrument-and-check) @ magnolia-module-diff ---
[INFO] 
[INFO] --- maven-clover2-plugin:4.0.2:log (instrument-and-check) @ magnolia-module-diff ---
[INFO] Clover Version 4.0.2, built on October 13 2014 (build-943)

[...]

[INFO] Coverage check PASSED
[INFO] 
[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ magnolia-module-diff ---
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/target/magnolia-module-diff-1.7-SNAPSHOT.jar to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT.jar
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/pom.xml to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT.pom
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/target/magnolia-module-diff-1.7-SNAPSHOT-bundle.zip to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT-bundle.zip
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/target/magnolia-module-diff-1.7-SNAPSHOT-bundle.tar.gz to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT-bundle.tar.gz
[INFO] Installing /Users/gjoseph/Dev/magnolia/git/enterprise/diff/target/magnolia-module-diff-1.7-SNAPSHOT-tests.jar to /Users/gjoseph/.m2/repository/info/magnolia/magnolia-module-diff/1.7-SNAPSHOT/magnolia-module-diff-1.7-SNAPSHOT-tests.jar
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------

{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1632,,,,,,,,"25/Jun/2015 9:47 AM;mparfianowicz;clov-1668-test-case.zip;https://jira.atlassian.com/secure/attachment/165396/clov-1668-test-case.zip","13/Mar/2015 10:32 PM;mparfianowicz;tests-classifier.png;https://jira.atlassian.com/secure/attachment/154516/tests-classifier.png",,,,,,,,,,,,,,,true,,"1|hxovzr:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-03-13 20:51:12.099,,,,,,,,,,,,,,,,,,,,,,,,"2|hxp56v:",9223372036854775807,,,,,,,,,,,"1|hxovzz:",9223372036854775807,300931200,true,,,,,,,,,,59be85ca750f(gregory.joseph),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxrukn:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 2 - Stash,,,,,1.0,9223372036854775807,,"1|hxovzb:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"13/Mar/2015 1:56 PM;59be85ca750f;I was going to ask if you guys had an archive of the old Atlassian forum, because we had a similar issue in the past. In fact it's reported at: https://jira.magnolia-cms.com/browse/BUILD-23 -- which links to http://forums.atlassian.com/thread.jspa?messageID=257322053 -- perhaps you have a copy of what that thread was saying ?

That said, I notice that my own issue says I should use {{instrument-test}} instead of {{instrument}}, which I suspect would fix my issue (again!?). I'll need to go through the history of our parent pom to figure out if/why we changed it back. It would still possibly be useful to have the ability to install and even deploy the instrument jars, if it was done properly.;;;","13/Mar/2015 8:51 PM;mparfianowicz;Hi Gregory, thank you very much for reporting this problem. I'm analyzing it. ;;;","13/Mar/2015 10:30 PM;mparfianowicz;Hi Gregory,

I have reproduced the problem using the 'maven-jar-plugin' and the 'test-jar' goal. Sample output:

{noformat}
[INFO] --- maven-jar-plugin:2.6:jar (default-jar) @ moneybags ---
[INFO] Building jar: f:\Work\development\clov-1668-install\target\clover\moneybags-1.0-SNAPSHOT-clover.jar
[INFO]
[INFO] --- maven-jar-plugin:2.6:test-jar (default) @ moneybags ---
[INFO] Building jar: f:\Work\development\clov-1668-install\target\clover\moneybags-1.0-SNAPSHOT-clover-tests.jar
[INFO]
[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ moneybags ---
[INFO] Installing f:\Work\development\clov-1668-install\target\clover\moneybags-1.0-SNAPSHOT-clover.jar to C:\Users\Mare
k\.m2\repository\com\cenqua\samples\money\moneybags\1.0-SNAPSHOT\moneybags-1.0-SNAPSHOT-clover.jar
[INFO] Installing f:\Work\development\clov-1668-install\pom.xml to C:\Users\Marek\.m2\repository\com\cenqua\samples\mone
y\moneybags\1.0-SNAPSHOT\moneybags-1.0-SNAPSHOT.pom
[INFO] Installing f:\Work\development\clov-1668-install\target\clover\moneybags-1.0-SNAPSHOT-clover-tests.jar to C:\User
s\Marek\.m2\repository\com\cenqua\samples\money\moneybags\1.0-SNAPSHOT\moneybags-1.0-SNAPSHOT-tests.jar <<<<<
[INFO]
{noformat}

As you can see, the ""test-jar"" goal created a moneybags-1.0-SNAPSHOT-clover-tests.jar file, however debugger shows that this artifact has been attached with a different classifier in Maven reactor:

!tests-classifier.png!

 * file name on disk was created by concatenating ""-tests"" suffix to base file name, thus we have a correct ""...-clover-tests.jar"",
 * however, artifact name in maven reactor has ""tests"" only, which is not OK

As a consequence, in the next step, the maven-install-plugin copies ""...-clover-tests.jar"" to ""~/.m2/...-tests.jar"".

I'm afraid that this is not a bug in Clover, but a general problem with Maven architecture, which does not support multiple classifiers for an artifact. See the following issues:
* http://jira.codehaus.org/browse/MNG-2650
* http://jira.codehaus.org/browse/MNG-2596
* http://jira.codehaus.org/browse/MNG-2649

They have been closed as 'incomplete', so I do not expect that they will be implemented in foreseeable future. 

;;;","13/Mar/2015 10:45 PM;mparfianowicz;{quote}
http://forums.atlassian.com/thread.jspa?messageID=257322053 – perhaps you have a copy of what that thread was saying ?
{quote}

I don't have a copy of this message, I'm afraid. BTW. Some parts of this forum can be read using the Web Archive service: [http://web.archive.org/web/*/forums.atlassian.com] (but I couldn't find this particular message)


{quote}
That said, I notice that my own issue says I should use instrument-test instead of instrument, which I suspect would fix my issue (again!?)
{quote}

Yes. You can use the 'instrument-test' goal - it will fork a parallel build life cycle and run it till the 'test' phase. Thus, it won't install any artifacts. 

Alternatively, you could use 'clover2:setup' with a separate location for .m2 local cache (i.e. which would keep instrumented artifacts only).

I'm not sure what do you mean by ""again"" - Clover's behavior did not change. I guess that you've switched from 'instrument-test' to 'instrument' at some point in time. Nevertheless, I will update maven-clover2-plugin site documentation as well as Clover site on confluence.atlassian.com to add warnings about these classifiers. 

;;;","13/Mar/2015 11:45 PM;mparfianowicz;Updated:
 * https://bitbucket.org/atlassian/maven-clover2-plugin/commits/94a1ed49e41a50cb4c2ba8e6f9397318618ead55
 * https://confluence.atlassian.com/display/CLOVER/Basic+usage;;;","14/Mar/2015 9:10 PM;mparfianowicz;Please let me know if there's anything else I could do for you.;;;","16/Mar/2015 10:25 AM;59be85ca750f;Hey Marek,

Thank you so much for the detailed response.

bq. I'm not sure what do you mean by ""again"" 
That was my own confusion: turns that we had been using {{instrument-test}} in the past, and for some reason switched back when upgrading to newer Clover versions (presumably by copy-pasting samples from doc, and not realizing we were changing that, or not realizing that made a difference)
For now, we'll get back to using the {{instrument-test}} goal; I don't think we ever needed instrument jars to be installed/deployed anyway.

bq. I'm afraid that this is not a bug in Clover, but a general problem with Maven architecture, which does not support multiple classifiers for an artifact.
I can understand your point, but at the same time, that still means the {{instrument}} goal is not usable safely. Good call on updating the docs, thanks.
Is that not something your plugin should be able to interfere with, though ? (I'd give it a shot, but it's not OSS, is it ?);;;","16/Mar/2015 10:43 AM;mparfianowicz;{quote}
Is that not something your plugin should be able to interfere with, though?
{quote}

I'd have to investigate it. *Theoretically* if I could hack into maven-jar-plugin and replace 'tests' qualifier by the 'clover-tests' during the forked build, it could solve the issue. However, my previous experiences with hacking other plugins shows that they are quite isolated by class loaders. 

{quote}
(I'd give it a shot, but it's not OSS, is it ?){quote}
{quote}

Maven-clover2-plugin is open sourced, based on the Apache 2.0 license. You can find source code here:
 * https://bitbucket.org/atlassian/maven-clover2-plugin

;;;","16/Mar/2015 10:46 AM;mparfianowicz;I'd like to lower priority of this bug from Critical to Major. Do you agree?;;;","16/Mar/2015 11:17 AM;59be85ca750f;Sure, thanks.;;;","16/Mar/2015 11:36 AM;59be85ca750f;Ha, I naively thought this could be fixed in {{com.atlassian.maven.plugin.clover.CloverInstrumentInternalMojo#redirectArtifact}}, but now I get what you were saying earlier.. other classifiers created by other plugins are not taken care of by this method (it even looks like we could blame it on those other plugins since they override Clover's classifier)

On a side note, do you have any clue why this doesn't work with {{installAtEnd}} (i.e the install happens during clover's forked process rather than at the end);;;","16/Mar/2015 12:01 PM;mparfianowicz;Indeed. This would require fixes/hacks in other plugins. Probably not only in the maven-jar-plugin only. Not every plugin has proper configuration options. 

For instance, jar:jar has the 'classifier' property:
 * [JarMojo.java|http://svn.apache.org/viewvc/maven/plugins/trunk/maven-jar-plugin/src/main/java/org/apache/maven/plugin/jar/JarMojo.java?view=markup] (line 52)

while the jar:test-jar has this hard-coded:
 * [TestJarMojo.java|http://svn.apache.org/viewvc/maven/plugins/trunk/maven-jar-plugin/src/main/java/org/apache/maven/plugin/jar/TestJarMojo.java?view=markup] (line 56)

;;;","16/Mar/2015 12:03 PM;mparfianowicz;{quote}On a side note, do you have any clue why this doesn't work with installAtEnd (i.e the install happens during clover's forked process rather than at the end).{quote}

I will analyze it and let you know.;;;","17/Mar/2015 11:43 AM;mparfianowicz;Indeed, installation happens for every forked build. And in my opinion this is a correct behaviour. In my opinion installAtEnd means ""install at the end of every build life cycle executed"" and not ""install at the end of the main build life cycle only"". ;;;","27/Mar/2015 9:54 PM;mparfianowicz;Update: I'm working on a CLOV-1632 issue, which will protect against installation / deployment of instrumented code. This issue will also check whether any artifact uses a custom classifier. This could be useful for you. ;;;","30/Mar/2015 9:41 AM;59be85ca750f;Cool - good news and thanks for the update ! I'll be watching the other issue :);;;","09/Apr/2015 12:52 PM;mparfianowicz;Update: the CLOV-1632 will not check for all possible cases in which a custom classifier could be used - it will check only if the main artifact has a custom classifier defined (which can happen if, for example, some plugin forks a build cycle and renames an artifact); it will not check if some plugin adds an additional artifact with a classifier (e.g. build-helper-maven-plugin attach-artifact, maven-antrun-plugin attachArtifact). 

It means that this CLOV-1632 may not cover your specific case in full extent - it will fail a build with 'install/deploy' is called, but not if maven-jar-plugin:test-jar is called. ;;;","04/May/2015 12:46 PM;59be85ca750f;Thanks - adding <repositoryPollutionProtection>true</repositoryPollutionProtection> right now, although I'm not sure it'll change anything for us, since we switched back from {{<goal>instrument</goal>}} to {{<goal>instrument-test</goal>}};;;",,,,,,,,,
Compiling Groovy code with Clover throws NPE,CLOV-1657,406954,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,03/Mar/2015 10:57 AM,21/Aug/2015 1:10 PM,15/Nov/2024 6:09 PM,03/Mar/2015 2:37 PM,,,,,,4.0.4,,,Groovy,,,,,,,0,,,,,,,,,"Clover fails to integrate with Groovyc task and throws NPE:

{noformat}
Clover failed to integrate with <groovyc/>
java.lang.NullPointerException
at com.atlassian.clover.ant.groovy.GroovycSupport.buildTestDetector(GroovycSupport.java:242)
at com.atlassian.clover.ant.groovy.GroovycSupport.taskStarted(GroovycSupport.java:141)
at org.apache.tools.ant.Project.fireTaskStarted(Project.java:2184)
at org.apache.tools.ant.Task.perform(Task.java:344)
at org.apache.tools.ant.Target.execute(Target.java:392)
at org.apache.tools.ant.Target.performTasks(Target.java:413)
at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)
...
{noformat}

*Cause:*

NPE is thrown when Clover cannot find it's AntInstrumentationConfig in project references in an Ant-based build. This can happen when a build calls <ant> or <antcall> tasks without {{inheritrefs=true}} - lack of this property causes that AntInstrumentationConfig is not passed to these calls.

*Workaround:*

Ensure that  {{inheritrefs=true}} is used. 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxoemv:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxoo2n:",9223372036854775807,,,,,,,,,,,"1|hxoen3:",9223372036854775807,306288000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxpoo7:",9223372036854775807,,,,com.atlassian.clover.ant.groovy.GroovycSupport.buildTestDetector\(GroovycSupport.java:\d+,,,,,,,,,,,,,,,,Sprint 2 - Stash,,,,,1.0,9223372036854775807,,"1|hxoemf:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Automatic Clover integration does not work for <groovyc> task,CLOV-1617,397675,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,09/Feb/2015 2:02 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,open-source,,,Ant Tasks,Groovy,,,,,,0,bamboo,,,,,,,,"*Problem:*

Automatic Clover integration in Bamboo does now work for Ant Tasks containing the <groovyc> task.

*Root cause:*

When automatic Clover integration is enabled in Bamboo, it uses Clover's AntIntegrationListener:

{noformat}
ant ... -lib clover.jar -listener com.atlassian.clover.ci.AntIntegrationListener
{noformat}

This listener listens to Ant's build events and intercepts Ant tasks such as:

<javac>, <java>, <javadoc>, <junit>

However, it does not intercept the <groovyc> one. 

Integration with <groovyc> task is performed by the <clover-setup> task, which calls:

{code:java}
GroovycSupport.ensureAddedTo(antProject);
{code}

Note that GroovycSupport implements Ant's BuildListener. However, it cannot be passed via command line, like this:

{noformat}
ant ... -lib clover.jar -listener com.atlassian.clover.ant.groovy.GroovycSupport
{noformat}

because the GroovycSupport does not have a default constructor. 

*Workaround:*

Call the <clover-setup> from an Ant script. For example, add the following target:

{code:xml}
<target name=""instrument"" if=""with.clover"">
        <!-- we assume that automatic integration is enabled, which adds the '-lib clover.jar' -->
        <taskdef name=""clover-setup"" classname=""com.atlassian.clover.ant.tasks.CloverSetupTask""/> <!-- from the clover.jar -->

        <!-- call clover-setup to intercept <groovyc> task -->
        <clover-setup/>

        <!-- This fake compilation is to cheat the automatic Clover integration, so that it won't display the
             ""Clover reports not being generated. No Clover instrumentation was done."" error message.
             We instrument java sources, but through the <groovyc> task; and we need to trick Clover so that it
             generates an HTML report at the end. -->
        <mkdir dir=""${target.classes}""/>
        <javac failonerror=""false"" srcdir=""${src.java}"" excludes=""**/*"" destdir=""${target.classes}""/>
</target>

<target name=""compile"" depends=""instrument"">
        <groovyc destdir=""${target.classes}"" classpathref=""build.classpath"" fork=""yes"">
            <javac source=""1.7"" target=""1.7"" debug=""on"" encoding=""UTF8"">
            </javac>
            <src path=""${src.java}""/>
            <src path=""${src.groovy}""/>
        </groovyc>
</target>
{code}

Clover's initialization will occur only if '-Dwith.clover=true' is set. Therefore, modify the Ant Task in Bamboo, for instance:

{noformat}
clean test -Dwith.clover=true
{noformat}

*Possible fixes:*

1) Add default constructor for GroovycSupport. Pass it as a second '-listener' to ant command in Bamboo.

2) Change the AntIntegrationListener so that it will intercept all <groovyc> tasks as well.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxn1qv:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxnbjr:",9223372036854775807,,,,,,,,,,,"1|hxn1r3:",9223372036854775807,308188800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkiv:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,5.0,9223372036854775807,,"1|hxn1qf:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error when closing Cloud Editor in Eclipse,CLOV-1614,394884,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,29/Jan/2015 10:54 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,someday,,,CEP Plugin,,,,,,,0,,,,,,,,,"Closing the ""Cloud Editor"" in Eclipse causes that sometimes an exception is thrown and reported in the Error Log:

{noformat}
Error disposing widget for : org.eclipse.e4.ui.model.application.ui.basic.impl.PartImpl Clover Coverage Cloud Report


java.lang.NullPointerException
	at org.eclipse.swt.custom.CTabFolderLayout.computeSize(CTabFolderLayout.java:39)
	at org.eclipse.swt.widgets.Composite.computeSize(Composite.java:234)
	at org.eclipse.swt.layout.GridData.computeSize(GridData.java:491)
	at org.eclipse.swt.layout.GridLayout.layout(GridLayout.java:221)
	at org.eclipse.swt.layout.GridLayout.layout(GridLayout.java:197)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1290)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1276)
	at org.eclipse.swt.widgets.Composite.layout(Composite.java:665)
	at org.eclipse.swt.custom.CTabFolder.runUpdate(CTabFolder.java:3755)
	at org.eclipse.swt.custom.CTabItem.getBounds(CTabItem.java:149)
	at org.eclipse.swt.custom.CTabFolder.onPaint(CTabFolder.java:1993)
	at org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:289)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4353)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1061)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1085)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1070)
	at org.eclipse.swt.widgets.Composite.WM_PAINT(Composite.java:1491)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:4667)
	at org.eclipse.swt.widgets.Display.windowProc(Display.java:5036)
	at org.eclipse.swt.internal.win32.OS.VtblCall(Native Method)
	at org.eclipse.swt.internal.ole.win32.IOleInPlaceObject.InPlaceDeactivate(IOleInPlaceObject.java:21)
{noformat}

and 

{noformat}
Unhandled event loop exception

java.lang.NullPointerException
	at org.eclipse.swt.custom.CTabFolderLayout.computeSize(CTabFolderLayout.java:39)
	at org.eclipse.swt.widgets.Composite.computeSize(Composite.java:234)
	at org.eclipse.swt.layout.GridData.computeSize(GridData.java:491)
	at org.eclipse.swt.layout.GridLayout.layout(GridLayout.java:221)
	at org.eclipse.swt.layout.GridLayout.layout(GridLayout.java:197)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1290)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1297)
	at org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1276)
	at org.eclipse.swt.widgets.Composite.setLayoutDeferred(Composite.java:1087)
	at org.eclipse.swt.widgets.Display.runDeferredLayouts(Display.java:4196)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3754)
	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1151)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1032)
	at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:148)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:636)
{noformat}


Apparently, it fails in the CTabFolderLayout.computeSize() method:

{code:java}
protected Point computeSize(Composite composite, int wHint, int hHint, boolean flushCache) {
    CTabFolder folder = (CTabFolder)composite;
    CTabFolderRenderer renderer = folder.renderer;
    ...
    tabW = Math.max(tabW, renderer.computeSize(width, 2, gc, -1, -1).x);
{code}

the 'renderer' is null. This renderer is being set in CTabFolder.init() method and set to null in the CTabFolder.onDispose() method. 

It *may* be related with the: 

CloudEditor.dispose() which calls removeCoverageChangeListener after the super.dispose()  so a refresh event may come in the meantinme

or

CloudEditor.createPages() which ""hacks"" the container layout by changing it from FillLayout to GridLayout.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxmnjj:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxmxhj:",9223372036854775807,,,,,,,,,,,"1|hxmnjr:",9223372036854775807,309139200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxpslj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,3.0,9223372036854775807,,"1|hxmnj3:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to open generated reports in Eclipse 4.4,CLOV-1613,394250,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,27/Jan/2015 1:38 PM,29/Jan/2015 11:03 AM,15/Nov/2024 6:09 PM,29/Jan/2015 11:03 AM,,,,,,4.0.3,,,CEP Plugin,,,,,,,0,,,,,,,,,"Steps to reproduce:

Open ""Coverage Exploer"", click ""Run new report ..."" and create any report. Next click ""View report"" and select it on a list. Nothing happens in the UI and the ""Error log"" view shows ""Unhandled event exception"" entry with a stack trace as follows:

{noformat}
java.lang.NoClassDefFoundError: Could not initialize class com.atlassian.clover.eclipse.core.reports.OpenReportOperation
	at com.atlassian.clover.eclipse.core.views.actions.GenerateReportAction$2.widgetSelected(GenerateReportAction.java:151)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4353)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1061)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4172)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3761)
	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1151)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1032)
	at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:148)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:636)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:579)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:135)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:382)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:236)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:648)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:603)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1465)
{noformat}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxmjtb:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxmtsf:",9223372036854775807,,,,,,,,,,,"1|hxmjtj:",9223372036854775807,309312000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxppef:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,1.0,9223372036854775807,,"1|hxmjsv:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"27/Jan/2015 2:46 PM;mparfianowicz;Also: Arrays.asList() throws UnsupportedOperationException on list modification. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover fails to generate HTML report for more than one project in Eclipse,CLOV-1612,394338,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,27/Jan/2015 12:53 PM,27/Jan/2015 12:59 PM,15/Nov/2024 6:09 PM,27/Jan/2015 12:59 PM,,,,,,4.0.3,,,CEP Plugin,,,,,,,0,,,,,,,,,"'

{noformat}
Clover Version 4.0.3, built on January 27 2015 (build-dev)
Loaded from: D:\Soft\Eclipse\eclipse-4.4-luna\plugins\com.atlassian.clover.eclipse.core_4.0.3.v20150127120908-dev.jar
Clover: Developer License registered to Atlassian.
[C:/Users/Marek/.workspace-eclipse-4.4/Moneybags/.clover/coverage.db, 0 seconds""C:/Users/Marek/.workspace-eclipse-4.4/javasyntax18/.clover/coverage.db, 0 seconds--report, --testsIncludePattern, C:/Users/Marek/.workspace-eclipse-4.4/Moneybags/**/*Test.java, C:/Users/Marek/.workspace-eclipse-4.4/Moneybags/**/Test*.java, C:/Users/Marek/.workspace-eclipse-4.4/javasyntax18/**/*Test.java, C:/Users/Marek/.workspace-eclipse-4.4/javasyntax18/**/Test*.java--testsExcludePattern, C:/Users/Marek/.workspace-eclipse-4.4/Moneybags/, C:/Users/Marek/.workspace-eclipse-4.4/javasyntax18/, -a, -i, C:\Users\Marek\AppData\Local\Temp\clover3525180172645953949merge, -o, C:\Users\Marek\Desktop, -t, Coverage Report, -tc, 0, -f, , -s, 0 days]
Error generating report: java.lang.NumberFormatException
java.lang.NumberFormatException
	at java.math.BigDecimal.<init>(BigDecimal.java:459)
	at java.math.BigDecimal.<init>(BigDecimal.java:728)
	at com.atlassian.clover.cfg.Interval.initialise(Interval.java:183)
	at com.atlassian.clover.cfg.Interval.<init>(Interval.java:121)
	at com.atlassian.clover.eclipse.core.reports.MergeReportJob$MergeAndReport.run(MergeReportJob.java:140)
	at com.atlassian.clover.eclipse.core.reports.ForkingReporter.main(ForkingReporter.java:25)
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxmjrr:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxmtqv:",9223372036854775807,,,,,,,,,,,"1|hxmjrz:",9223372036854775807,309312000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxppdb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,1.0,9223372036854775807,,"1|hxmjrb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"27/Jan/2015 12:54 PM;mparfianowicz;Cause - missing space character between arguments:

{noformat}
....0 seconds""C:/Use...
{noformat};;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover doesn't support Spock 1.0 and 1.0-SNAPSHOT,CLOV-1611,394084,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,020a6d912908,020a6d912908,26/Jan/2015 11:55 PM,14/Apr/2015 1:09 PM,15/Nov/2024 6:09 PM,23/Feb/2015 10:27 PM,3.3.0,4.0.0,4.0.1,4.0.2,,4.0.4,,,,,,,,,,0,Spock,,,,,,,,"It works with Spock v0.7-groovy-2.0, but it doesn't work with Spock v1.0-groovy-2.0-SNAPSHOT.

The root cause is that the IGlobalExtension interface changed and it now has start() and stop() methods, which the v0.7 version did not have, and so an AbstractMethodError: null is thrown:

{code}
java.lang.AbstractMethodError: null
        at org.spockframework.runtime.GlobalExtensionRegistry.startGlobalExtensions(GlobalExtensionRegistry.java:105)
        at org.spockframework.runtime.RunContext.start(RunContext.java:63)
        at org.spockframework.runtime.RunContext.get(RunContext.java:165)
        at org.spockframework.runtime.Sputnik.runExtensionsIfNecessary(Sputnik.java:88)
        at org.spockframework.runtime.Sputnik.run(Sputnik.java:61)
        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
{code}

Because of this, we cannot use the most recent features in Spock, since v0.7 is more than 2 years old.",,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1575,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxmizb:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-01-27 01:09:04.54,,,,,,,,,,,,,,,,,,,,,,,,"2|hxmt13:",9223372036854775807,,,,,,,,,,,"1|hxmizj:",9223372036854775807,303091200,true,,,,,,,,,,2a7f3d6d08ba(dustin.clark2),mparfianowicz(mparfianowicz),020a6d912908(cdeszaq1),,,,,,,,,,,,,,,,,"1|hxpomn:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,2.0,9223372036854775807,,"1|hxmiyv:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"27/Jan/2015 1:09 AM;mparfianowicz;Hi Rick. Thank you very much for reporting this problem. However, please take into account that we do not support non-release versions of third party tools.

Having said this I will have a look at this issue, whether I could make some workaround or alternative handling for spock 1.0. I can't give you any due date for a fix at the moment. 

Cheers 
Marek ;;;","23/Feb/2015 10:28 PM;mparfianowicz;I've added missing methods, you'll have to wait for Clover 4.0.4 or you can try the Clover 4.0.4-SNAPSHOT.;;;","30/Mar/2015 10:13 AM;mparfianowicz;Update: Spock 1.0 has been released. Clover will be compatible with it as well (spock-core-1.0-groovy-2.0,spock-core-1.0-groovy-2.3,spock-core-1.0-groovy-2.4);;;","08/Apr/2015 8:31 PM;2a7f3d6d08ba;What's the target release date for 4.0.4?  Also, where is the snapshot published?;;;","08/Apr/2015 8:49 PM;2a7f3d6d08ba;Disregard...found the maven repo:
mavenRepo ""https://maven.atlassian.com/repository/public/""
mavenRepo ""https://maven.atlassian.com/content/repositories/atlassian-public-snapshot/""
mavenRepo ""https://maven.atlassian.com/content/repositories/atlassian-central-snapshot/"";;;","08/Apr/2015 9:01 PM;mparfianowicz;Hi Dustin. Clover 4.0.4 should be available this month. ;;;",,,,,,,,,,,,,,,,,,,,,
IntelliJ Clover integration fails with NullPointerException with Android app,CLOV-1609,393652,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mparfianowicz,c65a59a723d0,c65a59a723d0,23/Jan/2015 7:23 PM,29/Jan/2016 10:12 AM,15/Nov/2024 6:09 PM,29/Jan/2016 10:12 AM,,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"We're unable to get IntelliJ clover integration to work with IntelliJ 13 or 14 for our Android app. After installing the plugin and obtaining a trial license, the rebuild fails with NullPointerException, but without any clear indicator as to what failed.

After the NPE:
Error:java: java.lang.IllegalStateException: Trying to pop FullClassInfo but found FullMethodInfo on the stack",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxmg7b:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-01-23 21:01:17.292,,,,,,,,,,,,,,,,,,,,,,,,"2|hxmqa7:",9223372036854775807,,,,,,,,,,,"1|hxmg7j:",9223372036854775807,309571200,true,,,,,,,,,,c65a59a723d0(daniel195),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxpm0n:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxmg6v:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"23/Jan/2015 9:01 PM;mparfianowicz;Hi Daniel, 

I'd like to notice that Android platform is not supported by Clover. Nevertheless I can have a look at this bug. Could you please try to locate a source file which causes the compilation problem? Enable Clover in your project and use includes/excludes patterns to locate the *.java file causing this error. Could you please attach this file, if possible? 

Cheers
Marek;;;","23/Jan/2015 9:23 PM;mparfianowicz;One more thing: could you please ensure that you have the parallel compilation disabled in IDEA - see File > Settings > .. > Compiler > ""Compile independent modules in parallel"" should be unchecked.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Java8: method reference to a non-static method fails to compile,CLOV-1606,389745,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Cannot Reproduce,mparfianowicz,mparfianowicz,mparfianowicz,09/Jan/2015 12:03 PM,10/Feb/2015 11:27 AM,15/Nov/2024 6:09 PM,10/Feb/2015 11:24 AM,3.2.0,,,,,won't fix,,,Instrumentation,,,,,,,0,,,,,,,,,"{quote}
*NOT REPRODUCIBLE*
{quote}

In this code sample:

{code:java}
return map.entrySet().stream()
			.collect(Collectors.toMap(
				Map.Entry::getKey,
				e -> e.getValue().getAverage()
			));
{code}

the Collectors.toMap() takes a ""Map.Entry::getKey"" method reference as input argument. However, the getKey method is not static. 

Wrapping it by Clover's lambdaInc() method leads to a compilation error like this:

{noformat}
    [javac]   symbol:   method lambdaInc(int,Map.Entry::getKey,int)
    [javac]   location: class __CLR4_0_22ci2cii4lxhoaj
    [javac]  Foo.java:33: error: invalid method reference
    [javac] 					__CLR4_0_22ci2cii4lxhoaj.lambdaInc(3045,Map.Entry::getKey,3046),
    [javac] 					                                           ^
    [javac]   non-static method getKey() cannot be referenced from a static context
    [javac]   where K is a type-variable:
    [javac]     K extends Object declared in interface Entry
{noformat}








*Possible workarounds ??*

1) Disable instrumentation of expression-like lambda functions (method references are treated as expression-like lambda) - use instrumentLambda=""block"" or ""none"".

2) Wrap such method reference with ///CLOVER:OFF and ///CLOVER:ON keywords, e.g.:

{code:java}
return map.entrySet().stream()
			.collect(Collectors.toMap(
///CLOVER:OFF
				Map.Entry::getKey,
///CLOVER:ON
				e -> e.getValue().getAverage()
			));
{code}

3) Use a variable with a non-static method reference or change to a lambda expression.

{code:java}
return map.entrySet().stream()
			.collect(Collectors.toMap(
				e -> e.getKey(), // unfortunately IDEA suggests to change it back
				e -> e.getValue().getAverage()
			));
{code}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxlv1j:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxm5db:",9223372036854775807,,,,,,,,,,,"1|hxlv1r:",9223372036854775807,308102400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxpoof:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,3.0,9223372036854775807,,"1|hxlv13:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"10/Feb/2015 11:23 AM;mparfianowicz;I wasn't able to reproduce the problem - code sample compiles correctly with Clover. A customer commented that this was a configuration issue in their Ant script. Closing the bug.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"CloverOptimizedTestNGSelector does not add ""clover-optimized"" group to TestNG @Before and @After annotations",CLOV-1603,389109,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,0f30c17ea152,0f30c17ea152,07/Jan/2015 3:32 AM,12/Jan/2015 2:12 AM,15/Nov/2024 6:09 PM,09/Jan/2015 11:25 PM,4.0.2,,,,,4.0.3,,,Test Optimization,,,,,,,0,,,,,,,,,"In order for Clover to optimize a TestNG test suite, we have to use the {{CloverOptimizedTestNGSelector}} listener, and restrict TestNG to only run the ""clover-optimized"" group, as in:
{code:xml|title=build.xml snippet}
<testng groups=""clover-optimized"" listeners=""com.atlassian.clover.ant.tasks.testng.CloverOptimizedTestNGSelector"" >

    <!-- ... -->

</testng>
{code}

The problem with this is that TestNG's {{@Before}} and {{@After}} annotations ({{@BeforeMethod}}, {{@AfterClass}}, etc) will not be run, because they are not part of the ""clover-optimized"" group.

I have a workaround, which is to qualify all such annotations with {{alwaysRun=true}}, but this is pretty ugly.

A possible solution is for {{CloverOptimizedTestNGSelector}} to implement {{IAnnotationTransformer2}} and override [transform( IConfigurationAnnotation, Class, Constructor, Method )|http://testng.org/javadoc/org/testng/IAnnotationTransformer2.html#transform%28org.testng.annotations.IConfigurationAnnotation,%20java.lang.Class,%20java.lang.reflect.Constructor,%20java.lang.reflect.Method%29], automatically adding the ""clover-optimized"" group to all non-tests.","Clover 4.0.2
Ant 1.8
Java 1.8
TestNG 6.8.7",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxlrhz:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-01-09 23:27:11.436,,,,,,,,,,,,,,,,,,,,,,,,"2|hxm1xj:",9223372036854775807,,,,,,,,,,,"1|hxlri7:",9223372036854775807,310608000,true,,,,,,,,,,mparfianowicz(mparfianowicz),0f30c17ea152(marchibald),,,,,,,,,,,,,,,,,,"1|hxozcn:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,1.0,9223372036854775807,,"1|hxlrhj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"09/Jan/2015 11:27 PM;mparfianowicz;Thanks a lot for preparing detailed analysis, Mitchell - thanks to your effort I was able to quickly prepare a fix.;;;","12/Jan/2015 2:12 AM;0f30c17ea152;[~mparfianowicz] no worries!  Thank you for being pro-active following up the issues I've reported.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"Incorrect log message generated when snapshot file was found, but coverage registry was not",CLOV-1600,389138,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,0f30c17ea152,0f30c17ea152,07/Jan/2015 1:07 AM,08/Jan/2015 2:27 PM,15/Nov/2024 6:09 PM,08/Jan/2015 2:27 PM,4.0.2,,,,,4.0.3,,,Test Optimization,,,,,,,0,,,,,,,,,"If I attempt to optimize my TestNG test run in an ant target like so:
{code:xml|title=build.xml snippet}
    <testng outputDir=""./reports/intTest"" 
            failureproperty=""testNGFailed"" 
            haltonfailure=""false""
            verbose=""2"" 
            workingDir=""${base.dir}"" 
            classfilesetref=""int.tests""
            listeners=""com.atlassian.clover.ant.tasks.testng.CloverOptimizedTestNGSelector""
            groups=""clover-optimized"">

      <sysproperty key=""clover.test.snapshot"" value=""path/to/clover.db.snapshot""/>
      <sysproperty key=""clover.initstring"" value=""i/dont/exist/.clover/clover.db""/>

      <!-- ... -->

    </testng>
{code}
where:
* *{{path/to/clover.db.snapshot}}* exists on the file system and is a valid snapshot file.
* *{{i/dont/exist/.clover/clover.db}}* does not exist on the file system,

then Clover prints the log message:
{quote}
Clover is unable to optimize this test run because no Clover registry was not found at: '*path/to/clover.db.snapshot*'
{quote}
This is not correct - Clover logged the path to the snapshot file, but it actually could not find the coverage registry.","Clover 4.0.2
Ant 1.8
Java 1.8
TestNG 6.8.7",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxlr93:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxm1on:",9223372036854775807,,,,,,,,,,,"1|hxlr9b:",9223372036854775807,311040000,true,,,,,,,,,,mparfianowicz(mparfianowicz),0f30c17ea152(marchibald),,,,,,,,,,,,,,,,,,"1|hxoz4v:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxlr8n:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
No log message generated when clover could not optimize test run due to missing snapshot file,CLOV-1599,389134,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,0f30c17ea152,0f30c17ea152,07/Jan/2015 12:54 AM,08/Jan/2015 4:30 PM,15/Nov/2024 6:09 PM,08/Jan/2015 4:30 PM,4.0.2,,,,,4.0.3,,,Test Optimization,,,,,,,0,,,,,,,,,"If I attempt to optimize my TestNG test run in an ant target like so:
{code:xml|title=build.xml snippet}
    <testng outputDir=""./reports/intTest"" 
            failureproperty=""testNGFailed"" 
            haltonfailure=""false""
            verbose=""2"" 
            workingDir=""${base.dir}"" 
            classfilesetref=""int.tests""
            listeners=""com.atlassian.clover.ant.tasks.testng.CloverOptimizedTestNGSelector""
            groups=""clover-optimized"">

      <sysproperty key=""clover.test.snapshot"" value=""i/dont/exist/clover.db.snapshot""/>
      <sysproperty key=""clover.initstring"" value="".clover/clover.db""/>

      <!-- ... -->

    </testng>
{code}
where:
* *{{i/dont/exist/clover.db.snapshot}}* does not exist on the file system.
* *{{.clover/clover.db}}* exists on the file system and is a valid coverage registry,

then Clover will not optimize my test run (reasonable enough, given it cannot find the snapshot), but *does not log a message, exit, or otherwise give any indication that it could not find the snapshot file*.","Clover 4.0.2
Ant 1.8
Java 1.8
TestNG 6.8.7",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxlr7z:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-01-08 16:27:28.162,,,,,,,,,,,,,,,,,,,,,,,,"2|hxm1nj:",9223372036854775807,,,,,,,,,,,"1|hxlr87:",9223372036854775807,310953600,true,,,,,,,,,,mparfianowicz(mparfianowicz),0f30c17ea152(marchibald),,,,,,,,,,,,,,,,,,"1|hxoz47:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxlr7j:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Jan/2015 4:27 PM;mparfianowicz;Fixed together with CLOV-1600:

{noformat}
            snapshot = snapshotFile == null ? null : Snapshot.loadFrom(snapshotFile);
            if (snapshot != null) {
...
                     registry = registryFile == null ? null : Clover2Registry.fromFile(registryFile);
                     if (registry == null) {
                         snapshot = null;
-                        Logger.getInstance().info(Messages.noOptimizationBecauseNoRegistryFound(snapshotFile.getAbsolutePath()));
+                        Logger.getInstance().info(
+                                Messages.noOptimizationBecauseNoRegistryFound(
+                                        registryFile == null ? ""<null>"" : registryFile.getAbsolutePath()));
                     }
                 }
+            } else {
+                Logger.getInstance().info(
+                        Messages.noOptimizationBecauseNoSnapshotFound(
+                                snapshotFile == null ? ""<null>"" : snapshotFile.getAbsolutePath()));
             }
{noformat};;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Use heuristics to solve JDK8 Stream compilation errors,CLOV-1596,387934,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,glewandowski,mparfianowicz,mparfianowicz,27/Dec/2014 1:07 PM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,07/Jul/2015 1:40 PM,3.2.0,,,,,4.0.5,,,Instrumentation,,,,,,,2,,,,,,,,,"Spike in which a problem with Java8 streams will be attacked as it seems that using stream() is very popular and the most probably it causes the majority of compilation problems with Clover's lambdaInc().

Scope: focus on streams only.

Out of scope: attacking a generic problem of method signatures with a mixture of functional and non-functional arguments. ",,,,,,,,,,,,,,,,CLOV-1776,,,,,,,,,,CLOV-1465,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxlkev:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxluxz:",9223372036854775807,,,,,,,,,,,"1|hxlkf3:",9223372036854775807,297475200,true,,,,,,,,,,glewandowski(glewandowski),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwcqxj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 3 - Bamboo,4.0.5 Sprint 3,,,,13.0,9223372036854775807,,"1|hxlkef:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"29/Dec/2014 2:01 PM;mparfianowicz;Idea:

In case we have an expression-like lambda function which is being passed as an argument of a method having name the same as one of the public methods in java.util.stream.Stream:
 * map
 * filter
 * ...

then rewrite code of a lambda function into a block form containing a return keyword. For instance:

{code:java}
stream.map(i -> 2 * i)
{code}

can be rewritten as:

{code:java}
stream.map(i -> { return 2 * i; })
{code}

and instrumented by Clover as:

{code:java}
stream.map(i -> { R.inc(1); return 2 * i; })
{code}

This assumes that methods listed above will always have lambdas returning a value (it's rather unusual to see sth like ""map(a -> void)"".

This also assumes that user will not have methods having the same name and taking a lambda *not* returning a value as input, e.g.

{code:java}
notAStream.map(a -> System.out.println(a))
{code}

In the above case compilation will fail because code will look like this:

{code:java}
notAStream.map(a -> { return System.out.println(a); })
// error: cannot return void
{code}

A workaround will be to declare a code in a block form, i.e.:

{code:java}
notAStream.map(a -> { System.out.println(a); })  //  no return
{code}

Statistically, occurrence of such non-standard functions shall be much lower.
;;;","29/Dec/2014 2:14 PM;mparfianowicz;We could also add a 

/* CLOVER:VOID */

special keyword so that users could write a lambda without re-writing to a block form:

{code:java}
notAStream.map(a -> /* CLOVER:VOID */ System.out.println(a))
{code}

What's the benefit? If the block form is used with one instruction only, then IDE tools, such as IntelliJ IDEA, raise a code inspection warning suggesting rewriting it to an expression form. Which could lead to unnecessary code rollbacks by a developer. Thanks to having a comment understandable by Clover, IDE tools will stop complaining. ;;;","13/Jun/2015 6:15 AM;mparfianowicz;Tasks:
* modify java.g so that lexer can detect the 'CLOVER:VOID' keyword (similarly as it detects CLOVER:ON, CLOVER:OFF, CLOVER:FLUSH) *but* it must work in both // and /* */ comments

* this flag has sense only for expression-like lambda, thus it can be placed here:

{code}
 () -> /* CLOVER:VOID */ 1 + 2;
 () -> /* CLOVER:VOID */ Foo::toString
{code}

* it means that whenever CLOVER:VOID is detected, it should set some flag for a current context (something like statement/method contexts), 
* this flag shall be cleared whenever new lambda expression starts; beware of nested lambdas!

{code}
(outer) -> /* CLOVER:VOID */ (inner) -> inner.value;

means

(outer) -> { /* CLOVER:VOID */ 
  >>> <<< (inner) -> { >>>return<<< inner.value };
}
{code}

 * modify java.g so that it keeps name of the current symbol; probably we shall use a stack of symbols here; it would work similarly to the 'currentMethod' / 'currentClass' stack; the point here is to know name of the method being called (do not confuse it with a method we're in), e.g.:

{noformat}
void myMethod() {
    stream.map( abc.def ( xyz.map( String::toLowerCase ) ) )
// at this point                          ^^^
// our stack should have symbols
           map      def       map

// or (in case it would be simple) we could have
    stream map abc def xyz map
}
{noformat}

* define list of ""lambda methods"" (i.e. having a lambda as argument) - map, flatMap, filter, ...

* whenever last symbol from a stack matches one of these methods, then instead of using LambdaExpression(Entry/Exit)Emitter we shall use the LambdaBlock*Emitter (or maybe a slight modification of it)

* this block emitter shall prepend the ""{return "" and append the "";}"", e.g.:

{code}
(a) -> a * 2

will be

(a) -> {return a*2;}
{code}

** *unless* our flag shows that CLOVER:VOID was used; in such case we shall rewrite it as:

{code}
(a) -> foo(a)

will be

(a) -> {foo(a);}
{code}

* write unit tests for it in InstrumentationTest class

* write code samples in 'javasyntax1.8' project

* find a number open source frameworks written in java8 (with lots of lambdas, generics, <> etc) and compile all of them using Clover to check if our solution is smart enough

* maybe also some Atlassian-stuff, such as Stash?

* instrument JDK8 or OpenJDK9 sources with Clover

** if not then we may be forced to use better heuristics, e.g. to rewrite only if stream is declared explicitly, e.g. ""<some code>stream().map(..)"" instead of ""<some code>map(..)""

** if not then we may need to extend our list of ""lambda methods""

* optional: consider switching instrumentLambda=all as default value

* update documentation on CAC about it (CLOVER:VOID) in CLOVER and CLOVERKB
;;;",,,,,,,,,,,,,,,,,,,,,,,,
Clover does not work with Grails 2.4.4,CLOV-1595,387933,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,27/Dec/2014 12:20 PM,02/Feb/2015 11:55 PM,15/Nov/2024 6:09 PM,12/Jan/2015 5:16 PM,4.0.2,,,,,4.0.3,,,Grails Plugin,,,,,,,1,,,,,,,,,"When developers use ""./grailsw run-app"" it gives the following error. 

{noformat}
Running Grails application
Error Error loading event script from file [/opt/stanson/target/work/plugins/clover-4.0.2/scripts/_Events.groovy] startup failed:
/opt/stanson/target/work/plugins/clover-4.0.2/scripts/_Events.groovy: 4: unable to resolve class org.codehaus.groovy.grails.test.GrailsTestTargetPattern
@ line 4, column 1.
import org.codehaus.groovy.grails.test.GrailsTestTargetPattern
^
1 error
(Use --stacktrace to see the full trace)
{noformat}",,,,,,,,,,,,,,,CLOV-1575,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxlke7:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-02-02 23:55:13.709,,,,,,,,,,,,,,,,,,,,,,,,"2|hxluxb:",9223372036854775807,,,,,,,,,,,"1|hxlkef:",9223372036854775807,308707200,true,,,,,,,,,,mparfianowicz(mparfianowicz),3fb654307af9(ted.timmons),,,,,,,,,,,,,,,,,,"1|hxmigf:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 5,,,,,3.0,9223372036854775807,,"1|hxlkdr:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"02/Feb/2015 11:55 PM;3fb654307af9;verified fix.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
grails clover plugin does not use default clover-report (report is not written or viewable),CLOV-1580,372340,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Not a bug,mparfianowicz,74b4209857b2,74b4209857b2,30/Oct/2014 2:27 PM,15/Jul/2015 8:59 AM,15/Nov/2024 6:09 PM,31/Oct/2014 11:46 AM,4.0.2,,,,,won't fix,,,Grails Plugin,,,,,,,0,,,,,,,,,"Typing ""grails test-app -clover.on -clover.view"" gives the following error:

{noformat}
| Environment set to test....
Clover: Clover is enabled. Configuration: [on:true, debug:[:], verbose:[:]]
Clover: Using Clover license path: /home/mic/Grails/JQuery/JQ244-geb/target/work/plugins/clover-4.0.2/grails-app/conf/clover/clover-evaluation.license
| Environment set to test.....
| Error Exception occurred trigger event [SetClasspath]: Problem: failed to create task or type clover-env
Cause: The name is undefined.
Action: Check the spelling.
Action: Check that any custom tasks/types have been declared.
Action: Check that any <presetdef>/<macrodef> declarations have taken place.
 (Use --stacktrace to see the full trace)
| Completed 27 unit tests, 0 failed in 0m 8s
| Running 8 spock tests... 1 of 8
| Completed 12 spock tests, 0 failed in 0m 0s

Configuring Spring Security Core ...
... finished configuring Spring Security Core

Configuring Spring Security UI ...
... finished configuring Spring Security UI

Configuring Spring Security ACL ...
... finished configuring Spring Security ACL

| Running Grails application

Configuring Spring Security Core ...
... finished configuring Spring Security Core

Configuring Spring Security UI ...
... finished configuring Spring Security UI

Configuring Spring Security ACL ...
... finished configuring Spring Security ACL

| Server running. Browse to http://localhost:8080/JQ244-geb
| Running 2 functional tests... 1 of 2
Oct 30, 2014 2:19:56 PM org.openqa.selenium.remote.Augmenter extractRemoteWebDriver
| Completed 2 functional tests, 0 failed in 0m 3s
| Running 2 spock tests... 1 of 2
Oct 30, 2014 2:19:57 PM org.openqa.selenium.remote.Augmenter extractRemoteWebDriver
| Completed 2 spock tests, 0 failed in 0m 0s
| Server stopped
| Tests PASSED - view reports in /home/mic/Grails/JQuery/JQ244-geb/target/test-reports
Clover: Tests ended. Generating reports
Clover: Generating report using default 'clover-report' task
| Error Error executing script TestApp: : Problem: failed to create task or type clover-report
Cause: The name is undefined.
Action: Check the spelling.
Action: Check that any custom tasks/types have been declared.
Action: Check that any <presetdef>/<macrodef> declarations have taken place.
 (Use --stacktrace to see the full trace)
{noformat}

","Command line, grails 2.4.4 : I put the 30 day evaluation licence in /target/work/plugins/clover-4.0.2/grails-app/conf/clover/clover-evaluation.license
The security plugins get invoked twice (?)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxjqbj:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-10-30 14:35:56.014,,,,,,,,,,,,,,,,,,,,,,,,"2|hxk1e7:",9223372036854775807,,,,,,,,,,,"1|hxjqbr:",9223372036854775807,316915200,true,,,,,,,,,,mparfianowicz(mparfianowicz),74b4209857b2(79apatshull),,,,,,,,,,,,,,,,,,"1|hxn4fz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxjqav:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"30/Oct/2014 2:35 PM;mparfianowicz;Hi Michael,

This error message:
{quote}
Problem: failed to create task or type clover-env
{quote}

means that clover-for-grails plugin was unable to read clover.jar/cloverlib.xml file. 


Do you have the dependency to com.atlassian.clover:clover defined? For Grails 2.2 or later it must be present either in BuildConfig.groovy:

{code:java}
grails.project.dependency.resolution = {
    plugins {
        compile 'org.grails.plugins:clover:4.0.2'
    }
    // For *Grails 2.2* or later you must also add a dependency to the Clover Core
    // or use the ""legacyResolve true"" option
    dependencies {        
        compile 'com.atlassian.clover:clover:4.0.2' // com.cenqua.clover for Clover 3.x
    }
}
{code}

or in pom.xml:

{code:java}
grails.project.dependency.resolution = {
    pom true
}
{code}

+ 

{code:xml}
<dependency>
    <groupId>org.grails.plugins</groupId>
    <artifactId>clover</artifactId>
    <version>4.0.2</version>
    <scope>compile</scope>
    <type>zip</type>
</dependency>
<!-- For *Grails 2.2* and later you must also add a dependency to the Clover Core -->
<dependency>
    <groupId>com.atlassian.clover</groupId> <!-- com.cenqua.clover for Clover 3.x -->
    <artifactId>clover</artifactId>
    <version>4.0.2</version>
    <scope>compile</scope>
    <type>jar</type>
</dependency>
{code}


(or you can use legacyResolve true)

Cheers
Marek;;;","31/Oct/2014 7:09 AM;74b4209857b2;RESOLVED

Thanks!

The 'com.atlassian.clover:clover:4.0.2' dependency solved the issue.

Unit tests are picked up ok but not functional/spock/geb tests:

""No test results could be found. Please ensure that you have instrumented your unit tests correctly."";;;","31/Oct/2014 10:01 AM;mparfianowicz;> Unit tests are picked up ok but not functional/spock/geb tests:

Feel free to create a support ticket at support.atlassian.com and attach a build log (the best with 'grails --verbose -clover.debug' switches). I'll see what's going on. 

There are few possibilities, for instance:
 - your application under test could have been launched in a different working directory and clover.db was not found
 - your tests connect to an application running on a remote app server *and* that server is not being shut down after tests *and* Clover's flush policy is not set to interval or threaded
;;;",,,,,,,,,,,,,,,,,,,,,,,,
BAM-699 BAM-2883 BAM-13786 Chart points with failed builds or no daily data,CLOV-1572,365926,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,13/Oct/2014 11:56 AM,30/Jan/2015 2:02 PM,15/Nov/2024 6:09 PM,30/Jan/2015 2:02 PM,,,,,,4.0.3,,,Integrations,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxj1rb:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxjd5b:",9223372036854775807,,,,,,,,,,,"1|hxj1rj:",9223372036854775807,309571200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwd1g7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,5.0,9223372036854775807,,"1|hxj1qv:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"24/Jan/2015 1:06 PM;mparfianowicz; * BAM-699 turned out to be a duplicate of BAM-945, which has been fixed in Bamboo 2.0.1.

 * BAM-2883 contradicts with BAM-699 and BAM-945 so it has been closed as won't fix.

 * BAM-13786 has been fixed, fix will be available in Bamboo 5.8;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
A historical report contains link to an XML report,CLOV-1570,365906,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,13/Oct/2014 8:50 AM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,25/Nov/2014 3:07 PM,4.0.0,,,,,4.0.3,,,Reporting,,,,,,,0,,,,,,,,,!wrong_links_in_a_historical_report.png!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Oct/2014 8:50 AM;mparfianowicz;wrong_links_in_a_historical_report.png;https://jira.atlassian.com/secure/attachment/135195/wrong_links_in_a_historical_report.png",,,,,,,,,,,,,,,,true,,"1|hxj1hj:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxjcz3:",9223372036854775807,,,,,,,,,,,"1|hxj1hr:",9223372036854775807,318470400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwd86n:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 3,,,,,1.0,9223372036854775807,,"1|hxj1h3:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
A wrong caption in a search box in an HTML ADG report,CLOV-1569,365905,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,13/Oct/2014 8:48 AM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,24/Nov/2014 9:40 AM,4.0.2,,,,,4.0.3,,,Reporting,,,,,,,0,,,,,,,,,!search_box_wrong_caption.png!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Oct/2014 8:48 AM;mparfianowicz;search_box_wrong_caption.png;https://jira.atlassian.com/secure/attachment/135194/search_box_wrong_caption.png",,,,,,,,,,,,,,,,true,,"1|hxj1hb:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxjcyv:",9223372036854775807,,,,,,,,,,,"1|hxj1hj:",9223372036854775807,318470400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwd86f:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 3,,,,,1.0,9223372036854775807,,"1|hxj1gv:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
An orphaned lozenge when there are no search results ,CLOV-1568,365903,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mopala,mparfianowicz,mparfianowicz,13/Oct/2014 8:41 AM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,4.0.2,,,,,long term roadmap,,,Reporting,,,,,,,0,,,,,,,,,!html_adg_orphaned_lozenge.png!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Oct/2014 8:41 AM;mparfianowicz;html_adg_orphaned_lozenge.png;https://jira.atlassian.com/secure/attachment/135193/html_adg_orphaned_lozenge.png",,,,,,,,,,,,,,,,true,,"1|hxj1gv:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxjcyf:",9223372036854775807,,,,,,,,,,,"1|hxj1h3:",9223372036854775807,318470400,true,,,,,,,,,,mopala(mopala),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwfkzb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,1.0,9223372036854775807,,"1|hxj1gf:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test optimization in IDEA 14 shows wrong number of classes,CLOV-1567,364590,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,09/Oct/2014 10:53 AM,25/Nov/2014 3:07 PM,15/Nov/2024 6:09 PM,25/Nov/2014 3:07 PM,4.0.2,,,,,4.0.3,,,CIJ Plugin,,,,,,,0,,,,,,,,,"There are 2 test classes in the 'Moneybags' tutorial project. Running test optimization in IDEA 14 (EAP build 138.2458.8) shows ""3 test classes"".

!idea14_clover_test_optimization.png!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/2014 10:53 AM;mparfianowicz;idea14_clover_test_optimization.png;https://jira.atlassian.com/secure/attachment/133395/idea14_clover_test_optimization.png",,,,,,,,,,,,,,,,true,,"1|hxixo7:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxj97j:",9223372036854775807,,,,,,,,,,,"1|hxixof:",9223372036854775807,318816000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwd85j:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 3,,,,,2.0,9223372036854775807,,"1|hxixnr:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Distributed Coverage does not work due to java.rmi.UnmarshalException,CLOV-1561,363408,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,07/Oct/2014 10:19 AM,13/Oct/2014 10:27 AM,15/Nov/2024 6:09 PM,07/Oct/2014 12:07 PM,3.3.0,4.0.0,,,,4.0.2,,,Database,,,,,,,0,,,,,,,,,"{noformat}
Received result: Remote_Stub[UnicastRef2 [liveRef: [endpoint:[192.168.157.181:11
98,clover.gnu.cajo.invoke.Remote$RCSF@732e103d](remote),objID:[-26c3f6bf:148ea10
98a9:-7ffb, -3801964032288496245]]]]
Started proxy: Thread-9
cutOff(java.rmi.UnmarshalException: error unmarshalling return; nested exception
 is:
        java.io.WriteAbortedException: writing aborted; java.io.NotSerializableE
xception: com.atlassian.clover.ErrorInfo); from: localhost:1198. Attempting to r
econnect.
{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxiupj:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxj6an:",9223372036854775807,,,,,,,,,,,"1|hxiupr:",9223372036854775807,318988800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxl1y7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,1.0,9223372036854775807,,"1|hxiup3:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
S3 Artifact handler corrupts Clover tab in Bamboo,CLOV-1560,362128,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,01/Oct/2014 12:04 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,long term roadmap,,,,,,,,,,2,,,,,,,,,"Bamboo 5.7 introduces new artifact handler to store files in Amazon S3. Due to a fact that it works on a file-by-file basis, we cannot expose the entire HTML report as a 'site' embedded in the <iframe>. As a consequence it looks like this:

!clover-tab-with-s3-handler.png!




*Workaround:*

Do not use S3 artifact handler for builds with Clover. Default handler settings can be overridden in Plan configuration > Miscellaneous:

!artifact_handlers.png!




*Possible fixes:*

1) Implement a wrapper on S3 handler, which would download all files from an artifact definition to some temporary directory and expose it in <iframe>

 * problem: Clover's reports may have up to several GB for large projects, downloading all files every time someone opens the 'Clover' tab will be time consuming, we'd need to keep such artifacts for a longer period of time

2) Add warnings for Clover integration in the UI in case when S3 handler is found. Write information about this limitation on confluence.atlassian.com.

3) Create a ZIP archive out of Clover Report artifact and give user an ability to download this file.

4) Add extra option in artifact definition so that user could select which handler should keep given artifact. Thanks to this, S3 could be excluded. 

5) Due to a fact that new Clover HTML ADG reports do not contain frames, we could think about a thin wrapper, which would download only one page and replace all original links in the HTML file by proper links to S3; if user would click on a link, he would get another page processed this way...
 * we'd have to handle *.js, *.css, images etc too.

5b) Create something like a ""ZIP File Handler"", which could serve files from an archive (then we could pack Clover's HTML report and store on S3 or any other medium). It would also require rewriting links.

6) Look for some solution provided by Amazon, such as Static Website Hosting on S3

http://docs.aws.amazon.com/AmazonS3/latest/dev/website-hosting-custom-domain-walkthrough.html

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/2014 9:34 AM;mparfianowicz;artifact_handlers.png;https://jira.atlassian.com/secure/attachment/136112/artifact_handlers.png","01/Oct/2014 1:17 PM;mparfianowicz;clover-tab-with-s3-handler.png;https://jira.atlassian.com/secure/attachment/131288/clover-tab-with-s3-handler.png","06/May/2015 2:37 PM;sbirgisson;clover_artifact.jpg;https://jira.atlassian.com/secure/attachment/160384/clover_artifact.jpg","06/May/2015 2:35 PM;sbirgisson;clover_dashboard_localstorage.jpg;https://jira.atlassian.com/secure/attachment/160386/clover_dashboard_localstorage.jpg","06/May/2015 2:35 PM;sbirgisson;clover_dashboard_s3storage.jpg;https://jira.atlassian.com/secure/attachment/160385/clover_dashboard_s3storage.jpg",,,,,,,,,,,,true,,"1|hxiq9b:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2015-05-06 08:45:09.138,,,,,,,,,,,,,,,,,,,,,,,,"2|hxj1xz:",9223372036854775807,,,,,,,,,,,"1|hxiq9j:",9223372036854775807,300585600,true,,,,,,,,,,mparfianowicz(mparfianowicz),sbirgisson(sbirgisson),spittet(spittet),,,,,,,,,,,,,,,,,"1|hwfl0f:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 1,Sprint 3,Sprint 4,,,8.0,9223372036854775807,,"1|hxiq8v:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"30/Nov/2014 12:09 AM;mparfianowicz;ad 6) Static Website Hosting on S3

http://docs.aws.amazon.com/AmazonS3/latest/dev/website-hosting-custom-domain-walkthrough.html
;;;","06/May/2015 11:16 PM;spittet;I'm leaning toward the option (3) for now if S3 handler is used. It might be quite complicated to make the Zip file handler work properly with HTML reports having multiple files.

Sten
Bamboo Product Manager;;;","08/May/2015 1:56 PM;sbirgisson;I created https://jdog.jira-dev.com/browse/GROW-2224 to get the queries run across OD, awaiting results of affected customers.;;;",,,,,,,,,,,,,,,,,,,,,,,,
IDE Error when reloading project,CLOV-1555,358793,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,1aab583349af,1aab583349af,19/Sep/2014 1:45 PM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,,,,,,someday,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Already disposed: Project (Disposed) mercury: Already disposed: Project (Disposed) mercury
java.lang.AssertionError: Already disposed: Project (Disposed) mercury
	at com.intellij.openapi.components.impl.ComponentManagerImpl.getComponent(ComponentManagerImpl.java:186)
	at com.intellij.openapi.fileEditor.FileEditorManager.getInstance(FileEditorManager.java:34)
	at com.atlassian.clover.idea.testexplorer.TestRunExplorerToolWindow.findSelectedReceptor(TestRunExplorerToolWindow.java:201)
	at com.atlassian.clover.idea.testexplorer.TestRunExplorerToolWindow.doUpdate(TestRunExplorerToolWindow.java:259)
	at com.atlassian.clover.idea.testexplorer.TestRunExplorerToolWindow.access$100(TestRunExplorerToolWindow.java:63)
	at com.atlassian.clover.idea.testexplorer.TestRunExplorerToolWindow$3.run(TestRunExplorerToolWindow.java:288)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:319)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:715)
	at java.awt.EventQueue.access$400(EventQueue.java:82)
	at java.awt.EventQueue$2.run(EventQueue.java:676)
	at java.awt.EventQueue$2.run(EventQueue.java:674)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:86)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:685)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:697)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:524)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:335)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)

","Java version=1.6.0_65, Java vendor=Apple Inc., OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IU-135.1230
Plugin release=4.0.1.v20140901000000",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxieov:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxiqof:",9223372036854775807,,,,,,,,,,,"1|hxiep3:",9223372036854775807,320544000,true,,,,,,,,,,1aab583349af(dryan),,,,,,,,,,,,,,,,,,,"1|hxlws7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxieof:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Exception when rebuilding OpenPojo project.,CLOV-1551,356322,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,50f99ee01deb,50f99ee01deb,08/Sep/2014 10:52 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,4.0.0,,,,,open-source,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Wrong line: 39. Available lines count: 38: Wrong line: 39. Available lines count: 38
java.lang.IndexOutOfBoundsException: Wrong line: 39. Available lines count: 38
	at com.intellij.openapi.editor.ex.util.SegmentArray.getSegmentStart(SegmentArray.java:190)
	at com.intellij.openapi.editor.impl.LineSet.getLineStart(LineSet.java:50)
	at com.intellij.openapi.editor.impl.DocumentImpl.getLineStartOffset(DocumentImpl.java:900)
	at com.atlassian.clover.idea.content.DocMarkupPlugin$HighlightMarkupBuilder.highlightStatement(DocMarkupPlugin.java:277)
	at com.atlassian.clover.idea.content.DocMarkupPlugin$HighlightMarkupBuilder.process(DocMarkupPlugin.java:220)
	at com.atlassian.clover.idea.content.DocMarkupPlugin.updateMarkups(DocMarkupPlugin.java:138)
	at com.atlassian.clover.idea.content.DocMarkupPlugin.refresh(DocMarkupPlugin.java:424)
	at com.atlassian.clover.idea.content.ContentPlugin$1.run(ContentPlugin.java:97)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:715)
	at java.awt.EventQueue.access$400(EventQueue.java:82)
	at java.awt.EventQueue$2.run(EventQueue.java:676)
	at java.awt.EventQueue$2.run(EventQueue.java:674)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:86)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:685)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:697)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:524)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:335)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)

","Java version=1.6.0_65, Java vendor=Apple Inc., OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IU-135.1230
Plugin release=4.0.1.v20140901000000",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxi2j3:",9223372036854775807,,,,,9223372036854775807,,,,,,,,,,,2014-09-09 10:26:00.178,,,,,,,,,,,,,,,,,,,,,,,,"2|hxiep3:",9223372036854775807,,,,,,,,,,,"1|hxi2jb:",9223372036854775807,321408000,true,,,,,,,,,,mparfianowicz(mparfianowicz),50f99ee01deb(oshoukry),,,,,,,,,,,,,,,,,,"1|hwfki7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxi2in:",9223372036854775807,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Sep/2014 10:26 AM;mparfianowicz;Hi Osman, thank you very much for reporting this bug. 

Could you tell me whether it occurred multiple times or only once? 

Did this occur for one specific source file opened in an editor tab or for various source files?

Do you have any special characters in this (these) source file(s), like \u UTF encoding, non-ASCII characters?

May I ask you to attach source code of the problematic file, if possible?

Could you tell what operations did you perform when this error occurred? For instance: compilation in background while editing this file, cutting text to clipboard, etc ..;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
clover optimize plugin doesnt run last failed test,CLOV-1550,356014,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Not a bug,mparfianowicz,2fcd2e6fe980,2fcd2e6fe980,08/Sep/2014 5:23 AM,15/Jul/2015 9:32 AM,15/Nov/2024 6:09 PM,10/Sep/2014 7:04 AM,4.0.1,,,,,won't fix,,,Instrumentation,,,,,,,0,,,,,,,,,"I am validating if our company can you clover to reduce the test run time using the test optimize feature. For demonstration purpose i created a sample maven project. It has 4 APIs.
1. Add
2. Subtract
3. Multiply
4. MultiplyVersion2

My scenario is DEVELOPER makes a codechange and checks it in. junit testing API no 4 fails. Clover intelligent enough to run the junit that tests MultiplyVersion2. As the JUNIT fails component is broken and build fails. Developer detects he caused a regression and fixes the issue. I notice that clover doesn't add any tests once developer fixes the issue. . As per my understanding there should be latest one JUNIT(the one that failed last time) run. Our CI system didnt run any tests after the fix. So there were no JUNIT result reports. So the build was marked as broken though it actually fixed by the developer. It shouldn't work this way right?
Attached sample project for your reference.

Here is the maven goal I used in jenkins
clover2:setup clover2:optimize test clover2:snapshot -e -Dmaven.test.failure.ignore=false

Here is the clover log :-
[INFO] Clover estimates having saved around 6 seconds on this optimized test run. The full test run takes approx. 6 seconds
[INFO] Clover included 0 test classes in this run (total # test classes : 3)
Notice that no tests are added.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Sep/2014 5:23 AM;2fcd2e6fe980;Archive.zip;https://jira.atlassian.com/secure/attachment/127372/Archive.zip","08/Sep/2014 12:49 PM;2fcd2e6fe980;consoleText-AfterFixingFailure.txt;https://jira.atlassian.com/secure/attachment/127383/consoleText-AfterFixingFailure.txt","08/Sep/2014 12:49 PM;2fcd2e6fe980;consoleText-WithFailedTest.txt;https://jira.atlassian.com/secure/attachment/127384/consoleText-WithFailedTest.txt",,,,,,,,,,,,,,true,,"1|hxi1ef:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-09-08 07:45:08.544,,,,,,,,,,,,,,,,,,,,,,,,"2|hxidkv:",9223372036854775807,,,,,,,,,,,"1|hxi1en:",9223372036854775807,321321600,true,,,,,,,,,,mparfianowicz(mparfianowicz),2fcd2e6fe980(shankarkc78),,,,,,,,,,,,,,,,,,"1|hxll0n:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxi1dz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Sep/2014 7:45 AM;mparfianowicz;Hello Shankar, 

May I ask you what CI system do you use? Jenkins / Hudson / Bamboo? Do you run your builds on remote agents?

I'm asking, because in case you're running your builds on multiple remote agents, then it's necessary to provide the Clover's snapshot file created by the clover2:snapshot goal. Otherwise snapshot will be created on one machine, but will not be used on another. 

Can I ask you to attach build logs? (at least two logs - one from a first run with failing unit test, second from a run after test was fixed).

Regards
Marek;;;","08/Sep/2014 10:22 AM;mparfianowicz;PS: please note that this is a public issue tracker for Clover. So in case you have any private data, we can move this issue to the Atlassian Support JIRA (support.atlassian.com) which is accessible for Atlassian support engineers only.;;;","08/Sep/2014 12:49 PM;2fcd2e6fe980;Added console logs;;;","08/Sep/2014 12:52 PM;2fcd2e6fe980;This is a demo project to show our team that we can leverage on clover to optimize our tests. So it should be OK. I am using jenkins CI. Super simple project. Just build and deploy on local tomcat server. I have attached the logs to the ticket too. Thanks a lot for super FAST response.  Really appreciate your help on this.;;;","08/Sep/2014 7:48 PM;mparfianowicz;In the consoleText-WithFailedTest.txt you're running a build with:

{noformat}
-Dmaven.test.failure.ignore=false
{noformat}

As a consequence, the build has failed due to test failures:

{noformat}
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 6.207 s
[INFO] Finished at: 2014-09-08T14:00:49+05:30
[INFO] Final Memory: 19M/310M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project maven2example_logic: There are test failures.
{noformat}

Because of the fact that the build has failed in the 'test' phase, the latter 'clover2:snapshot' goal was not called:

{noformat}
cat consoleText-WithFailedTest.txt | grep '\-\-\- '

[INFO] --- maven-clover2-plugin:4.0.1:setup (default-cli) @ maven2example_package ---
[INFO] --- maven-clover2-plugin:4.0.1:optimize (default-cli) @ maven2example_package ---
[INFO] --- maven-clover2-plugin:4.0.1:snapshot (default-cli) @ maven2example_package ---
[INFO] --- maven-clover2-plugin:4.0.1:setup (default-cli) @ maven2example_logic ---
[INFO] --- maven-clover2-plugin:4.0.1:optimize (default-cli) @ maven2example_logic ---
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ maven2example_logic ---
[INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ maven2example_logic ---
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ maven2example_logic ---
[INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ maven2example_logic ---
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ maven2example_logic ---
{noformat}

As a consequence, Clover did not record failing test in its snapshot file.;;;","08/Sep/2014 7:51 PM;mparfianowicz;And what about the second run? (consoleText-AfterFixingFailure.txt)

{noformat}
[INFO] --- maven-clover2-plugin:4.0.1:optimize (default-cli) @ maven2example_logic ---
[INFO] Adding fileset: directory=/Users/i306565/.jenkins/workspace/MavenProject/maven2example_logic/target/clover/src-test-instrumented, includes=[**/Test*.java, **/*Test.java, **/*TestCase.java], excludes=null
[INFO] Clover estimates having saved around 6 seconds on this optimized test run. The full test run takes approx. 6 seconds
[INFO] Clover included 0 test classes in this run (total # test classes : 3)
{noformat}

According to log message, Clover has found an optimization snapshot file (but not from a previous execution but from some even older builds). It optimized your tests in a way that excluded all test classes (as it was not aware about a test failure).
;;;","08/Sep/2014 7:53 PM;mparfianowicz;Solution? Please run your build with the '-Dmaven.test.failure.ignore=true'. Thanks to this build will continue in case of test failures and Maven will run 'clover2:snapshot'. ;;;","10/Sep/2014 5:21 AM;2fcd2e6fe980;You can pls resolve it as not a bug.
Thanks
Shankar;;;","10/Sep/2014 7:03 AM;mparfianowicz;You're welcome. I'm closing this issue. Feel free to contact me in case of any questions. Cheers!;;;",,,,,,,,,,,,,,,,,,
"Grails: test uses @Rule ExpectedException, report indicates failing test when it actually passed",CLOV-1549,355163,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Duplicate,mparfianowicz,dd04bdc98899,dd04bdc98899,03/Sep/2014 10:34 AM,15/Jul/2015 9:33 AM,15/Nov/2024 6:09 PM,03/Sep/2014 10:50 AM,4.0.1,,,,,won't fix,,,Grails Plugin,,,,,,,0,,,,,,,,,"See http://clover.thehyve.net/transmart-core-db/440.1-clover/dashboard.html and compare with https://travis-ci.org/thehyve/transmart-core-db/builds/34273113

The report indicates 13 tests failing when the Grails output shows all tests failing. A closer look at the failing tests shows them all in PatientSetQueryBuilderServiceTests and QueryDefinitionXmlServiceTests, which use ExpectedException.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxhwtr:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-09-03 10:48:04.784,,,,,,,,,,,,,,,,,,,,,,,,"2|hxi91r:",9223372036854775807,,,,,,,,,,,"1|hxhwtz:",9223372036854775807,321926400,true,,,,,,,,,,dd04bdc98899(gustavo1),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxlh3b:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxhwtb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"03/Sep/2014 10:48 AM;mparfianowicz;Hi Gustavo, 

This is a duplicate of CLOV-1063. There are no plans to implement this feature at the moment. 

In order to have correct test results, you should rely not on Clover's test recording, but on XML files produced by JUnit. It means that you should configure Clover's HTML report with <clover-report>/<current>/<testresults> tag. See https://confluence.atlassian.com/display/CLOVER/Creating+custom+reports for more details. 

Cheers
Marek;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
The Grails' @Transactional annotation conflicts with Clover's AST transformations,CLOV-1547,352851,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,21/Aug/2014 6:57 PM,10/Oct/2014 1:26 PM,15/Nov/2024 6:09 PM,01/Oct/2014 7:19 AM,3.3.0,,,,,4.0.2,,,Grails Plugin,Groovy,,,,,,1,,,,,,,,,"The @Transactional annotation is the new Grails-y way of controlling transactional behavior in a service. It uses an AST transformation to essentially wrap public methods (if added to the class) in a GrailsTransactionTemplate. So you get code that looks like this:

{code:java}
public void reject(Invoice invoice)
  {
    Reference invoice = new Reference(invoice);
    CallSite[] arrayOfCallSite = $getCallSiteArray();
    GrailsTransactionAttribute $transactionAttribute = (GrailsTransactionAttribute)ScriptBytecodeAdapter.castToType(arrayOfCallSite[9].callConstructor(GrailsTransactionAttribute.class), GrailsTransactionAttribute.class);
    GrailsTransactionTemplate $transactionTemplate = (GrailsTransactionTemplate)ScriptBytecodeAdapter.castToType(arrayOfCallSite[10].callConstructor(GrailsTransactionTemplate.class, this.transactionManager, $transactionAttribute), GrailsTransactionTemplate.class);
    $transactionTemplate.execute(new _reject_closure5(this, invoice));
  }
{code}

The real body of the method is in the reject_closure5, which ends up calling a method named ""$tt_reject(...)"".

Clover doesn't realize that the code originally under the reject method has essentially been relocated to the $tt__reject method.

Given that @Transactional is a core part of Grails (starting in 2.3, I believe) and the recommended way to control transactions going forward, this is probably something that should be addressed in Clover core.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Sep/2014 10:20 AM;mparfianowicz;clover-4.0.2-plugin.xml;https://jira.atlassian.com/secure/attachment/130904/clover-4.0.2-plugin.xml","30/Sep/2014 10:18 AM;mparfianowicz;grails-clover-4.0.2.zip;https://jira.atlassian.com/secure/attachment/130902/grails-clover-4.0.2.zip",,,,,,,,,,,,,,,true,,"1|hxhkd3:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-08-21 19:31:38.133,,,,,,,,,,,,,,,,,,,,,,,,"2|hxhwyv:",9223372036854775807,,,,,,,,,,,"1|hxhkdb:",9223372036854775807,319593600,true,,,,,,,,,,e23cac2bea4b(longwa),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwddsn:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 1,Sprint 2,,,,3.0,9223372036854775807,,"1|hxhkcn:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"21/Aug/2014 7:31 PM;e23cac2bea4b;It may be possible to affect small changes in grails-core if it helps support this ticket. I assume all code coverage tools will struggle with this method relocation and might benefit. I have contributor access to grails-core so if there's something that can be done on that side, let me know and I'll work the dev group to see about inclusion.;;;","21/Aug/2014 8:56 PM;mparfianowicz;Thank you very much for your offer. I'll let you know if I need any changes in grails-core after completion of my analysis.;;;","30/Sep/2014 10:52 AM;mparfianowicz;Hi Aaron,

I solved this bug. Modifications in Grails core were not necessary. I tested it on a small sample project which you can find in https://bitbucket.org/atlassian/grails-clover-plugin folder testcases/transactional-example.

If you would like to test it on your real project before I release Clover 4.0.2, then:
 * download attached [^clover-4.0.2-plugin.xml] and [^grails-clover-4.0.2.zip] and put into ~\.m2\repository\org\grails\plugins\clover\4.0.2\
 * add in BuildConfig.groovy of an application you'd like to test:

{code:java} 
grails.project.dependency.resolution = {
    repositories {
        mavenRepo ""https://maven.atlassian.com/content/repositories/atlassian-central-snapshot""
    }	
    dependencies { 
        compile 'com.atlassian.clover:clover:4.0.2-SNAPSHOT'
    }	
    plugins {
        compile ':clover:4.0.2'
    }
}
{code}

 * run your build with -clover.on
 * delete ~\.m2\repository\org\grails\plugins\clover\4.0.2\ after tests (as this is a DEV build, not an official release)
 
Cheers
Marek
;;;",,,,,,,,,,,,,,,,,,,,,,,,
Resolve path to clover.jar when packed as OSGI bundle,CLOV-1546,352814,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,21/Aug/2014 8:30 AM,28/Aug/2014 9:01 PM,15/Nov/2024 6:09 PM,28/Aug/2014 9:00 PM,,,,,,4.0.1,,,Ant Tasks,,,,,,,0,,,,,,,,,"ClassPathUtil.getCloverJarPath() searches for a JAR in case when URL returned by class loader is like: 

{noformat}
jar:file:!/path/to/clover.jar/com/atlassian/clover/util/ClassPathUtil.class
{noformat}

or

{noformat}
file:/path/to/classes/directory/com/atlassian/clover/util/ClassPathUtil.class
{noformat}

However, it does not handle a case for OSGI bundles, which have an URI like:

{noformat}
bundle://28.0:2/com/atlassian/clover/util/ClassPathUtil.class
{noformat}

Fix: use getClass().getProtectionDomain().getCodeSource().getLocation().toURI()
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxhjsv:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxhwf3:",9223372036854775807,,,,,,,,,,,"1|hxhjt3:",9223372036854775807,323049600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwdl8f:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 3,,,,,1.0,9223372036854775807,,"1|hxhjsf:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BAM-14734 BAM-14907 Clover charts,CLOV-1543,351955,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,18/Aug/2014 10:45 AM,29/Jan/2015 1:26 PM,15/Nov/2024 6:09 PM,27/Jan/2015 10:39 AM,,,,,,4.0.3,,,,,,,,,,0,,,,,,,,,"https://jira.atlassian.com/browse/BAM-14734
https://jira.atlassian.com/browse/BAM-14907",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxhfe7:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxhs87:",9223372036854775807,,,,,,,,,,,"1|hxhfef:",9223372036854775807,323308800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxmign:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 5,,,,,5.0,9223372036854775807,,"1|hxhfdr:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BAM-7272 BAM-10516 BAM-11151 Working subdirectory,CLOV-1542,351953,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,18/Aug/2014 10:41 AM,26/Nov/2014 11:49 AM,15/Nov/2024 6:09 PM,19/Nov/2014 12:24 PM,,,,,,4.0.3,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxhfdj:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxhs7j:",9223372036854775807,,,,,,,,,,,"1|hxhfdr:",9223372036854775807,323308800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxmifz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,8.0,9223372036854775807,,"1|hxhfd3:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Instrumenting assignment of method reference to field results in reference to undefined symbol.,CLOV-1538,351316,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,7278dcdf989c,7278dcdf989c,13/Aug/2014 12:37 PM,23/Sep/2014 8:56 AM,15/Nov/2024 6:09 PM,23/Sep/2014 8:55 AM,3.3.0,,,,,4.0.2,,,Instrumentation,,,,,,,0,,,,,,,,,"Instrumenting the following snippet results in the compilation error
[ERROR] clover/src-instrumented/Test.java:[2,18] cannot find symbol
[ERROR] symbol:   variable __CLR3_3_000hysmxbbd
[ERROR] location: class Test

Source:
public class Test {
    Runnable r = System::currentTimeMillis;
}

Instrumented code:
/* $$ This file has been instrumented by Clover 3.3.0#2014033113020816 $$ */public class Test {
    Runnable r = __CLR3_3_000hysmxbbd.lambdaInc(0,System::currentTimeMillis,1);
}
","maven 3.0.5, jdk 1.8.0.11",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxhbef:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-08-13 13:06:45.696,,,,,,,,,,,,,,,,,,,,,,,,"2|hxhoan:",9223372036854775807,,,,,,,,,,,"1|hxhben:",9223372036854775807,323049600,true,,,,,,,,,,mparfianowicz(mparfianowicz),7278dcdf989c(tonytv),,,,,,,,,,,,,,,,,,"1|hx51en:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,2.0,9223372036854775807,,"1|hxhbdz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"13/Aug/2014 1:06 PM;mparfianowicz;Hi Tony, thank you for reporting this issue. I suspect that it's a duplicate of the bug CLOV-1481, which has been fixed in Clover 4.0: https://confluence.atlassian.com/display/CLOVER/Changes+in+Clover-for-Ant+4.0.0

Could you please upgrade to Clover 4.0 and check if the problem still persists and let me know? Cheers!;;;","13/Aug/2014 1:44 PM;7278dcdf989c;Thank you for your quick response.
I've upgraded to Clover 4.0 now, but unfortunately I get the same problem. Here's the output:
/* $$ This file has been instrumented by Clover 4.0.0#2014071112180959 $$ */public class Test {
    Runnable r = __CLR4_0_000hyspg09o.lambdaInc(0,System::currentTimeMillis,1);
}
;;;","13/Aug/2014 2:48 PM;mparfianowicz;Thank you for checking this. I would have to see the entire compiler error message from your build log as well as larger source context (the whole source file would be the best). Could you attach them, please?

Please note that this is a public issue tracker, so in case you're concerned about data privacy, we could move this issue to support.atlassian.com (where issues are visible for reporter only).;;;","21/Aug/2014 9:28 AM;7278dcdf989c;The code in the description is the complete source file; I extracted out a minimal example that triggers the problem. I can attach the full maven project with the minimal example if that will help you, along with the full build log? I cannot attach the original source file that triggered the problem as it's proprietary.;;;","21/Aug/2014 9:41 AM;mparfianowicz;No worries, a current sample should be enough. ;;;","21/Aug/2014 10:08 AM;mparfianowicz;OK. It seems that this is caused by a fact that Clover does not add a static field ( __CLR3_3_000hysmxbbd is Clover's coverage recorder) to a class which has no executable code. Clover treats a class as having no-executable code when it has no methods (e.g. an interface, a plain enum, an empty class). 

And in this bug Clover did not take into account that having a field with a lambda assigned to it *is* an executable code. 

Note that this code sample compiles:

{code:java}
public class Test { 
   Runnable r = System::currentTimeMillis; 
   void foo() { }
}
{code}

Another way to workaround this is to disable instrumentation for a lambda:

{code:java}
public class Test { 
    ///CLOVER:OFF
    Runnable r = System::currentTimeMillis; 
    ///CLOVER:ON
}
{code}

;;;",,,,,,,,,,,,,,,,,,,,,
Application Packages list is empty in Classic report,CLOV-1535,350740,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,11/Aug/2014 11:11 AM,14/Aug/2014 7:39 AM,15/Nov/2024 6:09 PM,11/Aug/2014 11:15 AM,4.0.0,,,,,4.0.1,,,Reporting,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxh8b3:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxhld3:",9223372036854775807,,,,,,,,,,,"1|hxh8bb:",9223372036854775807,323913600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwdkbj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,1.0,9223372036854775807,,"1|hxh8an:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
i have got no url to demo project in part 1,CLOV-1532,350466,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Answered,mparfianowicz,e8a55745e196,e8a55745e196,08/Aug/2014 5:11 AM,15/Jul/2015 9:34 AM,15/Nov/2024 6:09 PM,08/Aug/2014 7:17 AM,,,,,,won't fix,,,,,,,,,,0,ant,clover,junit,,,,,,"'--As explained in clover for ant example part-1 I have not found either the java code or the build.xml code on the example.
--Please help me with an URL that could lead me to that example. i also was getting few errors will verify if the code I worte is good.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxh6rz:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-08-08 07:16:58.092,,,,,,,,,,,,,,,,,,,,,,,,"2|hxhjy7:",9223372036854775807,,,,,,,,,,,"1|hxh6s7:",9223372036854775807,324172800,true,,,,,,,,,,mparfianowicz(mparfianowicz),e8a55745e196(mohan_dhonipati),,,,,,,,,,,,,,,,,,"1|hxkuwf:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxh6rj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Aug/2014 7:16 AM;mparfianowicz;Hi Mohan,

Please have a look at: https://confluence.atlassian.com/display/CLOVER/Clover-for-Ant+tutorial, ""Before you start"" chapter. You have to download the Clover-for-Ant zip file. Tutorial is located in this zip in /tutorial directory. ;;;","08/Aug/2014 7:24 AM;e8a55745e196;@Marek,

--Thanks I got them..

;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Unable to download maven-clover2-plugin 3.1.12.1 or 4.0.0,CLOV-1531,350395,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,silvio.lopez,silvio.lopez,07/Aug/2014 10:22 PM,15/Jul/2015 9:05 AM,15/Nov/2024 6:09 PM,15/Nov/2014 8:58 AM,3.1.12.1,4.0.0,,,,3.1.12.1,4.0.0,,Maven plugin,,,,,,,0,,,,,,,,,"Cannot download maven-clover2-plugin from either maven.org (Central repo) or any of its mirrors. This is because of two different problems:

1) The maven-metadata.xml file on maven.org has version 4.0.0 but the actual 4.0.0 jar is missing. When you use search.maven.org to look for maven-clover2-plugin there is no 4.0.0 plugin. Also, the 3.1.12.1 (and perhaps any) plugin cannot be downloaded because the metadata file is incorrect.

2) The mirrors (e.g., ibiblio) have the 4.0.0 jar but their metadata files have incorrect checksums so neither the 4.0.0 nor the 3.1.12.1 (and perhaps other) plugins can be downloaded.

We worked around this by manually storing the plugin in our Artifactory repo.

I realize this is not directly an Atlassian issue, but it means that (if my understanding is correct) no one can download any of the Clover2 plugins from the Central repo or its mirrors.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxh6jz:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-08-08 07:37:23.482,,,,,,,,,,,,,,,,,,,,,,,,"2|hxhjq7:",9223372036854775807,,,,,,,,,,,"1|hxh6k7:",9223372036854775807,315619200,true,,,,,,,,,,mparfianowicz(mparfianowicz),silvio.lopez(silvio.lopez),,,,,,,,,,,,,,,,,,"1|hxkuqf:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxh6jj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Aug/2014 7:37 AM;mparfianowicz;Hi Silvio,

Thank you very much for reporting this issue.

Clover 4.0 - both Clover Core and Maven plugin are present on Maven Central:

http://repo1.maven.org/maven2/com/atlassian/clover/clover/4.0.0/
http://repo1.maven.org/maven2/com/atlassian/maven/plugins/maven-clover2-plugin/4.0.0/

The same applies for Clover 3.1.12.1:

http://repo1.maven.org/maven2/com/cenqua/clover/clover/3.1.12.1/
http://repo1.maven.org/maven2/com/atlassian/maven/plugins/maven-clover2-plugin/3.1.12.1/

When you use search.maven.org to locate Clover 4.0 JAR then indeed it's missing. This is a problem of indexing, not a problem with missing artifact, however. This issue was already reported to OSS Sonatype team, who was responsible for rsync. I'll ping them again. 

Please note that you can download these artifacts also from the Atlassian Public repository:

https://maven.atlassian.com/content/groups/public/com/atlassian/clover/clover/4.0.0/
https://maven.atlassian.com/content/groups/public/com/atlassian/maven/plugins/maven-clover2-plugin/4.0.0/

{quote}
The mirrors (e.g., ibiblio) have the 4.0.0 jar but their metadata files have incorrect checksums 
{quote}

Are you talking about md5/sha1 checksums or about *.asc signatures? I compared them and checksums are identical. The *.asc signatures are different but afaik it's related with a fact that they have different time stamps.


Cheers
Marek;;;","08/Aug/2014 7:45 AM;mparfianowicz;One more question:

{quote}
The maven-metadata.xml file on maven.org has version 4.0.0 but the actual 4.0.0 jar is missing.
{quote}

Are you talking about the web interface (search.maven.org) or about downloading artifact during 'mvn' command execution?;;;","15/Nov/2014 8:57 AM;mparfianowicz;Update: indexes have been fixed and search engine on Maven Central shows Clover's artifacts now:

http://search.maven.org/#search|gav|1|g%3A%22com.atlassian.clover%22%20AND%20a%3A%22clover%22

I'm closing this bug. Feel free to reopen it in case you would find any problems.;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Test compilation fails in Grails 2.4.3 with ""Method code too large!""",CLOV-1530,350366,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Not a bug,mparfianowicz,e23cac2bea4b,e23cac2bea4b,07/Aug/2014 1:26 PM,26/Sep/2014 8:23 AM,15/Nov/2024 6:09 PM,26/Sep/2014 8:23 AM,4.0.0,,,,,won't fix,,,Grails Plugin,,,,,,,0,,,,,,,,,"Our coverage was working fine until we upgraded to Grails 2.4.3. Now, we are getting this error only when clover is enabled for the build:

{code}
[22:26:30]| Error Compilation error compiling [integration] tests: startup failed:
[22:26:30]General error during class generation: Method code too large!
[22:26:30]
[22:26:30]java.lang.RuntimeException: Method code too large!
[22:26:30]	at groovyjarjarasm.asm.MethodWriter.a(Unknown Source)
[22:26:30]	at groovyjarjarasm.asm.ClassWriter.toByteArray(Unknown Source)
[22:26:30]	at org.codehaus.groovy.control.CompilationUnit$16.call(CompilationUnit.java:807)
[22:26:30]	at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1047)
[22:26:30]	at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:583)
[22:26:30]	at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:561)
[22:26:30]	at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:538)
[22:26:30]	at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:517)
[22:26:30]	at org.codehaus.groovy.tools.FileSystemCompiler.compile(FileSystemCompiler.java:59)
[22:26:30]	at org.codehaus.groovy.tools.FileSystemCompiler.doCompilation(FileSystemCompiler.java:215)
[22:26:30]	at org.codehaus.groovy.ant.Groovyc.runCompiler(Groovyc.java:1161)
[22:26:30]	at org.codehaus.groovy.ant.Groovyc.compile(Groovyc.java:1212)
[22:26:30]	at org.codehaus.groovy.grails.compiler.Grailsc.compile(Grailsc.java:78)
[22:26:30]	at org.codehaus.groovy.ant.Groovyc.execute(Groovyc.java:827)
[22:26:30]	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
[22:26:30]	at sun.reflect.GeneratedMethodAccessor89.invoke(Unknown Source)
[22:26:30]	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[22:26:30]	at java.lang.reflect.Method.invoke(Method.java:606)
[22:26:30]	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
[22:26:30]	at groovy.util.AntBuilder.performTask(AntBuilder.java:319)
[22:26:30]	at groovy.util.AntBuilder.nodeCompleted(AntBuilder.java:264)
[22:26:30]	at groovy.util.BuilderSupport.doInvokeMethod(BuilderSupport.java:147)
[22:26:30]	at groovy.util.AntBuilder.doInvokeMethod(AntBuilder.java:203)
[22:26:30]	at groovy.util.BuilderSupport.invokeMethod(BuilderSupport.java:64)
[22:26:30]	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:907)
[22:26:30]	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:884)
[22:26:30]	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodN(ScriptBytecodeAdapter.java:164)
[22:26:30]	at org.codehaus.groovy.grails.test.runner.GrailsProjectTestCompiler.compileTests(GrailsProjectTestCompiler.groovy:74)
[22:26:30]	at org.codehaus.groovy.grails.test.runner.GrailsProjectTestRunner.processTests(GrailsProjectTestRunner.groovy:392)
[22:26:30]	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[22:26:30]	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
[22:26:30]	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[22:26:30]	at java.lang.reflect.Method.invoke(Method.java:606)
[22:26:30]	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)
[22:26:30]	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:324)
[22:26:30]	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1207)
[22:26:30]	at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1110)
[22:26:30]	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1016)
[22:26:30]	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1152)
[22:26:30]	at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1110)
[22:26:30]	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1016)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:66)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:133)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:141)
[22:26:30]	at org.codehaus.groovy.grails.test.runner.GrailsProjectTestRunner$_runAllTests_closure7.doCall(GrailsProjectTestRunner.groovy:313)
[22:26:30]	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[22:26:30]	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
[22:26:30]	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
[22:26:30]	at java.lang.reflect.Method.invoke(Method.java:606)
[22:26:30]	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)
[22:26:30]	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:324)
[22:26:30]	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1207)
[22:26:30]	at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1110)
[22:26:30]	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1016)
[22:26:30]	at groovy.lang.Closure.call(Closure.java:423)
[22:26:30]	at org.codehaus.groovy.runtime.DefaultGroovyMethods.callClosureForMapEntry(DefaultGroovyMethods.java:4271)
[22:26:30]	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:1408)
[22:26:30]	at org.codehaus.groovy.runtime.dgm$151.invoke(Unknown Source)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoMetaMethodSiteNoUnwrapNoCoerce.invoke(PojoMetaMethodSite.java:271)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:53)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)
[22:26:30]	at org.codehaus.groovy.grails.test.runner.GrailsProjectTestRunner.runAllTests(GrailsProjectTestRunner.groovy:299)
[22:26:30]	at org.codehaus.groovy.grails.test.runner.GrailsProjectTestRunner.runAllTests(GrailsProjectTestRunner.groovy:214)
[22:26:30]	at org.codehaus.groovy.grails.test.runner.GrailsProjectTestRunner.runAllTests(GrailsProjectTestRunner.groovy)
[22:26:30]	at org.codehaus.groovy.grails.test.runner.GrailsProjectTestRunner$runAllTests$0.call(Unknown Source)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)
[22:26:30]	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)
[22:26:30]	at _GrailsTest$_run_closure1.doCall(_GrailsTest.groovy:102)
{code}

I tried to enable --verbose and --verboseCompile but it doesn't really seem to provide additional information on the method/file causing the issue. I assume that the Clover instrumentation is pushing a method over this 64KB boundary, but I don't see any methods on our side that are even close to this size.

Our current clover configuration is:
{code}
        ant.'clover-setup'(initstring: "".clover/trifleet.db"") {
            ant.fileset(dir: ""grails-app"", includes: ""**/domain/**, **/controllers/**, **/jobs/**, **/reports/**, **/services/**, **/taglib/**, **/utils/**"") {}
            ant.fileset(dir: ""src"", includes: ""**/*.groovy, **/*.java"", excludes: ""**/script@*.groovy, **/spring/*.groovy, **/smooks/*.groovy, **/system/database/generators/**, **/system/generator/drillDown/**, **/castor/**, **/DrillDown*.*, **/operational/movement/edi/writer/**"") {
            }
            ant.fileset(dir: ""../common/grails-app"", includes: ""**/domain/**, **/controllers/**, **/jobs/**, **/services/**, **/taglib/**, **/utils/**"") {}
            ant.fileset(dir: ""../common/src"", includes: ""**/*.groovy, **/*.java"", excludes: ""**/script@*.groovy, **/system/database/generators/**, **/castor/**"") {}
            ant.fileset(dir: ""test"", includes: ""**/*.groovy"") {}
            ant.testsources(dir: ""test"") {}
            ant.profiles {
                ant.profile(name: ""default"", coverageRecorder: ""SHARED"")
            }
        }
{code}

I have tried disable the test coverage by setting enabled: false on testsources but that didn't fix the problem.

Please let me know if there's any other options to reduce the size or at least work around this problem as we have no coverage during a critical phase of our project testing right now.","OSX 10.9, Java 1.7.0_60, Grails 2.4.3",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxh67z:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-08-07 13:41:05.592,,,,,,,,,,,,,,,,,,,,,,,,"2|hxhjev:",9223372036854775807,,,,,,,,,,,"1|hxh687:",9223372036854775807,319939200,true,,,,,,,,,,e23cac2bea4b(longwa),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxkuf3:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxh67j:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"07/Aug/2014 1:41 PM;mparfianowicz;Hi Aaron,

1) Could you try running a build with -clover.debug? Clover should print verbose messages like:

""Processing <source file>, package <package name>""

This should help in finding the problematic class.

2) If the above won't help, then I suggest to look for the largest source files / compiled classes in your project and try excluding them in the ant.fileset. 

3) If you still won't be able to find it, you can reduce amount of code added by Clover by reducing the instrumentation level to 'method'. 

{code:java}
  ant.'clover-setup'(initstring: "".clover/trifleet.db"", instrumentationLevel: ""method"") {
  ...
{code}

but please bear in mind that it will cause that Clover will record method coverage only  (i.e. no statement and no branch coverage).

Cheers
Marek;;;","07/Aug/2014 3:30 PM;e23cac2bea4b;I turned on -clover.debug but it doesn't seem to be revealing the class/method in error:

The last file processed by clover-setup is only 107 lines TOTAL, just a simple JUnit test.

{code}
[10:26:09] :     [Step 4/8] [clover-setup] Processing ""/home/teamcity/TeamCity/buildAgent1/work/bd2002bcf613733a/common/test/integration/com/triu/vendor/VendorTests.groovy"", package - ""com.triu.vendor""
[10:26:13] :     [Step 4/8] | Compiling 578 source files.
[10:26:13] :     [Step 4/8] [clover-setup] Cleaning up Clover directory /tmp/grover5416945471325687610
[10:26:13] :     [Step 4/8] | Error Compilation error compiling [integration] tests: startup failed:
[10:26:13] :     [Step 4/8] General error during class generation: Method code too large!
[10:26:13] :     [Step 4/8]
[10:26:13] :     [Step 4/8] java.lang.RuntimeException: Method code too large!
[10:26:13] :     [Step 4/8]     at groovyjarjarasm.asm.MethodWriter.a(Unknown Source)
[10:26:13] :     [Step 4/8]     at groovyjarjarasm.asm.ClassWriter.toByteArray(Unknown Source)
[10:26:13] :     [Step 4/8]     at org.codehaus.groovy.control.CompilationUnit$16.call(CompilationUnit.java:807)
[10:26:13] :     [Step 4/8]     at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1047)
[10:26:13] :     [Step 4/8]     at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:583)
[10:26:13] :     [Step 4/8]     at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:561)
{code};;;","07/Aug/2014 4:05 PM;e23cac2bea4b;I'm attaching the debugger during the compile phase and trying to set an exception breakpoint to catch that specific exception. Hopefully that will at least reveal the class/method causing the problems.;;;","07/Aug/2014 4:58 PM;e23cac2bea4b;Ok, we found the culprit. There was a Spec test with about 15 when/then blocks. The text of the method was about 300 lines but the disassembled code was much larger. I guess Spock has a large amount of bytecode generation to support all the features and that results in a HUGE expansion in feature method size. The spock stuff combined with the clover instrumentation resulted in over 64KB method size.

Our solution was just to split the test into smaller parts. The only thing that sucks is the message is so terrible.

Might be something good to add to the FAQ or Troubleshooting section.;;;","08/Aug/2014 8:40 AM;mparfianowicz;I have created a KB article:

https://confluence.atlassian.com/display/CLOVERKB/Method+code+too+large

Do you have any suggestions? I'd like to close this bug, otherwise. ;;;","26/Sep/2014 8:23 AM;mparfianowicz;Hi Aaron, I'm closing this issue as this is not a bug in Clover. In my opinion the KB article should be sufficient. 

If you have a different opinion or you have ideas how to solve it, please do not hesitate to comment. 

Cheers
Marek;;;",,,,,,,,,,,,,,,,,,,,,
Clover tab with an HTML report generated by Clover 4 shall have a vertical scroll bar (BAM-14777),CLOV-1527,347942,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,28/Jul/2014 8:56 AM,14/Aug/2014 11:00 AM,15/Nov/2024 6:09 PM,07/Aug/2014 9:55 AM,,,,,,4.0.1,,,Reporting,,,,,,,0,,,,,,,,,See BAM-14777.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxgstr:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxh65b:",9223372036854775807,,,,,,,,,,,"1|hxgstz:",9223372036854775807,325123200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwdka7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 1,Sprint 2,,,,1.0,9223372036854775807,,"1|hxgstb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
View latest Clover information (BAM-14428),CLOV-1526,347941,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,28/Jul/2014 8:54 AM,28/Aug/2014 9:02 PM,15/Nov/2024 6:09 PM,28/Aug/2014 9:01 PM,,,,,,4.0.1,,,Reporting,,,,,,,0,,,,,,,,,See BAM-14428.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxgstj:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxh653:",9223372036854775807,,,,,,,,,,,"1|hxgstr:",9223372036854775807,325123200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwdl73:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,5.0,9223372036854775807,,"1|hxgst3:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
AntIntegrator adds unnecessary double quotes for -Dparam=value JVM options,CLOV-1517,346686,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,18/Jul/2014 7:14 AM,07/Nov/2014 9:47 PM,15/Nov/2024 6:09 PM,01/Sep/2014 8:42 PM,3.0,,,,,4.0.1,,,Ant Tasks,,,,,,,0,,,,,,,,,"Class com.atlassian.clover.ci.AntIntegrator puts values of the following properties:

-Dclover.historydir and -Dclover.license.cert, -Dclover.license.path

in double quotes. On Windows platform it causes problems when a value contains space character - parameters are being split. See BAM-10740.

Add a check if OS is Windows and don't add double quotes in such case. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxglin:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxgyx3:",9223372036854775807,,,,,,,,,,,"1|hxgliv:",9223372036854775807,325987200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwdl8v:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 3,,,,,1.0,9223372036854775807,,"1|hxgli7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tool tips in dashboard widgets shall not be displayed on the right,CLOV-1514,345149,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,10/Jul/2014 9:56 AM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,4.0.0,,,,,open-source,,,Reporting,,,,,,,0,adg,,,,,,,,"Tool tips are by default placed on the right, so they don't fit in the 'Clover Dashboard' view:

!screenshot-1.png!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jul/2014 9:58 AM;mparfianowicz;screenshot-1.png;https://jira.atlassian.com/secure/attachment/123022/screenshot-1.png",,,,,,,,,,,,,,,,true,,"1|hxgdun:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxgrbr:",9223372036854775807,,,,,,,,,,,"1|hxgduv:",9223372036854775807,326678400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkdj:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,1.0,9223372036854775807,,"1|hxgdtz:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"The ""Show methods"" link does not open the modal dialog",CLOV-1512,344973,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,09/Jul/2014 8:56 AM,11/Jul/2014 12:09 PM,15/Nov/2024 6:09 PM,09/Jul/2014 10:01 AM,4.0.0,,,,,4.0.0,,,Reporting,,,,,,,0,,,,,,,,,"This happens for inner classes (i.e. when a class name contains ""."")

May be caused by a way how Modal Dialog handles element id.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxgcmn:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxgq4n:",9223372036854775807,,,,,,,,,,,"1|hxgcmv:",9223372036854775807,326764800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxk50f:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,1.0,9223372036854775807,,"1|hxgclz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"09/Jul/2014 8:57 AM;mparfianowicz;E.g.:
{code:xml}
<td>
<button class=""aui-button aui-button-link dialog-show-button"" data-dialog-id=""dialog-TreeMap.Entry"">Show methods</button>
</td>
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"clover2:clover goal does not detect test classes when project.basedir contains "".."" in the path",CLOV-1504,340273,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,d67090aca972,d67090aca972,15/Jun/2014 6:42 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.3.0,,,,,open-source,,,Maven plugin,,,,,,,0,,,,,,,,,"For some projects Clover may work incorrectly: it counts all test classes as normal classes adding up their coverage to the total coverage.

This is what I am talking about:
https://www.evernote.com/shard/s255/sh/6e0ca103-0f32-4f1d-a9ad-a79ffbaa460b/db1b446cec009a93ae157f86190ae9c5

The clover maven plugin seems to detect test classes correctly though:

https://gist.github.com/bbyk/059755f7d8b1375eaa71

But later on in the xml generated for the coverage all test classes are grouped together with the application class.

The issue seems to be intermittent depending on the project. Some projects don't have the issue, some do while there are not significant changes in clover configuration between the projects.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxfr73:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-06-16 07:12:15.672,,,,,,,,,,,,,,,,,,,,,,,,"2|hxg59r:",9223372036854775807,,,,,,,,,,,"1|hxfr7b:",9223372036854775807,328492800,true,,,,,,,,,,d67090aca972(boris.byk),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwfklz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxfr6f:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"16/Jun/2014 7:12 AM;mparfianowicz;Hi Boris, was your intention to raise a bug or a support ticket? 

If you need an immediate response and help with finding the root cause and a possible fix or workaround, then please raise a ticket on support.atlassian.com (bug are handled according to our standard https://confluence.atlassian.com/display/Support/Atlassian+Bug+Fixing+Policy).

Could you give more details about your project(s), such as:
 - what Maven version do you use?
 - do you use clover2:setup or clover2:instr?
 - do you have any custom settings for maven-clover2-plugin in your POMs?
 - in which order to you call maven goals (for instance: mvn clean clover2:setup verify clover2:aggregate clover2:clover)?
 - do you call Clover goals from mvn commandline or do you have them bound to build phases in pom.xml?
 - what test frameworks do you use?
 - what is the naming convention for your test classes (especially the ones which were not detected by Clover as test classes)?
 - in which folders do you keep your test classes (src/test/java? src/test/groovy? target/src-generated? etc ...)?

Cheers
Marek;;;","16/Jun/2014 6:16 PM;d67090aca972;Hi Marek,

Thanks for the heads-up. I will check with our helpdesk if we can go with a support ticket.

I would be glad to provide addition context:

bq. in which folders do you keep your test classes (src/test/java? src/test/groovy? target/src-generated? etc ...)?

src/test/java

bq. what Maven version do you use?""

3.2.1

bq. what test frameworks do you use?

testng

bq. what is the naming convention for your test classes (especially the ones which were not detected by Clover as test classes)?

All test classes end up in ""All classes"". They naming conventions: XxxxxTest or GSXxxxxTest

bq. do you call Clover goals from mvn commandline or do you have them bound to build phases in pom.xml?

command line

bq. do you use clover2:setup or clover2:instr?, in which order to you call maven goals (for instance: mvn clean clover2:setup verify clover2:aggregate clover2:clover)?

{noformat}
mvn --settings ${basedir}extras/maven/settings.xml -f ${basedir}pom.xml -Dfindbugs.skip=true clean com.atlassian.maven.plugins:maven-clover2-plugin:3.3.0:clean com.atlassian.maven.plugins:maven-clover2-plugin:3.3.0:instrument-test com.atlassian.maven.plugins:maven-clover2-plugin:3.3.0:save-history com.atlassian.maven.plugins:maven-clover2-plugin:3.3.0:clover -Pclover
{noformat}

do you have any custom settings for maven-clover2-plugin in your POMs?
{noformat}
          <profile>
            <id>clover</id>
            <build>
                <pluginManagement>
                    <plugins>
                        <plugin>
                            <groupId>com.atlassian.maven.plugins</groupId>
                            <artifactId>maven-clover2-plugin</artifactId>
                            <version>${clover.version}</version>
                            <configuration>
                                <generateHtml>true</generateHtml>
                                <generateXml>true</generateXml>
                            </configuration>
                        </plugin>
                    </plugins>
                </pluginManagement>
            </build>
        </profile>
{noformat};;;","16/Jun/2014 9:27 PM;mparfianowicz;In a build log I see:
{noformat}
[INFO] --- maven-clover2-plugin:3.3.0:setup (default-cli) @ ########## ---
{noformat}

but you wrote that you're calling:
{noformat}
mvn ... com.atlassian.maven.plugins:maven-clover2-plugin:3.3.0:instrument-test
{noformat}

Which one do you use? Or maybe both (in different build plans on your CI server)? ;;;","16/Jun/2014 9:43 PM;d67090aca972;Marek, a good catch. That because I played with the different settings and that copy/paste is from one of the attempts. All the variants were unsuccessful btw. Here is the portion of info with the correct settings:

{noformat}
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ ##### ---
[INFO] 
[INFO] --- maven-clover2-plugin:3.3.0:clean (default-cli) @ ###### ---
[INFO] 
[INFO] >>> maven-clover2-plugin:3.3.0:instrument-test (default-cli) @ ##### >>>
[INFO]
[INFO] --- maven-clover2-plugin:3.3.0:instrumentInternal (default-cli) @ ####### ---
[INFO] Clover Version 3.3.0, built on March 31 2014 (build-912)
[INFO] Loaded from: /var/hudson-metal/workspace/#######/.m2/com/cenqua/clover/clover/3.3.0/clover-3.3.0.jar
[INFO] Clover: Commercial License registered to #####.
[INFO] Creating new database at '/var/hudson-metal/workspace/#######/extras/clover/../../target/clover/clover.db'.
[INFO] Processing files at 1.6 source level.
[INFO] Clover all over. Instrumented 26 files (7 packages).
[INFO] Elapsed time = 0.906 secs. (28.698 files/sec, 5,858.72 srclines/sec)
[INFO] Clover Version 3.3.0, built on March 31 2014 (build-912)
[INFO] Loaded from: /var/hudson-metal/workspace/######/.m2/com/cenqua/clover/clover/3.3.0/clover-3.3.0.jar
[INFO] Clover: Commercial License registered to #######.
[INFO] Updating existing database at '/var/hudson-metal/workspace/########/extras/clover/../../target/clover/clover.db'.
[INFO] Processing files at 1.6 source level.
[INFO] Clover all over. Instrumented 3 files (1 package).
[INFO] 20 test methods detected.
[INFO] Elapsed time = 0.041 secs. (73.171 files/sec, 11,243.902 srclines/sec)
{noformat}

;;;","16/Jun/2014 10:06 PM;mparfianowicz;A log fragment:
{noformat}
[INFO] Clover all over. Instrumented 3 files (1 package).
[INFO] 20 test methods detected
{noformat}
indeed suggests that test classes were detected by Clover. So I suspect that there must be something wrong with a clover2:clover reporting. A default report configuration has:

{code:xml}
 <fileset id=""test.sources"" dir=""${projectDir}"">
        <include name=""${testPattern}""/>
    </fileset>
...
<clover-report>
            <current ...>
<testsources refid=""test.sources""/>
                <columns refid=""clover.columns""/>
            </current> 
   </clover-report>
    </target> 
{code}

so there may be some problem with scanning the ""$\{projectDir\}"" folder. ;;;","16/Jun/2014 10:24 PM;d67090aca972;How would I set ""testPattern"" in a maven project? I would like to experiment with that.;;;","16/Jun/2014 10:26 PM;mparfianowicz;https://confluence.atlassian.com/display/CLOVER/Creating+custom+reports;;;","16/Jun/2014 10:27 PM;mparfianowicz;default testPattern is ""\*\*/src/test/\*\*"";;;","16/Jun/2014 10:35 PM;mparfianowicz;Do you run your builds from a build workspace root or from some sub-directory?

I'm asking because maybe at the time when the clover2:clover is called, the working directory points to some wrong location (subdirectory? outside build workspace? in the last maven module built?), as a result the Ant's <fileset> scanner (clover2:clover calls <clover-setup> under the hood) does not find them and thus it treats all your sources as application code. 

Tip: you can run your maven build with debug logging (mvn -X); it may show more details what's happening. 

Feel free to raise a ticket at support.atlassian.com - you'll be able to more freely attach logs and other sensitive data - as all issues reported there are non-public and are covered by Atlassian privacy policy. (https://www.atlassian.com/legal/privacy-policy);;;","16/Jun/2014 11:50 PM;d67090aca972;That is exactly I was going to tell that I figured out the problem: it is that my working directory doesn't match the project directory. I run maven like this:

{noformat}
mvn --settings ${basedir}extras/maven/settings.xml -f ${basedir}pom.xml ...
{noformat}

from a directory ""above"" the directory of the project. Maven part works well but you guys seem to rely on actual current directory vs maven project directory when you do your matching for ""testPattern"". In other words, if I run the command above, inside maven ${project.basedir} will point to the directory of the project,  while it seems when you run the reported it reads current directory which a directory above the project directory.;;;","17/Jun/2014 12:22 AM;d67090aca972;Ok, additional info from the further testing. The report phase seems to work fine if:

{noformat}
${project.basedir}=/var/hudson-metal/workspace/project-client
{noformat}

and it doesn't work if:

{noformat}
${project.basedir}=/var/hudson-metal/workspace/project-client/extras/clover/../..
{noformat}

Please note that in both cases ${project.basedir} point at the same directory
;;;","18/Jun/2014 8:11 AM;mparfianowicz;Do I understand correctly that you've found a workaround which works for you? 

I'm asking, because it will help me with setting a correct priority for this bug. ;;;","19/Jun/2014 2:32 AM;d67090aca972;Yes, I found a workaround. Thank you, Marek!;;;",,,,,,,,,,,,,,
tree view is not compacted properly when only 1 package is present,CLOV-1502,339550,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,10/Jun/2014 9:57 AM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,14/Aug/2014 7:41 AM,4.0.0,,,,,4.0.1,,,Reporting,,,,,,,0,,,,,,,,,"!tree_view_bug.png!

We have com.cenqua + samples.money instead of exactly one (root) node named ""com.cenqua.samples.money"". 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/2014 9:57 AM;mparfianowicz;tree_view_bug.png;https://jira.atlassian.com/secure/attachment/120586/tree_view_bug.png",,,,,,,,,,,,,,,,true,,"1|hxfmxr:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxg14n:",9223372036854775807,,,,,,,,,,,"1|hxfmxz:",9223372036854775807,329270400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwdkbb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 1,Sprint 2,,,,1.0,9223372036854775807,,"1|hxfmx3:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Grails' controller methods are not shown as entered,CLOV-1492,330803,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,f67dcf827f0e,f67dcf827f0e,30/Apr/2014 8:45 PM,24/Nov/2014 1:56 PM,15/Nov/2024 6:09 PM,30/Sep/2014 1:39 PM,3.3.0,,,,,4.0.2,,,Grails Plugin,,,,,,,2,,,,,,,,,"Hello,
For some reason the method in a controller is marked as not entered even though the content inside is shown to be executed. Please can you help me rationalize/ understand this?

Please refer to me screenshots:
index_method_not_executed.png: to see that the index() method is not executed even though its contents are.
test_for_index_method.png: the test that is run to get the method to run.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Apr/2014 9:41 PM;f67dcf827f0e;DashboardController.groovy;https://jira.atlassian.com/secure/attachment/115805/DashboardController.groovy","30/Apr/2014 9:41 PM;f67dcf827f0e;DashboardControllerTests.groovy;https://jira.atlassian.com/secure/attachment/115806/DashboardControllerTests.groovy","28/Sep/2014 8:49 PM;e63dcdfbbead;cloverController-bug-report-28092014.zip;https://jira.atlassian.com/secure/attachment/130136/cloverController-bug-report-28092014.zip","30/Apr/2014 8:46 PM;f67dcf827f0e;index_method_not_executed.PNG;https://jira.atlassian.com/secure/attachment/115803/index_method_not_executed.PNG","30/Apr/2014 8:46 PM;f67dcf827f0e;test_for_index_method.PNG;https://jira.atlassian.com/secure/attachment/115802/test_for_index_method.PNG",,,,,,,,,,,,true,,"1|hxenof:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-04-30 21:32:29.261,,,,,,,,,,,,,,,,,,,,,,,,"2|hxf2tj:",9223372036854775807,,,,,,,,,,,"1|hxenon:",9223372036854775807,314841600,true,,,,,,,,,,f67dcf827f0e(ayadav2),e35e339c0a6a(fdurbin),mparfianowicz(mparfianowicz),e63dcdfbbead(sam.farmer),,,,,,,,,,,,,,,,"1|hxl1xz:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,3.0,9223372036854775807,,"1|hxennr:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"30/Apr/2014 9:32 PM;mparfianowicz;Thank you for reporting this bug. Indeed, it should render a method as marked. 
 * what grails version did you use? 
 * did you find this bug only in one controller class or in many of them? always for index() method? 
 * did you perform a build from a clean workspace?
 * could you attach code sample?

I'm assigning this bug to the release 4.0.0 backlog. ;;;","30/Apr/2014 9:41 PM;f67dcf827f0e;Grails version: 2.3.5
This was observed in different controllers: in all cases the method name did not have a argument to it. it was observed that if the method name had a argument it was marked correctly.
The build was performed on a clean workspace
The test and the grails code is attached.
;;;","28/Sep/2014 8:44 PM;e63dcdfbbead;Hitting same bug on Grails 2.3.11 and its throwing off our code coverage numbers. Can provide sample app with this code if desired. 

Looks like will be fixed in 4.1.  

Any workarounds until then?

When is 4.1 slotted for?;;;","28/Sep/2014 8:49 PM;e63dcdfbbead;And to answer Marek's questions:

what grails version did you use?
2.3.11

did you find this bug only in one controller class or in many of them? always for index() method?
Every controller. Every method.

did you perform a build from a clean workspace?
Yes.

could you attach code sample?
Yup. Attached.;;;","29/Sep/2014 7:31 AM;mparfianowicz;Thanks a lot for a code sample, Sam. I plan to release Clover 4.1 in first quarter of 2015. 

However, due to a fact that I'm working on some Groovy/Grails bugs in an incoming release (4.0.2) I will add this issue to a backlog. In case I find enough time for it, I'll try to make a fix for this bug sooner. ;;;","29/Sep/2014 1:07 PM;e63dcdfbbead;Thanks Marek!

Are there any workarounds?;;;","29/Sep/2014 1:10 PM;mparfianowicz;I don't know any workaround right now. ;;;","29/Sep/2014 1:11 PM;e63dcdfbbead;Ok. Thanks for the quick response.;;;","30/Sep/2014 12:15 PM;mparfianowicz;A bug was caused by a fact how AST looks like for controller classes - MethodNode.getCode() has TryCatchStatement instead of a BlockStatement (as for normal methods). I've added handling of this special case in Clover. ;;;","24/Nov/2014 1:56 PM;e35e339c0a6a;as workaround (if it's really necessary) you can change the access modifier to protected (or private...).

this issue only happens with public and default.;;;",,,,,,,,,,,,,,,,,
Clover safeEval method is imcompatible with Groovy's @CompileStatic annotation,CLOV-1490,329255,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,41d7a72aec2c,41d7a72aec2c,18/Apr/2014 6:30 PM,01/Sep/2014 8:42 PM,15/Nov/2024 6:09 PM,01/Sep/2014 8:42 PM,3.3.0,,,,,4.0.1,,,Groovy,,,,,,,2,,,,,,,,,"When trying to use Clover on a Groovy class that is marked @CompileStatic and it contains a null-safe operator (e.g. Bar bar = foo?.bar), then the groovyc compilation fails with the error: 

No such property: bar for class: java.lang.Object

The error is that the generated {code}$CLV_safeEval${code} method returns an Object instead of the type of the property. This then causes Groovy compiler to fail later.

I've created a sample project that exhibits the problem at https://github.com/johnrengelman/clover-grooyv-compilestatic

Simply run {code}./gradlew test{code}

","Groovy Version - 2.1.3
Clover Version - 3.3.0
Java Version - 1.7.0",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Aug/2014 8:38 AM;mparfianowicz;grails-clover-4.0.1-pre-release.ZIP;https://jira.atlassian.com/secure/attachment/126586/grails-clover-4.0.1-pre-release.ZIP",,,,,,,,,,,,,,,,true,,"1|hxeezj:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-04-22 08:36:05.678,,,,,,,,,,,,,,,,,,,,,,,,"2|hxeue7:",9223372036854775807,,,,,,,,,,,"1|hxeezr:",9223372036854775807,322531200,true,,,,,,,,,,e23cac2bea4b(longwa),41d7a72aec2c(jengelman),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,"1|hwdl7b:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 3,,,,,3.0,9223372036854775807,,"1|hxeeyv:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"22/Apr/2014 8:36 AM;mparfianowicz;Thanks a lot for reporting this John. I'm adding this to a release backlog.;;;","22/Aug/2014 1:13 PM;mparfianowicz;https://maven.atlassian.com/content/repositories/atlassian-central-snapshot/com/atlassian/clover/clover/4.0.1-SNAPSHOT/;;;","26/Aug/2014 10:35 PM;e23cac2bea4b;FYI, we ran across this today. I tried using the 4.0.1-SNAPSHOT above but it doesn't seem to fix the issue.

I confirmed that I'm using the 4.0.1 version for the clover dependency (I exclude 'clover' from the 4.0.0 plugin version).

;;;","27/Aug/2014 8:38 AM;mparfianowicz;[^grails-clover-4.0.1-pre-release.ZIP];;;","27/Aug/2014 8:41 AM;mparfianowicz;I have attached the pre-release build of Clover for Grails version 4.0.1. Could you please update dependency in your BuildConfig.groovy, i.e.: 

{code:java}
    plugins {
        compile "":clover:4.0.1""
    }
    dependencies {
        compile ""com.atlassian.clover:clover:4.0.1-SNAPSHOT""
    }
{code}

and run the build again? I'd like to ensure that you indeed use the same version. ;;;","27/Aug/2014 8:46 AM;mparfianowicz;In case the problem still persists, may I ask you to:

1) Run the build with 'grails test-app -clover.on --verbose -Dclover.grover.ast.dump=true'. This will cause that Clover will dump AST (abstract syntax trees) to your java.io.tmpdir directory. You'll see messages in log like:

{noformat}
[clover-setup] Original source for <path to A.groovy> written to <java.io.tmpdir>\ast\A.groovy.before.clovered
[clover-setup] Instrumented source for <path to A.groovy> written to <java.io.tmpdir>\ast\A.groovy.after.clovered
{noformat}

2) Attach *.before.clovered and *.after.clovered files for a single groovy class which does not compile due to the safeEval() problem?

3) Could you also remove the @CompileStatic annotation and run a build again (it should succeed) and attach the *.class file produced?

I'd like to analyze it. ;;;",,,,,,,,,,,,,,,,,,,,,
[1.8] instrumentation fails,CLOV-1482,328220,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Duplicate,mparfianowicz,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,11/Apr/2014 12:42 PM,11/Apr/2014 1:09 PM,15/Nov/2024 6:09 PM,11/Apr/2014 1:08 PM,3.3.0,,,,,3.2.2,,,Instrumentation,,,,,,,0,,,,,,,,,"The following piece of code fails to be instrumented

List<String> s = new ArrayList<>();
String.join("", "", s.stream().map(e -> ""'"" + e + ""'"").collect(Collectors.toSet()));

With this error
[ERROR] /Users/kasperni/workspace/cake-container/cake-util/cake-util/target/clover/src-instrumented/org/cakeframework/internal/util/ValidOptions.java:[40,52] no suitable method found for join(java.lang.String,java.util.Set<java.lang.Object>)
[ERROR] method java.lang.String.join(java.lang.CharSequence,java.lang.CharSequence...) is not applicable
[ERROR] (varargs mismatch; inference variable R has incompatible bounds
[ERROR] equality constraints: java.util.Set<java.lang.Object>
[ERROR] upper bounds: java.lang.CharSequence,java.lang.Object)
[ERROR] method java.lang.String.join(java.lang.CharSequence,java.lang.Iterable<? extends java.lang.CharSequence>) is not applicable
[ERROR] (argument mismatch; inference variable R has incompatible bounds
[ERROR] equality constraints: java.util.Set<java.lang.Object>
[ERROR] upper bounds: java.lang.Iterable<? extends java.lang.CharSequence>,java.lang.Object)",,,,,,,,,,,,,,,,,,,,,,,,CLOV-1463,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxe8zz:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2014-04-11 13:06:19.448,,,,,,,,,,,,,,,,,,,,,,,,"2|hxeolb:",9223372036854775807,,,,,,,,,,,"1|hxe907:",9223372036854775807,334454400,true,,,,,,,,,,4d85d3f9-8aa3-417a-bb6f-61e186be8e94(kasperni),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxib7z:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxe8zb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"11/Apr/2014 12:58 PM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Might be a duplicate. But haven't seen 'varargs mismatch' before;;;","11/Apr/2014 1:06 PM;mparfianowicz;Welcome back, Kasper :-)

Yes, it's a duplicate of CLOV-1463, which you have reported some time ago. 
It has the same error message ""inference variable ... has incompatible bounds"". 

Workarounds:
1) change to block lambda
{noformat}map(e -> {  return ""'"" + e + ""'""; }){noformat} 

2) use CLOVER:OFF

{noformat}
///CLOVER:OFF
String.join("", "", s.stream().map(e -> ""'"" + e + ""'"").collect(Collectors.toSet()));
///CLOVER:ON
{noformat}

3) disable instrumentation for expression-like lambdas,e.g. 

{noformat}
<clover-setup instrumentLambda=""block"">
{noformat}

Cheers
Marek;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Invalid instrumentation code for test methods inside anonymous inline classes,CLOV-1481,328024,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,10/Apr/2014 12:30 PM,11/Jul/2014 12:54 PM,15/Nov/2024 6:09 PM,05/Jun/2014 8:30 AM,3.2.1,,,,,3.3.1,4.0.0,,Instrumentation,,,,,,,0,,,,,,,,,"Clover generates incorrect reference to the static field  __CLR3_2_2_TEST_NAME_SNIFFER in case when a test method is declared inside 
an inner (static or non-static) or inside an anonymous inline class, which are located inside a non-test top-level class. 

In such case, the top-level class doesn't have the __CLR3_2_2_TEST_NAME_SNIFFER field (as it's not a test class), but inner/inline classes (which are test ones) are trying to access this field. 

{noformat}
[clover] 2 test methods detected.
[javac] ----------
[javac] 1. ERROR in ...
[javac] public boolean test() {__CLR3_2_262c962c9htee2hlb.R.globalSliceStart(getClass().getName(),284284);int $CLV_p$=0;java.lang.Throwable $CLV_t$=null;try
{boolean $CLV_r$=__CLR3_2_2qua64563cs();$CLV_p$=1;return $CLV_r$;}

catch(java.lang.Throwable $CLV_t2$){if($CLV_p$==0&&$CLV_t$==null){$CLV_t$=$CLV_t2$;}_CLR3_2_262c962c9htee2hlb.R.rethrow($CLV_t2$);return false;}finally{CLR3_2_262c962c9htee2hlb.R.globalSliceEnd(getClass().getName(),""com.xyz.RuntimeDebugger.SaveTestCaseAction.getDefaultAvailablePredicate.test"",CLR3_2_2_TEST_NAME_SNIFFER.getTestName(),284284,$CLV_p$,$CLV_t$);}}private boolean __CLR3_2_2qua64563cs(){_CLR3_2_262c962c9htee2hlb.R.inc(284284);
[javac] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[javac] __CLR3_2_2_TEST_NAME_SNIFFER cannot be resolved
[javac] ----------
[javac] 1 problem (1 error)
{noformat}

Code example:

{code:java}
public class SnifferInInnerAndInline {
    interface TestAction {
        boolean test();
    }

    static class InnerStaticTest {
        public void testInnerStatic() {  // FAILS HERE

        }
    }

    class InnerTest {
        public void testInnerNonStatic() {  // FAILS HERE

        }
    }

    TestAction testWithInline() {
        return new TestAction() {
            public boolean test() {  // FAILS HERE  (assuming that we have a custom test pattern which matches it)
                return true;
            }
        };
    }

    public static void main(String[] args) {
        new SnifferInInnerAndInline.InnerStaticTest().testInnerStatic();
        new SnifferInInnerAndInline().new InnerTest().testInnerNonStatic();
        new SnifferInInnerAndInline().testWithInline().test();
    }

}
{code}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxe7yv:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxenlb:",9223372036854775807,,,,,,,,,,,"1|hxe7z3:",9223372036854775807,329875200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxdswn:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 4,,,,,2.0,9223372036854775807,,"1|hxe7y7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"03/Jun/2014 12:17 PM;mparfianowicz;Snapshot build with a fix (time stamp Jun 03):
 * http://maven.atlassian.com/content/repositories/atlassian-public-snapshot/com/cenqua/clover/clover/3.3.1-SNAPSHOT/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Double instrumentation error when running 'mvn site' on JDK8,CLOV-1478,326225,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,31/Mar/2014 9:42 AM,29/Aug/2014 8:30 AM,15/Nov/2024 6:09 PM,29/Aug/2014 8:30 AM,3.2.0,,,,,4.0.1,,,Maven plugin,,,,,,,0,,,,,,,,,"Run 'mvn clean site' on the src/it/setTestFailureIgnore project using the JDK8 and Maven 2.2.1. It fails with an error:

{noformat}
[INFO] Processing files at 1.8 source level.
[INFO] Instrumentation error
com.atlassian.clover.api.CloverException: Double instrumentation detected: f:\Work\release\release-maven-clover2-plugin-hg\src\it\setTestFailureIgnore\target\clover\src-instrumented\com\atlassian\maven\plugin\clover\samples\setTestFailureIgnore\Simple.java appears to have already been instrumented by Clover.
	at com.atlassian.clover.instr.java.CloverTokenStreamFilter.guardAgainstDoubleInstrumentation(CloverTokenStreamFilter.java:66)
...
{noformat}

The same site goal works correctly under JDK7.
","JDK 1.8, Maven 2.2.1, Clover 3.2 or abovesmv",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxdytz:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxeer3:",9223372036854775807,,,,,,,,,,,"1|hxdyu7:",9223372036854775807,322876800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwdl7j:",9223372036854775807,,,,,,,,,,,,,,,,,,,,Sprint 3,,,,,1.0,9223372036854775807,,"1|hxdytb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"31/Mar/2014 9:45 AM;mparfianowicz;Build succeeds using Maven 3.0.4 or later and JDK8. So it must be a bug in Maven 2.x. Need to check Maven's release notes... ;;;","22/Aug/2014 9:00 PM;mparfianowicz;Fails on Maven 3.0.3 with Java8 and with Java7 - but a failure is different - build is successful, but the target/site/clover is empty. 

Maven 3.0.3 uses the maven-site-plugin:2.0.1, while the Maven 3.0.4 uses the maven-site-plugin:3.0. The 2.0.1 version is incompatible with Maven 3 as reported here: https://jira.codehaus.org/browse/MNG-5225.;;;","22/Aug/2014 9:32 PM;mparfianowicz;Maven 2.2.1 on Java7 vs Java8:

Java7:

{noformat}
Java version: 1.7.0_55 
OS name: ""windows 7"" version: ""6.1"" arch: ""amd64"" Family: ""windows"" <<<<
...
[DEBUG] Clover main source directories before change:
[DEBUG] [Clover]  source root [f:\Work\maven-clover2-plugin-hg\src\it\setTestFailureIgnore\src\main\java]
[DEBUG] Clover main source directories after change:
[DEBUG] [Clover]  source root [f:\Work\maven-clover2-plugin-hg\src\it\setTestFailureIgnore\target\clover\src-instrumented]
[DEBUG] Clover test source directories before change:
[DEBUG] [Clover]  source root [f:\Work\maven-clover2-plugin-hg\src\it\setTestFailureIgnore\src\test\java]
[DEBUG] Clover test source directories after change:
[DEBUG] [Clover]  source root [f:\Work\maven-clover2-plugin-hg\src\it\setTestFailureIgnore\target\clover\src-test-instrumented]
...

[DEBUG] Parameter list being passed to Clover CLI:
...
[DEBUG]   parameter = [f:\Work\maven-clover2-plugin-hg\src\it\setTestFailureIgnore\src\main\java\com\atlassian\maven\plugin\clover\samples\setTestFailureIgnore\Simple.java]

{noformat}

Java 8:

{noformat}
Java version: 1.8.0_05
OS name: ""windows 7"" version: ""6.1"" arch: ""amd64"" Family: ""dos"" <<<<<
...
//no message about switching directories
...
[DEBUG]   parameter = [f:\Work\maven-clover2-plugin-hg\src\it\setTestFailureIgnore\target\clover\src-instrumented\com\atlassian\maven\plugin\clover\samples\setTestFailureIgnore\Simple.java]
{noformat}
;;;",,,,,,,,,,,,,,,,,,,,,,,,
HTML syntax highlight rendering fails for '\' character in Unicode,CLOV-1477,326223,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,31/Mar/2014 8:58 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.2,,,,,someday,,,Reporting,,,,,,,0,,,,,,,,,"Run Eclipse with Clover 3.3 (occurs on 3.2.2 too). A following a code sample (UTF-8 file encoding):

{code:java}
public class UnicodeChars {
    // unicode char at start of ident
    int Ätest;

    // unicode char in middle of ident
    int testÄtest;

    // escaped unicode ident (""sanity"")
    int \u0073\u0061\u006e\u0069\u0074\u0079;

    // escaped unicode in comments
    /** \u0000 */

    // \u0000

    // a backslash as escaped unicode escaping a single quote
    char SINGLE_QUOTE = '\u005c'';

    // a backslash as escaped unicode escaping a double quote
    String DOUBLE_QUOTE = ""\u005c"""";

    // a backslash as escaped unicode esaping another escaped unicode
    /** \u005Cu0020 */
    /** {@code \u005Cu}<i>xxxx</i> */

    void foo() {
    	String s = ""foo"";
    }
}
{code}

instruments correctly. It also correctly displays in Eclipse's source editor. However, the ""Run new report"" -> HTML has a folowing ERROR in the log:

{noformat}
Clover Version 3.3.0, built on March 31 2014 (build-dev)
Loaded from: D:\Soft\Eclipse\eclipse-4.3-kepler\plugins\com.cenqua.clover.core_3.3.0.v20140331000000.jar
Clover: Developer License registered to Atlassian.
WARN: Ignoring unknown context filter """"""""
Writing HTML report to 'F:\Work\release\testing-sandbox\javasyntax18\report\html'
WARN: Ignoring unknown context filter """"""""
ERROR: Failed to render syntax highlights for F:\Work\release\testing-sandbox\javasyntax18\src\main\java\UnicodeChars.java: unexpected char: '\'
Done. Processed 1 packages in 1615ms (1615ms per package).
{noformat}

and the file is not coloured as Java but as a plain text file in the report.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxdysn:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,2016-06-27 02:08:52.941,,,,,,,,,,,,,,,,,,,,,,,,"2|hxeepr:",9223372036854775807,,,,,,,,,,,"1|hxdysv:",9223372036854775807,264643200,true,,,,,,,,,,glewandowski(glewandowski),da2714b2021d(8251945092010262426),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,"1|hxi2lb:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxdyrz:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"31/Mar/2014 9:00 AM;mparfianowicz;See CLOV-1305, which was fixing a similar problem, actually. 

I may have overlook some place in code (an ANTLR grammar for JavaSourceRenderer).;;;","31/Mar/2014 9:13 AM;mparfianowicz;It fails on the 

{noformat}
int \u0073\u0061\u006e\u0069\u0074\u0079;
{noformat}

stack trace:

{noformat}
ERROR: Failed to render syntax highlights for F:\Work\release\testing-sandbox\javasyntax18\src\main\java\UnicodeChars.java: unexpected char: '\'Failed to render syntax highlights for F:\Work\release\testing-sandbox\javasyntax18\src\main\java\UnicodeChars.java: unexpected char: '\' : unexpected char: '\'
line 10:9: unexpected char: '\'
	at com.atlassian.clover.instr.java.JavaLexer.nextToken(JavaLexer.java:435)
	at com.atlassian.clover.reporters.html.source.java.JavaTokenTraverser.traverse(JavaTokenTraverser.java:93)
	at com.atlassian.clover.reporters.html.source.java.JavaSourceRenderer.render(JavaSourceRenderer.java:18)
	at com.atlassian.clover.reporters.html.source.SourceRenderHelper.render(SourceRenderHelper.java:316)
	at com.atlassian.clover.reporters.html.source.SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:120)
	at com.atlassian.clover.reporters.html.source.SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:59)
	at com.atlassian.clover.reporters.html.RenderFileAction.insertLineInfos(RenderFileAction.java:288)
	at com.atlassian.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:135)
	at com.atlassian.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:116)
	at com.atlassian.clover.util.CloverExecutors$CloverExecutorService.submit(CloverExecutors.java:70)
	at com.atlassian.clover.reporters.html.HtmlReporter.renderSourceFilePage(HtmlReporter.java:617)
	at com.atlassian.clover.reporters.html.HtmlReporter.processPackage(HtmlReporter.java:590)
	at com.atlassian.clover.reporters.html.HtmlReporter.executeCurrentReport(HtmlReporter.java:258)
	at com.atlassian.clover.reporters.html.HtmlReporter.executeImpl(HtmlReporter.java:187)
	at com.atlassian.clover.reporters.CloverReporter.execute(CloverReporter.java:41)
	at com.atlassian.clover.reporters.html.HtmlReporter.runReport(HtmlReporter.java:432)
	at com.cenqua.clover.eclipse.reports.FilteredReportJob$FilteredHtmlReporter.run(FilteredReportJob.java:47)
	at com.cenqua.clover.eclipse.reports.ForkingReporter.main(ForkingReporter.java:25)
{noformat}

=> JavaSourceRenderer;;;","27/Jun/2016 2:08 AM;da2714b2021d;Is this issue still exits? I met this issue too.;;;","27/Jun/2016 5:52 AM;glewandowski;[~8251945092010262426], according to the details, this issue affects all Clover versions  since 3.2.2. It hasn't been fixed yet.;;;",,,,,,,,,,,,,,,,,,,,,,,
Test Runs Explorer in IDEA does not refresh on cursor move,CLOV-1474,325986,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,29/Mar/2014 3:05 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.0,,,,,someday,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Occurs at least in IDEA 12/13 and Clover 3.2/3.3. Did not test on older versions. 

The 'Test Runs Explorer' view (4) does not refresh when cursor moves (3), which can be noticed when the 'Method at cursor' or 'Statement at cursor' option (1) is selected. You have to manually click the 'Refresh' button (2). 

It could refresh automatically. See a similar 'Test Contributions' view in Eclipse - it refreshes on every cursor change. 

!statement_at_cursor.png!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Mar/2014 3:05 PM;mparfianowicz;statement_at_cursor.png;https://jira.atlassian.com/secure/attachment/113632/statement_at_cursor.png",,,,,,,,,,,,,,,,true,,"1|hxdy27:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxedzz:",9223372036854775807,,,,,,,,,,,"1|hxdy2f:",9223372036854775807,335577600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxi1y7:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxdy1j:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Doubled pop-up with coverage statistics in source editor in IDEA 13,CLOV-1473,325985,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,29/Mar/2014 2:00 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.0,,,,,someday,,,CIJ Plugin,,,,,,,0,,,,,,,,,"When you hover over a certain line is a source editor in IDEA, a pop-up with coverage statistics like ""Method executed: X times, statement executed Y times"" appears. After about 1 second another box is shown. 

Found in IDEA 13.1.1 and Clover 3.3. Does not occur in IDEA 12. 

Maybe it's related with a new ""lens"" feature introduced in IDEA13?

!idea_double_popup.png!","IDEA 13.1.1
Clover 3.3.0",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Mar/2014 2:03 PM;mparfianowicz;idea_double_popup.png;https://jira.atlassian.com/secure/attachment/113631/idea_double_popup.png",,,,,,,,,,,,,,,,true,,"1|hxdy1r:",9223372036854775807,,,,,9223372036854775807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxedzr:",9223372036854775807,,,,,,,,,,,"1|hxdy1z:",9223372036854775807,335577600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxi1xr:",9223372036854775807,,,,,,,,,,,,,,,,,,,,,,,,,,9223372036854775807,,"1|hxdy13:",9223372036854775807,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Not disposed pointer: ... clover-idea.jar when shutting down IDEA,CLOV-1472,325955,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,28/Mar/2014 10:19 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.0,,,,,someday,,,CIJ Plugin,,,,,,,0,,,,,,,,,"It occurs at least since IDEA12 and Clover 3.2 (I didn't check older versions). When IDEA is being shut down, the ""Not disposed pointer"" error is logged. 

It happens for clover-idea.jar present both in <idea>/config/plugins and /tmp (13.1).

{noformat}
[  62767]  ERROR - ij.components.ComponentManager - Not disposed pointer: jar:///home/mparfianowicz/.IntelliJIdea12/config/plugins/clover-idea-3.2.0.jar!/ 
com.intellij.openapi.util.TraceableDisposable$DisposalException: Not disposed pointer: jar:///home/mparfianowicz/.IntelliJIdea12/config/plugins/clover-idea-3.2.0.jar!/
        at com.intellij.openapi.util.TraceableDisposable.throwDisposalError(TraceableDisposable.java:44)
        at com.intellij.openapi.vfs.impl.VirtualFilePointerManagerImpl.a(VirtualFilePointerManagerImpl.java:295)
        at com.intellij.openapi.vfs.impl.VirtualFilePointerManagerImpl.disposeComponent(VirtualFilePointerManagerImpl.java:97)
        at com.intellij.openapi.components.impl.ComponentManagerImpl.disposeComponents(ComponentManagerImpl.java:142)
        at com.intellij.openapi.application.impl.ApplicationImpl.dispose(ApplicationImpl.java:604)
        at com.intellij.openapi.util.Disposer$1.execute(Disposer.java:47)
        at com.intellij.openapi.util.Disposer$1.execute(Disposer.java:44)
        at com.intellij.openapi.util.objectTree.ObjectNode$1.execute(ObjectNode.java:125)
        at com.intellij.openapi.util.objectTree.ObjectNode$1.execute(ObjectNode.java:102)
        at com.intellij.openapi.util.objectTree.ObjectTree.executeActionWithRecursiveGuard(ObjectTree.java:146)
        at com.intellij.openapi.util.objectTree.ObjectNode.execute(ObjectNode.java:102)
        at com.intellij.openapi.util.objectTree.ObjectTree.executeAll(ObjectTree.java:132)
        at com.intellij.openapi.util.Disposer.dispose(Disposer.java:108)
        at com.intellij.openapi.util.Disposer.dispose(Disposer.java:104)
        at com.intellij.openapi.application.impl.ApplicationImpl$7.run(ApplicationImpl.java:338)
        at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1013)
        at com.intellij.openapi.application.impl.ApplicationImpl.a(ApplicationImpl.java:335)
        at com.intellij.openapi.application.impl.ApplicationImpl.a(ApplicationImpl.java:846)
        at com.intellij.openapi.application.impl.ApplicationImpl.access$800(ApplicationImpl.java:85)
        at com.intellij.openapi.application.impl.ApplicationImpl$11.run(ApplicationImpl.java:825)
        at com.intellij.openapi.application.impl.ApplicationImpl.exit(ApplicationImpl.java:835)
        at com.intellij.openapi.application.impl.ApplicationImpl.exit(ApplicationImpl.java:797)
        at com.intellij.openapi.application.impl.ApplicationImpl.exit(ApplicationImpl.java:792)
        at com.intellij.ide.actions.ExitAction.actionPerformed(ExitAction.java:31)
        at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:162)
        at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter$1.run(ActionMenuItem.java:259)
        at com.intellij.openapi.wm.impl.FocusManagerImpl.runOnOwnContext(FocusManagerImpl.java:892)
        at com.intellij.openapi.wm.impl.IdeFocusManagerImpl.runOnOwnContext(IdeFocusManagerImpl.java:114)
        at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:230)
        at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
        at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:104)
        at com.intellij.ui.plaf.beg.BegMenuItemUI.a(BegMenuItemUI.java:512)
        at com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:44)
        at com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:532)
        at java.awt.Component.processMouseEvent(Component.java:6527)
        at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)
        at java.awt.Component.processEvent(Component.java:6292)
        at java.awt.Container.processEvent(Container.java:2234)
        at java.awt.Component.dispatchEventImpl(Component.java:4883)
        at java.awt.Container.dispatchEventImpl(Container.java:2292)
        at java.awt.Component.dispatchEvent(Component.java:4705)
        at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4898)
        at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4533)
        at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4462)
        at java.awt.Container.dispatchEventImpl(Container.java:2278)
        at java.awt.Window.dispatchEventImpl(Window.java:2739)
        at java.awt.Component.dispatchEvent(Component.java:4705)
        at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:746)
        at java.awt.EventQueue.access$400(EventQueue.java:97)
        at java.awt.EventQueue$3.run(EventQueue.java:697)
        at java.awt.EventQueue$3.run(EventQueue.java:691)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)
        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:86)
        at java.awt.EventQueue$4.run(EventQueue.java:719)
        at java.awt.EventQueue$4.run(EventQueue.java:717)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:716)
        at com.intellij.ide.IdeEventQueue.d(IdeEventQueue.java:700)
        at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:521)
        at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:348)
        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
        at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)
[  62781]  ERROR - ij.components.ComponentManager - IntelliJ IDEA 12.1.7  Build #IU-129.1521 
[  62781]  ERROR - ij.components.ComponentManager - JDK: 1.8.0 
[  62781]  ERROR - ij.components.ComponentManager - VM: Java HotSpot(TM) 64-Bit Server VM 
[  62781]  ERROR - ij.components.ComponentManager - Vendor: Oracle Corporation 
[  62782]  ERROR - ij.components.ComponentManager - OS: Linux 
[  62783]  ERROR - ij.components.ComponentManager - Last Action: Exit
{noformat}

Occurs on Linux and Windows at least. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxdxm7:",245126,,,,,236619,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxedk7:",251056,,,,,,,,,,,"1|hxdxmf:",236551,335664000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxi1if:",250620,,,,,,,,,,,,,,,,,,,,,,,,,,236885,,"1|hxdxlj:",236883,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Maven clover2:setup triggers duplicate class exception,CLOV-1471,325887,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,62751354167d,62751354167d,27/Mar/2014 11:02 PM,10/Jun/2015 10:44 AM,15/Nov/2024 6:09 PM,11/Apr/2014 10:23 AM,,,,,,3.3.1,4.0.0,,Maven plugin,,,,,,,0,,,,,,,,,"We have several maven projects that have more than one source directory. The non-default directories are added using the build-helper plugin. The clover2:setup goal instruments all source folders, but then sets all non-generated directories as source folders on the maven project. That results in compile errors, since source files are both present in the clover instrumented sources and original location.

Example:
java/src << 1. default source folder
java/src-build << 2. additional source folder
target/generate-sources/jaxb << 3. generated source folder

Case (2) is causing problems.",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1469,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxdx5z:",245074,,,,,236567,,,,,,Unknown,,,,,2014-03-28 06:00:30.778,,,,,,,,,,,,,,,,,,,,,,,,"2|hxed3z:",251004,,,,,,,,,,,"1|hxdx67:",236499,304992000,true,,,,,,,,,,2d342ec956ee(adi2ky),62751354167d(bbusjaeger),e9579c643807(jrh3k5),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,"1|hwdzbr:",250568,,,,,,,,,,,,,,,,,,,,Sprint 4,,,,,3.0,236833,,"1|hxdx5b:",236831,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"28/Mar/2014 6:00 AM;mparfianowicz;Hi Benjamin, 

Could you have a look at the following articles, please:
 * https://confluence.atlassian.com/display/CLOVERKB/Duplicate+class+errors+with+Clover+and+JAXB+or+JAXB2+plugin
 * https://confluence.atlassian.com/display/CLOVERKB/Duplicate+class+errors+with+Clover+and+jaxws-maven+plugin

They may be helpful.

Cheers
Marek;;;","28/Mar/2014 3:26 PM;62751354167d;I have read those articles and debugged the maven plugin code. I am pretty sure it's a bug in this code:

{code:java}
        final CloverSourceScanner scanner = getSourceScanner();
        for (final String sourceRoot : sourceRoots) {
            if (new File(oldSourceDirectory).exists() && sourceRoot.equals(oldSourceDirectory)) {
                // if compilation root is the same as original source directory:
                // a) if it's a Java directory then use location of instrumented sources instead of the original source
                // root (e.g. 'src/main/java' -> 'target/clover/src-instrumented')
                // b) if it's a Groovy directory then don't change the location because we don't instrument Groovy on
                // a source level, so the Clover's instrumented folder is empty; Groovy files will be instrumented
                // during compilation on the AST level (e.g. 'src/main/groovy' -> 'src/main/groovy')
                if (scanner.isSourceRootForLanguage(sourceRoot, Language.Builtin.GROOVY))  {
                    addCompileSourceRoot(sourceRoot);
                } else {
                    addCompileSourceRoot(getSourceDirectory());
                }
            } else if ( !(getConfiguration().includesAllSourceRoots() && isGeneratedSourcesDirectory(sourceRoot)) ) {
                // if includeAllSourceRoots=true then ignore the original generated sources directory (e.g. target/generated/xyz),
                // because Clover will instrument them and store instrumented version (e.g. target/clover/src-instrumented);
                // compiler should know only the latter location, otherwise we would end up with the same classes included twice
                // (one with and one without Clover instrumentation)
                addCompileSourceRoot(sourceRoot);
            }
        }
{code}

This check fails for 'java/src-build', so it's added as a source dir: isGeneratedSourcesDirectory(sourceRoot);;;","28/Mar/2014 7:40 PM;mparfianowicz;Could you tell which one is called first: a build-helper adding extra source root or the clover2:setup? 
I'm asking, because extra source roots should usually be added before the clover2:setup. ;;;","28/Mar/2014 7:42 PM;62751354167d;Yes, the build helper is called first. The clover plugin also picks up the extra source directory, i.e. it instruments all the source files in it. The problem is just that it still keeps java/src-build as an additional compile source root on the maven project (as shown in the code above).;;;","28/Mar/2014 7:46 PM;mparfianowicz;Now it's clear for me. Thanks a lot! :-);;;","08/Apr/2014 10:20 AM;mparfianowicz;Hi Benjamin, 

I've changed a logic in the AbstractInstrumenter.redirectSourceDirectories(), it seems to work in various configurations (java only, groovy only, java + groovy; with gmaven plugin; with groovy-eclipse-plugin; with maven build-helper-plugin). 

However, I would be very grateful if you could cross-check the fix in your project. Please use a 3.3.1-SNAPSHOT build of maven-clover2-plugin. It's available on the maven.atlassian.com:

 * https://maven.atlassian.com/content/repositories/atlassian-public-snapshot/com/atlassian/maven/plugins/maven-clover2-plugin/3.3.1-SNAPSHOT/

Cheers
Marek;;;","08/Jul/2014 11:46 PM;62751354167d;I tried the published snapshot (I renamed it to release versions to hook it into our build). I got errors of the form ""could not instrument source files under 'target/src-instrumented' for various projects.;;;","09/Jul/2014 8:36 AM;mparfianowicz;Could you paste the exact error message?;;;","09/Jul/2014 4:05 PM;62751354167d;[ERROR] Failed to execute goal com.atlassian.maven.plugins:maven-clover2-plugin:3.3.1:setup (clover-instrument) on project apex-lang: Clover has failed to instrument the source files in the [/home/bbusjaeger/dev/app/main/core/apex-lang/target/clover/src-instrumented] directory -> [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.atlassian.maven.plugins:maven-clover2-plugin:3.3.1:setup (clover-instrument) on project apex-lang: Clover has failed to instrument the source files in the [/home/bbusjaeger/dev/app/main/core/apex-lang/target/clover/src-instrumented] directory
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:108)
	at io.takari.maven.builder.smart.SmartBuilder$2.call(SmartBuilder.java:265)
	at io.takari.maven.builder.smart.SmartBuilder$2.call(SmartBuilder.java:251)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)
Caused by: org.apache.maven.plugin.MojoExecutionException: Clover has failed to instrument the source files in the [/home/bbusjaeger/dev/app/main/core/apex-lang/target/clover/src-instrumented] directory
	at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrumentSources(AbstractInstrumenter.java:198)
	at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrument(AbstractInstrumenter.java:71)
	at com.atlassian.maven.plugin.clover.CloverInstrumentInternalMojo.execute(CloverInstrumentInternalMojo.java:287)
	at com.atlassian.maven.plugin.clover.CloverSetupMojo.execute(CloverSetupMojo.java:30)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:133)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)
	... 11 more
;;;","14/Jul/2014 1:41 PM;e9579c643807;I ran into this issue with Avro-generated classes and test classes; given that I wasn't concerned with collecting coverage of the former nor the latter, I got around it by using a plugin configuration like so:

{code:xml}
<plugin>
    <artifactId>maven-clean-plugin</artifactId>
    <executions>
        <execution>
            <id>delete-clover-avro-classes</id>
            <phase>process-sources</phase>
            <goals>
                <goal>clean</goal>
            </goals>
            <configuration>
                <excludeDefaultDirectories>true</excludeDefaultDirectories>
                <filesets>
                    <fileset>
                        <directory>${project.build.directory}/clover/</directory>
                        <includes>
                            <include>**/avro/**/*</include>
                        </includes>
                    </fileset>
                </filesets>
            </configuration>
        </execution>
    </executions>
</plugin>
{code}

It's not the best solution and obviously won't work for people who want coverage of classes that are in source directories added by the {{build-helper-maven-plugin}}, but it's a workaround that will, hopefully, work for some.;;;","16/Jul/2014 8:32 AM;mparfianowicz;Hi Joshua, 

Are you talking about the Apache Avro (http://avro.apache.org/docs/current/)? 

Could you attach one sample source file generated by Avro? I'd like to have a look at it's structure to see why Clover failed to instrument it.

Did you encounter instrumentation errors on any non-Avro source files?

Can you confirm that the 'duplicate class exception' does not occur anymore? I'd like to know whether I shall reopen this bug or rather create a separate one for Avro files. 

You wrote that you're deleting **/avro/** files. Did you try another approach? For example:

 * you could define exclusion pattern for clover2:setup (https://docs.atlassian.com/maven-clover2-plugin/latest/setup-mojo.html#excludes)

 * as Avro files are generated, then you may need to change the order in which Avro and Clover goals are called - the clover2:setup must be called when all generated files are already present (otherwise Clover's directory scanner won't find them and won't add to list of excluded files; see similar example for Clover + JAXB generated files:
 ** https://confluence.atlassian.com/display/CLOVERKB/Duplicate+class+errors+with+Clover+and+JAXB+or+JAXB2+plugin
 ** https://confluence.atlassian.com/display/CLOVERKB/Duplicate+class+errors+with+Clover+and+jaxws-maven+plugin


Cheers
Marek;;;","16/Jul/2014 8:35 AM;mparfianowicz;By the way: I have released Clover 4.0.0 few days ago, so the most probably I won't release Clover 3.3.1. Therefore, in order to use my bug fix, you have to update to Clover 4.;;;","22/Jul/2014 7:29 PM;62751354167d;we get the same ""Clover has failed to instrument the source files"" error with 4.0.0;;;","22/Jul/2014 8:00 PM;e9579c643807;Sorry, lost track of this thread.

{quote}
Hi Joshua,

Are you talking about the Apache Avro (http://avro.apache.org/docs/current/)?

Could you attach one sample source file generated by Avro? I'd like to have a look at it's structure to see why Clover failed to instrument it.

Did you encounter instrumentation errors on any non-Avro source files?
{quote}

Correct, I am talking about Apache Avro (sorry for not specifying). I can't provide the code that triggered the issue since it's proprietary, but I strongly suspect that it's not a problem instrumenting the code so much as how Clover was copying the source files.

At the time, we were generating the sources into {{src/main/java}} of the project. The error seemed to be occurring because Clover was, when compiling the code after copying it into its post-instrumentation staging directory in {{target/}} was trying to treat the code in its staging directory *and* {{src/main/java}} as sources of code to be compiled - as a result, it would try to compile both {{src/main/java/com/example/Foo.java}} and {{target/clover2/blah/blah/com/example/Foo.java}} and would error due to a canonical name collision.

I eventually refactored the project to put its sources in {{target/generated-sources}} which temporarily alleviated this problem, but when I used the {{build-helper-maven-plugin}} to add that folder as a source folder to get our m2eclipse integration to add it as a source folder in Eclipse, this issue happened again, for the same reason (though due to source in {{target/generated-sources}} instead of {{src/main/java}} this time).;;;","22/Jul/2014 9:24 PM;mparfianowicz;{quote}
At the time, we were generating the sources into src/main/java of the project.
{quote}

I think this is related with an order in which clover2:setup and Avro goals are called. You have to call Avro first, so that Clover will be able see these sources, instrument them and next switch the src/main/java to target/clover/src-generated.

{quote}
I eventually refactored the project to put its sources in target/generated-sources ...  I used the build-helper-maven-plugin to add that folder as a source folder
{quote}

I think this is the same issue as above - you have to add this target/generated-sources folder first and next call the clover2:setup. ;;;","30/Jul/2014 3:00 PM;e9579c643807;For what it's worth, I've tried using the {{<excludes />}} configuration element, and it doesn't seem to work:

{noformat}
<plugin>
    <groupId>com.atlassian.maven.plugins</groupId>
    <artifactId>maven-clover2-plugin</artifactId>
    <configuration>
        <jdk>${compiler.java.level}</jdk>
        <licenseLocation>${maven.clover.licenseLocation}</licenseLocation>
        <excludes>
            <exclude>**/Test*.java</exclude>
            <exclude>**/*IT.java</exclude>
            <exclude>**/*IntegrationTest.java</exclude>
        </excludes>
    </configuration>
</plugin>
{noformat}

{noformat}
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 01:40 min
[INFO] Finished at: 2014-07-30T09:56:43-06:00
[INFO] Final Memory: 101M/374M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project my-app: Compilation failure: Compilation failure:
[ERROR] /Users/me/git/my-project/src/it/java/com/my/app/integration/IntegrationTest.java:[7,8] duplicate class: com.my.app.integration.IntegrationTest
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
{noformat};;;","30/Jul/2014 3:16 PM;mparfianowicz;There's an option to not copy excluded files (https://docs.atlassian.com/maven-clover2-plugin/latest/setup-mojo.html#copyExcludedFiles). By default Clover copies excluded files to ensure that code will compile and run properly. But in some cases you can set it to false.;;;","30/Jul/2014 5:23 PM;62751354167d;We're using excludes + copyExcludedFiles to work-around the issue, but it's quite brittle, as devs have to update the excludes whenever they add files in the source folder.

Anyone looking at the 'Clover has failed to instrument the source files' error in 4.0.0?;;;","30/Jul/2014 9:11 PM;mparfianowicz;{quote}
We're using excludes + copyExcludedFiles to work-around the issue,
{quote}
You have copyExcludedFiles=false, am I correct?

{quote}
 but it's quite brittle, as devs have to update the excludes whenever they add files in the source folder
{quote}

Does it mean that it's impossible to define (general enough) exclusion pattern?

{quote}
Anyone looking at the 'Clover has failed to instrument the source files' error in 4.0.0?
{quote}

Please have a look at my previous comments. I'd love to investigate it further but I haven't received any POMs or build logs for analysis. So at the moment I assume/guess that it's a problem with order in which goals are called. ;;;","14/Aug/2014 6:47 PM;62751354167d;Yes.

Yes.

The exception trace is pasted above. I can send a build log, but it didn't have more information. I am happy to run with an instrumented version that reports why ""Clover has failed to instrument the source files"".;;;","18/Aug/2014 8:44 AM;mparfianowicz;Regarding the stack trace:

{noformat}
Caused by: org.apache.maven.plugin.MojoExecutionException: Clover has failed to instrument the source files in the [/home/bbusjaeger/dev/app/main/core/apex-lang/target/clover/src-instrumented] directory
at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrumentSources(AbstractInstrumenter.java:198)
{noformat}

This is caused by a non-zero return code from CloverInstr:

{code:java}
// from maven-clover2-plugin code:

int result = CloverInstr.mainImpl(createCliArgs(filesToInstrument, outputDir));
        if (result != 0) {
            throw new MojoExecutionException(""Clover has failed to instrument the source files ""
                    + ""in the ["" + outputDir + ""] directory"");
        }
{code}

Could you please run your build with a debug logging *(mvn -X)* and check if there are more log messages? I expect to see one of these:

{noformat}
  *** ERROR: <error message>
  USAGE: com.atlassian.clover.CloverInstr [OPTIONS] PARAMS [FILES...]

 ... more lines with command line options ...
{noformat}

This can indicate an error in passing arguments between the clover2:instrument/clover2:setup and the CloverInstr program.

{noformat}
Could not initialise Clover: <error message>
{noformat}

Problem with running instrumentation. There may be various reasons, for example ""Unable to create or load clover registry located at: ..."".

{noformat}
Invalid or missing License. Please visit .... to obtain a valid license.
{noformat}

Problem with a license. Rather unlikely as you're successfully instrumenting other files. 

;;;","18/Aug/2014 8:51 AM;mparfianowicz;In case running 'mvn -X' will not reveal more details, then I suggest running the CloverInstr tool manually on your sources generated by Avro. Thanks to this we will check whether there is a problem with running an instrumentation (for instance, some code construct which Clover cannot correctly parse). In case it succeeds, then we'll know that it's a problem with the maven-clover2-plugin. 

How to use CloverInstr:

https://confluence.atlassian.com/display/CLOVER/CloverInstr;;;","18/Aug/2014 8:52 AM;mparfianowicz;One more thing: can you tell whether you're using a parallel compilation in Maven? 

I'm asking because Clover does not support parallel builds - it fails when multiple processes are trying to write to the same clover.db file at the same time. ;;;","23/Aug/2014 10:11 AM;mparfianowicz;Hi [~bbusjaeger], I intend to release Clover 4.0.1 at the end of next week, so in case I would have to code some fixes for this bug, I need to get a feedback from you on the Tuesday (26.08) the latest. I'd be very grateful if you could have a look at my questions posted in previous comments. Cheers!;;;","17/Mar/2015 12:15 AM;2d342ec956ee;I am facing similar issue for maven-clover2-plugin version 4.0.0. Here's how we are using the build-helper-maven-plugin

{code:xml}
<plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>build-helper-maven-plugin</artifactId>
                <version>1.9.1</version>
                <executions>
                    <execution>
                        <id>add-shared-source</id>
                        <phase>generate-sources</phase>
                        <goals>
                            <goal>add-source</goal>
                        </goals>
                        <configuration>
                            <sources>
                                <source>../SomeOtherModule1/src/main/java/com</source>
                                <source>../SomeOtherModule2/src/main/java/com</source>
                                <source>../SomeOtherModule3/src/main/java/com</source>
                            </sources>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
{code}

and this is how we are using the clover2 plugin in a build profile:

{code:xml}
                    <plugin>
                        <groupId>com.atlassian.maven.plugins</groupId>
                        <artifactId>maven-clover2-plugin</artifactId>
                        <version>4.0.0</version>
                        <configuration combine.self=""override"">
                            <targetPercentage>${code_coverage_target}</targetPercentage>
                            <licenseLocation>${clover_license_location}</licenseLocation>
                        </configuration>
                        <executions>
                            <execution>
                                <phase>verify</phase>
                                <goals>
                                    <goal>instrument-test</goal>
                                    <goal>check</goal>
                                    <goal>clover</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>
{code}

without the clover plugin, the build compiles fine. but after adding the clover plugin, we get several errors saying duplicate classes found.

Am I missing something here ?;;;","17/Mar/2015 9:03 PM;mparfianowicz;Hi Aditya, 

I think that this is caused by a fact that you're using the clover2:instrument instead of the clover2:setup goal. The clover2:instrument forks a custom build life cycle and in this build cycle it performs instrumentation in the 'validate' phase. Due to a fact that your 'add-source' goal is bound to the generate-sources phase, the build-helper-maven-plugin runs after Clover instead of before. 

I suggest to use clover2:setup bounded to the validate or initialize phase (i.e. before the generate-sources one).

Cheers
Marek;;;","18/Mar/2015 2:19 AM;2d342ec956ee;Hey Mark,

Yes it does work in initialize phase as follows:

{code:xml}
<execution>
                        <phase>initialize</phase>
                        <goals>
                            <goal>instrument-test</goal>
                            <goal>check</goal>
                            <goal>clover</goal>
                        </goals>
                    </execution>

{code}

Thanks;;;"
Maven clover2:setup ignores generated sources,CLOV-1470,325886,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,62751354167d,62751354167d,27/Mar/2014 10:59 PM,23/Aug/2014 9:34 AM,15/Nov/2024 6:09 PM,23/Aug/2014 9:34 AM,3.1.12,,,,,4.0.1,,,Maven plugin,,,,,,,0,,,,,,,,,We have several maven projects that contain only generated sources (target/generated-sources/...). The default source directory does not exist for those projects. clover2:setup does not work properly for those projects: the generated sources do not get compiled. We currently work around the issue by creating a marker file in the default source directory.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxdx5j:",245072,,,,,236565,,,,,,Unknown,,,,,2014-03-28 07:50:20.936,,,,,,,,,,,,,,,,,,,,,,,,"2|hxed3j:",251002,,,,,,,,,,,"1|hxdx5r:",236497,322876800,true,,,,,,,,,,62751354167d(bbusjaeger),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwdl87:",250566,,,,,,,,,,,,,,,,,,,,Sprint 3,,,,,1.0,236831,,"1|hxdx4v:",236829,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"28/Mar/2014 7:50 AM;mparfianowicz;Hi Benjamin,

Could you try setting the <includesAllSourceRoots>true</includesAllSourceRoots> in your pom.xml? This should cause that all source roots, including generated ones, will be instrumented. 

Cheers
Marek;;;","28/Mar/2014 3:27 PM;62751354167d;I have that property set. The generated sources are getting instrumented if the default source directory (in my case java/src) exists. Only if the default source directory is absent are generated sources not compiled. There are several 'dir.exists' checks in the clover plugin, one of which causes undesirable behavior in this case.;;;","28/Mar/2014 7:24 PM;mparfianowicz;Thanks a lot for clarification. ;;;","18/Aug/2014 9:26 AM;mparfianowicz;Hi Benjamin, I think this bug was solved by my change in CLOV-1471:

https://jira.atlassian.com/browse/CLOV-1471?focusedCommentId=587518&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-587518

Can you confirm that the maven-clover2-plugin does not ignore generated sources anymore?;;;","23/Aug/2014 9:32 AM;mparfianowicz;I've created a code sample for this:

https://bitbucket.org/atlassian/maven-clover2-plugin/src/9c859720e96eb9780bc906e5aa7fa6bcaec3062f/src/it/generated-sources/?at=default

and it works. So I'm closing this bug. ;;;","23/Aug/2014 9:34 AM;mparfianowicz;This means of course that I will continue investigation of CLOV-1471 (see may latest comments there - I'm waiting for your answers). Cheers!;;;",,,,,,,,,,,,,,,,,,,,,
Several tests fail with Cannot cast object ... to class 'com_cenqua_clover.CoverageRecorder',CLOV-1466,324731,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,dd04bdc98899,dd04bdc98899,21/Mar/2014 12:29 AM,26/Sep/2014 7:19 PM,15/Nov/2024 6:09 PM,01/Sep/2014 8:42 PM,3.2.2,,,,,3.3.1,4.0.1,,Grails Plugin,Groovy,Instrumentation,,,,,0,,,,,,,,,"See here for a travis build exhibiting this problem:

https://travis-ci.org/thehyve/transmart-core-db/jobs/21220075

19 tests there fail because of this problem. The culprit seems to be this line: https://github.com/thehyve/transmart-core-db/blob/5e8f0400b9ddce75e1d3d2adccf747e42bff3ee6/src/groovy/org/transmartproject/db/dataquery/clinical/TerminalConceptVariablesTabularResult.groovy#L39","Linux amd64, Grails plugin, OpenJDK 7u51",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Aug/2014 9:02 AM;mparfianowicz;A.groovy.after.clovered;https://jira.atlassian.com/secure/attachment/126678/A.groovy.after.clovered","28/Aug/2014 9:02 AM;mparfianowicz;A.groovy.before.clovered;https://jira.atlassian.com/secure/attachment/126679/A.groovy.before.clovered",,,,,,,,,,,,,,,true,,"1|hxdqmv:",243993,,,,,235487,,,,,,Unknown,,,,,2014-03-21 09:10:18.575,,,,,,,,,,,,,,,,,,,,,,,,"2|hxe6sf:",249924,,,,,,,,,,,"1|hxdqn3:",235419,319852800,true,,,,,,,,,,dd04bdc98899(gustavo1),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwdl7r:",249489,,,,,,,,,,,,,,,,,,,,Sprint 4,Sprint 5,Sprint 4,Sprint 6,Sprint 3,3.0,235750,,"1|hxdqm7:",235750,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"21/Mar/2014 12:36 AM;dd04bdc98899;Changing the {{findAll}} to a simple loop without any {{Closure}} just moves the problem 4 lines down to the {{each}} call.;;;","21/Mar/2014 9:10 AM;mparfianowicz;Hi Gustavo, 

Thanks a lot for reporting this bug. I'll analyze what's going on here next week. In the meantime:

1) could you check what will happen when you'll add an explicit ""return"" keyword in these closures? 

2) could you also compile this file with a following system property defined:

-Dclover.grover.ast.dump=true 

Clover will dump the AST (abstract syntax tree) into a temporary directory like:

<java.io.tmpdir>/clover<random_hash>.dump/ast/<org/transmartproject/db/dataquery/clinical>

It should contain two files, for instance:

TerminalConceptVariablesTabularResult.groovy.before.clovered
TerminalConceptVariablesTabularResult.groovy.after.clovered

Could you attach these dumps, please?

Cheers
Marek;;;","21/Mar/2014 9:58 AM;dd04bdc98899;Adding {{return}} doesn't help (I tried this: https://gist.github.com/deec0ca841e12a101a7d )

I also couldn't generate any AST dump files. I ran {{CLOVER=1 GRAILS_OPTS=""-XX:MaxPermSize=512m -Djava.io.tmpdir=/tmp -Dclover.grover.ast.dump=true"" grails test-app integration: ClinicalDataRetrievalTests}} (forked execution is off), and clover wrote:

Clover: Clover is enabled. Configuration: [on:true, grover:[ast:[dump:true]], srcDirs:[src/java, src/groovy, test/unit, test/integration, grails-app, /home/glopes/repos/transmart-core-db/src/java, /home/glopes/repos/transmart-core-db/src/groovy, /home/glopes/repos/transmart-core-db/test/unit, /home/glopes/repos/transmart-core-db/test/integration, /home/glopes/repos/transmart-core-db/grails-app], debug:[:], verbose:[:]]

There are some files generated in {{/tmp}} during execution (for instance some {{grover...jar}} files -- though not the directory you mentioned. And everything is cleaned when grails exits.;;;","21/Mar/2014 10:06 AM;dd04bdc98899;OK I located some files in {{~/.grails/2.3.5/projects/transmart-core-db-tests/clover/tmp}}, but {{TerminalConceptVariablesTabularResult.groovy.before,after.clovered}} are not among them. It only includes the files of the Grails artifact I'm running Clover on, not its inline dependency (whose directories I added to {{srcDirs}}):

glopes ~ $ locate ClinicalTestData.groovy.after.clovered
/home/glopes/.grails/2.3.5/projects/transmart-core-db-tests/clover/tmp/ast/org/transmartproject/db/dataquery/clinical/ClinicalTestData.groovy.after.clovered
glopes ~ $ locate TerminalConceptVariablesTabularResult.groovy.after.clovered
glopes ~ $;;;","21/Mar/2014 1:09 PM;mparfianowicz;Could you explain what do you mean by inline dependency? 

Is the file where it fails instrumented by Clover or not?;;;","21/Mar/2014 2:15 PM;dd04bdc98899;It is instrumented. I can see it here: http://clover.thehyve.net/transmart-core-db/203.2-clover/org/transmartproject/db/dataquery/clinical/TerminalConceptVariablesTabularResult.html#TerminalConceptVariablesTabularResult

It just seems that the AST dump procedure is buggy insofar as it's not generating files for classes outside of the current Grails project (even though they are mention in {{srcDirs}} and they are in fact instrument.

I can try moving the class to the project where the clover plugin is. I'll do it later today or over the weekend.;;;","21/Mar/2014 2:19 PM;dd04bdc98899;Inline dependencies are a Grails feature. Instead of the plugins being downloaded or taken from the local maven repos and unziped (grails plugins are almost always zips including the source files) to ~/.grails/2.3.x/projects/... and being compiled from there, we can specify a directory where the plugin is already checked out and compile from there. This is mostly used for development, as you can change the files in the plugin and have that automatically reloaded in the dependent Grails application instead of going through grails maven-install on the plugin and restarting the server.;;;","22/Mar/2014 8:09 AM;mparfianowicz;1) Do you see a log message like:

""(Original source|Instrumented source) for <file name> written to <path to AST dump>

for TerminalConceptVariablesTabularResult?

2) If not - can you just build the project where TerminalConceptVariablesTabularResult is located? AST dump should be  identical no matter whether it's in the current project or in the inline dependency. ;;;","22/Mar/2014 11:08 PM;dd04bdc98899;OK, here it is:

https://gist.github.com/cataphract/9715886;;;","27/Mar/2014 6:53 PM;mparfianowicz;Thanks. I checked these ASTs and they look fine. So I suspect that it's a bug in a groovyc compiler. I will investigate it further and I will look for possible workarounds on Clover's side. The issue is scheduled for Clover 4.0 (which is planned for mid of the year), but I cannot promise any delivery date right now. I will inform you about the progress. ;;;","05/Apr/2014 8:12 PM;mparfianowicz;Hi, I checked out the transmart-core-db, branch 'master', ran the 'grails test-app -clover.on' and there are no failing tests. 

Could you tell which branch/commit and/or command I shall use to reproduce this problem?

Did you ran tests using in-memory database?;;;","05/Apr/2014 9:01 PM;dd04bdc98899;Checkout the 'clover' branch and cd into transmart-core-db-tests. Run ""CLOVER=1 grails test-app --non-interactive --stacktrace"" with Grails 2.3.5. Run without the environment variable to disable clover.

IIRC There are some tests that seem to fail due to a unrelated bug in Clover, something like ""shouldFail FooException, { code_that_throws_foo_exception }"" not catching the exception and it propagating outside.

And yes, the tests run in an H2 database.;;;","05/Apr/2014 9:15 PM;dd04bdc98899;Another thing: a dependency has had incompatible changes in the meantime. You'll have to run before:

git clone git://github.com/thehyve/transmart-core-api.git
cd transmart-core-api
git checkout c5e40da
mvn install

All the unit and integration tests pass without clover for me. 19 integration tests fail with clover.;;;","26/Aug/2014 9:06 AM;mparfianowicz;Hi Gustavo, 

I'm working on this issue. I had a problem with running the 'clover' branch. Therefore, I took master branches of transmart-core-db and transmart-core-api. Next I've added the code snippet for Clover integration (from a clover branch), i.e.:

{code:java}
def enableClover = System.getenv('CLOVER')

if (enableClover) {
    clover {
        on = true

        def dirs = ['src/java', 'src/groovy', 'test/unit',
                    'test/integration', 'grails-app']
        srcDirs = dirs.inject dirs, { accum, cur ->
            File dir = new File('..', cur)
            if (dir.exists()) {
                accum + dir.canonicalPath
            } else {
                accum
            }
        }
    }
}
{code}

There is a number of tests which are failing due to various reasons, when launched with Clover. I'm analysing them right now. ;;;","26/Aug/2014 11:54 AM;mparfianowicz;Compilation of HighDimensionResourceServiceIntegrationTests fails with a java.lang.VerifyError due to bug in groovyc compiler - it tries to call incorrect method signature. In order to fix this, you have to move the HighDimensionResourceServiceIntegrationTests.HighDimensionResourceServiceTestData inner class to the top level. Groovyc is quite buggy regarding inner classes. ;;;","26/Aug/2014 12:12 PM;mparfianowicz;There is a number of tests failing with 

{noformat}
org.codehaus.groovy.runtime.typehandling.GroovyCastException: Cannot cast object 'org.transmartproject.db.dataquery.clinical.TerminalClinicalVariablesTabularResult@45cffe93' with class 'org.transmartproject.db.dataquery.clinical.TerminalClinicalVariablesTabularResult' to class 'com_atlassian_clover.CoverageRecorder'
	at org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.castToType(DefaultTypeTransformation.java:360)
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.castToType(ScriptBytecodeAdapter.java:599)
{noformat}

This is related with a problem in TerminalClinicalVariablesTabularResult constructor, lines:

{noformat}
        this.indicesList.each { TerminalClinicalVariable it ->
            localIndexMap[it] = indicesList.indexOf it
        }
{noformat}

What Clover does it that adds an extra line in this closure, which looks like this:

{noformat}
        this.indicesList.each { TerminalClinicalVariable it ->
            TerminalClinicalVariablesTabularResult.$CLV_R$().inc(29)
            localIndexMap[it] = indicesList.indexOf it
        }
{noformat}

It seems to be bug in Groovyc which tries to return an instance of a CoverageRecorder instead of the hashmap:

{noformat}
public java.lang.Object doCall(org.transmartproject.db.dataquery.clinical.variables.TerminalClinicalVariable);
  Code:
   0:	aload_0
   1:	ldc	#29; //String thisObject
   3:	invokeinterface	#35,  2; //InterfaceMethod groovy/lang/GroovyObject.getProperty:(Ljava/lang/String;)Ljava/lang/Object;
   8:	ldc	#37; //class com_atlassian_clover/CoverageRecorder
   10:	invokestatic	#43; //Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.castToType:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
   13:	checkcast	#37; //class com_atlassian_clover/CoverageRecorder
   16:	bipush	10
   18:	invokevirtual	#47; //Method com_atlassian_clover/CoverageRecorder.inc:(I)V
   21:	aconst_null
   22:	pop
   23:	aload_0
   24:	getfield	#20; //Field indicesList:Lgroovy/lang/Reference;
   27:	invokevirtual	#53; //Method groovy/lang/Reference.get:()Ljava/lang/Object;
   30:	checkcast	#55; //class java/util/List
   33:	aload_1
   34:	invokeinterface	#59,  2; //InterfaceMethod java/util/List.indexOf:(Ljava/lang/Object;)I
   39:	istore_2
   40:	aload_0
   41:	ldc	#61; //String localIndexMap
   43:	invokeinterface	#35,  2; //InterfaceMethod groovy/lang/GroovyObject.getProperty:(Ljava/lang/String;)Ljava/lang/Object;
   48:	ldc	#63; //class java/util/Map
   50:	invokestatic	#43; //Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.castToType:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
   53:	checkcast	#63; //class java/util/Map
   56:	aload_1
   57:	iload_2
   58:	invokestatic	#69; //Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;
   61:	invokestatic	#75; //Method org/codehaus/groovy/runtime/DefaultGroovyMethods.putAt:(Ljava/util/Map;Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
   64:	iload_2
   65:	pop
   66:	pop
   67:	aload_0
   68:	ldc	#29; //String thisObject
   70:	invokeinterface	#35,  2; //InterfaceMethod groovy/lang/GroovyObject.getProperty:(Ljava/lang/String;)Ljava/lang/Object;
   75:	ldc	#37; //class com_atlassian_clover/CoverageRecorder
   77:	invokestatic	#43; //Method org/codehaus/groovy/runtime/ScriptBytecodeAdapter.castToType:(Ljava/lang/Object;Ljava/lang/Class;)Ljava/lang/Object;
   80:	checkcast	#37; //class com_atlassian_clover/CoverageRecorder
   83:	bipush	11
   85:	invokevirtual	#47; //Method com_atlassian_clover/CoverageRecorder.inc:(I)V
   88:	aconst_null
   89:	pop
   90:	aload_1
   91:	areturn
   92:	aconst_null
   93:	areturn
{noformat}

You have to exclude this file from instrumentation in order to make tests pass: 

{noformat}
clover {
        excludes = [
                '**/ClinicalDataTabularResult.*',                     // bug in 'compile phase' in groovyc
                '**/TerminalClinicalVariablesTabularResult*'   // bug in each { it-> map[key] = val }
        ]
}
{noformat}

I'm still looking at this 'each { }' code construct searching for alternative ways to write it down hoping that a different sequence will hide this groovy bug.;;;","26/Aug/2014 1:23 PM;mparfianowicz;Compilation of the ClinicalDataTabularResult with Clover fails with an error

{quote}
Error:Groovyc: BUG! exception in phase 'class generation' in source unit 'C:\A.groovy' operand stack contains 2 elements, but we expected only 0
{quote}

I have isolated the code sample and reported a compiler bug for Groovy developers:

https://jira.codehaus.org/browse/GROOVY-7041

You can workaround it by excluding this file from Clover instrumentation. ;;;","28/Aug/2014 9:00 AM;mparfianowicz;I have located a bug in that ""each { it-> map[key] = val }"" closure in TerminalClinicalVariablesTabularResult. 

Two bugs actually. The first one related with source locations, the second one related a with static method call. 

Test case to reproduce it:

{code:java}
import com_atlassian_clover.CoverageRecorder
import groovy.transform.CompileStatic
@CompileStatic
class A {
  static void main(String[] args) {
    List<String> myList = [ ""Alice"", ""Bob"", ""Chris"" ]
    myList.each { String it ->
      A.$CLV_R$().inc(0)   // like an instruction inserted by Clover
      println it
    }
  }
}
{code}

There's a bug in the AST tree generated. 

[^A.groovy.before.clovered] vs [^A.groovy.after.clovered] 

Instruction inserted by Clover looks like this:

{noformat}
[ExpressionStatement - MethodCallExpression - {9,33,9,33}]
  [MethodCall - A.$CLV_R$().inc(1) (implicitThis=true, receiver=org.codehaus.groovy.ast.expr.StaticMethodCallExpression@34a875b3[A#$CLV_R$ arguments: org.codehaus.groovy.ast.expr.ArgumentListExpression@4748a0f9[]], safe={false}, spreadSafe=false) - {9,33,9,33}]
    [StaticMethodCall - A.$CLV_R$() (receiver=A, ownerType=A - {9,33,9,33}]
      [ArgumentList - () - {9,33,9,33}]
        [Constant - inc : java.lang.String - {-1,-1,-1,-1}]
      [ArgumentList - (1) - {9,33,9,33}]
        [Constant - 1 : java.lang.Integer - {9,33,9,33}]
{noformat}

while the same instruction inserted manually in the code looks like this:

{noformat}
[ExpressionStatement - MethodCallExpression - {9,33,9,51}]
  [MethodCall - A.$CLV_R$().inc(0) (implicitThis=false, receiver=org.codehaus.groovy.ast.expr.MethodCallExpression@4b14918a[object: org.codehaus.groovy.ast.expr.ClassExpression@291a7e3c[type: A] method: ConstantExpression[$CLV_R$] arguments: org.codehaus.groovy.ast.expr.ArgumentListExpression@6d1ef78d[]], safe={false}, spreadSafe=false) - {9,33,9,51}]
    [MethodCall - A.$CLV_R$() (implicitThis=false, receiver=org.codehaus.groovy.ast.expr.ClassExpression@291a7e3c[type: A], safe={false}, spreadSafe=false) - {9,33,9,44}]
      [Class - A - {9,33,9,34}]
      [Constant - $CLV_R$ : java.lang.String - {9,35,9,42}]
      [ArgumentList - () - {9,43,9,43}]
    [Constant - inc : java.lang.String - {9,45,9,48}]
   [ArgumentList - (0) - {9,49,9,50}]
      [Constant - 0 : int - {9,49,9,50}]
{noformat}

The implicitThis=true causes that org.codehaus.groovy.transform.stc.StaticTypeCheckingVisitor enters a condition leading to static type check:

""Non static method <class>#<method> cannot be called from static context""
;;;","28/Aug/2014 10:50 AM;mparfianowicz;I have solved the bug with ""each { it-> map[key] = val }""  closure. I intend to deliver the fix in Clover 4.0.1. ;;;","28/Aug/2014 10:52 AM;mparfianowicz;Summarising problems I have found in your build:
 * ClinicalDataTabularResult  -> exclude this file from instrumentation until https://jira.codehaus.org/browse/GROOVY-7041 is fixed
 * HighDimensionResourceServiceIntegrationTests -> move HighDimensionResourceServiceTestData inner class to the top level
 * TerminalClinicalVariablesTabularResult -> wait for Clover 4.0.1 (will be released very soon)
;;;","26/Sep/2014 7:19 PM;mparfianowicz;Update: the GROOVY-7041 has been fixed in Groovy 2.3.8.;;;",,,,,,
1.8 instrumentation fails,CLOV-1464,322711,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Duplicate,mparfianowicz,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,15/Mar/2014 6:18 PM,17/Mar/2014 9:26 AM,15/Nov/2024 6:09 PM,15/Mar/2014 9:51 PM,3.2.2,,,,,3.2.2,,,Instrumentation,,,,,,,0,,,,,,,,,"{code}
public class Foo {

    void readString(String name, Consumer<String> consumer) {}

    public static List<String> LIST = Foo.create(String::new, (instance, configuration) -> {
        configuration.readString(null, e -> System.out.print(e));
    });

    public static <T> List<T> create(Supplier<T> supplier, BiConsumer<T, Foo> configurator) {
        return null;
    }
}
{code}
fails with
Foo.java:[31,49] incompatible types: cannot infer type-variable(s) T,I,T
[ERROR] (argument mismatch; I cannot be converted to java.util.function.Supplier<java.lang.String>)
and
Foo.java:[32,106] incompatible types: cannot infer type-variable(s) I,T
[ERROR] (argument mismatch; java.lang.Object is not a functional interface)",,,,,,,,,,,,,,,,,,,,CLOV-1465,,,,CLOV-1463,CLOV-1399,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxdle7:",243139,,,,,234635,,,,,,Unknown,,,,,2014-03-15 20:29:50.653,,,,,,,,,,,,,,,,,,,,,,,,"2|hxe1rb:",249071,,,,,,,,,,,"1|hxdlef:",234567,336614400,true,,,,,,,,,,4d85d3f9-8aa3-417a-bb6f-61e186be8e94(kasperni),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxhr5j:",248631,,,,,,,,,,,,,,,,,,,,,,,,,,234897,,"1|hxdldj:",234897,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/Mar/2014 8:29 PM;mparfianowicz;Hi Kasper, 

Thank you for reporting this issue. I think it's related with the problem already reported by you: CLOV-1399, i.e. that javac is unable to infer proper types when it has several generic methods or types.

There's no simple solution for this problem - Clover just does not have enough context information during parsing to use determine which exact types are needed. Please see
https://confluence.atlassian.com/display/CLOVERKB/Java+8+code+instrumented+by+Clover+fails+to+compile for workarounds. 

I suggest disabling instrumentation for expression-like lambdas.

Cheers
Marek;;;","16/Mar/2014 12:33 AM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Can't you just generate multiple lambdaInc? 

For example, one with this signature for example in https://confluence.atlassian.com/display/CLOVERKB/Java+8+code+instrumented+by+Clover+fails+to+compile
{code}
public static <M> Predicate<M> lambdaInc(final int i, final Predicate<M> p, final int si) {
    return (Predicate<M>) lambdaInc(i, (Object) p, si);
}
{code}

;;;","17/Mar/2014 9:00 AM;mparfianowicz;How? :-)

No, really. I see no more reasonable solution that currently implemented taking into account how Clover works - please keep it mind that Clover performs source code instrumentation, not the byte code one. It means that Clover does not ""see"" complete type information, but only what is present in currently parsed source file. 

Let's take an example from Java+8+code+instrumented+by+Clover+fails+to+compile and your proposed solution:

1. assume that the 'Fails' class is written in a separate file (or even more - that it comes from a third party library so we have Fails.class file only):

{code:java}
public static class Fails {
  public <N> String goo(Class<N> arg) {  
    return ""Fails class: "" + arg;
  }
  public <M> String goo(Predicate<M> arg) { 
    return ""Fails predicate: "" + arg.test(null);
  }
}
{code}

2. assume that the 'Predicate' interface is also in a separate class file:

{code:java}
static interface Predicate<T> {
   boolean test(T t);
}
{code}

3. assume that we're trying to call goo() method:

{code:java}
import Fails;

public class LambdaAndGenerics {
  public static void main(String[] args) {
      new Fails().goo(e -> false);
   }
}
{code}

Now, what Clover ""sees"" is exactly what you can see in the LambdaAndGenerics source above. 

My question is: what lambdaInc() signature it shall generate?

Well, the answer is: ""we don't know"". 

Cheers
Marek;;;","17/Mar/2014 9:07 AM;mparfianowicz;Of course, there might be partial solutions for this problem such as:

When Clover tries to wrap a lambda function which is passed as an argument of some generic method, which is defined in the same source file, then try to find argument type of the method and copy it to the lambdaInc() wrapper in order to make a class cast so that type inference is solved
 ** ... lookup all methods having the same name ...
 ** ... out of them try to find those which ""seem"" to have functional interfaces ...
 ** ... which means that name of types shall be either defined in the same source file or already registered in Clover's database (i.e. compiled before) or well known (such as java.function.*) ...
 ** ... out of them try to guess, which functional interface developer had in mind (there may be more than one positive match)
 ** ... etc

... but none of them are 100% accurate, because they're based on some heuristics. ;;;","17/Mar/2014 9:19 AM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Right, I had some vague idea that Clover did some kind of type analysis. But I can see I was wrong.

My problem is that I'm left with 2 unpleasant choices.
1) Let clover dictate how I write my code. 
2) don't instrument a couple of percent of my code.

I'm pretty sure this is going to be a general problem once people get started with lambdas.

I think the solution you came up with is a lot better than the current state.





;;;","17/Mar/2014 9:26 AM;mparfianowicz;I truly understand your concerns. Developers shall never adapt their source code to tools used. And loosing coverage information for lambda functions is not nice either...

There might be an alternative in byte code instrumentation, but this is a feature Clover does not have right now.

Nevertheless, I've raised an improvement request for this: CLOV-1465, listing some ideas, let's see whether people will vote on it.;;;",,,,,,,,,,,,,,,,,,,,,
Java 1.8 stream example instrumentation fails,CLOV-1463,322710,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,mparfianowicz,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,15/Mar/2014 6:08 PM,29/Dec/2014 1:52 PM,15/Nov/2024 6:09 PM,15/Mar/2014 9:52 PM,3.2.2,,,,,3.2.2,,,Instrumentation,,,,,,,0,,,,,,,,,"{code}
public class Foo {
    String num;

    public Set<String> create() {
        List<Foo> l = new ArrayList<>();
        return l.stream().map(e -> e.num).collect(Collectors.toSet());
    }
}
{code}
Fails with
incompatible types: inference variable T has incompatible bounds
[ERROR] equality constraints: java.lang.String
[ERROR] lower bounds: java.lang.Object",,,,,,,,,,,,,,,,,,,,CLOV-1465,CLOV-1464,CLOV-1482,,CLOV-1399,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxdldz:",243138,,,,,234634,,,,,,Unknown,,,,,2014-03-15 20:30:07.241,,,,,,,,,,,,,,,,,,,,,,,,"2|hxe1r3:",249070,,,,,,,,,,,"1|hxdle7:",234566,311817600,true,,,,,,,,,,4d85d3f9-8aa3-417a-bb6f-61e186be8e94(kasperni),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxhr5b:",248630,,,,,,,,,,,,,,,,,,,,,,,,,,234896,,"1|hxdldb:",234896,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/Mar/2014 6:09 PM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Workaround: split last line into
{code}
Stream<String> s = l.stream().map(e -> e.num);
return s.collect(Collectors.toSet());
{code};;;","15/Mar/2014 8:30 PM;mparfianowicz;See comment in CLOV-1464. ;;;","29/Dec/2014 1:52 PM;mparfianowicz;Spike is planned: CLOV-1596;;;",,,,,,,,,,,,,,,,,,,,,,,,
ClassNotFoundException when running tests in IDEA 13.1 RC with Clover enabled,CLOV-1462,322273,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,12/Mar/2014 8:20 PM,28/Mar/2014 1:37 PM,15/Nov/2024 6:09 PM,28/Mar/2014 1:37 PM,3.2.2,,,,,3.3.0,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Install IDEA 13.1 RC and Clover 3.2.2. Load Java project. Create a run configuration for JUnit, select ""Test kind: All in package"", select ""Before launch: Make"".

Run tests with Clover disabled - all tests are executed. 

Run tests with Clover enabled - all tests are executed, but after second and next runs - ClassNotFoundException on a test class occurs. ","IntelliJ IDEA 13.1 RC, build #IU-135.406, built on March 11, 2014",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxdj87:",242749,,,,,234244,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxdznj:",248681,,,,,,,,,,,"1|hxdj8f:",234176,335664000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx51dr:",248240,,,,,,,,,,,,,,,,,,,,Sprint 3,,,,,2.0,234506,,"1|hxdj7j:",234506,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"12/Mar/2014 9:07 PM;mparfianowicz;It turns out that it also fails on subsequent test runs when the Clover plugin is disabled. 

There's a similar issue reported on IDEA issue tracker: http://youtrack.jetbrains.com/issue/IDEA-120201 ;;;","26/Mar/2014 10:31 AM;mparfianowicz;Reported bug in IDEA: http://youtrack.jetbrains.com/issue/IDEA-122924 ;;;","27/Mar/2014 12:00 PM;mparfianowicz;The issue is as follows:

1) Clover removes *.class files in order to force recompilation of files for which an exclusion pattern has changed (this is because a file content and timestamp remains unchanged, but we have to instrument it (or not). Clover's DependencyInjectingCompiler performs this; it's called from a  FileProcessingCompilerAdapterTask. VirtualFile.delete() is called, so the virtual file system in an IDEA IDE process is aware of the change. 

2) IDEA IDE sends build message with a file event attached, which contains a list of modified/deleted files:

CmdlineProtoUtil.createBuildParametersMessage:

{code:java}
    final CmdlineRemoteProto.Message.ControllerMessage.Builder controlMessageBuilder = CmdlineRemoteProto.Message.ControllerMessage.newBuilder();
    if (initialEvent != null) {
      controlMessageBuilder.setFsEvent(initialEvent);  // << FileSystem event is stored, it may have something in changedPaths, deletedPaths lists
    }
  ...
{code}

3) Message if FS changes is received by a build process:

BuildMain.messageReceived:

{code:java}
 switch (controllerMessage.getType()) {

            case BUILD_PARAMETERS: {
            if (mySession == null) {
              final CmdlineRemoteProto.Message.ControllerMessage.FSEvent delta = controllerMessage.hasFsEvent()? controllerMessage.getFsEvent() : null;
              //delta has changedPaths and deletedPaths
          }
    ...
{code}

4) However, these changes are ignored by the build server, because it checks for changes in source roots only:

BuildSession.applyFSEvent:

{code:java}
private static void applyFSEvent(ProjectDescriptor pd, @Nullable CmdlineRemoteProto.Message.ControllerMessage.FSEvent event,
                                   final boolean saveEventStamp) throws IOException {
    if (event == null) {
      return;
    }

    final Timestamps timestamps = pd.timestamps.getStorage();
    boolean cacheCleared = false;
    for (String deleted : event.getDeletedPathsList()) {
      final File file = new File(deleted);
      Collection<BuildRootDescriptor> descriptor = pd.getBuildRootIndex().findAllParentDescriptors(file, null, null);
      if (!descriptor.isEmpty()) {
//  ... descriptor is empty because pd.getBuildRootIndex().findAllParentDescriptors() looks for source roots only ...
//  ... no cache is cleared ...
{code}

;;;","27/Mar/2014 12:08 PM;mparfianowicz;Potential workarounds (tests needed):

A. Send a separate file system event (FS_EVENT message type) from a pre-compile task. 

B. Touch a source file in IDE and refresh VFS so that source file will be put on a list of changedPaths. 

C. Send some message to build server forcing workspace refresh. It may cause a performance problem.

D. Run git diff of IDEA 13.0 and 13.1 sources to find why it stopped seeing these changes. Maybe some monitoring thread / process was disabled recently. Or some timing issues occur. 

E. Do not remove *.class files at all (in case when external build is used); update documentation that change of inclusion/exclusion setting requires project rebuild. Ugly. Only in case when all other options fail. ;;;","27/Mar/2014 9:34 PM;mparfianowicz;(/) I've implemented option B. Luckily, it turned out that there's no need to modify the timestamp - it's sufficient to call VirtualFile.refresh() in order to trigger the machinery. ;;;",,,,,,,,,,,,,,,,,,,,,,
NPE after Intelli-J Starts Up,CLOV-1461,321394,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,mparfianowicz,1aab583349af,1aab583349af,07/Mar/2014 2:37 PM,28/Mar/2014 1:47 PM,15/Nov/2024 6:09 PM,28/Mar/2014 9:35 AM,3.2.2,,,,,3.3.0,,,CIJ Plugin,,,,,,,0,,,,,,,,,"null
java.lang.NullPointerException
	at com.cenqua.clover.idea.LibrarySupport.getValidatedCloverLibrary(LibrarySupport.java:81)
	at com.cenqua.clover.idea.build.CloverLibraryInjector$1.run(CloverLibraryInjector.java:44)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:981)
	at com.cenqua.clover.idea.build.CloverLibraryInjector.addCloverLibrary(CloverLibraryInjector.java:61)
	at com.cenqua.clover.idea.build.CloverLibraryInjector.updateModulesDependencies(CloverLibraryInjector.java:35)
	at com.cenqua.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:116)
	at com.cenqua.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:86)
	at com.intellij.ide.startup.impl.StartupManagerImpl$7.run(StartupManagerImpl.java:286)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:259)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$100(StartupManagerImpl.java:52)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:184)
	at com.intellij.openapi.project.DumbServiceImpl.a(DumbServiceImpl.java:238)
	at com.intellij.openapi.project.DumbServiceImpl.access$500(DumbServiceImpl.java:53)
	at com.intellij.openapi.project.DumbServiceImpl$IndexUpdateRunnable$1$3.run(DumbServiceImpl.java:420)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:715)
	at java.awt.EventQueue.access$400(EventQueue.java:82)
	at java.awt.EventQueue$2.run(EventQueue.java:676)
	at java.awt.EventQueue$2.run(EventQueue.java:674)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:86)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:685)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:697)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:524)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:335)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)

","Java version=1.6.0_65, Java vendor=Apple Inc., OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IU-133.696
Plugin release=3.2.2.v20140207000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1441,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxcb6v:",242073,,,,,233570,,,,,,,,,,,2014-03-07 14:54:49.738,,,,,,,,,,,,,,,,,,,,,,,,"2|hxdr3b:",248015,,,,,,,,,,,"1|hxavan:",233502,335664000,true,,,,,,,,,,1aab583349af(dryan),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxh9en:",247600,,,,,,,,,,,,,,,,,,,,,,,,,,233832,,"1|hxaxbb:",233832,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Mar/2014 2:54 PM;mparfianowicz;Hi Dennis, 

Could you please disable and enable again Clover instrumentation for your project (there's a button in main toolbar for it)?

Cheers
Marek;;;","07/Mar/2014 3:30 PM;1aab583349af;I just did that and I didn't see the error. I'm not sure what is null in getValidatedCloverLibrary(), but it seems worthwhile to give you a snippet from my pom file. Also, in Intelli-J clover seems to be working properly as far as I can tell (an awful lot of red!)

Let me know if I can provide you with more info

{code}
        <clover.version>3.2.2</clover.version>
        <clover.plugin.version>3.2.2</clover.plugin.version>
        <clover.targetPercentage>15%</clover.targetPercentage>

        <dependency>
            <groupId>com.cenqua.clover</groupId>
            <artifactId>clover</artifactId>
            <version>${clover.version}</version>
        </dependency>

{code};;;","07/Mar/2014 8:32 PM;mparfianowicz;Hello Dennis, 

Did you perform an upgrade of the IntelliJ IDEA from version 12.x to 13.x recently? 

I noticed that such exception may occur just after upgrading, but it's not reproducible every time. The getValidatedCloverLibrary() is related with the ""Clover IDEA Library"" which is being added to a list of global libraries in project settings (File -> Project Settings -> Global Libraries). 

In IDEA 13.x Clover uses a different location of the clover.jar (it's a workaround for one bug in IDEA) and I suspect that there's a problem when project is being loaded at the first time after IDEA upgrade. 


Cheers
Marek;;;","07/Mar/2014 8:34 PM;mparfianowicz;I lowered the priority to Major as I believe that it's not a Blocker anymore. ;;;","28/Mar/2014 9:35 AM;mparfianowicz;It's a duplicate of CLOV-1441;;;",,,,,,,,,,,,,,,,,,,,,,
native2ascii error converting i18n bundles for plugin,CLOV-1459,320052,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,mparfianowicz,e23cac2bea4b,e23cac2bea4b,27/Feb/2014 9:46 PM,28/Aug/2014 11:32 AM,15/Nov/2024 6:09 PM,28/Aug/2014 11:32 AM,3.2.2,,,,,4.0.1,,,Grails Plugin,,,,,,,0,,,,,,,,,"When running with -clover.on in our CI environment (TeamCity), we are getting a weird error:

Error native2ascii error converting i18n bundles for plugin [xxxx] java.lang.reflect.InvocationTargetException

It's not constrained to a single plugin, typically it lists different plugins. The full stack trace is:

{code}
[15:28:49][Step 4/8] | Error native2ascii error converting i18n bundles for plugin [spring-security-core-1.2.7.3] java.lang.reflect.InvocationTargetException
[15:28:49][Step 4/8] | Error Error executing script TestApp: : java.lang.reflect.InvocationTargetException (NOTE: Stack trace has been filtered. Use --verbose to see entire trace.)
[15:28:49][Step 4/8] : java.lang.reflect.InvocationTargetException
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBuilder.invokeMethod(GantBuilder.java:99)
[15:28:49][Step 4/8] 	at _GrailsTest_groovy$_run_closure1.doCall(_GrailsTest_groovy:102)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy:185)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy:185)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)
[15:28:49][Step 4/8] 	at TestApp$_run_closure1.doCall(TestApp:32)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy:185)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy:185)
[15:28:49][Step 4/8] 	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy)
[15:28:49][Step 4/8] 	at gant.Gant$_dispatch_closure5.doCall(Gant.groovy:381)
[15:28:49][Step 4/8] 	at gant.Gant$_dispatch_closure7.doCall(Gant.groovy:415)
[15:28:49][Step 4/8] 	at gant.Gant$_dispatch_closure7.doCall(Gant.groovy)
[15:28:49][Step 4/8] 	at gant.Gant.withBuildListeners(Gant.groovy:427)
[15:28:49][Step 4/8] 	at gant.Gant.this$2$withBuildListeners(Gant.groovy)
[15:28:49][Step 4/8] 	at gant.Gant$this$2$withBuildListeners$0.callCurrent(Unknown Source)
[15:28:49][Step 4/8] 	at gant.Gant.dispatch(Gant.groovy:415)
[15:28:49][Step 4/8] 	at gant.Gant.this$2$dispatch(Gant.groovy)
[15:28:49][Step 4/8] 	at gant.Gant.invokeMethod(Gant.groovy)
[15:28:49][Step 4/8] 	at gant.Gant.executeTargets(Gant.groovy:591)
[15:28:49][Step 4/8] 	at gant.Gant.executeTargets(Gant.groovy:590)
[15:28:49][Step 4/8] 	at org.grails.wrapper.GrailsWrapper.main(GrailsWrapper.java:93)
[15:28:49][Step 4/8] Caused by: java.lang.reflect.InvocationTargetException
[15:28:49][Step 4/8] 	... 30 more
[15:28:49][Step 4/8] Caused by: java.util.ConcurrentModificationException
[15:28:49][Step 4/8] 	at com.atlassian.clover.ant.groovy.GroovycSupport.logGroovycTasks(GroovycSupport.java:102)
[15:28:49][Step 4/8] 	at com.atlassian.clover.ant.groovy.GroovycSupport.taskStarted(GroovycSupport.java:123)
[15:28:49][Step 4/8] 	at org.apache.tools.ant.Project.fireTaskStarted(Project.java:2184)
[15:28:49][Step 4/8] 	... 30 more
[15:28:49][Step 4/8] | Error Error executing script TestApp: : java.lang.reflect.InvocationTargetException
[15:28:50][Step 4/8] Process exited with code 1
{code}

Running without ""-clover.on"" removes this problem. ","Redhat 6.1, x86_64, jdk 1.7.0_47, Grails 2.3.5",,,,,,,,,,,,,,,,,,,,,,,CLOV-1458,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxc4l3:",240885,,,,,232096,,,,,,Unknown,,,,,2014-02-28 08:29:28.451,,,,,,,,,,,,,,,,,,,,,,,,"2|hxdkvj:",246868,,,,,,,,,,,"1|hxamxb:",232028,322444800,true,,,,,,,,,,e23cac2bea4b(longwa),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwdl7z:",246381,,,,,,,,,,,,,,,,,,,,Sprint 3,,,,,2.0,232358,,"1|hxaoxz:",232358,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"28/Feb/2014 8:29 AM;mparfianowicz;Hi, I suspect it's the same issue as described in CLOV-1458. Please disable the fork feature in Grails. Cheers;;;","01/Mar/2014 2:42 PM;e23cac2bea4b;The fork feature is already disabled. 

This appears to be a race condition as the issue affect both different plugins as well as different builds. Our build process ends up running 4 steps: two test-app unit: and two test-app integration:

Occasionally, all 4 will succeed normally. But usually one of the steps will encounter this causing those tests not to run.;;;","01/Mar/2014 9:09 PM;mparfianowicz;What happens inside clover is that it iterates over a list of tasks in an Ant project logging those related with groovyc. It's a simple for loop over hashmap entries.

My suspicion is that the fireTaskStarted event is non blocking (because while Clover iterates over a list, it's being modified by Grails). But I didn't check this yet.;;;","23/Aug/2014 9:53 AM;mparfianowicz;Hi Aaron, please note that the similar bug CLOV-1458 has been fixed in Clover 3.3.0. Could you please upgrade your Clover to version 3.3.0 or 4.0.0 and check if the problem will disappear?;;;","28/Aug/2014 11:32 AM;mparfianowicz;Hi Aaron, I believe that this is fixed. In case it turns out to be not true, feel free to reopen this bug.;;;",,,,,,,,,,,,,,,,,,,,,,
Grails Clover Plugin Causing ConcurrentModification Error,CLOV-1458,319906,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,f67dcf827f0e,f67dcf827f0e,26/Feb/2014 11:50 PM,22/Aug/2016 5:24 AM,15/Nov/2024 6:09 PM,27/Feb/2014 11:17 AM,,,,,,3.3.0,,,Grails Plugin,Groovy,,,,,,0,,,,,,,,,"Hello,
If I were to run: test-app --verbose -clover.on -clover.report ""-clover.license.path=C:\clover.license"" in my build. The clover plugin has a uncaught concurrent modification exception. I am including a log file that runs a successful test-app call as well as the failing log.",,,,,,,,,,,,,,,,,,,,,CLOV-1459,,,,,,,,,,,,,,,"26/Feb/2014 11:51 PM;f67dcf827f0e;failing.log;https://jira.atlassian.com/secure/attachment/109909/failing.log","26/Feb/2014 11:51 PM;f67dcf827f0e;successful.log;https://jira.atlassian.com/secure/attachment/109908/successful.log",,,,,,,,,,,,,,,true,,"1|hxc3vb:",240749,,,,,231960,,,,,,Unknown,,,,,2014-02-27 08:19:58.583,,,,,,,,,,,,,,,,,,,,,,,,"2|hxdk5z:",246733,,,,,,,,,,,"1|hxam7j:",231892,338083200,true,,,,,,,,,,f67dcf827f0e(ayadav2),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxh25r:",246257,,,,,,,,,,,,,,,,,,,,,,,,,,232222,,"1|hxao87:",232222,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"27/Feb/2014 8:19 AM;mparfianowicz; * does this error happen every time you build with Clover?
 * are you running any forked or parallel tests?;;;","27/Feb/2014 11:21 AM;mparfianowicz;Never mind, I just protected the code against concurrent modification of the hashmap. I guess that groovyc runs some tasks in parallel (or more precisely - sends taskStarted() events in parallel).;;;","27/Feb/2014 4:55 PM;f67dcf827f0e;It is intermittent. The successful one happened after I ran a test-app and then again the test-app with the clover plugin turned on. I would estimate the failure rate to be about 90% failed. 

About, forking it was turned on.

Thanks, for the fix when do you expect to release 3.3.0?;;;","27/Feb/2014 7:39 PM;mparfianowicz;Please use Clover without the fork - it was not tested and I know that there are some issues with it. 

Clover 3.3.0 is expected end of March.;;;",,,,,,,,,,,,,,,,,,,,,,,
clover-for-grails plugin is not working with grails.project.fork,CLOV-1457,319244,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,f67dcf827f0e,f67dcf827f0e,21/Feb/2014 6:56 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.2,,,,,open-source,,,Grails Plugin,,,,,,,2,,,,,,,,,"Hello,
When I run the grails test-app command in grails 2.3.5. I get the following error:

{noformat}
Error running forked test-app: No such property: testNames for class: _Events
groovy.lang.MissingPropertyException: No such property: testNames for class: _Ev
ents
        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptByteco
deAdapter.java:50)
        at org.codehaus.groovy.runtime.callsite.PogoGetPropertySite.getProperty(
PogoGetPropertySite.java:49)
        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGroovyObjec
tGetProperty(AbstractCallSite.java:231)
        at _Events$_run_closure3.doCall(_Events.groovy:75)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces
sorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(Refl
ectiveInterceptor.java:1254)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:
90)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:233)
        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1086)
        at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1110)
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1443,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxc0fr:",240095,,,,,231306,,,,,,Unknown,,,,,2014-02-24 09:29:17.107,,,,,,,,,,,,,,,,,,,,,,,,"2|hxdh3j:",246137,,,,,,,,,,,"1|hxairz:",231238,315187200,true,,,,,,,,,,f67dcf827f0e(ayadav2),mparfianowicz(mparfianowicz),3fb654307af9(ted.timmons),,,,,,,,,,,,,,,,,"1|hwc1af:",245660,,,,,,,,,,,,,,,,,,,,,,,,,2.0,231568,,"1|hxaksn:",231568,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"24/Feb/2014 9:29 AM;mparfianowicz;Can you try running a build without the fork?;;;","25/Feb/2014 5:47 PM;f67dcf827f0e;Turning off the forking makes the coverage work again. Are there any plans on making clover work with forking on?
;;;","25/Feb/2014 8:14 PM;mparfianowicz;I will check how much effort it would take. If not too much then it might be pushed into scope of the incoming 3.3.0. But I can't promise right now.;;;","19/Nov/2014 5:29 PM;3fb654307af9;obviously wasn't added to 3.3, nor is it in the 4.0.x releases.

It's unfortunate that simply *including* Clover is enough to cause failures with forked testing, even with Clover disabled.;;;","19/Nov/2014 8:13 PM;mparfianowicz;> obviously wasn't added to 3.3

Is was my old comment, sorry. The ""Fix Version"" is set to 4.1.0 at the moment. I did check the problem and it turned out that there's no quick fix for it. It fails because one of Grails scripts is not available in the class path and Clover relies on data from it.;;;","19/Nov/2014 8:14 PM;mparfianowicz;> simply including Clover is enough to cause failures

I will check if it is at least possible to disable some of Clover's functionality in order to pass these failures. ;;;",,,,,,,,,,,,,,,,,,,,,
Clover doesn't instrument code with funky-spock grails plugin,CLOV-1456,318670,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Tracked Elsewhere,mparfianowicz,6f05953a19d3,6f05953a19d3,19/Feb/2014 1:22 PM,15/Jul/2015 9:54 AM,15/Nov/2024 6:09 PM,21/Feb/2014 1:09 PM,3.2.2,,,,,won't fix,,,Grails Plugin,,,,,,,0,,,,,,,,,"It's seem to be a change the implementation for the compile task on grails 2.3.6, so it  is able to instrument only the test task.

{code}
| Loading Grails 2.3.6

[clover-setup] Clover is enabled with initstring '/Users/rfy/Developer/xcom/xcom/xcom-web/target/clover/db/clover.db'
Clover: Forcing a clean to ensure Clover instrumentation occurs. Disable by setting: clover.forceClean=false
[clover-setup] Detected groovyc compiler groovyc=org.codehaus.groovy.grails.compiler.Grailsc

| Compiling 91 source files....
| Compiling 91 source files.....
| configuring joda-time support for simple datastore
| configuring joda-time support for simple datastore.
| configuring joda-time support for simple datastore..
| configuring joda-time support for simple datastore...
| configuring joda-time support for simple datastore....
| configuring joda-time support for simple datastore.....
[clover-setup] Detected groovyc compiler itestc=org.codehaus.groovy.grails.test.compiler.GrailsIntegrationTestCompiler
[clover-setup] Detected groovyc compiler groovyc=org.codehaus.groovy.grails.compiler.Grailsc
[clover-setup] Detected groovyc compiler testc=org.codehaus.groovy.grails.test.compiler.GrailsTestCompiler
[clover-setup] Found groovyc task named testc

[clover-setup] Using test detector com.atlassian.clover.instr.tests.FileMappedTestDetector@6108fe21
[clover-setup] Clover is enabled in config. Reconfiguring groovyc task testc
[clover-setup] Extracted /embeddedjars/clover3.2.2/grover.jar to /var/folders/r1/x5hwb7mj5wd04w434wcpd4bj07mp3j/T/grover4480222572818068702.jar
[clover-setup] Scanning for source to compile: /xxx/xxx/xxx/xxx/xxx/xxx/test/unit

[clover-setup] Found file for instrumentation: /xxx/xxx/xxx/xxx/xxx/xxx/grails-app/controllers/xxx/xxx/xxx/account/LoginController.groovy
[clover-setup] File /xxx/xxx/xxx/xxx/xxx/xxx/grails-app/controllers/xxx/xxx/xxx/account/LoginController.groovy not in original compile list - ignoring
[clover-setup] Found file for instrumentation: /xxx/xxx/xxx/xxx/xxx/xxx/grails-app/controllers/xxx/xxx/xxx/account/LogoutController.groovy
[clover-setup] File /xxx/xxx/xxx/xxx/xxx/xxx/grails-app/controllers/xxx/xxx/xxx/account/LogoutController.groovy not in original compile list - ignoring
{code}
 ","grails 2.3.6 
clover 3.2.2
on Linux ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Feb/2014 7:49 AM;6f05953a19d3;clover_debug_compile.txt;https://jira.atlassian.com/secure/attachment/109430/clover_debug_compile.txt",,,,,,,,,,,,,,,,true,,"1|hxbybb:",239720,,,,,230931,,,,,,Unknown,,,,,2014-02-19 14:07:40.193,,,,,,,,,,,,,,,,,,,,,,,,"2|hxdf2v:",245774,,,,,,,,,,,"1|hxagnj:",230863,338428800,true,,,,,,,,,,mparfianowicz(mparfianowicz),b14852591d9c(rainer.frey),6f05953a19d3(szr),,,,,,,,,,,,,,,,,"1|hxgxan:",245341,,,,,,,,,,,,,,,,,,,,,,,,,,231193,,"1|hxaio7:",231193,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"19/Feb/2014 2:07 PM;mparfianowicz;Hi Sam, 
 * can you confirm that the same project compiles under Grails 2.3.5 correctly?
 * do you use standard source folders (src/java, src/groovy, test/unit, test/integration)?
 * do you use any plug-ins which are generating source code to another folders?

Cheers
Marek;;;","19/Feb/2014 2:17 PM;mparfianowicz;I did not reproduce this behaviour. Can you check the HTML report generated - does it indeed do not contain application classes? 

Messages like:

{noformat}
[clover-setup] Scanning for source to compile: /xxx/xxx/xxx/xxx/xxx/xxx/test/unit
[clover-setup] Found file for instrumentation: /xxx/xxx/xxx/xxx/xxx/xxx/grails-app/controllers/xxx/xxx/xxx/account/LoginController.groovy
[clover-setup] File /xxx/xxx/xxx/xxx/xxx/xxx/grails-app/controllers/xxx/xxx/xxx/account/LoginController.groovy not in original compile list - ignoring
{noformat}

do not necessarily mean an error. Please note that the 'test/unit' files are compiled, so another source(s) found in 'grails-app/controllers/...' are being ignored in this specific groovyc call. 

Cheers
Marek
;;;","19/Feb/2014 2:17 PM;6f05953a19d3;Hi Marek,

 * there are the same problems with clover under grails 2.3.5, but under grails 2.3.0 compiles correctly
 * yes, we are using the standard source folders 
 * no, we dont use any plug-in thats generating source code

the HTML report has only the test classes  

Cheers
Sam   

 ;;;","19/Feb/2014 2:28 PM;6f05953a19d3;The errors occurred after the update for grails, we doesn't change the configuration. 
The main different is the output of clover debug :

clover 3.2.2 with grails 2.3.0
{code}
[clover-setup] Detected groovyc compiler groovyc=org.codehaus.groovy.grails.compiler.Grailsc
{code}
 
clover 3.2.2 with grails 2.3.6
{code}
[clover-setup] Detected groovyc compiler itestc=org.codehaus.groovy.grails.test.compiler.GrailsIntegrationTestCompiler
[clover-setup] Detected groovyc compiler groovyc=org.codehaus.groovy.grails.compiler.Grailsc
[clover-setup] Detected groovyc compiler testc=org.codehaus.groovy.grails.test.compiler.GrailsTestCompiler
[clover-setup] Found groovyc task named testc
{code}     ;;;","19/Feb/2014 3:55 PM;b14852591d9c;{quote}Please note that the 'test/unit' files are compiled, so another source(s) found in 'grails-app/controllers/...' are being ignored in this specific groovyc call.{quote}
The problem is: this is the only detected groovyc call using these versions. Using grails 2.3.0 with (almost) identical code finds 7 groovyc tasks named ""groovyc"" in addition to the one named ""testc"".;;;","19/Feb/2014 4:14 PM;mparfianowicz;What happens when you run 'grails compile -clover.on'? Do you see anything in the report?;;;","19/Feb/2014 4:15 PM;mparfianowicz;Grails 2.3.5 has a new feature to run (and compile) tests in a forked process. Do you use this feature?;;;","19/Feb/2014 9:16 PM;mparfianowicz;Hi Sam, may I ask you to raise a support ticket at https://support.atlassian.com (in the ""Clover Support"" project) and attach:
 * full build log with debug logging (grails test-app -clover.on -clover.debug)
 * grails-app/conf/BuildConfig.groovy (I'd like to see what other plugins are used and project is configured)
 * Clover database (just a database, without coverage files, shall be in ~/.grails/2.3.6/projects/project-name/clover)
;;;","20/Feb/2014 6:39 AM;6f05953a19d3;God morning Marek,

{quote}
What happens when you run 'grails compile -clover.on'? Do you see anything in the report?
{quote}

in the report there are only the classes from the task which are catching by clover 

Cheers Sam ;;;","20/Feb/2014 6:48 AM;mparfianowicz;Do you mean that you see non-test classes? From /src folder? Or maybe classes from /grails-app only?;;;","20/Feb/2014 6:53 AM;6f05953a19d3;I see only classes from the test folder, these are spock classes. There are no groovy or java classes from the source folder.  ;;;","20/Feb/2014 7:20 AM;mparfianowicz;You shall not see any test classes if they were not compiled. Unless you have clover.fullclean=false or you have a clover database from a previous build. Can you perform a full clean?;;;","20/Feb/2014 7:48 AM;6f05953a19d3;Sorry Marek i had perform a wrong build. Now i had perform a compile -clover.on  -clover.license.path=clover.license  -clover.debug. I added  a file with the debug output. ;;;","20/Feb/2014 12:11 PM;6f05953a19d3;I opend the a support ticket CLV-6073;;;","21/Feb/2014 1:01 PM;mparfianowicz;*Update:*

This was caused by the "":funky-spock:0.2.1"" plugin. This plugin contains a following code in its funky-spock-0.2.1/scripts/_Events.groovy:

{code:java}
projectCompiler = new GrailsProjectCompiler(pluginSettings)
projectCompiler.configureClasspath()
{code}

which replaces the original instance of a projectCompiler, which is being set by <grails>/scripts/_GrailsClasspath.groovy:

{code:java}
projectCompiler = new GrailsProjectCompiler(pluginSettings, classLoader)
projectCompiler.ant = ant
{code}

As a consequence, any settings related with a class path, which were set by Clover, are lost.

*Workaround:*

Remove the funky-spock plugin dependency from a project. 

If you need to have Spock classes in a functional test phase, try adding code from the funky-spock plugin (_Events.groovy + Loader.groovy) to your project (except those two lines mentioned above).


*Bug fix:*

I have created a comment for a funky-spock plugin author:

https://github.com/sriddell/grails-funky-spock/commit/7e00424dc3d07756a444939f665a168b980be6c2

and raised an issue:

https://github.com/sriddell/grails-funky-spock/issues/4;;;","24/Feb/2014 9:25 AM;mparfianowicz;Hi Sam,

It looks that an author of the grails-funky-spock has published a fix: 
https://github.com/sriddell/grails-funky-spock/commit/f029978c2af3c46b80e79fcd09d7dcbbb18db8f4

You may try using the grails-funky-spock v 0.2.2. 

Cheers
Marek;;;","24/Feb/2014 9:53 AM;6f05953a19d3;Hi Marek, 

the developer of the plugin has fixed this issue and now it works fine. 
Thank for your help.

Cheers 
Sam  

  ;;;","24/Feb/2014 10:04 AM;mparfianowicz;It's a great news :-) You're welcome!;;;",,,,,,,,,
///Clover:OFF does not work with lambdas,CLOV-1455,318284,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,17/Feb/2014 11:22 AM,29/Mar/2014 3:40 PM,15/Nov/2024 6:09 PM,29/Mar/2014 3:40 PM,3.2.2,,,,,3.3.0,,,Instrumentation,,,,,,,0,,,,,,,,,"The following piece of code fails to be instrumented
{code:java}
public class Foo {
    // /CLOVER:OFF
    public static void main(String[] args) {
        new ConcurrentHashMap<>().computeIfAbsent(""foo"", e -> null);
    }
    // /CLOVER:ON
}
{code}
Results in

[ERROR] /Users/kasperni/workspace/cake-container/cake-container/cake-container-impl/target/clover/src-instrumented/org/cakeframework/internal/container/handler/Foo.java:[28,58] cannot find symbol
  symbol:   variable __CLR3_2_2133133hrrnhz2t
  location: class org.cakeframework.internal.container.handler.Foo",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxbw3r:",239326,,,,,230535,,,,,,Unknown,,,,,2014-03-10 14:09:59.787,,,,,,,,,,,,,,,,,,,,,,,,"2|hxdcyv:",245395,,,,,,,,,,,"1|hxaefj:",230467,339033600,true,,,,,,,,,,4d85d3f9-8aa3-417a-bb6f-61e186be8e94(kasperni),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hx51e7:",167275,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,2.0,230797,,"1|hxagg7:",230797,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix uncheched warnings for code instrumented by Clover,CLOV-1451,317113,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,10/Feb/2014 9:38 AM,27/Mar/2014 10:54 AM,15/Nov/2024 6:09 PM,13/Feb/2014 2:15 PM,3.2.2,,,,,3.3.0,,,Instrumentation,,,,,,,0,,,,,,,,,"Follow up of CLOV-1399:

{quote}
I tried it with 3.2.2 same issue for every instrumented class.
[WARNING] /Users/kasperni/workspace/cake-container/cake-container/cake-container-api/target/clover/src-instrumented/org/cakeframework/container/RuntimeContainerException.java:[24,758] unchecked cast
required: I
found: java.lang.Object

It is this generated line that generates the warning:

return (I) java.lang.reflect.Proxy.newProxyInstance(l.getClass().getClassLoader(), l.getClass()
.getInterfaces(), h);

It can be solved by adding a @SuppressWarnings(""unchecked"") to the instrumented file:

@SuppressWarnings(""unchecked"")
public static <I, T extends I> I lambdaInc(final int i, final T l, final int si)
{........} 
{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1399,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxbqdb:",238256,,,,,229452,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxd79z:",244352,,,,,,,,,,,"1|hxa8m7:",229384,339638400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx51db:",167271,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,2.0,229714,,"1|hxaamv:",229714,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tree map report has an empty line in context menu,CLOV-1446,316903,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,07/Feb/2014 10:26 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.2,,,,,someday,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Open TreeMap report in IDEA, right click on a class, a context menu is opened which has an empty first line:

!jump_to_source.png!
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Feb/2014 10:26 AM;mparfianowicz;jump_to_source.png;https://jira.atlassian.com/secure/attachment/108620/jump_to_source.png",,,,,,,,,,,,,,,,true,,"1|hxbpan:",238049,,,,,229240,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxd68n:",244150,,,,,,,,,,,"1|hxa7if:",229172,339897600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxgp93:",243881,,,,,,,,,,,,,,,,,,,,,,,,,2.0,229502,,"1|hxa9j3:",229502,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IDEA fails to compile UTF16 file instrumented by Clover,CLOV-1445,316743,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,06/Feb/2014 1:53 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.0,,,,,long term roadmap,,,CIJ Plugin,Instrumentation,,,,,,0,,,,,,,,,"Create a simple file with UTF16 encoding, e.g.:

{code:java}
public class Unicode16 {
    public static void main(String[] args) {
        char z = 'ż';
    }
}
{code}

(right click in source editor -> File Encoding -> UTF16)

Build with Clover fails with an error message like:

{noformat}
C:\Users\Marek\AppData\Local\Temp\javasyntax188072041083267764871javasyntax18\Unicode16.java
error: illegal character: '\u02d9'
error: illegal character: '\u0000'
error: illegal character: '\u0000'
...
{noformat}

Clover outputs instrumented file in the UTF8 format, so this might be a cause. 

Note: the same UTF16 file compiles correctly in Eclipse. 

It was reproduced just once. Probably due to UTF-8 - UTF-16 conversions, \u0000 characters were put in between and Clover rewrote it. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxbodz:",237890,,,,,229077,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxd5fb:",244002,,,,,,,,,,,"1|hxa6kv:",229009,339984000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxgogv:",243741,,,,,,,,,,,,,,,,,,,,,,,,,,229339,,"1|hxa8lj:",229339,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover-for-Grails does not work in Grails 2.3.5,CLOV-1444,316160,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,mparfianowicz,12051298f52d,12051298f52d,03/Feb/2014 2:57 PM,31/Mar/2014 11:42 AM,15/Nov/2024 6:09 PM,03/Feb/2014 4:12 PM,3.2.0,,,,,3.2.2,,,Grails Plugin,,,,,,,0,,,,,,,,,"Using the latest Clover plugin version 3.2.0 with the latest Grails version 2.3.5 leads to the following error when the ""test-app"" command is invoked:

{code}
| Error Error executing script TestApp: No such property: testTargetPatterns for class: _Events (Use --stacktrace to see the full trace)
{code}

Running it with --stacktrace leads to the following output:

{code}
| Error Error executing script TestApp: No such property: testTargetPatterns for class: _Events (NOTE: Stack trace has been filtered. Use --verbose to see entire trace.)
groovy.lang.MissingPropertyException: No such property: testTargetPatterns for class: _Events
	at _Events$_run_closure3.doCall(_Events.groovy:75)
	at _GrailsTest_groovy$_run_closure1.doCall(_GrailsTest_groovy:102)
	at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)
	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy:185)
	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy)
	at org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)
	at org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)
	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy:185)
	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy)
	at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)
	at TestApp$_run_closure1.doCall(TestApp.groovy:32)
	at org.codehaus.gant.GantMetaClass.invokeMethod(GantMetaClass.java:133)
	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy:185)
	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16_closure18.doCall(GantBinding.groovy)
	at org.codehaus.gant.GantBinding.withTargetEvent(GantBinding.groovy:90)
	at org.codehaus.gant.GantBinding.this$4$withTargetEvent(GantBinding.groovy)
	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy:185)
	at org.codehaus.gant.GantBinding$_initializeGantBinding_closure5_closure16.doCall(GantBinding.groovy)
	at gant.Gant$_dispatch_closure5.doCall(Gant.groovy:381)
	at gant.Gant$_dispatch_closure7.doCall(Gant.groovy:415)
	at gant.Gant$_dispatch_closure7.doCall(Gant.groovy)
	at gant.Gant.withBuildListeners(Gant.groovy:427)
	at gant.Gant.this$2$withBuildListeners(Gant.groovy)
	at gant.Gant$this$2$withBuildListeners$0.callCurrent(Unknown Source)
	at gant.Gant.dispatch(Gant.groovy:415)
	at gant.Gant.this$2$dispatch(Gant.groovy)
	at gant.Gant.invokeMethod(Gant.groovy)
	at gant.Gant.executeTargets(Gant.groovy:591)
	at gant.Gant.executeTargets(Gant.groovy:590)
{code}

It turns out that the error is in the <clover grails plugin>/scripts/_Events.groovy script at line 75:

{code}
defStoredTestTargetPatterns = testTargetPatterns;
{code}

Apparently the ""testTargetPattern"" global variable was removed in the course of Grails 2.3.3, when some script variables where put into helper classes. See also: http://grails.1312388.n4.nabble.com/Plugin-issue-can-t-find-targetPhasesAndTypes-td4652199.html

There is currently no related Grails JIRA that I'm aware of. If this issue can't be worked out somehow it would require to create a Grails JIRA to check if the variable could be reintroduced or why it was removed.",,,,,,,,,,,,,,,,,,,,,,,,CLOV-1396,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxbl93:",237337,,,,,228522,,,,,,Unknown,,,,,2014-02-03 16:12:19.393,,,,,,,,,,,,,,,,,,,,,,,,"2|hxd2f3:",243469,,,,,,,,,,,"1|hxa3fj:",228454,340243200,true,,,,,,,,,,12051298f52d(benjamin.wolff),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxglx3:",243281,,,,,,,,,,,,,,,,,,,,,,,,,,228785,,"1|hxa5gf:",228785,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"03/Feb/2014 3:09 PM;12051298f52d;Duplicates CLOV-1396, which was already fixed, so this JIRA can be closed. Are there any plans for the 3.2.1 or 3.2.2 release?;;;","03/Feb/2014 4:12 PM;mparfianowicz;Hi Benjamin, 

Indeed this is a duplicate. Assuming I won't find any new blockers for Grails (there are some minor issues) I expect to publish a new Clover release (3.2.2) next week. 

Cheers
Marek

;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Clover Grails Plugin fails when tests are launched from IDEA,CLOV-1443,315916,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,31/Jan/2014 9:40 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.1,,,,,long term roadmap,,,Grails Plugin,,,,,,,0,,,,,,,,,"Steps to reproduce:
 * import Grails-based project into IntelliJ IDEA 
 * add Clover Grails plugin to the project
 * run *forked* tests from IDEA

Build fails with an error like:

{noformat}
| Error Error running forked test-app: No such property: testNames for class: _Events (Use --stacktrace to see the full trace)
| Error Forked Grails VM exited with error
{noformat}

Workaround:
 * disable forked test execution in IDEA

Probable cause:

IDEA does not call ""grails test-app"" but executes the  GrailsScriptRunner, e.g.:

{noformat}
java -cp ... org.codehaus.groovy.grails.cli.support.GrailsStarter --main org.codehaus.groovy.grails.cli.GrailsScriptRunner
{noformat}

The most probably this runner does not import the _GrailsTest.groovy, which contains a definition of the testNames property.",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1457,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxbk73:",237101,,,,,228286,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxd1en:",243242,,,,,,,,,,,"1|hxa2dj:",228218,340502400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkd3:",167277,,,,,,,,,,,,,,,,,,,,,,,,,2.0,228549,,"1|hxa4ef:",228549,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use more unique property names in clover.xml,CLOV-1442,315753,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,30/Jan/2014 12:58 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.1,,,,,long term roadmap,,,Ant Tasks,,,,,,,1,,,,,,,,,"The clover.xml contains the following properties:

{code:xml}
<property name=""project.name"" value=""${ant.project.name}""/> <!-- By default, use the ant project name. -->
<property name=""project.title"" value=""${project.name}""/> <!-- If no title is set, use the project.name. -->
<property name=""test.target"" value=""test""/> <!-- The name of the target which runs the tests. -->
{code}

Their names are not very unique so there's some chance that developer could actually use similar ones in his project. This may lead to clash an Ant properties are not read-only once set. 

Use more distinct names, e.g. ""clover.project.name"". 

Update documentation on CAC accordingly. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxbj9j:",236930,,,,,228089,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxd0l3:",243089,,,,,,,,,,,"1|hxa1a7:",228021,294624000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkrr:",242915,,,,,,,,,,,,,,,,,,,,,,,,,2.0,228351,,"1|hxa3av:",228351,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/Jul/2015 7:21 PM;mparfianowicz;It's a ""breaking"" change, thus assigned to a major release.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover plugin doesn't load on IDEA 13 Startup,CLOV-1441,315727,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,8a2c3c6f1c78,8a2c3c6f1c78,30/Jan/2014 8:49 AM,19/Nov/2015 6:02 PM,15/Nov/2024 6:09 PM,28/Mar/2014 1:47 PM,3.2.1,,,,,3.3.0,,,CIJ Plugin,,,,,,,0,,,,,,,,,"{noformat}
null
java.lang.NullPointerException
	at com.cenqua.clover.idea.LibrarySupport.getValidatedCloverLibrary(LibrarySupport.java:81)
	at com.cenqua.clover.idea.build.CloverLibraryInjector$1.run(CloverLibraryInjector.java:44)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:997)
	at com.cenqua.clover.idea.build.CloverLibraryInjector.addCloverLibrary(CloverLibraryInjector.java:61)
	at com.cenqua.clover.idea.build.CloverLibraryInjector.updateModulesDependencies(CloverLibraryInjector.java:35)
	at com.cenqua.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:116)
	at com.cenqua.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:86)
	at com.intellij.ide.startup.impl.StartupManagerImpl$7.run(StartupManagerImpl.java:286)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:259)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$100(StartupManagerImpl.java:52)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:184)
	at com.intellij.openapi.project.DumbServiceImpl.a(DumbServiceImpl.java:238)
	at com.intellij.openapi.project.DumbServiceImpl.access$500(DumbServiceImpl.java:53)
	at com.intellij.openapi.project.DumbServiceImpl$IndexUpdateRunnable$1$3.run(DumbServiceImpl.java:420)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:251)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:733)
	at java.awt.EventQueue.access$200(EventQueue.java:103)
	at java.awt.EventQueue$3.run(EventQueue.java:694)
	at java.awt.EventQueue$3.run(EventQueue.java:692)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:703)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:696)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:524)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:335)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)
{noformat}
","Java version=1.7.0_25, Java vendor=Oracle Corporation, OS name=Linux, OS architecture=amd64, IDEA build number=IU-133.331
Plugin release=3.2.1.v20140110000000",,,,,,,,,,,,,,,,,,,,CLOV-1461,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxbj53:",236906,,,,,228065,,,,,,,,,,,2014-01-30 09:20:06.646,,,,,,,,,,,,,,,,,,,,,,,,"2|hxd0gn:",243065,,,,,,,,,,,"1|hxa15r:",227997,335664000,true,,,,,,,,,,mparfianowicz(mparfianowicz),8a2c3c6f1c78(ralph@mijndomein.nl),,,,,,,,,,,,,,,,,,"1|hx51dz:",167272,,,,com.cenqua.clover.idea.LibrarySupport.getValidatedCloverLibrary\(LibrarySupport.java:81\),,,,,,,,,,,,,,,,Sprint 3,,,,,2.0,228327,,"1|hxa36f:",228327,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jan/2014 8:50 AM;8a2c3c6f1c78;This only happens whenever OS has been freshly booted up.

Workaround: File -> Exit IDEA

Startup IDEA again.
;;;","30/Jan/2014 9:20 AM;mparfianowicz;Hi Ralph, do you have a project opened in IDEA at the time this exception occurs?;;;","30/Jan/2014 9:22 AM;8a2c3c6f1c78;Yes, 2 even. 1 PHP project, 1 Mixed (Maven 3)Java/PHP project;;;","30/Jan/2014 9:22 AM;mparfianowicz;Did you perform an upgrade from IDEA 12.x to IDEA 13.x or you have made a fresh installation of IDEA13 (by fresh I mean a new IntelliJ workspace, typically it's in ~/.IntelliJ)?

Could you open Project Settings > Global libraries and remove the ""Clover IDEA Library"" from the list and next rebuild the project? Does this error still occur?
;;;","30/Jan/2014 9:35 AM;8a2c3c6f1c78;I removed the clover idea lib in project structure. Then I also removed the /tmp/clover-idea.jar.

Restarted IDEA, no errors.

Removed it from project structure again. 
Rebooted
Started IDEA, no errors
Rebooted again
Started IDEA, no errors again.

Seems it was some sort of cached jar maybe?

;;;","30/Jan/2014 9:42 AM;mparfianowicz;I suspect that it was rather a problem with a cached configuration of the ""Clover IDEA Library"" (from previous IDEA version, having different location of the JAR in the ""classes"" section) rather than the presence of /tmp/clover.jar file. The /tmp/clover.jar is being (re)created before every build, while the ""Clover IDEA Library"" is being added to the project only at the time when Clover is being enabled for it. 

Nevertheless I will try to reproduce this issue on my environment. ;;;","31/Jan/2014 9:21 AM;8a2c3c6f1c78;This morning I started up my IDEA again.

Error happened again...;;;","31/Jan/2014 9:25 AM;mparfianowicz;:-( Bad luck. I'll check what's going on ...

;;;","11/Mar/2014 2:56 PM;mparfianowicz;Also a problem during shutdown:

{noformat}
[ 102957]  ERROR - ij.components.ComponentManager - Not disposed pointer: file:///tmp/clover-idea.jar 
com.intellij.openapi.util.TraceableDisposable$DisposalException: Not disposed pointer: file:///tmp/clover-idea.jar
        at com.intellij.openapi.util.TraceableDisposable.throwDisposalError(TraceableDisposable.java:44)
        at com.intellij.openapi.vfs.impl.VirtualFilePointerManagerImpl.a(VirtualFilePointerManagerImpl.java:295)
        at com.intellij.openapi.vfs.impl.VirtualFilePointerManagerImpl.disposeComponent(VirtualFilePointerManagerImpl.java:97)                                                                                                             
        at com.intellij.openapi.components.impl.ComponentManagerImpl.disposeComponents(ComponentManagerImpl.java:136)                                                                                                                      
        at com.intellij.openapi.application.impl.ApplicationImpl.dispose(ApplicationImpl.java:563)                                                                                                                                         
        at com.intellij.openapi.util.Disposer$1.execute(Disposer.java:47)                                                                                                                                                                  
        at com.intellij.openapi.util.Disposer$1.execute(Disposer.java:44)                                                                                                                                                                  
        at com.intellij.openapi.util.objectTree.ObjectNode$1.execute(ObjectNode.java:125)                                                                                                                                                  
        at com.intellij.openapi.util.objectTree.ObjectNode$1.execute(ObjectNode.java:102)                                                                                                                                                  
        at com.intellij.openapi.util.objectTree.ObjectTree.executeActionWithRecursiveGuard(ObjectTree.java:145)                                                                                                                            
        at com.intellij.openapi.util.objectTree.ObjectNode.execute(ObjectNode.java:102)                                                                                                                                                    
        at com.intellij.openapi.util.objectTree.ObjectTree.executeAll(ObjectTree.java:131)                                                                                                                                                 
        at com.intellij.openapi.util.Disposer.dispose(Disposer.java:108)                                                                                                                                                                   
        at com.intellij.openapi.util.Disposer.dispose(Disposer.java:104)                                                                                                                                                                   
        at com.intellij.openapi.application.impl.ApplicationImpl$7.run(ApplicationImpl.java:341)                                                                                                                                           
        at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:981)                                                                                                                                  
        at com.intellij.openapi.application.impl.ApplicationImpl.a(ApplicationImpl.java:338)                                                                                                                                               
        at com.intellij.openapi.application.impl.ApplicationImpl.a(ApplicationImpl.java:812)                                                                                                                                               
        at com.intellij.openapi.application.impl.ApplicationImpl.access$800(ApplicationImpl.java:85)                                                                                                                                       
        at com.intellij.openapi.application.impl.ApplicationImpl$11.run(ApplicationImpl.java:788)                                                                                                                                          
        at com.intellij.openapi.application.impl.ApplicationImpl.exit(ApplicationImpl.java:798)                                                                                                                                            
        at com.intellij.openapi.application.impl.ApplicationImpl.exit(ApplicationImpl.java:744)                                                                                                                                            
        at com.intellij.openapi.application.impl.ApplicationImpl.exit(ApplicationImpl.java:739)                                                                                                                                            
        at com.intellij.ide.actions.ExitAction.actionPerformed(ExitAction.java:31)                                                                                                                                                         
        at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:162)
        at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter$1.run(ActionMenuItem.java:261)
        at com.intellij.openapi.wm.impl.FocusManagerImpl.runOnOwnContext(FocusManagerImpl.java:916)
        at com.intellij.openapi.wm.impl.IdeFocusManagerImpl.runOnOwnContext(IdeFocusManagerImpl.java:124)
        at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:231)
        at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)
        at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:104)
        at com.intellij.ui.plaf.beg.BegMenuItemUI.a(BegMenuItemUI.java:512)
        at com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:44)
        at com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:532)
        at java.awt.Component.processMouseEvent(Component.java:6527)
        at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)
        at java.awt.Component.processEvent(Component.java:6292)
        at java.awt.Container.processEvent(Container.java:2234)
        at java.awt.Component.dispatchEventImpl(Component.java:4883)
        at java.awt.Container.dispatchEventImpl(Container.java:2292)
        at java.awt.Component.dispatchEvent(Component.java:4705)
        at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4898)
        at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4533)
        at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4462)
        at java.awt.Container.dispatchEventImpl(Container.java:2278)
        at java.awt.Window.dispatchEventImpl(Window.java:2739)
        at java.awt.Component.dispatchEvent(Component.java:4705)
        at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:746)
        at java.awt.EventQueue.access$400(EventQueue.java:97)
        at java.awt.EventQueue$3.run(EventQueue.java:697)
        at java.awt.EventQueue$3.run(EventQueue.java:691)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)
        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:86)
        at java.awt.EventQueue$4.run(EventQueue.java:719)
        at java.awt.EventQueue$4.run(EventQueue.java:717)
        at java.security.AccessController.doPrivileged(Native Method)
        at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)
        at java.awt.EventQueue.dispatchEvent(EventQueue.java:716)
        at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:697)
        at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:520)
        at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:335)
        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
        at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)
{noformat};;;","28/Mar/2014 9:51 AM;mparfianowicz;A problem is as follows:
 * clover.jar is copied to /tmp/clover-idea.jar as a workaround for IDEA 13.0.x bug
 * VfsUtil.findFileByURL(""file:///tmp/clover-idea.jar"") returns null; it's caused by a fact that VFS is not aware of the change

Fix:
 * refresh VFS by calling VirtualFileManager.getInstance().refreshAndFindFileByUrl(""file:///tmp/clover-idea.jar"")

;;;","28/Mar/2014 10:21 AM;mparfianowicz;A ""Not disposed pointer"" error message is tracked here: CLOV-1472;;;",,,,,,,,,,,,,,,,
email didn't appear on main page.,CLOV-1440,315422,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mparfianowicz,54d6148ddcc2,54d6148ddcc2,29/Jan/2014 2:01 AM,29/Jan/2014 7:08 AM,15/Nov/2024 6:09 PM,29/Jan/2014 7:08 AM,3.2.0,,,,,won't fix,,,Build system,,,,,,,0,,,,,,,,,Email doesn't appear on the main page.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxbhvz:",236685,,,,,227844,,,,,,Unknown,,,,,2014-01-29 07:06:13.095,,,,,,,,,,,,,,,,,,,,,,,,"2|hxczan:",242855,,,,,,,,,,,"1|hx9zwn:",227776,340675200,true,,,,,,,,,,mparfianowicz(mparfianowicz),54d6148ddcc2(naureenalwani83),,,,,,,,,,,,,,,,,,"1|hxgj53:",242726,,,,,,,,,,,,,,,,,,,,,,,,,,228106,,"1|hxa1xb:",228106,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"29/Jan/2014 7:06 AM;mparfianowicz;Hi Naureen I see that you have created second issue with the same title. Could you please elaborate what problem do you exactly have? Cheers;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
email didnt appear on sent button,CLOV-1437,315240,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Invalid,mparfianowicz,54d6148ddcc2,54d6148ddcc2,28/Jan/2014 2:56 AM,29/Jan/2014 1:46 AM,15/Nov/2024 6:09 PM,28/Jan/2014 5:44 AM,3.2.0,,,,,won't fix,,,Database,,,,,,,0,bug-bucket,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Jan/2014 2:56 AM;54d6148ddcc2;iTunes Library Genius.itdb;https://jira.atlassian.com/secure/attachment/107867/iTunes+Library+Genius.itdb",,,,,,,,,,,,,,,,true,,"1|hxbgxr:",236510,,,,,227668,,,,,,1,,,,,2014-01-28 05:41:20.358,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcyfb:",242694,,,,,,,,,,,"1|hx9yy7:",227600,340761600,true,,,,,,,,,,mparfianowicz(mparfianowicz),54d6148ddcc2(naureenalwani83),,,,,,,,,,,,,,,,,,"1|hxgidb:",242581,,,,,,,,,,,,,,,,,,,,,,,,,,227930,,"1|hxa0yv:",227930,,,,,,,,,,,,,,,,,,,,,,1,,,,,,,"28/Jan/2014 5:41 AM;mparfianowicz;Hello Naureen, this issue tracker is not for the iTunes library. It's for the Atlassian Clover product. ;;;","28/Jan/2014 5:42 AM;mparfianowicz;May I know how did you found this site? Cheers;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Transitive dependency resolution fails in Grails 2.3 during installation of the Clover plugin,CLOV-1434,314858,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,23/Jan/2014 2:49 PM,07/Feb/2014 1:10 PM,15/Nov/2024 6:09 PM,07/Feb/2014 8:49 AM,3.2.1,,,,,3.2.2,,,Grails Plugin,,,,,,,0,,,,,,,,,"Since Grails 2.3 sth has changed in the dependency resolution mechanism. As a consequence, when the Clover plugin is being installed for a first time, the transitive dependency to com.cenqua.clover:clover is not resolved and this jar is not available on class path. 

As a consequence build fails when it tries to import ""cloverlib.xml"".

Workaround: define a dependency to com.cenqua.clover:clover in BuildConfig.groovy (or in pom.xml)  - in the very same way as it was made in Clover-for-Grails 3.1.12 or older under the Grails 2.2.

Fix:

1) reconfigure dependencies.groovy  / pom.xml ? 

2) roll back to a previous approach - i.e. merge clover-grails1 branch into default, produce one plugin version, rollback documentation",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxbewv:",236134,,,,,227288,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcwf3:",242319,,,,,,,,,,,"1|hx9wwf:",227220,341193600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxg0zz:",239402,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,1.0,227550,,"1|hx9yx3:",227550,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration tests are not being instrumented in Grails 2.3,CLOV-1432,314306,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,20/Jan/2014 9:13 PM,23/Mar/2017 2:44 PM,15/Nov/2024 6:09 PM,24/Jan/2014 12:55 PM,3.2.1,,,,,3.2.2,,,Grails Plugin,,,,,,,0,,,,,,,,,"Clover does not instrument integration tests in Grails 2.3. 

Caused by:
 * new GrailsIntegrationTestCompiler wrapper introduced in Grails 2.3.0 is not being recognized by Clover as a Groovy compiler
 * GrailsTestRunner calls Groovy compiler internally and this compiler does not have grover.jar on a classpath, thus Clover AST transformer is not called

Todo:
 * check how to recognize/pass inclusion/exclusion patterns to the internal compiler of GrailsTestRunner

Workaround:
 * not available",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxbc3r:",235624,,,,,226771,,,,,,Unknown,,,,,2014-01-25 00:13:17.986,,,,,,,,,,,,,,,,,,,,,,,,"2|hxctpz:",241825,,,,,,,,,,,"1|hx9u1r:",226703,340588800,true,,,,,,,,,,e23cac2bea4b(longwa),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxdstr:",225780,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,3.0,227033,,"1|hx9w2f:",227033,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"21/Jan/2014 11:03 AM;mparfianowicz;(/) GrailsIntegrationTestCompiler added to list of compilers recognized by Clover

(/) adding grover.jar to testDependencies, forcing GrailsProjectCompiler to recalculate classpaths, including testClasspath, now the Groovyc ""sees"" Clover's AST transformer
;;;","22/Jan/2014 8:51 AM;mparfianowicz;Branch: CLOV-1432_Integration_tests_on_Grails_2.3 on bitbucket.org/atlassian/grails-clover-plugin ;;;","25/Jan/2014 12:13 AM;e23cac2bea4b;Marek,
Working on my plugin and found a Grails bug that might be biting you on some of the integration stuff. The integration test cleanup() step isn't being called correctly b/c of this code. Looks like the cleanup() should be called cleanupClosure.call() instead of prepareClosure.call().

I'm going to open a ticket and fix it for Grails 2.3.6.

{code}
class ClosureInvokingTestPhaseConfigurer implements TestPhaseConfigurer {

    Closure prepareClosure
    Closure cleanupClosure

    ClosureInvokingTestPhaseConfigurer(Closure prepareClosure, Closure cleanupClosure) {
        this.prepareClosure = prepareClosure
        this.cleanupClosure = cleanupClosure
    }


    @Override
    void prepare(Binding testExecutionContext, Map<String, Object> testOptions) {
        prepareClosure.call()
    }

    @Override
    void cleanup(Binding testExecutionContext, Map<String, Object> testOptions) {
        prepareClosure.call()
    }
}
{code};;;","27/Jan/2014 11:08 AM;mparfianowicz;Hi Aaron, thanks a lot for your hint. Luckily, Clover doesn't seem to be affected by this. ;;;","30/Jan/2014 3:12 PM;e23cac2bea4b;Good to know. We are eagerly awaiting the updates to Clover to support Grails 2.3.

The changes to the test build framework and the way integration tests execute definitely caused me to take about a day or two essentially rewriting one of the plugins I maintain.;;;",,,,,,,,,,,,,,,,,,,,,,
JDK8 sources fail to compile when instrumented by Clover,CLOV-1431,314003,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,17/Jan/2014 10:02 AM,23/Mar/2017 2:44 PM,15/Nov/2024 6:09 PM,07/Feb/2014 8:57 AM,,,,,,3.2.2,,,Instrumentation,,,,,,,0,,,,,,,,,"See the attached comparison of original and instrumented code:

[^unicode_decoding_error.png]

A problem is as follows:
 * Clover has a UnicodeDecodingReader class which translates 6-letter character sequences ""\uNNNN"" into a single UTF16 character
 * this is used to correctly tokenize code identifiers (IDENT) written in non-ascii characters (a variable with German umlaut for instance)

In this specific example, some ""\uNNNN"" sequences were translated inside comments, and some characters were ""swallowed"". So for instance a fragment:

{noformat}
{@code \u}
{noformat}

ends with ""java: illegal unicode escape"".

Related issues:
 * CLOV-1305 - syntax highlighting problem
 * CLOV-1131 - Eclipse/IDEA editors get out of sync
",,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1131,CLOV-1305,,,,,,,"17/Jan/2014 10:02 AM;mparfianowicz;unicode_decoding_error.png;https://jira.atlassian.com/secure/attachment/107413/unicode_decoding_error.png",,,,,,,,,,,,,,,,true,,"1|hxbae7:",235325,,,,,226472,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcs27:",241533,,,,,,,,,,,"1|hx9sc7:",226404,341712000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxg0zr:",239401,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,3.0,226734,,"1|hx9ucv:",226734,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The clover2:clover goal does not pass the sourcepath property to underlying <clover-report> task,CLOV-1415,313573,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,ec2b407f5440,ec2b407f5440,15/Jan/2014 6:16 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.10,,,,,open-source,,,Database,Reporting,,,,,,1,,,,,,,,,"*Original problem from the cloned issue:*

{quote}
Clover database contains FileInfo objects for every source file. One of FileInfo fields is an absolute path to given file. When database is written, it uses current platform file separator for file name ('\' for windows, '/' for Linux/MacOS). However, when database is read it interprets file name using again current platform file separator. 

As a consequence, when database is generated on Windows and report generated on Linux, it cannot resolve file name properly - it takes whole path as a single path segment, resulting in paths like:

/path/from/report/generation/sourcepath/D:/path/from/instrumented/build/file.java

As a consequence report generation does create html file containing source code with highlighted coverage.
{quote}

*Problem with the clover2:clover goal:*

The clover2:clover call <clover-report> using a default report descriptor (which is located in the maven-clover2-plugin-X.X.X.jar/default-clover-report.xml). This report descriptor has a reporting defined like:

{code:xml}
<current outfile=""${output}"" summary=""${summary}""
                     charset=""${charset}"" title=""${title}"" titleAnchor=""${titleAnchor}""
                     span=""${span}"" alwaysReport=""${alwaysReport}""
                     showInnerFunctions=""${showInnerFunctions}"" showLambdaFunctions=""${showLambdaFunctions}"">
   <format refid=""clover.format""/>
   <testsources refid=""test.sources""/>
   <columns refid=""clover.columns""/>
</current>
{code}

i.e. there is no <sourcepath> property. 

Possible fix #1:

 * add the <sourcepath> property
 * set it's value to a list of standard source roots, similarly as it's done for <testsources> tag

_excerpt from the CloverReportMojo:_
{code:java}
antProject.setProperty(""testPattern"", ""**/src/test/**"");
{code}

_excerpt from the default-clover-report.xml:_

{code:xml}
<fileset id=""test.sources"" dir=""${projectDir}"">
  <include name=""${testPattern}""/>
</fileset>
...
<testsources refid=""test.sources""/>
{code}

so it could be like this:
{code:java}
antProject.setProperty(""sourceRootsPattern"", ""**/src/test/*;**/src/main/*"");
...
{code}

(!) potential problem: build may have source roots different than src/test/xxx and src/main/xxx; in such case sources would not be found; it means that settings this <sourcepath> property should be optional; it could be done via boolean flag

Possible fix #2:
 * add the <sourcepath> property to the clover2:clover goal
 * if it's not null then pass it's value to the <sourcepath> property in the <clover-report> goal in the report descriptor

(!) potential problem: how developers could easily find all source roots in all modules in their maven project in order to pass it as the property? 
","clover maven plugin, instrument on Windows, test and generate report on Linux",,,,,57600,57600,,0%,57600,57600,,,,,,,,CLOV-1112,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxazkv:",233548,,,,,226111,,,,,,Unknown,,,,,2014-01-15 09:18:25.449,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcpzj:",241174,,,,,,,,,,,"1|hx9q9j:",226043,333936000,true,,,,,,,,,,ec2b407f5440(kai.hu),c08d184ebab7(kevin.f.git),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,"1|hwfkhj:",167276,,,,,,,,,,,,,,,,,,,,,,,,,2.0,226373,,"1|hx9sa7:",226373,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/Jan/2014 6:24 AM;ec2b407f5440;I'm using Clover 3.1.10, the problem I'm facing now is exactly match what described in CLOV-1112, instrument on Windows and generate report on linux, db file record each source file's absolute path, which resulting win-linux paths like:

[ERROR] Failed to render syntax highlights for /app/QA/D:/perforce/depot/..../example.java
CLOV-1112 is mark as fixed in 3.1.7, but now seems it's still reproducible in 3.1.10.

BTW, I'm using clover maven plugin, details please check my post:

https://answers.atlassian.com/questions/251117/is-source-code-location-hardcode-in-clover-registry-file

Thanks,
Kai;;;","15/Jan/2014 9:18 AM;mparfianowicz;Hello Kai, 

Indeed your problem looks similarly to the CLOV-1112, but it was fixed in the Clover 3.1.7 and I didn't notice any regression bugs in this functionality recently. So it should work in 3.1.10 as well. 

I think that in your case a problem is that on Linux the directory with sources is different than on Windows and the clover2:clover reporting goal is not able to find it, which is caused by a fact that Maven goal does not set the 'sourcepath' property. Note that the <clover-report> Ant task has the <sourcepath> property in which you can pass list of paths pointing to the source roots (the clover2:clover goal calls the <clover-report> Ant task).

Unfortunately there's no <sourcepath> option for the clover2:clover goal: https://docs.atlassian.com/maven-clover2-plugin/latest/clover-mojo.html

It means that you have to configure reporting using the reportDescriptor:

https://docs.atlassian.com/maven-clover2-plugin/latest/clover-mojo.html#reportDescriptor

and add the <sourcepath> property in it. 

Regards
Marek;;;","15/Jan/2014 9:37 AM;mparfianowicz;Hello Kai,

I have updated the title and the description to better describe the problem with the Maven plugin. I have scheduled this bug to version 3.4.1, so a bug fix will not be available soon as there are two major Clover releases ahead of 3.4.1 - probably around end of this year.

In the meantime, could you test a workaround proposed by me in a previous comment? I case of any trouble do not hesitate to ask, I'm willing to help with the setup. 

Regards
Marek;;;","15/Jan/2014 9:40 AM;mparfianowicz;AAC https://answers.atlassian.com/questions/176028/unable-to-generate-clover-report-on-windows-when-the-database-is-generated-and-copied-from-linux?page=1#comment-251137;;;","15/Jan/2014 9:47 AM;ec2b407f5440;Hi Marek,

Thanks for your quick response, I'll try reportDescriptor tomorrow, then give the feedback asap.

Best regards,
Kai;;;","20/Jan/2014 6:09 AM;ec2b407f5440;Hi Marek,

The same problem still happens, I created a report descriptor file which like following, and added <reportDescriptor>/path-where-report-descriptor-locate</reportDescriptor> in my pom.xml.
{code:xml}
<project name=""Clover Report"" default=""current"">
 
    <clover-format id=""clover.format"" type=""${type}"" orderBy=""${orderBy}"" filter=""${filter}""/>
    <clover-setup initString=""${cloverdb}""/>
 
    <clover-columns id=""clover.columns"">
        <totalChildren/>
        <avgMethodComplexity/>
        <uncoveredElements format=""raw""/>
        <totalPercentageCovered format=""longbar""/>
    </clover-columns>
 
 
    <target name=""historical"">
        <clover-report>
            <current outfile=""${output}""  summary=""${summary}"">
                <format refid=""clover.format""/>
                <testsources dir=""${tests}""/>
                <columns refid=""clover.columns""/>
            </current>
            <historical outfile=""${historyout}"" historydir=""${history}"">
                <format refid=""clover.format""/>
                <columns refid=""clover.columns""/>
            </historical>
        </clover-report>
    </target>
 
    <target name=""current"">
        <clover-report>
            <current outfile=""${output}"" title=""${title}"" summary=""${summary}"">
                <format refid=""clover.format""/>
                <testsources dir=""${tests}""/>
                <resourcepath>
                      <pathelement path=""${source code location}""/>
                </resourcepath>
                <columns refid=""clover.columns""/>
            </current>
        </clover-report>
    </target>
</project>
{code}
Thanks,
Kai;;;","20/Jan/2014 8:51 AM;mparfianowicz;Hello Kai,

1) The <resourcepath> name is invalid - please use the <sourcepath> in the <clover-report>

2) What is the value of ""$\{source code location}"" in the <pathelement path=""$\{source code location}""/> ?

3) Could you attach a build log from ""mvn -X clover2:clover""? - (!) Please note that this JIRA instance is public - in case you're concerned about data privacy, then please create a support ticket in https://support.atlassian.com and attach log file there. 

Regards
Marek;;;","20/Jan/2014 10:18 AM;ec2b407f5440;Hi Marek,

<sourcepath> works, sorry for the mistake.

Thanks,
Kai;;;","20/Jan/2014 11:05 AM;mparfianowicz;There's no need to apologize :-) It's great to hear that it works. Is there anything else I could help you in? ;;;","17/Apr/2014 4:02 PM;c08d184ebab7;Hi Mark,
I am facing the same issue. I added report descriptor. Debug log shows that clover plugin is picking it up. However, the src files for my project are in several directories (ex. component1/src/main/java, component2/src/main/java, component3/src/main/java). How can I specify more that one path in path attribute of <pathelement> tag? I tried ant wildcards, but it didn't help.

Thanks,
Kevin;;;","17/Apr/2014 4:25 PM;c08d184ebab7;I found the solution. For each component, I had to add a separate pathelement

Thanks,
Kevin;;;",,,,,,,,,,,,,,,,
URISyntaxException from Clover IDEA plugin under IDEA13 on Mac OS X,CLOV-1406,313081,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,ad7667e92325,ad7667e92325,11/Jan/2014 11:36 AM,23/Mar/2017 2:44 PM,15/Nov/2024 6:09 PM,24/Jan/2014 12:55 PM,3.2.1,,,,,3.2.2,,,CIJ Plugin,,,,,,,0,,,,,,,,,"{noformat}
java.net.URISyntaxException: Illegal character in path at index 37: file:/Users/grant/Library/Application Support/IntelliJIdea13/clover-idea-3.2.1.jar: java.net.URISyntaxException: Illegal character in path at index 37: file:/Users/grant/Library/Application Support/IntelliJIdea13/clover-idea-3.2.1.jar
java.lang.RuntimeException: java.net.URISyntaxException: Illegal character in path at index 37: file:/Users/grant/Library/Application Support/IntelliJIdea13/clover-idea-3.2.1.jar
	at com.cenqua.clover.idea.LibrarySupport.getCloverClassBase(LibrarySupport.java:150)
	at com.cenqua.clover.idea.build.CloverCompiler$RefreshCloverGlobalLibraryTask.execute(CloverCompiler.java:282)
	at com.intellij.compiler.impl.CompileDriver.a(CompileDriver.java:2375)
	at com.intellij.compiler.impl.CompileDriver.access$900(CompileDriver.java:122)
	at com.intellij.compiler.impl.CompileDriver$8.run(CompileDriver.java:706)
	at com.intellij.compiler.progress.CompilerTask.run(CompilerTask.java:167)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl$TaskRunnable.run(ProgressManagerImpl.java:464)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl$2.run(ProgressManagerImpl.java:178)
	at com.intellij.openapi.progress.ProgressManager.executeProcessUnderProgress(ProgressManager.java:209)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:212)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl.runProcess(ProgressManagerImpl.java:171)
	at com.intellij.openapi.progress.impl.ProgressManagerImpl$8.run(ProgressManagerImpl.java:373)
	at com.intellij.openapi.application.impl.ApplicationImpl$8.run(ApplicationImpl.java:436)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:695)
	at com.intellij.openapi.application.impl.ApplicationImpl$1$1.run(ApplicationImpl.java:153)
Caused by: java.net.URISyntaxException: Illegal character in path at index 37: file:/Users/grant/Library/Application Support/IntelliJIdea13/clover-idea-3.2.1.jar
	at java.net.URI$Parser.fail(URI.java:2810)
	at java.net.URI$Parser.checkChars(URI.java:2983)
	at java.net.URI$Parser.parseHierarchical(URI.java:3067)
	at java.net.URI$Parser.parse(URI.java:3015)
	at java.net.URI.<init>(URI.java:577)
	at com.cenqua.clover.idea.LibrarySupport.getCloverClassBase(LibrarySupport.java:121)
	... 19 more

java.net.URISyntaxException: Illegal character in path at index 37: file:/Users/grant/Library/Application Support/IntelliJIdea13/clover-idea-3.2.1.jar: java.net.URISyntaxException: Illegal character in path at index 37: file:/Users/grant/Library/Application Support/IntelliJIdea13/clover-idea-3.2.1.jar
java.lang.RuntimeException: java.net.URISyntaxException: Illegal character in path at index 37: file:/Users/grant/Library/Application Support/IntelliJIdea13/clover-idea-3.2.1.jar
	at com.cenqua.clover.idea.LibrarySupport.getCloverClassBase(LibrarySupport.java:150)
{noformat}","Java version=1.6.0_65, Java vendor=Apple Inc., OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IU-133.471
Plugin release=3.2.1.v20140110000000",,,,,,,,,,,,,,,,,,,CLOV-1413,,,,,,,,,,,,,,,,"13/Jan/2014 11:53 AM;ad7667e92325;1_13_14__5_52_AM-2.png;https://jira.atlassian.com/secure/attachment/107077/1_13_14__5_52_AM-2.png","13/Jan/2014 11:47 AM;ad7667e92325;ContentZippingService_java_-__pepper-content-jar__-_PDS__3_2__-____Development_Projects_PDS_3_2__-_IntelliJ_IDEA__Cardea__IU-133_471.png;https://jira.atlassian.com/secure/attachment/107075/ContentZippingService_java_-__pepper-content-jar__-_PDS__3_2__-____Development_Projects_PDS_3_2__-_IntelliJ_IDEA__Cardea__IU-133_471.png","28/Jan/2014 5:54 PM;1561992a889b;Screen Shot 2014-01-28 at 12.54.38 PM.png;https://jira.atlassian.com/secure/attachment/107907/Screen+Shot+2014-01-28+at+12.54.38+PM.png","13/Jan/2014 7:33 AM;mparfianowicz;clover-idea-3.2.2-snapshot.z01;https://jira.atlassian.com/secure/attachment/107063/clover-idea-3.2.2-snapshot.z01","13/Jan/2014 7:33 AM;mparfianowicz;clover-idea-3.2.2-snapshot.zip;https://jira.atlassian.com/secure/attachment/107064/clover-idea-3.2.2-snapshot.zip","13/Jan/2014 12:06 PM;mparfianowicz;compiler.png;https://jira.atlassian.com/secure/attachment/107079/compiler.png","13/Jan/2014 2:04 PM;mparfianowicz;exclude_directory.png;https://jira.atlassian.com/secure/attachment/107083/exclude_directory.png","13/Jan/2014 2:04 PM;mparfianowicz;exclude_file.png;https://jira.atlassian.com/secure/attachment/107084/exclude_file.png","13/Jan/2014 12:00 PM;mparfianowicz;toggle.png;https://jira.atlassian.com/secure/attachment/107078/toggle.png",,,,,,,,true,,"1|hxawvb:",233063,,,,,225611,,,,,,,,,,,2014-01-11 20:16:40.721,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcndr:",240703,,,,,,,,,,,"1|hx9ngn:",225543,340675200,true,,,,,,,,,,1561992a889b(andrew@broadinstitute.org),ad7667e92325(grant.gochnauer),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,"1|hxdst3:",225777,,,,com.cenqua.clover.idea.LibrarySupport.getCloverClassBase\(LibrarySupport.java:\d+,,,,,,,,,,,,,,,,Sprint 1,,,,,2.0,225873,,"1|hx9ph3:",225873,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/2014 11:36 AM;ad7667e92325;IDEA version: 133.471;;;","11/Jan/2014 1:57 PM;ad7667e92325;This exception is actually thrown by the plugin every time I build and I build on save so every time I save any changes, IDEA throws an error from this plugin. hmmm;;;","11/Jan/2014 8:16 PM;mparfianowicz;I guess it's caused by a space character in a path.;;;","12/Jan/2014 12:54 PM;ad7667e92325;could be .. I ended up disabling the plugin since every command seemed to trigger an exception in IDEA.;;;","13/Jan/2014 5:39 AM;mparfianowicz;Hi Grant, 

1) May I ask you to check whether this problem occurs when IntelliJ IDEA 13 is installed in a directory containing no whitespace characters? I tested it on Windows 7 with ""c:\Program Files\..."" and it does not reproduce. I suspect that it might be MacOS-specific. 

2) Could you tell whether you have any non-English locale set on your Mac? Can you confirm that ""/Users/grant/Library/Application Support"" path does not contain any non-ASCII characters? I'm asking because the character at index 37 is letter ""n"", so it's weird to have an URI error on it.

Cheers
Marek;;;","13/Jan/2014 7:33 AM;mparfianowicz;Hi Grant,

I just made a blind fix for an encoding of the space character, you may try it if you want: [^clover-idea-3.2.2-snapshot.zip] + [^clover-idea-3.2.2-snapshot.z01].

Cheers
Marek;;;","13/Jan/2014 11:40 AM;ad7667e92325;Hi Marek,

Thanks!

For your questions, clover is installed in the standard/default IDEA plugins folder. It's all standard English (US) character sets. It sounds like this is OSX specific.

Let me give your test version a try.

Grant
;;;","13/Jan/2014 11:47 AM;ad7667e92325;Hi Marek,

Good news / Bad news

Good News:
When Compiling with clover is turned off, I no longer receive the exceptions in IDEA

Bad News:
When I turn compiling with clover on, I get an exception (attached in screenshot)

Grant

;;;","13/Jan/2014 11:51 AM;ad7667e92325;Here is what I see in IDEA.log

{code}
2014-01-13 05:50:31,962 [ 399206]   INFO - j.compiler.server.BuildManager - BUILDER_PROCESS [stdout]: Clover all over. Instrumented 860 files (264 packages). 
2014-01-13 05:50:31,962 [ 399206]   INFO - j.compiler.server.BuildManager - BUILDER_PROCESS [stdout]: 481 test methods detected. 
2014-01-13 05:50:31,962 [ 399206]   INFO - j.compiler.server.BuildManager - BUILDER_PROCESS [stdout]: Elapsed time = 15.392 secs. (55.873 files/sec, 10,422.687 srclines/sec) 
2014-01-13 05:50:31,981 [ 399225]   INFO - .GenericCompilerPersistentData - Compiler info file doesn't exists: /Users/grant/Library/Caches/IntelliJIdea13/compiler/pds 3.2.82767f3e/.caches/jasper_validator/info 
2014-01-13 05:50:31,981 [ 399225]   INFO - ler.impl.GenericCompilerRunner - Clearing cache for Jasper Validator 
2014-01-13 05:50:31,989 [ 399233]   INFO - lij.compiler.impl.CompilerUtil - 	COMPILATION FINISHED (BUILD PROCESS); Errors: 1; warnings: 108 took 17392 ms: 0 min 17sec 
2014-01-13 05:50:31,992 [ 399236]   INFO - over.idea.build.CloverCompiler - CLOVER: COMPILATION IN EXTERNAL BUILD PROCESS HAS FINISHED 
2014-01-13 05:50:31,992 [ 399236]   INFO - over.idea.build.CloverCompiler - CLOVER: RELOADING DATABASE AND COVERAGE DATA 
2014-01-13 05:50:31,992 [ 399236]   WARN - a.clover.core_v3.2.1-build-dev - Modified registry is different from the currently loaded one, forcing reload 
2014-01-13 05:50:31,995 [ 399239]   INFO -        CloverProgressIndicator - Creating database 
{code}

also found this in the build-log

{code}
014-01-13 05:50:29,709 [  14212]   INFO - s.incremental.java.JavaBuilder - Compiling 29 java files; module: pepper-webapp 
2014-01-13 05:50:29,714 [  14217]   INFO - s.incremental.java.JavaBuilder - Compiling 140 java files; module: pepper-content-jar (tests) 
2014-01-13 05:50:29,782 [  14285]   INFO - s.incremental.java.JavaBuilder - java.lang.NullPointerException 
java.lang.RuntimeException: java.lang.NullPointerException
	at com.sun.tools.javac.main.Main.compile(Main.java:475)
	at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:132)
	at org.jetbrains.jps.javac.JavacMain.compile(JavacMain.java:179)
	at org.jetbrains.jps.incremental.java.JavaBuilder.compileJava(JavaBuilder.java:380)
	at org.jetbrains.jps.incremental.java.JavaBuilder.compile(JavaBuilder.java:283)
	at org.jetbrains.jps.incremental.java.JavaBuilder.doBuild(JavaBuilder.java:192)
	at org.jetbrains.jps.incremental.java.JavaBuilder.build(JavaBuilder.java:164)
	at org.jetbrains.jps.incremental.IncProjectBuilder.runModuleLevelBuilders(IncProjectBuilder.java:1084)
	at org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:801)
	at org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:849)
	at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:764)
	at org.jetbrains.jps.incremental.IncProjectBuilder.access$800(IncProjectBuilder.java:78)
	at org.jetbrains.jps.incremental.IncProjectBuilder$BuildParallelizer$2.run(IncProjectBuilder.java:733)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at com.intellij.util.concurrency.BoundedTaskExecutor$1.run(BoundedTaskExecutor.java:37)
	at org.jetbrains.jps.service.impl.SharedThreadPoolImpl$1.run(SharedThreadPoolImpl.java:41)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)
Caused by: java.lang.NullPointerException
	at com.atlassian.clover.instr.InstrumentationSessionImpl.exitFile(InstrumentationSessionImpl.java:200)
	at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:252)
	at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:275)
	at com.cenqua.clover.idea.build.jps.CloverJavaSourceTransformer.transform(CloverJavaSourceTransformer.java:96)
	at org.jetbrains.jps.javac.TransformableJavaFileObject.getCharContent(TransformableJavaFileObject.java:51)
	at com.sun.tools.javac.api.ClientCodeWrapper$WrappedFileObject.getCharContent(ClientCodeWrapper.java:441)
	at com.sun.tools.javac.main.JavaCompiler.readSource(JavaCompiler.java:571)
	at com.sun.tools.javac.main.JavaCompiler.parse(JavaCompiler.java:632)
	at com.sun.tools.javac.main.JavaCompiler.parseFiles(JavaCompiler.java:909)
	at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)
	at com.sun.tools.javac.main.Main.compile(Main.java:439)
	... 21 more

{code};;;","13/Jan/2014 11:53 AM;ad7667e92325;I have multiple modules and had a hunch the error could be coming from my web app (the last thing to compile).. Noticed this attached screenshot. In fact, that error about the PSI folder is there for every module in my IDEA project;;;","13/Jan/2014 12:00 PM;mparfianowicz;Hi Grant, 

In the Clover-for-Ant (http://www.atlassian.com/software/clover/downloads/binary/clover-ant-3.2.1.zip) archive you'll find a simple 'tutorial' project. Could you open it in your IDEA 13 (with this Clover snapshot installed) and check how it builds the project? You can click ""toggle build with Clover"" button on the main toolbar several times:

!toggle.png!
;;;","13/Jan/2014 12:05 PM;mparfianowicz;Regarding this error:

{noformat}
Caused by: java.lang.NullPointerException
	at com.atlassian.clover.instr.InstrumentationSessionImpl.exitFile(InstrumentationSessionImpl.java:200)
	at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:252)
	at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:275)
{noformat}

Could you attach a screen shot of Settings > Compiler? Do you have the ""parallel build"" option *disabled*? 

!compiler.png!

Note: Clover does not support parallel build. ;;;","13/Jan/2014 12:09 PM;mparfianowicz;What steps have you performed which resulted in the error in context menu as per [^1_13_14__5_52_AM-2.png] ?;;;","13/Jan/2014 12:46 PM;ad7667e92325;Hi Marek,

Looks like the exception was because I had parallel build turned on. I turned it off, and compiling with clover now works. I would have never guessed that caused it :) Thanks for the pointer.

Regarding 1_13_14__5_52_AM-2.png, I can get that by right clicking on any module in my IDEA project and selecting the clover menu. It looks like an IDEA bug perhaps?

Thank you
;;;","13/Jan/2014 1:50 PM;mparfianowicz;{quote}
I would have never guessed that caused it 
{quote}

Excerpt from the https://confluence.atlassian.com/display/CLOVER/Clover-for-IDEA+Installation+Guide :

_Compile independent modules in parallel - it must be disabled; Clover does not support parallel build; follow the CLOV-1293 for future updates_   :-) 
;;;","13/Jan/2014 2:03 PM;mparfianowicz;Hi Grant, 

The ""Invalid element:"" in the context menu is not a bug, but a feature :-) A message means that this is not a valid root for exclusion pattern. 

This ""Change exclusion"" option is for including/excluding certain files or directories, and not modules (for modules you've got an option above named ""Exclude module from Clover instrumentation""). 

Example for a directory:

!exclude_directory.png!

Example for a file:

!exclude_file.png!

Cheers
Marek;;;","13/Jan/2014 2:08 PM;mparfianowicz;Let me summarize this issue: 

Can you confirm that 
 * after installing the attached clover-idea-3.2.2-snapshot.jar (containing a fix for a space character in path) and
 * disabling the parallel build 
Clover works on your Mac?

Cheers
Marek;;;","13/Jan/2014 2:14 PM;mparfianowicz;A follow-up: CLOV-1413;;;","13/Jan/2014 2:26 PM;ad7667e92325;Hi Marek,

I think your summary is accurate. Your new build works and as long as parallel build is off (per the docs), then things seems to work as expected. 

Thank you!
;;;","13/Jan/2014 4:40 PM;1561992a889b;Hi Marek,
I'm running into the same issue on osx mavericks.  Can you point me at the 3.2.2 download?

thanks,
andrew;;;","13/Jan/2014 4:59 PM;mparfianowicz;A snapshot is attached to this issue;;;","13/Jan/2014 7:58 PM;1561992a889b;When I try to install the plugin .zip, I get: ""invalid LOC header (bad signature)"".  I tried to download it a few times, but it gives me the same error message every time.;;;","13/Jan/2014 8:06 PM;mparfianowicz;Take zip + z01. Unpack them and install jar.;;;","28/Jan/2014 5:54 PM;1561992a889b;Hi Folks,
It looks like this has been resolved, but when I go to download the plugin from intellij, the blurb in intellij says its version 3.2.1.  I'd like to get my team all on clover, but we're mac guys, so I want to make sure that what we get in intellij is the right version.  Any chance we could get 3.2.2 pushed out to the official plugin repo?

thanks again!
zim;;;","28/Jan/2014 9:05 PM;mparfianowicz;Hi Andrew, there are few other issues open for version 3.2.2 and this is a reason why this version is not released yet. You can track progress on the [roadmap panel|https://jira.atlassian.com/browse/CLOV#selectedTab=com.atlassian.jira.plugin.system.project%3Aroadmap-panel]. It should be available in about 2 weeks. ;;;",,
Source highlighting label is cropped in the settings dialog,CLOV-1404,312115,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,02/Jan/2014 9:20 PM,15/Jul/2015 8:41 PM,15/Nov/2024 6:09 PM,15/Jul/2015 8:41 PM,3.2.0,,,,,4.0.5,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Project Settings > Clover > View

""Out of date"" labels are cropped

[^project_settings_clover.png]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jan/2014 9:21 PM;mparfianowicz;project_settings_clover.png;https://jira.atlassian.com/secure/attachment/106666/project_settings_clover.png",,,,,,,,,,,,,,,,true,,"1|hxarv3:",232137,,,,,224647,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcilr:",239810,,,,,,,,,,,"1|hx9i8f:",224581,342921600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxg51r:",240172,,,,,,,,,,,,,,,,,,,,,,,,,2.0,224896,,"1|hx9k5j:",224896,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cloverage view layout is crappy with the Coverage Summary panel,CLOV-1403,312112,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,02/Jan/2014 8:57 PM,25/Nov/2014 3:08 PM,15/Nov/2024 6:09 PM,25/Nov/2014 3:07 PM,3.2.0,,,,,4.0.3,,,CIJ Plugin,,,,,,,0,,,,,,,,,"1. Not all buttons are visible by default. 

2. Width/height proportion which triggers a change between horizontal/vertical layout is not set correctly. As a result we've got a crappy behavior as on the following screen shot:

!cloverage_view_layout.png!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jan/2014 8:57 PM;mparfianowicz;cloverage_view_layout.png;https://jira.atlassian.com/secure/attachment/106663/cloverage_view_layout.png",,,,,,,,,,,,,,,,true,,"1|hxarun:",232134,,,,,224644,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcilb:",239807,,,,,,,,,,,"1|hx9i7z:",224578,342921600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwd85z:",240170,,,,,,,,,,,,,,,,,,,,Sprint 3,,,,,2.0,224893,,"1|hx9k53:",224893,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Autoscroll from source does not work in IDEA,CLOV-1402,312110,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,02/Jan/2014 8:43 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.0,,,,,long term roadmap,,,CIJ Plugin,,,,,,,0,,,,,,,,,"When the ""Autoscroll from source"" button is enabled, changing cursor location in the text editor shall trigger scrolling to a proper method in the ""Cloverage"" view. 

It does not work in Clover 3.2.0 and IDEA13. Quite possibly it does not work in older Clover and IDEA versions as well. 

Note: the ""Autoscroll to source"" button works fine. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jul/2015 7:17 PM;mparfianowicz;scroll-from-source.png;https://jira.atlassian.com/secure/attachment/167245/scroll-from-source.png",,,,,,,,,,,,,,,,true,,"1|hxaruf:",232132,,,,,224642,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcil3:",239805,,,,,,,,,,,"1|hx9i7r:",224576,294624000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxg51j:",240168,,,,,,,,,,,,,,,,,,,,,,,,,,224891,,"1|hx9k4v:",224891,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/Jul/2015 7:17 PM;mparfianowicz;Note: we shall replace the existing button with the ""Scroll from source"":
!scroll-from-source.png!

one and make this scrolling manual.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover fails to instrument generic type with a constructor reference,CLOV-1401,312082,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,02/Jan/2014 2:21 PM,23/Mar/2017 2:44 PM,15/Nov/2024 6:09 PM,22/Jan/2014 10:53 AM,3.2.0,,,,,3.2.2,,,Instrumentation,,,,,,,0,,,,,,,,,"This works fine:

{code:java}
myLambda = ArrayList::new;   // javac error since JDK8 b114
myLambda = ArrayList::<String>new;
{code}

But the following:

{code:java}
myLambda = ArrayList<String>::new;
myLambda = ArrayList<String>::<String>new;
{code}

fails with a parser error:

{noformat}
ERROR: Instrumentation errorInstrumentation error : c:\Work\clover-hg\clover-core\src\test\resources\javasyntax1.8\LambdaAndMethodReferences.java:78:28:unexpected token: ArrayList
com.atlassian.clover.api.CloverException: c:\Work\clover-hg\clover-core\src\test\resources\javasyntax1.8\LambdaAndMethodReferences.java:78:28:unexpected token: ArrayList
	at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:158)
	at com.atlassian.clover.CloverInstr.execute(CloverInstr.java:73)
	at com.atlassian.clover.CloverInstr.mainImpl(CloverInstr.java:49)
	at com.atlassian.clover.JavaSyntaxCompilationTestBase.instrumentSourceFile(JavaSyntaxCompilationTestBase.java:145)
	at com.atlassian.clover.JavaSyntaxCompilationTestBase.instrumentAndCompileSourceFile(JavaSyntaxCompilationTestBase.java:111)
	at com.atlassian.clover.JavaSyntax18CompilationTest.testLambdaAndMethodReferences(JavaSyntax18CompilationTest.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:243)
	at junit.framework.TestSuite.run(TestSuite.java:238)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:157)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:77)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:195)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:63)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)
Caused by: line 78:28: unexpected token: ArrayList
	at com.atlassian.clover.instr.java.JavaRecognizer.conditionalExpression(JavaRecognizer.java:4407)
	at com.atlassian.clover.instr.java.JavaRecognizer.assignmentExpression(JavaRecognizer.java:4274)
	at com.atlassian.clover.instr.java.JavaRecognizer.assignmentExpression(JavaRecognizer.java:4319)
	at com.atlassian.clover.instr.java.JavaRecognizer.expression(JavaRecognizer.java:3366)
	at com.atlassian.clover.instr.java.JavaRecognizer.statement(JavaRecognizer.java:2909)
	at com.atlassian.clover.instr.java.JavaRecognizer.outerCompoundStmt(JavaRecognizer.java:2696)
	at com.atlassian.clover.instr.java.JavaRecognizer.field(JavaRecognizer.java:2265)
	at com.atlassian.clover.instr.java.JavaRecognizer.classBlock(JavaRecognizer.java:1728)
	at com.atlassian.clover.instr.java.JavaRecognizer.classDefinition(JavaRecognizer.java:736)
	at com.atlassian.clover.instr.java.JavaRecognizer.typeDefinition2(JavaRecognizer.java:666)
	at com.atlassian.clover.instr.java.JavaRecognizer.typeDefinition(JavaRecognizer.java:524)
	at com.atlassian.clover.instr.java.JavaRecognizer.compilationUnit(JavaRecognizer.java:445)
	at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:212)
	at com.atlassian.clover.instr.java.Instrumenter.instrument(Instrumenter.java:121)
	... 27 more
{noformat}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxarpj:",232104,,,,,224614,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcig7:",239777,,,,,,,,,,,"1|hx9i2v:",224548,343008000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxdssv:",225776,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,8.0,224863,,"1|hx9jzz:",224863,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java 1.8 Coverage not computed correctly when using lambdas,CLOV-1400,311833,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,28/Dec/2013 5:16 PM,10/Feb/2014 8:54 AM,15/Nov/2024 6:09 PM,17/Jan/2014 10:54 AM,3.2.0,,,,,3.2.2,,,Instrumentation,,,,,,,0,,,,,,,,,"I've started to see some strange coverage results when using Lambdas.

All elements are covered. But clover reports uncovered elements.
For example, here http://www.cakeframework.org/snapshot/clover/org/cakeframework/util/Id160.html

All elements are covered but clover reports only 99.6 % coverage.

Might be some synthetic methods that are generated by the compiler that is not covered?
",Java: build 1.8.0-ea-b119,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Feb/2014 4:38 PM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Screen Shot 2014-02-08 at 17.27.16.png;https://jira.atlassian.com/secure/attachment/108642/Screen+Shot+2014-02-08+at+17.27.16.png","30/Dec/2013 10:23 AM;mparfianowicz;clov1400-sample-report.png;https://jira.atlassian.com/secure/attachment/106597/clov1400-sample-report.png","30/Dec/2013 11:04 AM;mparfianowicz;clov1400-with-a-fix.png;https://jira.atlassian.com/secure/attachment/106598/clov1400-with-a-fix.png",,,,,,,,,,,,,,true,,"1|hxaqiv:",231867,,,,,224375,,,,,,Unknown,,,,,2013-12-28 17:26:54.093,,,,,,,,,,,,,,,,,,,,,,,,"2|hxch9j:",239542,,,,,,,,,,,"1|hx9gvr:",224309,339638400,true,,,,,,,,,,4d85d3f9-8aa3-417a-bb6f-61e186be8e94(kasperni),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxg3yn:",239954,,,,,,,,,,,,,,,,,,,,,,,,,,224624,,"1|hx9isv:",224624,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"28/Dec/2013 5:26 PM;mparfianowicz;What about 
 public static Stream<Id160> randomStream() {    
272	 1	        return Stream.generate(() -> random());    
273	   	    }    
274	   	    

Do you call fetching elements from the stream or just create a stream in your tests?;;;","28/Dec/2013 5:41 PM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Here is a simpler example

{code:java}
public class My {
    private static final Map<Integer, String> installed = new HashMap<>();

    static String p1(Integer i) {
        return installed.computeIfAbsent(i, e -> """" + e);
    }
}
{code}

And the test
{code:java}
public class MyTest {

    @Test
    public void foo() {
        assertEquals(""1"", My.p1(1));
        assertEquals(""1"", My.p1(1));
    }
}
{code}

Shows 75 % coverage, should be 100 %
;;;","30/Dec/2013 10:23 AM;mparfianowicz;!clov1400-sample-report.png!;;;","30/Dec/2013 11:04 AM;mparfianowicz;Fix:

!clov1400-with-a-fix.png!;;;","30/Dec/2013 11:07 AM;mparfianowicz;There is a bug in calculation of code metrics for a class:
 * it counts both 'normal' methods and lambda functions as 'number of methods', but
 * it counts only 'normal' methods as 'number of covered methods'

This is a reason why you can see 75% coverage for a class (on the attached screen shot), despite the fact that all methods are fully covered. ;;;","30/Dec/2013 11:09 AM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Thanks, would be nice to get it in 3.2.1 if the fix is that easy;;;","30/Dec/2013 12:02 PM;mparfianowicz;Hi Kasper,

The 3.2.1 version will contain fixes for IDEA13. The 3.2.2 version will contain fixes for Java8. Both are planned for January, currently.

I would prefer to keep CLOV-1400 scheduled for 3.2.2. A reason is that fixes for IDEA13 are more urgent (IDEA was already released by JetBrains, while the Java8 GA not). 

I could build a snapshot version based on 3.2.0 with this bug fix and attach the clover.jar to this issue if you need it urgently.

Cheers
Marek;;;","30/Dec/2013 12:07 PM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Thanks Marek,

But there is no urgent need. I can easily wait for a fix in january.
;;;","30/Dec/2013 12:10 PM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;But, given I'm the only one who have raised bugs for 1.8 so far,  i wouldn't mind testing a snapshot of 3.2.2 (with CLOV-1398, CLOV-1399) before you release it next month;;;","30/Dec/2013 12:56 PM;mparfianowicz;They will be here:
 * https://maven.atlassian.com/public-snapshot/com/cenqua/clover/clover/
 * https://maven.atlassian.com/public-snapshot/com/atlassian/maven/plugins/maven-clover2-plugin/

I will notify you when snapshots will be available. ;;;","08/Feb/2014 4:38 PM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;It might be a separate bug. But I'm still not seing the  coverage displayed properly when using lambdas (See attached screenshot)

The version where i use BiFunction displays correctly. The version where I use lambdas does not;;;","08/Feb/2014 8:28 PM;mparfianowicz;Did you use showLambdaFunctions=true and showInnerFunctions=true for clover-report?;;;","08/Feb/2014 9:48 PM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Sorry, I had no idea showLambdaFunctions was false as default (unlike showInnerFunctions). Works fine now, thanks ;;;","10/Feb/2014 8:53 AM;mparfianowicz;Yes, lambda functions are not shown in a report by default. I decided to hide them as they could potentially clutter the report and not everyone could be interested in such level of details. ;;;","10/Feb/2014 8:54 AM;mparfianowicz;Oh. And the showInnerFunctions are false by default too. ;;;",,,,,,,,,,,,
Java 1.8 compilation fails when lambda is passed to a generic argument,CLOV-1399,311266,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,19/Dec/2013 7:44 AM,23/Mar/2017 2:44 PM,15/Nov/2024 6:09 PM,07/Feb/2014 8:57 AM,3.2.0,,,,,3.2.2,,,Ant Tasks,CEP Plugin,CIJ Plugin,Grails Plugin,Instrumentation,Maven plugin,,0,,,,,,,,,"The following piece of code fails to be instrumented
{code:java}
public class Fails<N> {

    public final <S extends N> Iterable<S> depthFirstTraversal(Class<S> type) {
        return (Iterable<S>) depthFirstTraversal(e -> type.isInstance(e));
    }

    public final Iterable<N> depthFirstTraversal(Predicate<? super N> predicate) {
        return null;
    }
}
{code}
Javac gives the following error message:

[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project cake-util: Compilation failure: Compilation failure:
[ERROR] /Users/kasperni/workspace/CAKE/cake-util/cake-util/target/clover/src-instrumented/org/cakeframework/internal/util/tree/Fails.java:[27,67] reference to depthFirstTraversal is ambiguous
[ERROR] both method <S>depthFirstTraversal(java.lang.Class<S>) in org.cakeframework.internal.util.tree.Fails and method depthFirstTraversal(java.util.function.Predicate<? super N>) in org.cakeframework.internal.util.tree.Fails match
[ERROR] /Users/kasperni/workspace/CAKE/cake-util/cake-util/target/clover/src-instrumented/org/cakeframework/internal/util/tree/Fails.java:[27,86] incompatible types: cannot infer type-variable(s) I,T
[ERROR] (argument mismatch; java.lang.Class is not a functional interface)
[ERROR] -> [Help 1]",,,,,,,,,,,,,,,,,,,,CLOV-1465,CLOV-1463,CLOV-1464,,,,,,CLOV-1451,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxangf:",231303,,,,,223777,,,,,,Unknown,,,,,2013-12-19 08:52:37.938,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcedb:",239006,,,,,,,,,,,"1|hx9dlr:",223711,339552000,true,,,,,,,,,,4d85d3f9-8aa3-417a-bb6f-61e186be8e94(kasperni),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxg0zj:",239400,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,3.0,224025,,"1|hx9fin:",224025,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"19/Dec/2013 8:52 AM;mparfianowicz;Hi Kasper, 

Could you check this workaround:

{code:java}
return (Iterable<S>) depthFirstTraversal( (Iterable<S>) e -> type.isInstance(e));
                                           ^^^^^^^^^^^^
{code}

or this one:

{code:java}
return (Iterable<S>) depthFirstTraversal( e -> { return type.isInstance(e); } );
{code}

Cheers
Marek;;;","19/Dec/2013 9:20 AM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Block lambda does the trick. Thanks.

I don't think the first workaround will compile.;;;","19/Dec/2013 9:41 AM;mparfianowicz;Right, it should be a cast to Predicate, not Iterable:

{code:java}
return (Iterable<S>) depthFirstTraversal(  (Predicate<N>)e -> type.isInstance(e)  );
{code};;;","27/Jan/2014 1:55 PM;mparfianowicz;Tested on the build #124 from https://jdk8.java.net/download.html It seems to be a bug in the javac compiler. See the following code snippet:

{code:java}

public class LambdaAndGenerics {
    public static interface Predicate<T> {
        boolean test(T t);
    }
    public static <I, T extends I> I lambdaWrapper(final T lambda) {
        return lambda;
    }
    public static void main(String[] args) {
        new DoesNotFail<String, Integer>().start();
        new Fails().start();
    }

    /**
     * Works fine for N, M declared for a class
     */
    static class DoesNotFail<M, N> {
        void start() {
            System.out.println(one(lambdaWrapper(e -> false)));  // compiler works-out types correctly
        }
        String one(Class<N> arg) {
            return ""DoesNotFail class: "" + arg;
        }
        String one(Predicate<M> arg) {
            return ""DoesNotFail predicate: "" + arg.test(null);
        }
    }

    /**
     * Fails when N, M are declared for methods
     */
    static class Fails {
        void start() {
            one(lambdaWrapper(e -> false));  // COMPILER ERRORS ""reference to one is ambiguous"" + ""cannot infer type variables""
            // one(null);  // COMPILER ERROR ""reference to one is ambiguous"" which is correct
        }
        <N> String one(Class<N> arg) {
            return ""Fails class: "" + arg;
        }
        <M> String one(Predicate<M> arg) {
            return ""Fails predicate: "" + arg.test(null);
        }
    }
}

{code}

;;;","28/Jan/2014 10:13 AM;mparfianowicz;Issue has been reported on http://bugreport.java.com/ ... and has fallen into a black hole ;-) ;;;","31/Jan/2014 1:46 PM;mparfianowicz;TODO:

(/) instrumentLambda=none/expression/block/all for CloverInstr (cmdline), <clover-setup>, <clover-instr> (Ant), clover2:instr, clover2:setup (Maven)
(/) instrumentLambda (Grails)
(/) instrumentLambda (Eclipse) - done, but toggle is disabled as Eclipse 4.3 does not support JDK8 yet
(/) instrumentLambda  (IDEA)
(/) KB article - [Java+8+code+instrumented+by+Clover+fails+to+compile|https://confluence.atlassian.com/display/CLOVERKB/Java+8+code+instrumented+by+Clover+fails+to+compile]
(/) post on Anwsers 
(/) report bug to Oracle
(/) test regressions
 * instrumentLambda vs metrics - OK, when disabled, lambdas do not count to a total number of functions; 

 * instrumentLambda vs html report - OK report looks fine with instrumentLambda=none/expression/block/all and showLambdaFunctions/showInnerFunctions

 * instrumentLambda vs statements inside lambda (methods + fields) - lambda's statements become a part of an enclosing method (it's OK as it's a consistent behaviour with anonymous inline classes); the single statement from a expression-like lambda vanishes when not instrumented (not perfect, but acceptable as lambda is a one-liner so a statement where lambda is assigned to is counted) 

(/) update documentation on CAC after releasing - clover-setup/clover-instr/maven,eclipse,idea,grails pages;;;","05/Feb/2014 8:48 AM;mparfianowicz;Hi Kasper, 

You can try out the 3.2.2-SNAPSHOT with fixes for bugs reported by you (CLOV-1399 + CLOV-1398)
    https://maven.atlassian.com/public-snapshot/com/cenqua/clover/clover/
    https://maven.atlassian.com/public-snapshot/com/atlassian/maven/plugins/maven-clover2-plugin/

Cheers
Marek;;;","05/Feb/2014 9:12 AM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Thanks Marek, will give it a try this weekend.;;;","08/Feb/2014 3:08 PM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Works for me,

However, I get a lot of warnings for 3.2.2-SNAPSHOT like this
[WARNING] xxxx.java: Some input files use unchecked or unsafe operations.
[WARNING] xxxx.java: Recompile with -Xlint:unchecked for details.;;;","08/Feb/2014 8:30 PM;mparfianowicz;1. Can you try 3.2.2 (not a snapshot)?
2. Can you paste a code sample with these warnings?;;;","08/Feb/2014 9:52 PM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;I tried it with 3.2.2 same issue for every instrumented class.
[WARNING] /Users/kasperni/workspace/cake-container/cake-container/cake-container-api/target/clover/src-instrumented/org/cakeframework/container/RuntimeContainerException.java:[24,758] unchecked cast
  required: I
  found:    java.lang.Object

It is this generated line that generates the warning:

return (I) java.lang.reflect.Proxy.newProxyInstance(l.getClass().getClassLoader(), l.getClass()
                    .getInterfaces(), h);

It can be solved by adding a @SuppressWarnings(""unchecked"") to the instrumented file:

        @SuppressWarnings(""unchecked"")
        public static <I, T extends I> I lambdaInc(final int i, final T l, final int si) {........}

;;;","11/Feb/2014 2:47 PM;mparfianowicz;I've fixed it in CLOV-1451

Thanks a lot for your bug report and a solution. ;;;",,,,,,,,,,,,,,,
Java 1.8 Exceptions not being propagated correctly,CLOV-1398,311169,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,4d85d3f9-8aa3-417a-bb6f-61e186be8e94,18/Dec/2013 10:18 PM,23/Mar/2017 2:44 PM,15/Nov/2024 6:09 PM,23/Jan/2014 10:53 AM,3.2.0,,,,,3.2.2,,,Instrumentation,,,,,,,0,,,,,,,,,"I have the following test stub (src/main/java)

{code:java}
public final class TestStub {
    TestStub() {
        throw new IllegalArgumentException();
    }

    public static void getHandler() {
        new HashMap<>().computeIfAbsent(String.class, t -> new TestStub());
    }
}
{code}

And the following test (src/test/java)

{code:java}
public class FooTest {

    @Test(expected = IllegalArgumentException.class)
    public void test0() {
        TestStub.getHandler();
    }
}
{code}

Using maven It runs fine using ""clean install"" however using clover I get the following exception

{noformat}
java.lang.reflect.UndeclaredThrowableException
	at com.sun.proxy.$Proxy12.apply(Unknown Source)
	at java.util.HashMap.computeIfAbsent(HashMap.java:1118)
	at org.cakeframework.internal.container.TestStub.getHandler(TestStub.java:26)
	at org.cakeframework.internal.container.FooTest.test0(FooTest.java:29)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.cakeframework.internal.container.TestStub$__CLR3_2_0wqwqhpd53be5$1.invoke(TestStub.java:20)
	... 28 more
Caused by: java.lang.IllegalArgumentException
	at org.cakeframework.internal.container.TestStub.<init>(TestStub.java:22)
	at org.cakeframework.internal.container.TestStub.lambda$getHandler$6(TestStub.java:26)
	at org.cakeframework.internal.container.TestStub$$Lambda$13/1227074340.apply(Unknown Source)
	... 33 more
{noformat}

If I replace with a standard anonymous class implementing java.util.function.Function it runs fine",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxan2f:",231238,,,,,223712,,,,,,Unknown,,,,,2013-12-19 07:36:53.899,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcdzz:",238944,,,,,,,,,,,"1|hx9d7r:",223646,344217600,true,,,,,,,,,,4d85d3f9-8aa3-417a-bb6f-61e186be8e94(kasperni),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxdstj:",225779,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,3.0,223960,,"1|hx9f4n:",223960,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"19/Dec/2013 7:36 AM;mparfianowicz;Hi Kasper, thanks a lot for your report. It seems to be a bug in our proxy class intercepting a lambda function call. I have increased a priority to Crictical and scheduled for the nearest bug fix release (Clover 3.2.1, planned for January). 

I guess that the following workaround should work as well:

{code:java}
public static void getHandler() {
        new HashMap<>().computeIfAbsent(String.class, t -> { return new TestStub(); } );
}
{code}

i.e. replace the expression-like lambda into the block lambda (in curly braces). 
;;;","19/Dec/2013 7:49 AM;4d85d3f9-8aa3-417a-bb6f-61e186be8e94;Right, a block lambda is a quick fix. Thanks for the tip.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Java+Groovy compilation fails with Clover enabled in IntelliJ 12.1.x,CLOV-1397,310712,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Tracked Elsewhere,mparfianowicz,a86e82895aec,a86e82895aec,16/Dec/2013 7:02 PM,23/Mar/2017 2:44 PM,15/Nov/2024 6:09 PM,07/Jan/2014 12:33 PM,3.2.0,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"When building my project in IntelliJ the build fails with the following exception. I saw a couple other similar comments about how using an external build can cause problems but I thought this was fixed with Clover 3.2? If I turn off the external build then the compilation does succeed. The project is a combined Java/Groovy project if that matters. Let me know if you need any more details.

{noformat}
Error: java.lang.IllegalArgumentException: org.jetbrains.jps.javac.TransformableJavaFileObject
java.lang.RuntimeException: java.lang.IllegalArgumentException: org.jetbrains.jps.javac.TransformableJavaFileObject
	at com.sun.tools.javac.main.Main.compile(Main.java:475)
	at com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:132)
	at org.jetbrains.jps.javac.JavacMain.compile(JavacMain.java:167)
	at org.jetbrains.jps.incremental.java.JavaBuilder.compileJava(JavaBuilder.java:364)
	at org.jetbrains.jps.incremental.java.JavaBuilder.compile(JavaBuilder.java:276)
	at org.jetbrains.jps.incremental.java.JavaBuilder.doBuild(JavaBuilder.java:190)
	at org.jetbrains.jps.incremental.java.JavaBuilder.build(JavaBuilder.java:162)
	at org.jetbrains.jps.incremental.IncProjectBuilder.runModuleLevelBuilders(IncProjectBuilder.java:1018)
	at org.jetbrains.jps.incremental.IncProjectBuilder.runBuildersForChunk(IncProjectBuilder.java:742)
	at org.jetbrains.jps.incremental.IncProjectBuilder.buildTargetsChunk(IncProjectBuilder.java:790)
	at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunkIfAffected(IncProjectBuilder.java:705)
	at org.jetbrains.jps.incremental.IncProjectBuilder.buildChunks(IncProjectBuilder.java:526)
	at org.jetbrains.jps.incremental.IncProjectBuilder.runBuild(IncProjectBuilder.java:314)
	at org.jetbrains.jps.incremental.IncProjectBuilder.build(IncProjectBuilder.java:179)
	at org.jetbrains.jps.cmdline.BuildRunner.runBuild(BuildRunner.java:129)
	at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:220)
	at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:112)
	at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler$1.run(BuildMain.java:132)
	at org.jetbrains.jps.service.impl.SharedThreadPoolImpl$1.run(SharedThreadPoolImpl.java:41)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)
Caused by: java.lang.IllegalArgumentException: org.jetbrains.jps.javac.TransformableJavaFileObject
	at com.sun.tools.javac.file.JavacFileManager.inferBinaryName(JavacFileManager.java:660)
	at javax.tools.ForwardingJavaFileManager.inferBinaryName(ForwardingJavaFileManager.java:84)
	at com.sun.tools.javac.api.ClientCodeWrapper$WrappedJavaFileManager.inferBinaryName(ClientCodeWrapper.java:225)
	at com.sun.tools.javac.jvm.ClassReader.fillIn(ClassReader.java:2524)
	at com.sun.tools.javac.jvm.ClassReader.fillIn(ClassReader.java:2505)
	at com.sun.tools.javac.jvm.ClassReader.complete(ClassReader.java:2143)
	at com.sun.tools.javac.code.Symbol.complete(Symbol.java:421)
	at com.sun.tools.javac.comp.Enter.visitTopLevel(Enter.java:298)
	at com.sun.tools.javac.tree.JCTree$JCCompilationUnit.accept(JCTree.java:459)
	at com.sun.tools.javac.comp.Enter.classEnter(Enter.java:258)
	at com.sun.tools.javac.comp.Enter.classEnter(Enter.java:272)
	at com.sun.tools.javac.comp.Enter.complete(Enter.java:484)
	at com.sun.tools.javac.comp.Enter.main(Enter.java:469)
	at com.sun.tools.javac.main.JavaCompiler.enterTrees(JavaCompiler.java:929)
	at com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:824)
	at com.sun.tools.javac.main.Main.compile(Main.java:439)
	... 23 more
{noformat}


{panel:title=Problem summary|bgColor=yellow}
This bug occurs when all of the following conditions are met:
 * IDEA 12.1.1 or later is used
 * Clover 3.1.12 or later is used 
 * an ""external build"" feature is enabled (Settings > Compiler > Use external build)
 * project has a mixed Java + Groovy code

It's an IDEA bug - http://youtrack.jetbrains.com/issue/IDEA-110835 - and has been fixed in IDEA13. 

Therefore:
 * in IDEA 12.x - disable the ""external build"" feature
 * in IDEA 13.x - problem does not occur
{panel}
","Windows 7, Java 1.7.0_45 64-bit. IntelliJ 12.1.6. Clover plugin 3.2.0",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxaksn:",230848,,,,,223322,,,,,,Unknown,,,,,2013-12-16 20:19:56.336,,,,,,,,,,,,,,,,,,,,,,,,"2|hxcbwf:",238583,,,,,,,,,,,"1|hx9axz:",223256,342576000,true,,,,,,,,,,a86e82895aec(jjathman),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxdstz:",225781,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,13.0,223570,,"1|hx9cuv:",223570,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"16/Dec/2013 8:19 PM;mparfianowicz;Indeed the problem with external build was fixed in 3.1.12. I see that you're using IDEA 12.1.6 which is quite new. May I ask you to check if you see this problem in older Idea like 12.1.1-12.1.4?;;;","16/Dec/2013 8:30 PM;a86e82895aec;12.1.4 doesn't seem to work either. I get the same exception. Want me to try with an even older one?;;;","16/Dec/2013 10:29 PM;mparfianowicz;Thanks no need to check older versions right now. You wrote that you're compiling java+ groovy am I correct? Are you using standard idea plugins for this? Do you have standard idea- based project or maybe a project imported from maven or grails?;;;","16/Dec/2013 10:31 PM;a86e82895aec;It's a standard project. The project is gradle based and we use that to generate the IntelliJ project files, but I don't think that should matter too much. It is mainly a Java project with a few classes written in Groovy instead of Java.;;;","16/Dec/2013 10:37 PM;mparfianowicz;Thanks a lot for information. I'll check what's wrong as soon as I solve the CLOV-1395 blocker. The Clover-for-IDEA plug-in supports compilation of Java code only in IDE. I suspect that the problem could be that for some reason Clover was called on Groovy code as well (joint groovy+java compilation?). But this is my suspicion only. 

I scheduled this bug to 3.2.1 and increased priority to Major as in my opinion it's much more important that you've set initially. 

Cheers
;;;","04/Jan/2014 1:48 PM;mparfianowicz;I have found a similar issue in JetBrains' bug tracker:
 * http://youtrack.jetbrains.com/issue/IDEA-110835

It's marked as fixed in build 130.1335, which is an IDEA 13 I think (the about box in IDEA13 shows ""IDEA 13.0 build #IU-133.193"", which is a higher build number). I tested Clover plugin in IDEA13 and this problem indeed does not reproduce (IDEA13 has an external build as the only way of building). 
;;;","06/Jan/2014 3:44 PM;a86e82895aec;My group has discussed upgrading to IDEA 13, but we haven't done it yet. We'd like to have this fixed for 12, but if we just need to upgrade to 13 we can do that as well. Thanks.;;;","07/Jan/2014 9:01 AM;mparfianowicz;In IDEA12 you can use a workaround, i.e. disable the external build option.;;;",,,,,,,,,,,,,,,,,,,
"""No such property: testTargetPatterns"" exception with Grails 2.3",CLOV-1396,309409,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,05/Dec/2013 12:01 PM,23/Mar/2017 2:44 PM,15/Nov/2024 6:09 PM,22/Jan/2014 9:29 AM,3.2.0,,,,,3.2.2,,,Grails Plugin,,,,,,,3,,,,,,,,,"Unable to use Clover-for-Grails with Grails 2.3. Build fails with an exception:

{noformat}
|Environment set to test
...................................    [mkdir] Created dir: C:\Work\grails-clover-plugin-hg\testcases\petclinic233\target\test-reports\html
.    [mkdir] Created dir: C:\Work\grails-clover-plugin-hg\testcases\petclinic233\target\test-reports\plain
.Error
|
Error executing script TestApp: No such property: testTargetPatterns for class: _Events
groovy.lang.MissingPropertyException: No such property: testTargetPatterns for class: _Events
        at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:50)
        at org.codehaus.groovy.runtime.callsite.PogoGetPropertySite.getProperty(PogoGetPropertySite.java:49)
        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGroovyObjectGetProperty(AbstractCallSite.java:231)
        at _Events$_run_closure3.doCall(_Events.groovy:75)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:601)
        at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)
        at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:233)
        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1086)
        at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1110)
        at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:910)
{noformat}

*Reason:*

In the Grails 2.3 the _GrailsTest.groovy has been refactored into GrailsProjectTestRunner and GrailsProjectTestCompiler. The testTargetPatterns property has been removed.  

*Probable fix:*

Replace testTargetPattern by iterator over testNames. ",,,,,,,,,,,,,,,,,,,,,CLOV-1444,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxad9j:",229563,,,,,222024,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxc4ov:",237343,,,,,,,,,,,"1|hx93bz:",221958,341452800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxdstb:",225778,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,2.0,222272,,"1|hx958v:",222272,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"20/Jan/2014 9:54 AM;mparfianowicz;Additional bug found: integration tests are not being instrumented by Clover since Grails 2.3.0. 

Cause: new GrailsIntegrationTestCompiler compiler wrapper introduced in Grails 2.3.0 is not being intercepted by Clover. 

See CLOV-1432;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
IDEA13 compatiblity issues,CLOV-1395,309378,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,05/Dec/2013 7:52 AM,13/Jan/2014 10:08 AM,15/Nov/2024 6:09 PM,09/Jan/2014 2:41 PM,3.2.0,,,,,3.2.1,,,CIJ Plugin,,,,,,,3,,,,,,,,,"Compatiblity issues of Clover-for-IDEA with the latest IDEA13:

1) Attempt to load a license key from a file (About Clover box > License button > Load) fails with an error:

{noformat}
com.intellij.openapi.fileChooser.FileChooser.chooseFiles(Ljava/awt/Component;Lcom/intellij/openapi/fileChooser/FileChooserDescriptor;)[Lcom/intellij/openapi/vfs/VirtualFile;: com.intellij.openapi.fileChooser.FileChooser.chooseFiles(Ljava/awt/Component;Lcom/intellij/openapi/fileChooser/FileChooserDescriptor;)[Lcom/intellij/openapi/vfs/VirtualFile;
java.lang.NoSuchMethodError: com.intellij.openapi.fileChooser.FileChooser.chooseFiles(Ljava/awt/Component;Lcom/intellij/openapi/fileChooser/FileChooserDescriptor;)[Lcom/intellij/openapi/vfs/VirtualFile;
	at com.cenqua.clover.idea.config.LicenseConfigPanel.loadLicenseFile(LicenseConfigPanel.java:321)
	at com.cenqua.clover.idea.config.LicenseConfigPanel.actionPerformed(LicenseConfigPanel.java:216)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
	at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
	at java.awt.Component.processMouseEvent(Component.java:6505)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)
	at java.awt.Component.processEvent(Component.java:6270)
	at java.awt.Container.processEvent(Container.java:2229)
	at java.awt.Component.dispatchEventImpl(Component.java:4861)
	at java.awt.Container.dispatchEventImpl(Container.java:2287)
	at java.awt.Component.dispatchEvent(Component.java:4687)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)
	at java.awt.Container.dispatchEventImpl(Container.java:2273)
	at java.awt.Window.dispatchEventImpl(Window.java:2719)
	at java.awt.Component.dispatchEvent(Component.java:4687)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:729)
	at java.awt.EventQueue.access$200(EventQueue.java:103)
	at java.awt.EventQueue$3.run(EventQueue.java:688)
	at java.awt.EventQueue$3.run(EventQueue.java:686)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)
	at java.awt.EventQueue$4.run(EventQueue.java:702)
	at java.awt.EventQueue$4.run(EventQueue.java:700)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:699)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:696)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:520)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:335)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:154)
	at java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:182)
	at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:221)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:219)
	at java.awt.Dialog.show(Dialog.java:1082)
	at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl$MyDialog.show(DialogWrapperPeerImpl.java:786)
	at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl.show(DialogWrapperPeerImpl.java:462)
	at com.intellij.openapi.ui.DialogWrapper.showAndGetOk(DialogWrapper.java:1543)
	at com.intellij.openapi.ui.DialogWrapper.show(DialogWrapper.java:1511)
	at com.intellij.ide.actions.ShowSettingsUtilImpl.a(ShowSettingsUtilImpl.java:263)
	at com.intellij.ide.actions.ShowSettingsUtilImpl.editConfigurable(ShowSettingsUtilImpl.java:228)
	at com.intellij.ide.actions.ShowSettingsUtilImpl.editConfigurable(ShowSettingsUtilImpl.java:213)
	at com.cenqua.clover.idea.AboutDialog$1.actionPerformed(AboutDialog.java:216)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2341)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)
	at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)
	at java.awt.Component.processMouseEvent(Component.java:6505)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)
	at java.awt.Component.processEvent(Component.java:6270)
	at java.awt.Container.processEvent(Container.java:2229)
	at java.awt.Component.dispatchEventImpl(Component.java:4861)
	at java.awt.Container.dispatchEventImpl(Container.java:2287)
	at java.awt.Component.dispatchEvent(Component.java:4687)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)
	at java.awt.Container.dispatchEventImpl(Container.java:2273)
	at java.awt.Window.dispatchEventImpl(Window.java:2719)
	at java.awt.Component.dispatchEvent(Component.java:4687)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:729)
	at java.awt.EventQueue.access$200(EventQueue.java:103)
	at java.awt.EventQueue$3.run(EventQueue.java:688)
	at java.awt.EventQueue$3.run(EventQueue.java:686)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)
	at java.awt.EventQueue$4.run(EventQueue.java:702)
	at java.awt.EventQueue$4.run(EventQueue.java:700)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:699)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:696)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:520)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:335)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:154)
	at java.awt.WaitDispatchSupport$2.run(WaitDispatchSupport.java:182)
	at java.awt.WaitDispatchSupport$4.run(WaitDispatchSupport.java:221)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.awt.WaitDispatchSupport.enter(WaitDispatchSupport.java:219)
	at java.awt.Dialog.show(Dialog.java:1082)
	at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl$MyDialog.show(DialogWrapperPeerImpl.java:786)
	at com.intellij.openapi.ui.impl.DialogWrapperPeerImpl.show(DialogWrapperPeerImpl.java:462)
	at com.intellij.openapi.ui.DialogWrapper.showAndGetOk(DialogWrapper.java:1543)
	at com.intellij.openapi.ui.DialogWrapper.show(DialogWrapper.java:1511)
	at com.cenqua.clover.idea.actions.AboutAction.actionPerformed(AboutAction.java:19)
	at com.intellij.openapi.actionSystem.ex.ActionUtil.performActionDumbAware(ActionUtil.java:162)
	at com.intellij.openapi.actionSystem.impl.ActionButton.a(ActionButton.java:170)
	at com.intellij.openapi.actionSystem.impl.ActionButton.a(ActionButton.java:133)
	at com.intellij.openapi.actionSystem.impl.ActionButton.processMouseEvent(ActionButton.java:311)
	at java.awt.Component.processEvent(Component.java:6270)
	at java.awt.Container.processEvent(Container.java:2229)
	at java.awt.Component.dispatchEventImpl(Component.java:4861)
	at java.awt.Container.dispatchEventImpl(Container.java:2287)
	at java.awt.Component.dispatchEvent(Component.java:4687)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4492)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)
	at java.awt.Container.dispatchEventImpl(Container.java:2273)
	at java.awt.Window.dispatchEventImpl(Window.java:2719)
	at java.awt.Component.dispatchEvent(Component.java:4687)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:729)
	at java.awt.EventQueue.access$200(EventQueue.java:103)
	at java.awt.EventQueue$3.run(EventQueue.java:688)
	at java.awt.EventQueue$3.run(EventQueue.java:686)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)
	at java.awt.EventQueue$4.run(EventQueue.java:702)
	at java.awt.EventQueue$4.run(EventQueue.java:700)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:699)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:696)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:520)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:335)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:242)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:161)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:150)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:146)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:138)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:91)
{noformat}

2) Compilation of the project with Clover enabled fails with compilation error ""package com_cenqua_clover"" does not exist. The most probably Clover fails to add clover.jar to project's class path.

{noformat}
java: package com_cenqua_clover does not exist
{noformat}


3) There is no option to enable/disable external build feature. It seems that the ""classic"" build functionality has been removed in IDEA13.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxad33:",229534,,,,,221995,,,,,,Unknown,,,,,2013-12-07 12:09:39.972,,,,,,,,,,,,,,,,,,,,,,,,"2|hxc4if:",237314,,,,,,,,,,,"1|hx935j:",221929,342057600,true,,,,,,,,,,1561992a889b(andrew@broadinstitute.org),ad7667e92325(grant.gochnauer),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,"1|hxdssn:",225775,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,13.0,222243,,"1|hx952f:",222243,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"07/Dec/2013 12:09 PM;ad7667e92325;Any thoughts on releasing a minor update to existing plugin release to provide IDEA13 compatibility?;;;","09/Dec/2013 7:53 AM;mparfianowicz;Yes, we're going to make a bug fix release this month. ;;;","18/Dec/2013 11:50 AM;mparfianowicz;(/) fixed FileChooser.chooseFiles()
(/) fixed LanguageLevel.getIndex()
(/) junit optimized test runner - version for idea9-12, idea13+ and a common base
(/) package com_cenqua_clover does not exist - reported a bug to JetBrains; found workaround for users; implemented workaround in code as well
;;;","18/Dec/2013 7:07 PM;1561992a889b;Hey Marek,
I'm looking forward to this update.  Intellij 13 is great, and I'm psyched to start using clover with it!;;;","18/Dec/2013 7:56 PM;mparfianowicz;Yeah, jetbrains has released an awesome product as usual and unfortunately not fully backward compatible... I'm working hard including Saturdays but I won't make it before Christmas I'm afraid :-(;;;","19/Dec/2013 12:19 PM;1561992a889b;Good luck, and happy holidays!;;;","30/Dec/2013 9:35 PM;mparfianowicz;http://youtrack.jetbrains.com/issue/IDEA-118926 - duplicate, fixed;;;","30/Dec/2013 9:49 PM;mparfianowicz;http://youtrack.jetbrains.com/issue/IDEA-118928;;;","09/Jan/2014 2:48 PM;1561992a889b;Woo hoo!  You made my day by resolving this issue!;;;","09/Jan/2014 3:03 PM;ad7667e92325;+10! :);;;","09/Jan/2014 7:42 PM;mparfianowicz;:-) if everything goes smoothly, release will be tomorrow. ;;;","10/Jan/2014 5:28 PM;1561992a889b;Awesome guys, thanks again, and have a terrific weekend!;;;","13/Jan/2014 10:08 AM;mparfianowicz;Follow-up: one new bug on Mac OS X has been found: CLOV-1406;;;",,,,,,,,,,,,,,
Error when closing project,CLOV-1394,309018,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Duplicate,mparfianowicz,e123054cfbae,e123054cfbae,03/Dec/2013 6:17 AM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,03/Dec/2013 7:59 AM,,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Already disposed: Already disposed
java.lang.AssertionError: Already disposed
	at com.intellij.openapi.components.impl.ComponentManagerImpl.getPicoContainer(ComponentManagerImpl.java:289)
	at com.intellij.openapi.components.impl.ComponentManagerImpl.getPicoContainer(ComponentManagerImpl.java:55)
	at com.intellij.openapi.components.ServiceManager.getService(ServiceManager.java:40)
	at com.intellij.openapi.roots.ProjectRootManager.getInstance(ProjectRootManager.java:41)
	at com.cenqua.clover.idea.IdeaTestFilter.isInTestFolder(IdeaTestFilter.java:40)
	at com.cenqua.clover.idea.IdeaTestFilter.accept(IdeaTestFilter.java:48)
	at com.atlassian.clover.registry.entities.FullFileInfo.copy(FullFileInfo.java:462)
	at com.atlassian.clover.registry.entities.FullPackageInfo.copy(FullPackageInfo.java:149)
	at com.atlassian.clover.registry.entities.FullProjectInfo.copy(FullProjectInfo.java:115)
	at com.atlassian.clover.registry.entities.FullProjectInfo.copy(FullProjectInfo.java:98)
	at com.atlassian.clover.registry.ProjectView$Filtered.<init>(ProjectView.java:114)
	at com.atlassian.clover.registry.ProjectView$Original.newProjection(ProjectView.java:42)
	at com.atlassian.clover.registry.Clover2Registry.newProjectView(Clover2Registry.java:313)
	at com.atlassian.clover.CloverDatabase.loadCoverageData(CloverDatabase.java:184)
	at com.cenqua.clover.idea.report.jfc.CoverageTreeModel.loadCoverageData(CoverageTreeModel.java:200)
	at com.cenqua.clover.idea.coverage.DefaultCoverageManager$CancellableCoverageLoadTaskDelegate.run(DefaultCoverageManager.jav","Java version=1.7.0_10, Java vendor=Oracle Corporation, OS name=Windows 7, OS architecture=x86, IDEA build number=IU-129.1359
Plugin release=3.2.0.v20131021000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1365,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hxab47:",229205,,,,,221658,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxc2pj:",237011,,,,,,,,,,,"1|hx915b:",221594,345600000,true,,,,,,,,,,e123054cfbae(ibaltic),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxfr87:",237733,,,,,,,,,,,,,,,,,,,,,,,,,,221905,,"1|hx931j:",221905,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Run Explorer view does not show any test results,CLOV-1391,308874,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,4a182ff8cf74,4a182ff8cf74,02/Dec/2013 11:36 AM,10/Jan/2014 2:39 PM,15/Nov/2024 6:09 PM,20/Dec/2013 11:57 AM,3.2.0,,,,,3.2.1,,,CEP Plugin,,,,,,,0,,,,,,,,,"I enabled clover on a Java based project to produce code coverage against my unit tests (JUnit) in Eclipse (I was building the project in Eclipse only). I was able to see the ""code coverage"" and ""test contributions"" view in Eclipse but ""Test Run Explorer"" view in Eclipse does not have any test results because of which i could not see the coverage contribution.

Please find attached files for your perusal.

Thanks!","Eclipse -  Indigo Service Release 2
Clover - 3.2.0
OS - Windows 7",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Dec/2013 11:36 AM;4a182ff8cf74;Coverage Explorer.png;https://jira.atlassian.com/secure/attachment/105523/Coverage+Explorer.png","02/Dec/2013 11:36 AM;4a182ff8cf74;Test Contributions Image.png;https://jira.atlassian.com/secure/attachment/105525/Test+Contributions+Image.png","02/Dec/2013 11:36 AM;4a182ff8cf74;Test Run Explorer Image.png;https://jira.atlassian.com/secure/attachment/105526/Test+Run+Explorer+Image.png","02/Dec/2013 11:36 AM;4a182ff8cf74;javacore_db files.zip;https://jira.atlassian.com/secure/attachment/105524/javacore_db+files.zip",,,,,,,,,,,,,true,,"1|hxaa8n:",229061,,,,,221504,,,,,,Unknown,,,,,2013-12-03 08:34:56.906,,,,,,,,,,,,,,,,,,,,,,,,"2|hxc1vz:",236876,,,,,,,,,,,"1|hx907j:",221440,345513600,true,,,,,,,,,,mparfianowicz(mparfianowicz),4a182ff8cf74(vivek.eee),,,,,,,,,,,,,,,,,,"1|hxfqen:",237594,,,,,,,,,,,,,,,,,,,,,,,,,,221751,,"1|hx923r:",221751,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"03/Dec/2013 8:34 AM;mparfianowicz;A follow up of: https://answers.atlassian.com/questions/238917/clover-test-run-explorer-dashboard-is-empty/239018;;;","03/Dec/2013 11:30 AM;mparfianowicz;Hi Verand, I copied this ticket to the https://support.atlassian.com/browse/CLV-6042. This JIRA instance (jira.atlassian.com) is for reporting software bugs, not for support. ;;;","03/Dec/2013 4:20 PM;mparfianowicz;This is a regression bug, introduced in Clover-for-Eclipse 3.2.0. IDEA did not catch this occurrence during code refactoring :-)

The plugin.xml contains invalid adapter name:

{code:xml}
<extension point=""org.eclipse.core.runtime.adapters"">
  <factory
    class=""com.cenqua.clover.eclipse.projects.model.MetricsAdapterFactory""
    adaptableType=""com.cenqua.clover.eclipse.projects.model.MetricsScope$Qualification"">
...
  <adapter type=""com.atlassian.clover.registry.entities.TestCaseInfo""/>
  <adapter type=""[Lcom.cenqua.clover.registry.TestCaseInfo;""/> <!-- OLD -->
{code}

instead of 

{code:xml}
...
  <adapter type=""com.atlassian.clover.registry.entities.TestCaseInfo""/>
  <adapter type=""[Lcom.atlassian.clover.registry.entities.TestCaseInfo;""/>
{code}


Workaround: downgrade to Clover-for-Eclipse 3.1.12.;;;","04/Dec/2013 9:12 AM;4a182ff8cf74;Clover-for-Eclipse  3.1.12 works like a charm!

Thanks,
Verand.;;;",,,,,,,,,,,,,,,,,,,,,,,
clover intrumented testcode with PersitenceConstructor and parameters fails ,CLOV-1390,307069,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,mparfianowicz,6f05953a19d3,6f05953a19d3,18/Nov/2013 3:05 PM,22/Jan/2014 10:12 AM,15/Nov/2024 6:09 PM,15/Jan/2014 1:50 PM,3.2.0,,,,,won't fix,,,Instrumentation,,,,,,,0,,,,,,,,,"If the integration tests running without clover instrumentation the test works fine, but with clover instrumentation the one test will fail.

{code}
org.springframework.data.mapping.model.MappingException: No property null found on entity class com.test.framework.Model.DataModel to bind constructor parameter to!
	at org.springframework.data.mapping.model.PersistentEntityParameterValueProvider.getParameterValue(PersistentEntityParameterValueProvider.java:74)
	at org.springframework.data.mapping.model.SpELExpressionParameterValueProvider.getParameterValue(SpELExpressionParameterValueProvider.java:63)
	at org.springframework.data.convert.ReflectionEntityInstantiator.createInstance(ReflectionEntityInstantiator.java:71)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:232)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:212)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:176)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:172)
	at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:75)
	at org.springframework.data.mongodb.core.MongoTemplate$ReadDbObjectCallback.doWith(MongoTemplate.java:1841)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:1492)
	at org.springframework.data.mongodb.core.MongoTemplate.doFindOne(MongoTemplate.java:1303)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:475)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:470)
	at com.test.framework.DatabaseSpec.search User Query(DatabaseSpec.groovy:52)
{code}  

its seem to be a problem with follow declaration
{code}
    @PersistenceConstructor
    public DataModel(String username, String password)
{code}
","OS Linux
JDK 1.7  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jan/2014 1:49 PM;mparfianowicz;ReflectionEntityInstantiator.png;https://jira.atlassian.com/secure/attachment/107262/ReflectionEntityInstantiator.png","18/Nov/2013 3:05 PM;6f05953a19d3;clover_spring.tar.gz;https://jira.atlassian.com/secure/attachment/104766/clover_spring.tar.gz",,,,,,,,,,,,,,,true,,"1|hxa047:",227350,,,,,219793,,,,,,Unknown,,,,,2013-11-19 11:21:43.302,,,,,,,,,,,,,,,,,,,,,,,,"2|hxbs2f:",235211,,,,,,,,,,,"1|hx8q33:",219729,341884800,true,,,,,,,,,,mparfianowicz(mparfianowicz),6f05953a19d3(szr),,,,,,,,,,,,,,,,,,"1|hxfisv:",236285,,,,,,,,,,,,,,,,,,,,,,,,,1.0,220040,,"1|hx8rzb:",220040,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"19/Nov/2013 11:21 AM;mparfianowicz;Hello Sam, 

Thank you for reporting this bug. It will be scheduled for fixing according to our [Atlassian+Bug+Fixing+Policy|https://confluence.atlassian.com/display/Support/Atlassian+Bug+Fixing+Policy]. 

Could you confirm that your intention was to indeed raise a bug (it will take some time until it's fixed and a new Clover version is released) and not a [support ticket|https://support.atlassian.com/] (covered by SLA, we might look for a temporary workaround)? 

Cheers
Marek;;;","19/Nov/2013 12:02 PM;6f05953a19d3;Hello Marek, 

the example source (clover_spring.tar.gz) is to show you the problem. The problem are raised after we integrated Clover in the integration test. On every build with integration test we had the same problem, so we must turned off the coverage for the project.

We need support for this Issue, i opened CLV-6032.

Cheers 
Sam   ;;;","15/Jan/2014 1:49 PM;mparfianowicz;Update: it turned out to be a problem in one of the Spring Data classes:

!ReflectionEntityInstantiator.png!

*Workaround #1:*

Set the compiler settings to 'debug: true, debuglevel:""lines,vars,source"" '

*Workaround #2:*

Exclude domain classes from instrumentation. ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Instrumentation of a branch condition with a generic type leads to javac compilation error,CLOV-1389,306593,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,14/Nov/2013 9:13 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.0,,,,,n/a,,,Instrumentation,,,,,,,0,,,,,,,,,"*For a declaration like this:*

{code:java}
public <T> T getFeatureValue();
...
if (client.getFeatureValue()) {
{code}

the instrumented line gets instrumented like:

{code:java}
_CLR3_1_113f23f2hnz3nmqe.R.inc(5146);if ((((client.getFeatureValue())&&(CLR3_1_113f23f2hnz3nmqe.R.iget(5147)!=0|true))||(_CLR3_1_113f23f2hnz3nmqe.R.iget(5148)==0&false))) {{
{code}

which leads to compilation error:

{noformat}
error: bad operand types for binary operator '&&'
{noformat}

*Reason:*

Javac performs autoboxing of the if condition. However it cannot deal properly if the same generic value is used with && or || operators. It looks like if javac wraps the entire if condition, not a single element. 

Look at the example:

{code:java}
public class BranchCoverageWithAutoboxing {
    interface Data {
        public <T> T getValue();
    }

    public boolean testGetValue(Data source) {
        if (source.getValue()) {  // Implicit conversion to Boolean via autoboxing
            return true;
        }
        return false;
    }

    public boolean testGetValueWithBoolean(Data source) {
        if (source.getValue() && true) {  // Error: Operator && cannot be applied to java.lang.Object, boolean
            return true;
        }
        return false;
    }

    public boolean testGetValueWithWrappedBoolean(Data source) {
        if (Boolean.valueOf(source.getValue().toString()) && true) { // Explicit conversion, compilation is successful
            return true;
        }
        return false;
    }
}
{code}

*Workaround:*

Don't rely on boolean autoboxing and change a generic type to Boolean. 

or

Extract expression being autoboxed to a local variable and evaluate before ""if"". Use the variable in ""if"".

{code:java}
// original:
if (source.getValue)

// fixed:
Boolean b = source.getValue();
if (b) 
{code}

or

surround problematic code block with ""///CLOVER:OFF"" and ""///CLOVER:ON"" inline comments (note that three slashes are used)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx9x9r:",226880,,,,,219321,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxbpf3:",234771,,,,,,,,,,,"1|hx8n8f:",219258,326160000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkyf:",236287,,,,,,,,,,,,,,,,,,,,,,,,,13.0,219568,,"1|hx8p4f:",219568,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"14/Nov/2013 12:38 PM;mparfianowicz;Update: 

the ""if (source.getValue())"" construct does not compile under JDK5 and JDK6. It has a quite reasonable compilation error:

_type parameters of <T>T cannot be determined; no unique maximal instance exists for type variable T with upper bounds boolean,java.lang.Object_

it compiles under JDK7 and JDK8
;;;","16/Jul/2014 3:47 PM;mparfianowicz;There is another variant causing a failure (see Guava library version 17, file \guava\src\com\google\common\collect\TreeRangeSet.java) - a generic value compared against another value:

This if condition:

{code:java}
        protected Entry<Cut<C>, Range<C>> computeNext() {
          if (nextComplementRangeUpperBound == Cut.<C>belowAll()) {
            return endOfData();
          } else ...
{code}

gets instrumented as:

{code:java}
protected Entry<Cut<C>, Range<C>> computeNext() {try{__CLR4_0_0ktvktvhxonqshg.R.inc(27286);
          __CLR4_0_0ktvktvhxonqshg.R.inc(27287);if ((((nextComplementRangeUpperBound == Cut.<C>belowAll())&&(__CLR4_0_0ktvktvhxonqshg.R.iget(27288)!=0|true))||(__CLR4_0_0ktvktvhxonqshg.R.iget(27289)==0&false))) {{
            __CLR4_0_0ktvktvhxonqshg.R.inc(27290);return endOfData();
          } }else ...
{code}

leading to compilation error:

{noformat}
[ERROR] \Work\testcases\guava-libraries\guava\target\clover\src-instrumented\com\google\common\collect\TreeRangeSet.java:[543,92] illegal start of expression
{noformat}
;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Fully qualified java.lang is not used for system properties in Clover.getRecorder ,CLOV-1384,305056,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,04/Nov/2013 9:26 AM,10/Jan/2014 9:37 AM,15/Nov/2024 6:09 PM,04/Nov/2013 12:02 PM,3.2.0,,,,,3.2.1,,,Instrumentation,,,,,,,0,,,,,,,,,"Generated code:

{code:java}
R=com_cenqua_clover.Clover.getNullRecorder();_R=com_cenqua_clover.Clover.getNullRecorder();_R=com_cenqua_clover.Clover.getRecorder(
   ""\u0063....\u0064\u0062"",
   1382598086449L,8589935092L,49,profiles,
    new String[]{""clover.distributed.coverage"",null});
           ^^^^^ java.lang. is missing
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx9oif:",225424,,,,,217865,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxbh7b:",233400,,,,,,,,,,,"1|hx8egv:",217802,348105600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx51an:",167258,,,,,,,,,,,,,,,,,,,,,,,,,2.0,218112,,"1|hx8gd3:",218112,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IndexOutOfBoundsException during refresh of code highlight markups,CLOV-1374,302968,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,21/Oct/2013 11:48 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,3.2.0,,,,,open-source,,,CIJ Plugin,,,,,,,0,,,,,,,,,"During a project load the following error has occurred. 

{noformat}
Error during dispatching of java.awt.event.InvocationEvent[INVOCATION_DEFAULT,runnable=com.cenqua.clover.idea.content.ContentPlugin$1@7a5a5187,notifier=null,catchExceptions=false,when=1382355480143] on sun.awt.windows.WToolkit@1074024: Wrong line: -1. Available lines count: 210
java.lang.IndexOutOfBoundsException: Wrong line: -1. Available lines count: 210
	at com.intellij.openapi.editor.ex.util.SegmentArray.getSegmentStart(SegmentArray.java:181)
	at com.intellij.openapi.editor.impl.LineSet.getLineStart(LineSet.java:50)
	at com.intellij.openapi.editor.impl.DocumentImpl.getLineStartOffset(DocumentImpl.java:714)
	at com.cenqua.clover.idea.content.DocMarkupPlugin$HighlightMarkupBuilder.highlightStatement(DocMarkupPlugin.java:278)
	at com.cenqua.clover.idea.content.DocMarkupPlugin$HighlightMarkupBuilder.process(DocMarkupPlugin.java:222)
	at com.cenqua.clover.idea.content.DocMarkupPlugin.updateMarkups(DocMarkupPlugin.java:138)
	at com.cenqua.clover.idea.content.DocMarkupPlugin.refresh(DocMarkupPlugin.java:426)
	at com.cenqua.clover.idea.content.ContentPlugin$1.run(ContentPlugin.java:96)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:251)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:741)
	at java.awt.EventQueue.access$400(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:694)
	at java.awt.EventQueue$3.run(EventQueue.java:691)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:75)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:711)
	at com.intellij.ide.IdeEventQueue.d(IdeEventQueue.java:700)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:525)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:348)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:220)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:135)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:123)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:119)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:111)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:97)
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx9crr:",223454,,,,,215887,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxb6d3:",231575,,,,,,,,,,,"1|hx82of:",215824,349315200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfklr:",232743,,,,,,,,,,,,,,,,,,,,,,,,,,216135,,"1|hx84kv:",216135,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failed to generate coverage cloud error,CLOV-1373,302959,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,21/Oct/2013 10:07 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.0,,,,,open-source,,,CEP Plugin,,,,,,,0,,,,,,,,,"Start clicking quickly on ""Coverage Cloud"" button. It will cause a clash between actions as two actions will attempt to write to the same output file:
 
{noformat}
java.io.FileNotFoundException: C:\Users\Marek\.workspace-eclipse-4.3\Moneybags\.clover\report\style.css (The requested operation cannot be performed on a file with a user-mapped section open)
	at java.io.FileOutputStream.open(Native Method)
	at java.io.FileOutputStream.<init>(FileOutputStream.java:206)
	at java.io.FileOutputStream.<init>(FileOutputStream.java:156)
	at com.cenqua.clover.reporters.html.HtmlReportUtil.mergeTemplateToFile(HtmlReportUtil.java:64)
	at com.cenqua.clover.reporters.html.HtmlReportUtil.mergeTemplateToFile(HtmlReportUtil.java:86)
	at com.cenqua.clover.reporters.html.HtmlReportUtil.mergeTemplateToDir(HtmlReportUtil.java:92)
	at com.cenqua.clover.eclipse.ui.editors.cloud.CloudGenerator.createResources(CloudGenerator.java:97)
	at com.cenqua.clover.eclipse.ui.editors.cloud.CloudGenerator.execute(CloudGenerator.java:37)
	at com.cenqua.clover.eclipse.views.actions.GenerateCloudJob.generateReport(GenerateCloudJob.java:48)
	at com.cenqua.clover.eclipse.views.actions.GenerateCloudJob.run(GenerateCloudJob.java:34)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:53)
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx9cpz:",223445,,,,,215878,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxb6bj:",231567,,,,,,,,,,,"1|hx82mn:",215815,349315200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfklj:",232734,,,,,,,,,,,,,,,,,,,,,,,,,,216126,,"1|hx84j3:",216126,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Javac compilation fails for type-casted lambda expression instrumented by Clover,CLOV-1371,301365,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,09/Oct/2013 9:16 AM,21/Oct/2013 8:49 AM,15/Nov/2024 6:09 PM,21/Oct/2013 8:48 AM,3.2.0,,,,,3.2.0,,,Instrumentation,,,,,,,0,,,,,,,,,"A following code:

{code:java}
Object o = (Runnable) () -> System.out.println(""lambda expression with class cast"");
((Runnable)o).run();
{code}

is being instrumented by Clover as follows:

{code:java}
Object o = (Runnable) RECORDER.lambdaInc(111, () -> System.out.println(""lambda expression with class cast""));
((Runnable)o).run();
{code}

As a result javac is unable to compile such code - it cannot infer proper type from the context:

{quote}
error: incompatible types: cannot infer type-variable(s) I,T
(argument mismatch; Object is not a functional interface)
where I,T are type-variables:
I extends Object declared in method <I,T>lambdaInc(int,T)
T extends I declared in method <I,T>lambdaInc(int,T)
{quote}

*Workaround:*

Change lambda from expression to block:

{code:java}
Object o = (Runnable) () -> { System.out.println(""lambda expression with class cast""); };
{code}

or

Remove class cast:

{code:java}
Runnable o =  () -> System.out.println(""lambda expression with class cast"");
{code}

*Possible fix:*

Wrap class cast inside lambdaInc():

{code:java}
Object o = RECORDER.lambdaInc(111, (Runnable)  () -> System.out.println(""lambda expression with class cast""));
{code}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx93un:",221946,,,,,214379,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxaxs7:",230119,,,,,,,,,,,"1|hx7trb:",214316,350352000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxepxj:",231443,,,,,,,,,,,,,,,,,,,,,,,,,,214627,,"1|hx7vnr:",214627,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"09/Oct/2013 9:35 AM;mparfianowicz;Few samples from JDK8:

{code:java}
return (Comparator<T> & Serializable) (c1, c2) -> ...

(PrivilegedAction<Boolean>) () -> Boolean.getBoolean(TRIPWIRE_PROPERTY)

return (Comparator<Map.Entry<K, V>> & Serializable) (e1, e2) -> ...

(PrivilegedAction<Boolean>) () -> Boolean.getBoolean(TRIPWIRE_PROPERTY)
{code};;;","09/Oct/2013 10:45 AM;mparfianowicz;It affects method references too:

{code:java}
private interface Printer<T> {
        T print();
}

void foo() {
  Object oo = (Runnable) () -> System.out.println(""lambdaWithCastExpression cast a lambda one-liner"");
  ((Runnable)oo).run();
}

void hoo() {
  Object oo = (Printer<String>)String::new;
  String s = ((Printer<String>)oo).print();
}
{code}
;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Code refactoring in Eclipse fails when clover.jar is added in classpath,CLOV-1370,300219,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,01/Oct/2013 9:41 AM,21/Oct/2013 10:02 AM,15/Nov/2024 6:09 PM,02/Oct/2013 12:02 PM,3.1.12,,,,,3.2.0,,,CEP Plugin,,,,,,,0,,,,,,,,,"Stack trace:

{noformat}
java.lang.reflect.InvocationTargetException
at org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:110)
at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)
Caused by: Java Model Exception: Java Model Status [clover.org.apache.commons.lang.enum [in /usr/local/external/vendor/atlassian/clover-ant/3.1.11/lib/clover.jar] does not exist]
at org.eclipse.jdt.internal.core.JavaElement.newJavaModelException(JavaElement.java:505)
at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:246)
at org.eclipse.jdt.internal.core.Openable.openAncestors(Openable.java:504)
at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:240)
at org.eclipse.jdt.internal.core.SourceRefElement.generateInfos(SourceRefElement.java:107)
at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:518)
at org.eclipse.jdt.internal.core.BinaryType.getElementInfo(BinaryType.java:286)
at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:241)
at org.eclipse.jdt.internal.core.BinaryType.isInterface(BinaryType.java:723)
at org.eclipse.jdt.internal.corext.refactoring.rename.RippleMethodFinder2.findAllRippleMethods(RippleMethodFinder2.java:242)
at org.eclipse.jdt.internal.corext.refactoring.rename.RippleMethodFinder2.getAllRippleMethods(RippleMethodFinder2.java:168)
at org.eclipse.jdt.internal.corext.refactoring.rename.RippleMethodFinder2.getRelatedMethods(RippleMethodFinder2.java:161)
at
{noformat}

To reproduce this error:

1. install Eclipse Clover plugin, create new Java project, enable Clover on the project

2. add reference to clover.jar /lib/clover.jar (project properties > java build path > libraries > add external jars > /path/to/clover-ant/3.1.11/lib/clover.jar)

3. add class:

{code:java}
public class KeyValuePair {

private String _key;
private String _value;

public KeyValuePair(String key, String value)
{ _key = key; _value = value; }

public String getKey()
{ return _key; }

public void setKey(String key)
{ _key = key; }

public String getName()
{ return _value; }

public void setValue(String value)
{ _value = value; }

}
{code}

4. Try to rename getName()
","Eclipse versions:
""Eclipse Platform 3.7.0.I20110613-1736 org.eclipse.platform.ide null"" and ""Eclipse Platform 4.3.0.I20130605-2000 org.eclipse.platform.ide null""
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx8rwn:",219917,,,,,213251,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hxarmf:",229023,,,,,,,,,,,"1|hx7ndj:",213188,351043200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxejxr:",230383,,,,,,,,,,,,,,,,,,,,,,,,,,213499,,"1|hx7p9z:",213499,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"01/Oct/2013 9:47 AM;mparfianowicz;It seems that during code refactoring Eclipse searches for possible references to the method being renamed. 

It fails to scan clover.jar or clover-runtime.jar. It fails to scan classes in a package named:

clover.org.apache.commons.lang.enum

Please note that 'enum' is a reserved Java keyword since JDK5. The commons-lang library has two packages having the same set of classes:

 * org.apache.commons.lang.enum -> it's deprecated
 * org.apache.commons.lang.enums

When I have deleted the 'clover.org.apache.commons.lang.enum' package from clover.jar and clover-runtime.jar (Clover does not use these classes), the problem in Eclipse has disappeared.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
HtmlReporter might throw java.lang.IllegalArgumentException: Comparison method violates its general contract!,CLOV-1368,299355,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,25/Sep/2013 1:06 PM,16/Oct/2013 12:07 PM,15/Nov/2024 6:09 PM,02/Oct/2013 1:19 PM,3.1.12.1,,,,,3.2.0,,,Reporting,,,,,,,1,,,,,,,,,"'
{noformat}
com.atlassian.clover.api.CloverException: java.lang.IllegalArgumentException: Comparison method violates its general contract!
	at com.cenqua.clover.reporters.html.HtmlReporter.executeImpl(HtmlReporter.java:165)
	at com.cenqua.clover.reporters.CloverReporter.execute(CloverReporter.java:41)
	at com.cenqua.clover.tasks.CloverReportTask.generateReports(CloverReportTask.java:427)
	at com.cenqua.clover.tasks.CloverReportTask.cloverExecute(CloverReportTask.java:384)
	at com.cenqua.clover.tasks.AbstractCloverTask.execute(AbstractCloverTask.java:55)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)
	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)
	at org.apache.tools.ant.taskdefs.SubAnt.execute(SubAnt.java:302)
	at org.apache.tools.ant.taskdefs.SubAnt.execute(SubAnt.java:221)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)
	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)
	at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)
	at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442)
	at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:390)
	at org.apache.tools.ant.Target.performTasks(Target.java:411)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1368)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1251)
	at org.apache.tools.ant.Main.runBuild(Main.java:809)
	at org.apache.tools.ant.Main.startAnt(Main.java:217)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)
Caused by: java.lang.IllegalArgumentException: Comparison method violates its general contract!
	at java.util.TimSort.mergeLo(TimSort.java:747)
	at java.util.TimSort.mergeAt(TimSort.java:483)
	at java.util.TimSort.mergeForceCollapse(TimSort.java:426)
	at java.util.TimSort.sort(TimSort.java:223)
	at java.util.TimSort.sort(TimSort.java:173)
	at java.util.Arrays.sort(Arrays.java:659)
	at java.util.Collections.sort(Collections.java:217)
	at com.cenqua.clover.reporters.html.RenderTestResultAction.call(RenderTestResultAction.java:93)
	at com.cenqua.clover.util.CloverExecutors$CloverExecutorService.submit(CloverExecutors.java:70)
	at com.cenqua.clover.reporters.html.HtmlReporter.renderTestPages(HtmlReporter.java:719)
	at com.cenqua.clover.reporters.html.HtmlReporter.processPackage(HtmlReporter.java:665)
	at com.cenqua.clover.reporters.html.HtmlReporter.executeCurrentReport(HtmlReporter.java:228)
	at com.cenqua.clover.reporters.html.HtmlReporter.executeImpl(HtmlReporter.java:157)
	... 61 more
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx8mtz:",219067,,,,,212399,,,,,,Unknown,,,,,2013-09-25 14:03:18.508,,,,,,,,,,,,,,,,,,,,,,,,"2|hxampz:",228200,,,,,,,,,,,"1|hx7iaf:",212336,350870400,true,,,,,,,,,,mparfianowicz(mparfianowicz),dc54674add53(thetaphi),f3047710da9a(uschindler1),,,,,,,,,,,,,,,,,"1|hxef27:",229566,,,,,,,,,,,,,,,,,,,,,,,,,,212647,,"1|hx7k6v:",212647,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"25/Sep/2013 2:03 PM;dc54674add53;Thanks for opeing this issue!

The referring Lucene bug issue is: https://issues.apache.org/jira/browse/LUCENE-5243;;;","25/Sep/2013 3:55 PM;f3047710da9a;Hi Marek,
I updated Lucene to use the snapshot build. I will report back if the issue reappears.

Uwe;;;","02/Oct/2013 1:19 PM;mparfianowicz;Hi Uwe, I'm closing this issue as resolved. Feel free to reopen it in case the problem returns.;;;","02/Oct/2013 7:47 PM;dc54674add53;Hi,
I found no other bugs. Recently all builds succeeded when creating the report.
Thanks! Once the new version is out, I will replace the repository used by Apache Lucene for this artifact by maven-central.;;;",,,,,,,,,,,,,,,,,,,,,,,
Error when re-opening a project in a new window,CLOV-1365,297565,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,5e7ad2c3ab60,5e7ad2c3ab60,16/Sep/2013 10:09 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.12,,,,,someday,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Already disposed: Already disposed
java.lang.AssertionError: Already disposed
	at com.intellij.openapi.components.impl.ComponentManagerImpl.getPicoContainer(ComponentManagerImpl.java:289)
	at com.intellij.openapi.components.impl.ComponentManagerImpl.getPicoContainer(ComponentManagerImpl.java:55)
	at com.intellij.openapi.components.ServiceManager.getService(ServiceManager.java:40)
	at com.intellij.openapi.roots.ProjectRootManager.getInstance(ProjectRootManager.java:41)
	at com.cenqua.clover.idea.IdeaTestFilter.isInTestFolder(IdeaTestFilter.java:41)
	at com.cenqua.clover.idea.IdeaTestFilter.accept(IdeaTestFilter.java:49)
	at com.cenqua.clover.registry.FileInfo.copy(FileInfo.java:344)
	at com.cenqua.clover.registry.PackageInfo.copy(PackageInfo.java:138)
	at com.cenqua.clover.registry.ProjectInfo.copy(ProjectInfo.java:108)
	at com.cenqua.clover.registry.ProjectInfo.copy(ProjectInfo.java:91)
	at com.cenqua.clover.registry.ProjectView$Filtered.<init>(ProjectView.java:111)
	at com.cenqua.clover.registry.ProjectView$Original.newProjection(ProjectView.java:39)
	at com.cenqua.clover.registry.Clover2Registry.newProjectView(Clover2Registry.java:311)
	at com.cenqua.clover.CloverDatabase.loadCoverageData(CloverDatabase.java:184)
	at com.cenqua.clover.idea.report.jfc.CoverageTreeModel.loadCoverageData(CoverageTreeModel.java:200)
	at com.cenqua.clover.idea.coverage.DefaultCoverageManager$CancellableCoverageLoadTaskDelegate.run(DefaultCoverageManager.java:443)
	at com.cenqua.clover.idea.util.tasks.CancellableTask.run(CancellableT","Java version=1.7.0_05, Java vendor=Oracle Corporation, OS name=Windows 7, OS architecture=amd64, IDEA build number=IU-129.713
Plugin release=3.1.12.v20130627000000",,,,,,,,,,,,,,,,,,,,CLOV-1394,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx8cpj:",217332,,,,,210662,,,,,,,,,,,2013-09-17 08:47:16.808,,,,,,,,,,,,,,,,,,,,,,,,"2|hxad3j:",226545,,,,,,,,,,,"1|hx785j:",210599,294710400,true,,,,,,,,,,mparfianowicz(mparfianowicz),5e7ad2c3ab60(tom.burton),,,,,,,,,,,,,,,,,,"1|hxe6m7:",228110,,,,,,,,,,,,,,,,,,,,,,,,,,210910,,"1|hx7a1z:",210910,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Sep/2013 10:10 PM;5e7ad2c3ab60;My HDD is running out of space. I've been deleting/compressing files to get more room. I have 4 GB of Ram and started with 3GB free on the HDD and now have about 6.5GB.  I was running 2 windows of IntelliJ IDEA side by side.  I eventually closed one, myself not by letting windows do it.  I needed to re-open the second window to make changes to that project. It came up almost instantly. However, it had the error.;;;","17/Sep/2013 8:47 AM;mparfianowicz;Hi Tom, did this happen only once or this is a recurring problem?;;;","17/Sep/2013 6:14 PM;5e7ad2c3ab60;Just the one time.  And this morning I managed to free some more HDD space so hopefully I'm out of the low memory woods.;;;","15/Jul/2015 11:07 AM;mparfianowicz;I see a number of tickets with ""Already exposed"" reported in JetBrains' issue tracker:

https://youtrack.jetbrains.com/issues?q=project%3A+{IntelliJ+IDEA}+java.lang.AssertionError+Already+disposed

Please let me know if the problem still occur in the latest version of IDEA.;;;",,,,,,,,,,,,,,,,,,,,,,,
findbugs on clovered source code reports errors,CLOV-1343,292978,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,mparfianowicz,fead88389cd3,fead88389cd3,20/Aug/2013 11:56 AM,22/Jan/2014 10:12 AM,15/Nov/2024 6:09 PM,26/Aug/2013 10:21 AM,3.1.12.1,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"when doing quality checks we run all at once: compile, junit, clover, checkstyle, findbugs, etc.

findbugs reports:
A mutable static field could be changed by malicious code or by accident from another package. The field could be made final to avoid this vulnerability. Field[name=""R"" signature=""Lcom_cenqua_clover/CoverageRecorder;""]

which would force to do a dedicated compile for quality, and one for clover. not very elegant. would it be possible to generate proper code?
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx7n4v:",212978,,,,,205928,,,,,,Unknown,,,,,2013-08-22 01:48:18.824,,,,,,,,,,,,,,,,,,,,,,,,"2|hx9oev:",222359,,,,,,,,,,,"1|hx6i3j:",205971,354067200,true,,,,,,,,,,mparfianowicz(mparfianowicz),fead88389cd3(rupert.thurner),,,,,,,,,,,,,,,,,,"1|hxdllz:",224551,,,,,,,,,,,,,,,,,,,,,,,,,,206268,,"1|hx6jwv:",206268,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"26/Aug/2013 10:18 AM;mparfianowicz;Hello Rupert, 

This field is not final by purpose. Findbugs is wrong in this case. A source code for the R field looks like this (I've stripped down the code) :

{code:java}
public static class __CLR3_1_111d1dhi4b97jb {
        public static com_cenqua_clover.CoverageRecorder R;

        static {
            com_cenqua_clover.CoverageRecorder _R = null;
            try {
                R = com_cenqua_clover.Clover.getNullRecorder();  // <<<<< initialize with an empty recorder
                _R = com_cenqua_clover.Clover.getNullRecorder();
                _R = com_cenqua_clover.Clover.getRecorder(...);  // <<<<< initialize the actual recorder
            } catch (...) {
                // Clover.getRecorder() could fail for a number of reasons
            }
            R = _R;  // <<<<< copy reference to the recorder instantiated
        }
    }
{code}

As you can see, the ""R"" field is assigned twice. So it cannot be declared final. 

Tip: you can use <clover-instr> to see how instrumented code looks like.;;;","26/Aug/2013 10:21 AM;mparfianowicz;Hi Rupert,

You could try to fine-tune your FindBugs configuration and configure filters:

findbugs.sourceforge.net/manual/filter.html

in order to exclude CoverageRecorder from check. 


Cheers
Marek;;;","26/Aug/2013 11:41 AM;fead88389cd3;hi marek, thanks for the quick reply! for projects which have the problem urgently, we switched over to jacoco: http://www.eclemma.org/jacoco/.

would you be so kind to add a valid exclude filter to this ticket?;;;","27/Aug/2013 6:29 AM;mparfianowicz;I did not play with FindBugs much, but I guess that it should be something like:

{code:xml}
<FindBugsFilter>
     <Match>
      <Class name=""~.*"" />
      <Not>
          <Field type=""com_cenqua_clover.CoverageRecorder"" />
          <Bug code=""MS_CANNOT_BE_FINAL"" />
      </Not>
     </Match>
</FindBugsFilter>
{code}

;;;",,,,,,,,,,,,,,,,,,,,,,,
Implicit return in Groovy switch statement is instrumented incorrectly,CLOV-1341,291639,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,13/Aug/2013 9:48 AM,21/Oct/2013 8:38 AM,15/Nov/2024 6:09 PM,02/Oct/2013 12:11 PM,,,,,,3.2.0,,,Instrumentation,,,,,,,0,,,,,,,,,"*Problem:*

Consider the following code:

{code:java}
def create(boolean b) {
        switch (b) {
            case true:
                new Integer(10)
                break
            case false:
                new String(""abc"")
                break
        }
}
{code}

 * switch statement is the last statement in function, so it's value is being returned from a function call
 * new Integer() / new String() are last statements before 'break' which is a function's exit point
 * thus 10 or ""abc"" are returned

Clover instruments code as follows:

{code:java}
def create(boolean b) { recorder.inc(0);
        switch (b) {
            case true:
                recorder.inc(1); new Integer(10)
                recorder.inc(2); break
            case false:
                recorder.inc(3); new String(""abc"")
                recorder.inc(4); break
        }
}
{code}

 * as a consequence, the last statement before 'break' becomes recorder.inc(), which returns void; as a result the create() function returns null

*Workaround:*

Use return instead of break in a switch statement, e.g.:

{code:java}
            case true:
                return new Integer(10)
                // no break 
{code}


*Fix:*

 *  do not add recorder.inc() before 'break'; drawback of the solution: we loose tracking of empty breaks, see below.

{code:java}
def foo(int i) {
  switch (i) {
    case 1:
      recorder.inc(1); println(""one"")
      /*recorder.inc(2); not added*/ break;
    case 2:
    case 3: 
      /*recorder.inc(3); not added*/ break;
  }
}

foo(1)
foo(2)
{code}

in the code above it would be nice to have ""case2: case 3: recorder.inc(3); break;"" colored in green, despite that code makes nothing ...
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx7go7:",211874,,,,,204820,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx9i9b:",221303,,,,,,,,,,,"1|hx6blz:",204863,352944000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxdg9r:",223619,,,,,,,,,,,,,,,,,,,,,,,,,5.0,205161,,"1|hx6dfj:",205161,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"13/Aug/2013 11:29 AM;mparfianowicz;Fix is implemented. It available in 3.1.12.1-SNAPSHOT:
https://maven.atlassian.com/public-snapshot/com/cenqua/clover/clover/3.1.12.1-SNAPSHOT/

and will be available in 3.2.0.;;;","09/Sep/2013 10:16 AM;mparfianowicz;NOTE: This works with Groovy 1.6.5 or higher, because the ""switch as an expression"" feature was implemented in Groovy 1.6.5:
 * http://jira.codehaus.org/browse/GROOVY-3789
;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Class loader fails on clover.jar package-info,CLOV-1326,286758,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,16/Jul/2013 1:01 PM,10/Jul/2014 5:53 AM,15/Nov/2024 6:09 PM,23/Jul/2013 12:06 PM,3.1.12,,,,,3.1.12.1,,,Ant Tasks,,,,,,,0,,,,,,,,,"Occurs in Bamboo, for instance.

{noformat}
2013-07-15 12:16:10,250 ERROR [http-9087-Processor12] [[default]] Servlet.service() for servlet default threw exception
java.lang.ClassFormatError: Illegal class name ""com/google/common/collect/package-info"" in class file com/google/common/collect/package-info
        at java.lang.ClassLoader.defineClass1(Native Method)
        at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631)
        at java.lang.ClassLoader.defineClass(ClassLoader.java:615)
        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141)
        at org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:1876)
        at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:889)
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1353)
        at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1232)
        at java.lang.Class.forName0(Native Method)
        at java.lang.Class.forName(Class.java:249)
        at java.lang.Package.getPackageInfo(Package.java:352)
        at java.lang.Package.getAnnotation(Package.java:367)
        at org.codehaus.jackson.xc.JaxbAnnotationIntrospector.findAnnotation(JaxbAnnotationIntrospector.java:885)
        at org.codehaus.jackson.xc.JaxbAnnotationIntrospector.findAccessType(JaxbAnnotationIntrospector.java:265)
        at org.codehaus.jackson.xc.JaxbAnnotationIntrospector.findAutoDetectVisibility(JaxbAnnotationIntrospector.java:216)
        at org.codehaus.jackson.map.AnnotationIntrospector$Pair.findAutoDetectVisibility(AnnotationIntrospector.java:1018)
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx6r1r:",207088,,,,,200266,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx8u0f:",217178,,,,,,,,,,,"1|hx5lpj:",200313,357696000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxcv9r:",220010,,,,,,,,,,,,,,,,,,,,,,,,,3.0,200601,,"1|hx5ngv:",200601,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
syntax highlights rendering problem in case if backslash character coded as \u005c in character literal,CLOV-1305,286452,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,5eb0ba3ce860,5eb0ba3ce860,15/Jul/2013 11:04 AM,07/Feb/2014 1:10 PM,15/Nov/2024 6:09 PM,06/Feb/2014 2:21 PM,3.1.11,,,,,3.2.2,,,CEP Plugin,CIJ Plugin,Instrumentation,Reporting,,,,0,,,,,,,,,"Apache Pig project (http://pig.apache.org/) has the following constant in one of source files:
    private static final char SINGLE_QUOTE = '\u005c'';

(Here backslash character in the literal quoted with unicode escape \u005c.)
Clover 3.1.11 encounters problem rendering the syntax highlights in the html report for such file (trace below). The file is present in the report, and coverage inside it seems to be calculated correctly, but the file's source in the report is not colored completely.

2013-07-13 07:19:07.862 [clover-report] Failed to render syntax highlights for /home/jenkins/jenkins/workspace/Pig-Integration-trunk-gd/pig/src/org/apache/pig/parser/StreamingCommandUtils.java: expecting ''', found '\n'
2013-07-13 07:19:07.863 [clover-report] line 47:56: expecting ''', found '\n'line 47:56: expecting ''', found '\n'
2013-07-13 07:19:07.863 [clover-report] 	at com.atlassian.clover.instr.java.JavaLexer.nextToken(JavaLexer.java:441)
2013-07-13 07:19:07.864 [clover-report] 	at com.atlassian.clover.instr.java.UnicodeJavaLexer.nextToken(UnicodeJavaLexer.java:56)
2013-07-13 07:19:07.864 [clover-report] 	at com.cenqua.clover.reporters.html.source.java.JavaTokenTraverser.traverse(JavaTokenTraverser.java:93)
2013-07-13 07:19:07.864 [clover-report] 	at com.cenqua.clover.reporters.html.source.java.JavaSourceRenderer.render(JavaSourceRenderer.java:18)
2013-07-13 07:19:07.865 [clover-report] 	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.render(SourceRenderHelper.java:317)
2013-07-13 07:19:07.865 [clover-report] 	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:123)
2013-07-13 07:19:07.865 [clover-report] 	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:53)
2013-07-13 07:19:07.866 [clover-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.insertLineInfos(RenderFileAction.java:284)
2013-07-13 07:19:07.866 [clover-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:131)
2013-07-13 07:19:07.866 [clover-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:115)
2013-07-13 07:19:07.867 [clover-report] 	at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:86)
2013-07-13 07:19:07.867 [clover-report] 	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:178)
2013-07-13 07:19:07.867 [clover-report] 	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1061)
2013-07-13 07:19:07.868 [clover-report] 	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
2013-07-13 07:19:07.869 [clover-report] 	at java.lang.Thread.run(Thread.java:662)
 
",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1431,,,,,,,,,,"05/Feb/2014 2:04 PM;mparfianowicz;UnicodeBackslash.png;https://jira.atlassian.com/secure/attachment/108415/UnicodeBackslash.png","05/Feb/2014 2:15 PM;mparfianowicz;build_error_in_idea.png;https://jira.atlassian.com/secure/attachment/108416/build_error_in_idea.png",,,,,,,,,,,,,,,true,,"1|hx6pvj:",206891,,,,,200069,,,,,,Unknown,,,,,2013-07-15 11:54:50.893,,,,,,,,,,,,,,,,,,,,,,,,"2|hx8swv:",216992,,,,,,,,,,,"1|hx5kjb:",200116,339984000,true,,,,,,,,,,5eb0ba3ce860(ivan11),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxcucv:",219854,,,,,,,,,,,,,,,,,,,,,,,,,,200404,,"1|hx5man:",200404,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/Jul/2013 11:54 AM;mparfianowicz;Hi Ivan, thank you for reporting this. 

1) Could you confirm that this error occurs only during HTML report rendering, i.e. the instrumentation of the source file via <clover-setup> or <clover-instr> works fine?

2) Could you confirm that the file is available in the report, despite the parsing problem, i.e. that it's rendered as a plain text?

Cheers
Marek;;;","16/Jul/2013 8:26 PM;5eb0ba3ce860;Hi, Marek,
1) yes, looks like so. At least the coverage numbers and traces from tests seem to be adequate.
2) yes, the file is available, and the tracing from tests is present (numbers and green bars on the left side). Just the code of the class is not highlighted (shown in black and white). ;;;","05/Feb/2014 2:04 PM;mparfianowicz;Clover 3.2.2:

When such backslash is present in a source file, Clover-for-Eclipse fails to render coverage highlights. It also does not show any metrics for a class, as if it would not be instrumentable:

!UnicodeBackslash.png!

After enabling Clover logging (Preferences > Clover > Logging level) in the Error Log view we can see messages like:

{noformat} 
Error C:\...\Unicode2.java:3:53:expecting ''', found '\r'
Error Clover instrumentation failed for file .../Unicode2.java - code coverage will not be recorded for this file.
{noformat} 


In IDEA it ends with a build error:

!build_error_in_idea.png!;;;","05/Feb/2014 10:10 PM;mparfianowicz;(/) fix grammar
(/) fix highlighting in eclipse 
(/) fix highlighting in idea ;;;",,,,,,,,,,,,,,,,,,,,,,,
Exclusion icon decoration is not visible in IDEA,CLOV-1303,283211,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,27/Jun/2013 10:46 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.11,,,,,n/a,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Affects IDEA versions 10.5.x-12.1.x (works under IDEA 9.0.x). The toggle 'Annotate icons on included/excluded files ...' does not work:

!icon_decoration_do_not_work.png!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Jun/2013 10:46 AM;mparfianowicz;icon_decoration_do_not_work.png;https://jira.atlassian.com/secure/attachment/95229/icon_decoration_do_not_work.png",,,,,,,,,,,,,,,,true,,"1|hx6bhb:",204486,,,,,197659,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx8fcv:",214735,,,,,,,,,,,"1|hx563z:",197706,359337600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxcio7:",217896,,,,,,,,,,,,,,,,,,,,,,,,,5.0,197994,,"1|hx57vb:",197994,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The 'include line info' toggle works in the opposite way,CLOV-1302,282928,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,26/Jun/2013 7:44 AM,23/Jul/2013 11:57 AM,15/Nov/2024 6:09 PM,26/Jun/2013 8:59 AM,3.1.11,,,,,3.1.12,,,CEP Plugin,,,,,,,0,,,,,,,,,"This toggle

!include_line_info.png!

works exactly opposite: when selected, the XML report does NOT contain <line> tags; and vice versa.",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1301,,,,,,,,,,"26/Jun/2013 7:44 AM;mparfianowicz;include_line_info.png;https://jira.atlassian.com/secure/attachment/95077/include_line_info.png",,,,,,,,,,,,,,,,true,,"1|hx69qn:",204200,,,,,197373,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx8dvz:",214493,,,,,,,,,,,"1|hx54db:",197420,359424000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxchgv:",217696,,,,,,,,,,,,,,,,,,,,,,,,,2.0,197708,,"1|hx564n:",197708,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"26/Jun/2013 7:45 AM;mparfianowicz;Also: 
 * enable it by default
 * rename label to ""Include line coverage information in the report""
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Contributed and unique coverage are equal,CLOV-1298,281324,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,17/Jun/2013 12:09 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.11,3.2.0,3.3.0,4.0.0,,open-source,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Possible bug. Investigate why these values are identical for MoneyBags tutorial. 

!unique_and_contributed_coverage.png!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jun/2013 12:09 PM;mparfianowicz;unique_and_contributed_coverage.png;https://jira.atlassian.com/secure/attachment/94292/unique_and_contributed_coverage.png",,,,,,,,,,,,,,,,true,,"1|hx5yg7:",202342,,,,,195400,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx870v:",213351,,,,,,,,,,,"1|hx4sdb:",195447,360201600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfklb:",216671,,,,,,,,,,,,,,,,,,,,,,,,,3.0,195735,,"1|hx4u4n:",195735,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HTML report shows only one test result per file if external XML JUnit files are used,CLOV-1297,281177,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,15/Jun/2013 12:21 PM,27/Jun/2013 8:26 PM,15/Nov/2024 6:09 PM,26/Jun/2013 9:08 AM,3.1.11,,,,,3.1.12,,,Reporting,,,,,,,0,,,,,,,,,"In the <clover-report> we can define <testresults> element which causes that test results are being read from JUnit-compatible XML files, instead of from Clover's coverage recording files. 

This works as long as the test name can be mapped to the method name (which is usually the case). However, in case of the Spock framework, test cases are named using a free text like:

{noformat}
def ""check if this test does xyz""
{noformat}

which is later translated to a method named like:

{noformat}
$spock_feature_0_0
{noformat}

As a consequence Clover is not able to match test name to the method name (in order to link to sources). It uses an empty test id to store the test result (SLICE_ID = -1). If there are more than one non-matched method in the same XML file, all get the same ID=-1, thus overwriting each other in hashmap. As a consequence only one is listed.

*Fix:*

Generate a unique test id using the test name - a String.hashCode() for instance.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx5xev:",202170,,,,,195228,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx866v:",213212,,,,,,,,,,,"1|hx4rbz:",195275,360374400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfl2n:",9496,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,5.0,195563,,"1|hx4t3b:",195563,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover history report generation may not work with multimodule maven project and relative historyDir path,CLOV-1290,277496,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,jjaroczynski,jjaroczynski,jjaroczynski,22/May/2013 12:22 PM,27/Jun/2013 8:43 PM,15/Nov/2024 6:09 PM,07/Jun/2013 9:12 AM,,,,,,3.1.12,,,,,,,,,,0,,,,,,,,,"Please investigate. One of the possible solutions could be to change relative path to absolute.

CloverReportMojo:
{code}
private boolean isHistoricalDirectoryValid(String outFile) {
        boolean isValid = false;
        File dir
        if (!new File(this.historyDir).isAbsolute()) {
             dir = new File(project.getBasedir(), this.historyDir);
        } else {
             dir = new File(this.historyDir);//
        }
{code}


When called from ant with historyDir set to non-existing directory:
{code}
BUILD FAILED
c:\Work\testcases\easymock\build.xml:71: java.lang.IllegalStateException: basedir c:\Work\testcases\easymock\.cloverhistory does not exist.
        at org.apache.tools.ant.DirectoryScanner.scan(DirectoryScanner.java:879)
        at com.cenqua.clover.tasks.CloverReportTask$HistoricalEx.processHistoryIncludes(CloverReportTask.java:274)
        at com.cenqua.clover.tasks.CloverReportTask$HistoricalEx.processHistoryIncludes(CloverReportTask.java:261)
        at com.cenqua.clover.tasks.CloverReportTask$HistoricalEx.resolve(CloverReportTask.java:241)
        at com.cenqua.clover.tasks.CloverReportTask.cloverExecute(CloverReportTask.java:340)
        at com.cenqua.clover.tasks.AbstractCloverTask.execute(AbstractCloverTask.java:55)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
        at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,BAM-13222,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx5efj:",199021,,,,,192001,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx7jin:",209464,,,,,,,,,,,"1|hx47vb:",192048,362448000,true,,,,,,,,,,jjaroczynski(jjaroczynski),,,,,,,,,,,,,,,,,,,"1|hxbuev:",213853,,,,,,,,,,,,,,,,,,,,,,,,,,192336,,"1|hx49mn:",192336,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error when trying to Check for an Update,CLOV-1280,273715,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,mparfianowicz,5e7ad2c3ab60,5e7ad2c3ab60,26/Apr/2013 6:45 PM,26/Jun/2013 12:51 PM,15/Nov/2024 6:09 PM,18/May/2013 2:46 PM,3.1.11,,,,,3.1.12,,,CIJ Plugin,,,,,,,0,,,,,,,,,"I just recently upgraded from IntelliJ IDEA 10.5.4 to 12.1.1 and now 12.1.2.
I think my last update to Clover was BEFORE I updated IDEA versions.","Java version=1.7.0_10, Java vendor=Oracle Corporation, OS name=Windows 7, OS architecture=x86, IDEA build number=IU-129.354
Plugin release=3.1.11.v20130325000000",,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1209,,,,,,,,"26/Apr/2013 8:45 PM;mparfianowicz;clover-idea-3.1.12-SNAPSHOT.z01;https://jira.atlassian.com/secure/attachment/91087/clover-idea-3.1.12-SNAPSHOT.z01","26/Apr/2013 8:45 PM;mparfianowicz;clover-idea-3.1.12-SNAPSHOT.zip;https://jira.atlassian.com/secure/attachment/91088/clover-idea-3.1.12-SNAPSHOT.zip","26/Apr/2013 8:01 PM;5e7ad2c3ab60;clover-stacktrace.txt;https://jira.atlassian.com/secure/attachment/91081/clover-stacktrace.txt",,,,,,,,,,,,,,true,,"1|hx4r2n:",195105,,,,,187552,,,,,,,,,,,2013-04-26 19:52:19.945,,,,,,,,,,,,,,,,,,,,,,,,"2|hx6zdb:",206076,,,,,,,,,,,"1|hx3h87:",187599,364608000,true,,,,,,,,,,mparfianowicz(mparfianowicz),5e7ad2c3ab60(tom.burton),,,,,,,,,,,,,,,,,,"1|hxbc93:",210861,,,,,,,,,,,,,,,,,,,,,,,,,5.0,187885,,"1|hx3iz3:",187885,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Apr/2013 7:52 PM;mparfianowicz;Hello Tom,

I see that you have raised a Blocker. I guess that your intention was to raise a support ticket - if yes, then please create a ticket on the Atlassian Support page (http://support.atlassian.com), in the ""Clover Support"" project. The Atlassian Support team works 24h/day and will be eager to help you and find a solution or a workaround.

This JIRA instance (http://jira.atlassian.com) is for raising bugs and feature requests, so it might take more time until fix is put into an official Clover release.

PS: could you also specify what exact problem do you have? Are you not able to use Clover at all? What kind of error do you see? Do you see any stacktrace? Would you be able to attach IDEA log? 

Cheers
Marek
;;;","26/Apr/2013 8:01 PM;5e7ad2c3ab60;I've attached the stacktrace.  I thought clover had a attached it.  This report is a ""blocker"" because thats what clover defaulted it to.

Clover does not work for me.  I've tried turning off the external build. But I don't see any coverage data and it throws that error on ""Check for Update"";;;","26/Apr/2013 8:31 PM;mparfianowicz;Thanks a lot for the stacktrace. Indeed, it should have been attached automatically, maybe there was some network problem (I'll check it later). 

I had a look at this stacktrace. The root cause of this problem is a change of API in the HttpAuthenticator class since IDEA12. The problem was already identified by me and a fix is ready; it will be available in the next Clover release (3.1.12). 

I will attach the development build of Clover 3.1.12-SNAPSHOT, however, so that you could use it if you wish.;;;","26/Apr/2013 8:45 PM;mparfianowicz;Attaching Clover-for-IDEA jar (in multiple zip archive): [^clover-idea-3.1.12-SNAPSHOT.zip] and [^clover-idea-3.1.12-SNAPSHOT.z01];;;",,,,,,,,,,,,,,,,,,,,,,,
Error during Tutorial - Using Clover with Ant and JUnit:  com.atlassian.clover.registry.NoSuchRegistryException,CLOV-1272,269100,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Timed out,mparfianowicz,03dd49ab4fbc,03dd49ab4fbc,04/Apr/2013 2:26 PM,08/Aug/2014 7:48 AM,15/Nov/2024 6:09 PM,22/Jan/2014 11:34 AM,3.1.11,,,,,won't fix,,,Reporting,,,,,,,0,ant,clover,db,tutorial,,,,,"Following Part 1 of the demo, when I get to running the clover.report target, I get the error:
C:\Program Files\Jenkins\jobs\clovertutorial\workspace\build.xml:56: com.atlassian.clover.registry.NoSuchRegistryException: Clover registry file ""C:\Program Files\Jenkins\jobs\clovertutorial\workspace\.clover\clover3_1_11.db"" does not exist, cannot be read or is a directory.

The directory workspace/.clover/ is empty.

Executing the with.clover target produced a log message:
[clover-setup] Clover is enabled with initstring 'C:\Program Files\Jenkins\jobs\clovertutorial\workspace\.clover\clover3_1_11.db'

Not sure what I have to do to get the .db file created.

Any ideas?",WinXP stand-alone demo with Jenkins and clover-ant-3.1.11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Apr/2013 7:48 AM;mparfianowicz;build.xml;https://jira.atlassian.com/secure/attachment/90237/build.xml","13/Apr/2013 9:55 AM;03dd49ab4fbc;cloverEasyMock2013-04-13_04-43-39.log.zip;https://jira.atlassian.com/secure/attachment/90195/cloverEasyMock2013-04-13_04-43-39.log.zip","15/Apr/2013 9:04 PM;03dd49ab4fbc;cloverEasymock-2013-04-15_10-53-41.log.zip;https://jira.atlassian.com/secure/attachment/90265/cloverEasymock-2013-04-15_10-53-41.log.zip","11/Apr/2013 6:10 PM;03dd49ab4fbc;cloverEasymock.log.zip;https://jira.atlassian.com/secure/attachment/90107/cloverEasymock.log.zip","16/Apr/2013 1:40 PM;03dd49ab4fbc;cloverEasymockDebug_2013-04-16_log.zip;https://jira.atlassian.com/secure/attachment/90334/cloverEasymockDebug_2013-04-16_log.zip","17/Apr/2013 1:51 PM;03dd49ab4fbc;cloverEasymockSplit.z01;https://jira.atlassian.com/secure/attachment/90411/cloverEasymockSplit.z01","17/Apr/2013 1:51 PM;03dd49ab4fbc;cloverEasymockSplit.zip;https://jira.atlassian.com/secure/attachment/90412/cloverEasymockSplit.zip","08/Apr/2013 1:57 PM;03dd49ab4fbc;clovertutorial.zip;https://jira.atlassian.com/secure/attachment/89826/clovertutorial.zip","09/Apr/2013 3:52 PM;03dd49ab4fbc;clovertutorial2.zip;https://jira.atlassian.com/secure/attachment/89894/clovertutorial2.zip","09/Apr/2013 3:47 PM;03dd49ab4fbc;clovertutorial2.zip;https://jira.atlassian.com/secure/attachment/89893/clovertutorial2.zip","10/Apr/2013 12:47 PM;mparfianowicz;easymock.z01;https://jira.atlassian.com/secure/attachment/89942/easymock.z01","10/Apr/2013 12:47 PM;mparfianowicz;easymock.zip;https://jira.atlassian.com/secure/attachment/89943/easymock.zip",,,,,true,,"1|hx40hb:",190522,,,,,182821,,,,,,Unknown,,,,,2013-04-05 06:55:18.112,,,,,,,,,,,,,,,,,,,,,,,,"2|hx6ax3:",201862,,,,,,,,,,,"1|hx2pqv:",182869,324172800,true,,,,,,,,,,mparfianowicz(mparfianowicz),e8a55745e196(mohan_dhonipati),03dd49ab4fbc(ward.ray),,,,,,,,,,,,,,,,,"1|hxaqyn:",207179,,,,,,,,,,,,,,,,,,,,,,,,,,183144,,"1|hx2rfb:",183144,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"05/Apr/2013 6:55 AM;mparfianowicz;Hi Ray, 

Have you followed all the steps from the tutorial Part 1 and added all necessary targets? 

How is your Ant task defined in Jenkins? It should be something like:

{noformat}
ant with.clover code.compile test.run clover.report
{noformat}

Clover database (clover3_1_11.db) will be created during code instrumentation (so 'with.clover' + 'code.compile' targets). 

Coverage data will be gathered during code execution ('test.run' target).

Reporting ('clover.report') needs both database and coverage files.

Cheers
Marek;;;","05/Apr/2013 2:43 PM;03dd49ab4fbc;Hi Marek,

Thanks for the fast response.  Yes, I followed the steps, putting the code into VC and adding the targets to the build.xml.

I have tried various combinations of targets for the ant command, currently:  ""with.clover test.run""
without the clover.report that is failing.  The depends are:  test.run -> test.compile -> code.compile

I tried again with just the ""with.clover code.compile"" targets to see if the db file is created.  It is not.  Here is the console log output for the targets:
with.clover:
[clover-setup] Clover Version 3.1.11, built on March 25 2013 (build-894)
[clover-setup] Loaded from: C:\Program Files\Jenkins\jobs\clovertutorial\workspace\lib\clover.jar
[clover-setup] Clover: Evaluation License registered to [redacted].
[clover-setup] You have 26 day(s) before your license expires.
[clover-setup] Clover is enabled with initstring 'C:\Program Files\Jenkins\jobs\clovertutorial\workspace\.clover\clover3_1_11.db'

code.compile:
    [javac] C:\Program Files\Jenkins\jobs\clovertutorial\workspace\build.xml:30: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds

BUILD SUCCESSFUL
Total time: 1 second

The only warning is about 'includeantruntime' was not set.  Should this be set in the build.xml?

;;;","08/Apr/2013 8:07 AM;mparfianowicz;Hi Ray,

May I ask you to:
 * attach build.xml you have
 * run the build with 'ant -d -Dclover.logging.level=debug with.clover' and attach whole log produced
 * run the build using a build_completed.xml file, e.g. 'ant -d -Dclover.logging.level=debug -f build_completed.xml with.clover test.run clover.report'

Cheers
Marek;;;","08/Apr/2013 1:57 PM;03dd49ab4fbc;Attaching clovertutorial.zip, which contains the build.xml, the debug output, and the output from using build_completed.xml (which failed).;;;","09/Apr/2013 7:40 AM;mparfianowicz;Hi Ray,

1) Regarding the build.xml + build.log - according to the log you have launched 'ant with.clover':

{noformat}
[workspace] $ cmd.exe /C '""C:\tmp\apache-ant-1.9.0-bin\apache-ant-1.9.0\bin\ant.bat -Dclover.logging.level=debug -d with.clover && exit %%ERRORLEVEL%%""'
{noformat}

This is insufficient as I wrote before. Please run *ant with.clover test.run clover.report* instead. 

2) Furthermore, it looks that your Jenkins job tries to copy clover.xml report:

{noformat}
Publishing Clover coverage report...
Clover xml file does not exist in: C:\Program Files\Jenkins\jobs\clovertutorial\workspace\clover_html called: clover.xml and will not be copied to: C:\Program Files\Jenkins\jobs\clovertutorial\builds\2013-04-08_09-40-40\clover.xml
Could not find 'clover_html/clover.xml'.  Did you generate the XML report for Clover?
Finished: SUCCESS
{noformat}

while the build.xml does not have any XML report generation. It contains HTML report creation only:

{code:xml}
<target name=""clover.report"">
   <clover-html-report outdir=""clover_html"" title=""Clover Demo""/>
</target>
{code}

You should rather have something like:

{code:xml}
<target name=""clover.report"">
   <clover-html-report outdir=""clover_html"" title=""Clover Demo""/>

   <clover-report>
     <current outfile=""clover.xml""/>
   </clover-report>
</target>
{code}


3) Regarding the build_completed.xml - the build error:

{noformat}
Setting project property: clover.jar -> C:\Program Files\Jenkins\jobs\clovertutorial\lib\clover.jar
dropping C:\Program Files\Jenkins\jobs\clovertutorial\lib\clover.jar from path as it doesn't exist
  [taskdef] Could not load definitions from resource cloverlib.xml. It could not be found.
{noformat}

indicates that you don't have clover.jar in the project being checked out. Could you enter correct location in the

{code:xml}
<property name=""clover.jar"" location=""../lib/clover.jar""/>
{code}

and run build_completed.xml again?

Cheers
Marek;;;","09/Apr/2013 3:46 PM;03dd49ab4fbc;Hi Marek,

Responding to your points:

1)  As I wrote before I have tried various combinations of targets, including those you have in bold.  I have run another build with those exact targets and it still fails in the same way because the db has not been created.  I will attach another zip with the console log.

2)  I am slogging through the Tutorial, and I set up a build step to publish the report when one is created.  Failure was expected and not on the critical path yet.

3)  I ran the build_completed.xml file as you suggested as a black box.  I had changed the location of the clover.jar file in build.xml to pick it up from workspace/lib/.  I have now made a similar change to build_completed.xml, and this time it worked.  I re-pointed Jenkins to the directory where build_completed.xml writes the clover.xml file (clover\money_demo\).  I now get a Clover Coverage report with 0% coverage.  Console log is included in the zip file.

Now I need to get meaningful code coverage numbers and all your pretty graphics to help blow management's socks off at the demo.

Thanks,

Ray;;;","10/Apr/2013 12:26 PM;mparfianowicz;Hello Ray,

ad 1 & 2) Reason of build failure is quite obvious (build.xml.fails.log):

{noformat}
ant.bat -Dclover.logging.level=debug -d with.clover test.run clover.report
...
    [javac] com\cenqua\samples\money\IMoney.java omitted as C:\Program Files\Jenkins\jobs\clovertutorial\workspace\build\app\com\cenqua\samples\money\IMoney.class is up to date.
    [javac] com\cenqua\samples\money\Money.java omitted as C:\Program Files\Jenkins\jobs\clovertutorial\workspace\build\app\com\cenqua\samples\money\Money.class is up to date.
    [javac] com\cenqua\samples\money\MoneyBag.java omitted as C:\Program Files\Jenkins\jobs\clovertutorial\workspace\build\app\com\cenqua\samples\money\MoneyBag.class is up to date.
...
    [javac] com\cenqua\samples\money\MoneyBagTest.java omitted as C:\Program Files\Jenkins\jobs\clovertutorial\workspace\build\test\com\cenqua\samples\money\MoneyBagTest.class is up to date.
    [javac] com\cenqua\samples\money\MoneyTest.java omitted as C:\Program Files\Jenkins\jobs\clovertutorial\workspace\build\test\com\cenqua\samples\money\MoneyTest.class is up to date.
...
[clover-html-report] Loading coverage database from: 'C:\Program Files\Jenkins\jobs\clovertutorial\workspace\.clover\clover3_1_11.db'
BUILD FAILED
C:\Program Files\Jenkins\jobs\clovertutorial\workspace\build.xml:56: com.atlassian.clover.registry.NoSuchRegistryException: Clover registry file ""C:\Program Files\Jenkins\jobs\clovertutorial\workspace\.clover\clover3_1_11.db"" does not exist, cannot be read or is a directory.
{noformat}

Clover did not instrument the code, because nothing was compiled. 

Please clean the workspace before running build with Clover. Like: 

{noformat}
ant -Dclover.logging.level=debug -d clover.clean clean with.clover test.run clover.report
{noformat}
;;;","10/Apr/2013 12:36 PM;mparfianowicz;ad 3) Case is similar, but it seems that it have found coverage data files from previous build(s), but the coverage data was outdated and was omitted resulting in 0% coverage.

Could you please clean the entire workspace as well? For example:

{noformat}
ant -f build_completed.xml clover.clean clean with.clover test.run clover.report
{noformat}
;;;","10/Apr/2013 12:46 PM;mparfianowicz;{quote}
Now I need to get meaningful code coverage numbers and all your pretty graphics to help blow management's socks off at the demo.
{quote}

I suggest using slightly more complex example than the tutorial project - just to have more classes, packages etc. See attached easymock.zip (due to attachment size limit it's a multiple-file zip archive). Just unpack it, edit build.xml file and enter location of the Clover license file (the 'clover.license.path' property) and run ""ant"" command (it requires JDK1.6 or later). You will find HTML report in build/clover/report subdirectory.

PS: please ignore failed tests, they won't prevent report generation; and having some failed tests looks more realistic in the report ;)

Cheers
Marek;;;","10/Apr/2013 12:47 PM;mparfianowicz;[^easymock.zip] and [^easymock.z01];;;","12/Apr/2013 6:22 AM;mparfianowicz;Please use JDK1.6 for easymock. Cheers!
;;;","13/Apr/2013 9:54 AM;03dd49ab4fbc;I went on to install java1.6.  The compiler errors were  because of problems with the fork=true being ignored because the build.compiler=modern property was being ignored by the javac Ant task.  It started working when I made it a nested element.

I wiped out the workspace and reran the build.  The build now fails in the report target, because the db file has not been created.  Doing a clean build, starting out from checking out the sources and recompiling all the source files, instrumented the sources.  Running the tests produced the test results in workspace/build/testresult/.  But no db.  

Attaching the build.xml and the console log in cloverEasyMock2013-04-13_04-43-39.log.zip.;;;","15/Apr/2013 7:08 AM;mparfianowicz;Hello Ray,

The <clover-setup/> task relies on the 'build.compiler' property in order to intercept javac. According to [Ant documentation|http://ant.apache.org/manual/Tasks/javac.html]:

{quote}
The fork attribute overrides the build.compiler property or compiler attribute setting and expects a JDK1.1 or higher to be set in JAVA_HOME. 
{quote}

therefore you can't use ""fork=true"" in javac. 

There are two options in such case:

1) Set JAVA_HOME=<jdk6> and don't use <javac fork=""true""/>

2) Use <clover-instr/> instead of <clover-setup/> (I will attach example); then <javac> can use fork=true

Cheers
Marek;;;","15/Apr/2013 7:48 AM;mparfianowicz;I'm attaching a [^build.xml] for easymock sample. Please update 
 * path to java.exe in  <javac executable=""...""> and
 * location of Clover license in 'clover.license.path' property

before running it. Just type 'ant'. 

I've checked this sample with JAVA_HOME=<jdk6> and JAVA_HOME=<jdk7> setting (i.e. in both cases I used <javac executable=""..path\to\jdk6\java.exe"">). 

I hope it will work for you as well :)

Cheers
Marek;;;","15/Apr/2013 9:07 PM;03dd49ab4fbc;Did as you suggested, but now all the tests fail and there is nothing to report, although the build ""succeeds"".  Attached build.xml and console log in cloverEasymock-2013-04-15_10-53-41.log.zip.

I can't see what changed that could have produced the test failures.  Most of my time is being eaten by production deployment failures from yet another problem child app.  Your help is greatly appreciated.

Ray;;;","16/Apr/2013 4:56 AM;mparfianowicz;Could you uncomment 

{noformat}
<jvmarg value=""-Dclover.logging.level=debug""/>
{noformat}

line in build.xml, run a build again and attach new log, please?;;;","16/Apr/2013 1:40 PM;03dd49ab4fbc;Turned debug on.  Console log attached, cloverEasymockDebug_2013-04-16_log.zip.;;;","17/Apr/2013 9:27 AM;mparfianowicz;Unfortunately this log did not reveal new information. Could you zip the *entire* workspace (including sources, class files, junit test results, clover database etc)?;;;","17/Apr/2013 1:51 PM;03dd49ab4fbc;Contents of Jenkins/jobs/cloverEasymock/ attached in split zip file cloverEasymockSplit.zip.  Only included the latest build.;;;","17/Apr/2013 2:01 PM;mparfianowicz;{noformat}
Testsuite: org.easymock.tests.ArgumentToStringTest
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0 sec

	Caused an ERROR
Bad version number in .class file
java.lang.UnsupportedClassVersionError: Bad version number in .class file
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:620)
	at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:260)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:56)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:195)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:268)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:164)
{noformat}

...and for all other unit tests...;;;","17/Apr/2013 2:10 PM;mparfianowicz;Please check what java version is used. In the build log I've found:

{noformat}
JAVA_HOME=C:\ibuclaims\Import\Wit\IBU_WIT\Java
...
Path=C:\oraclexe\app\oracle\product\10.2.0\server\bin;C:\Oracle\product\11.2.0\client_1\BIN;C:\ibuclaims\Import\Wit\IBU_WIT\Java\bin; 
...
{noformat}

You have compiled classes using Java 1.6 (I've checked the class version for all classes). The most probably <junit> task forked a process in which a Java 1.5 was launched.
;;;","07/May/2013 1:44 PM;mparfianowicz;Hi Ray. Is the problem solved? ;;;","07/Aug/2014 7:01 PM;e8a55745e196;would some one please giv me an URL to the clover project that is discussed in tutorial part-1.;;;","08/Aug/2014 7:48 AM;mparfianowicz;URL: https://www.atlassian.com/software/clover/download
Download the Clover-for-Ant ZIP file.
The 'MoneyBags' tutorial is in the /tutorial directory inside the ZIP.;;;",,,
Performance problem with SHARED coverage recorder in Grails app,CLOV-1264,267818,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,26/Mar/2013 9:24 AM,27/Jun/2013 8:26 PM,15/Nov/2024 6:09 PM,22/Apr/2013 7:10 AM,3.1.11,,,,,3.1.12,,,Grails Plugin,Instrumentation,,,,,,0,,,,,,,,,"Follow up of CLOV-1189.


{noformat}
    setuptask = { ant, binding, plugin ->
        ant.'clover-setup'(initstring: "".clover/common.db"") {
            ant.fileset(dir: ""grails-app"", includes: ""**/domain/**, **/controllers/**, **/jobs/**, **/services/**, **/taglib/**, **/utils/**"") { }
            ant.fileset(dir: ""src"", includes: ""**/*.groovy, **/*.java"", excludes: ""**/script@*.groovy, **/system/generator/**, **/system/database/generators/**, **/castor/**"") { }
            ant.fileset(dir: ""test"", includes: ""**/*.groovy"") { }
            // ant.testsources(dir: ""test"", enabled: false) { }
            ant.profiles {
                ant.profile(name: ""default"", coverageRecorder: ""SHARED"")
            }
        }
    }
{noformat}

If I uncomment the testsources enabled:false line, it runs about as quickly as before. Normally our coverage run takes about 42 minutes. With the above configuration it's been running for about 3 hours and is about half finished.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/2013 12:22 PM;mparfianowicz;clover-3.1.12-SNAPSHOT-V2.z01;https://jira.atlassian.com/secure/attachment/89611/clover-3.1.12-SNAPSHOT-V2.z01","04/Apr/2013 12:22 PM;mparfianowicz;clover-3.1.12-SNAPSHOT-V2.zip;https://jira.atlassian.com/secure/attachment/89612/clover-3.1.12-SNAPSHOT-V2.zip","03/Apr/2013 12:46 PM;mparfianowicz;clover-3.1.12-SNAPSHOT.z01;https://jira.atlassian.com/secure/attachment/89518/clover-3.1.12-SNAPSHOT.z01","03/Apr/2013 12:46 PM;mparfianowicz;clover-3.1.12-SNAPSHOT.zip;https://jira.atlassian.com/secure/attachment/89517/clover-3.1.12-SNAPSHOT.zip","03/Apr/2013 12:46 PM;mparfianowicz;grails-clover-3.1.11.1.zip;https://jira.atlassian.com/secure/attachment/89519/grails-clover-3.1.11.1.zip",,,,,,,,,,,,true,,"1|hx3rw7:",189079,,,,,181310,,,,,,Unknown,,,,,2013-04-03 16:34:50.188,,,,,,,,,,,,,,,,,,,,,,,,"2|hx630v:",200540,,,,,,,,,,,"1|hx2gr3:",181360,365904000,true,,,,,,,,,,e23cac2bea4b(longwa),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwfadb:",7668,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,5.0,181630,,"1|hx2ief:",181630,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"03/Apr/2013 12:46 PM;mparfianowicz;Hi Aaron,

I've made one optimization which I believe should improve the performance. The limitation is that it might not be accurate for tests executed in parallel. But for sequential run (as grails does) should be OK. Could you test your project using the attached development build?

Regards
Marek;;;","03/Apr/2013 4:34 PM;e23cac2bea4b;I'm on vacation this week for Spring Break, but I'll test it as soon as I get back in the office next week. Thanks again for the quick turnaround. Also, I have a small test suite that I can run with and without the Shared recorder in YourKit to show the difference in timings and where the extra time is spent. If this optimization doesn't help, I'll collect that data and attach to this ticket.;;;","04/Apr/2013 9:41 AM;mparfianowicz;I have prepared a version which works with parallel tests as well (SNAPSHOT-V2.zip). Performance should be similar. 

It would be great if you could check both versions and let me know how much time takes the test execution.

Cheers
Marek;;;","12/Apr/2013 6:33 AM;mparfianowicz;Hi Aaron, did you have a chance to check my fixes? Cheers!;;;",,,,,,,,,,,,,,,,,,,,,,,
Race condition in IDEA during full rebuild and test execution,CLOV-1263,267670,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,25/Mar/2013 11:17 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.10,,,,,open-source,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Clover-for-IDEA. Race condition during database cleanup and running unit tests at the same time. 

Steps to reproduce;

1. Open ""Moneybags"" tutorial project
2. Prepare 'run all unit tests' configuration
3. Click ""Delete Coverage Database"" button in the ""Cloverage"" view
4. Click ""Rebuild now"" in the prompt dialog
5. Quickly click ""Run (Shift+F9)""

Problem:

Project is being rebuilt and clover.db is recreated, at the same time unit tests are compiled and also clover.db is being modified. There's a warning in console log like this:

{noformat}
WARN: CLOVER: Clover database: 'C:\Work\release\testing-sandbox\clover-ant-3.1.11\tutorial\.clover\coverage.db' is no longer valid. Min required size for currently loading class: 172, actual size: 96
WARN: CLOVER: Coverage data for some classes will not be gathered.
Tests taking too long? Try Clover's test optimization.
2 test classes found in package ''
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx3qsf:",188895,,,,,181115,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx625r:",200396,,,,,,,,,,,"1|hx2flb:",181165,367459200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkkv:",205872,,,,,,,,,,,,,,,,,,,,,,,,,8.0,181435,,"1|hx2h8n:",181435,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IDEA Darcula theme ignores <table border=0>,CLOV-1262,267666,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mparfianowicz,mparfianowicz,mparfianowicz,25/Mar/2013 10:33 AM,20/Nov/2014 4:09 PM,15/Nov/2024 6:09 PM,20/Nov/2014 4:09 PM,3.1.11,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Clover's ""About"" dialog looks ugly when the ""Darcula"" theme is selected in IDEA 12. Despite having <table border=""0""> in JEditorPane(""text/html""), it shows table with a border. Example:

!clover_about_idea12_themes.png!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Mar/2013 10:33 AM;mparfianowicz;clover_about_idea12_themes.png;https://jira.atlassian.com/secure/attachment/88990/clover_about_idea12_themes.png",,,,,,,,,,,,,,,,true,,"1|hx3qrj:",188891,,,,,181111,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx624v:",200392,,,,,,,,,,,"1|hx2fkf:",181161,315187200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hxaivz:",205868,,,,,,,,,,,,,,,,,,,,,,,,,3.0,181431,,"1|hx2h7r:",181431,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"25/Mar/2013 10:34 AM;mparfianowicz;Make also font consistent across different themes. <font face=""Arial""> ?;;;","20/Nov/2014 4:09 PM;mparfianowicz;Won't fix. IDEA 13 and 14 handle table border correctly. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"PDF report with ""include failed test coverage"" option fails",CLOV-1261,267661,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,25/Mar/2013 10:11 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,3.1.10,,,,,open-source,,,CEP Plugin,,,,,,,0,,,,,,,,,"Eclipse

Install Clover-for-Eclipse, open tutorial project, select Run new report > PDF report > select ""Include failed test coverage"" > click Finish.

PDF report generation fails with error log message:

""The JVM report process failed with error code 1 - see log for details""

!pdf_fail.png!

Increasing heap size from 512M to 768M solved the problem. To do: check why such small project requires so much memory.

Check also PDFReporter, Clover-for-IDEA.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Mar/2013 10:11 AM;mparfianowicz;pdf_fail.png;https://jira.atlassian.com/secure/attachment/88983/pdf_fail.png",,,,,,,,,,,,,,,,true,,"1|hx3qqf:",188886,,,,,181106,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx623r:",200387,,,,,,,,,,,"1|hx2fjb:",181156,367459200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfko7:",205862,,,,,,,,,,,,,,,,,,,,,,,,,2.0,181426,,"1|hx2h6n:",181426,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"25/Mar/2013 10:50 AM;mparfianowicz;Clover-for-IDEA does not have ""include failed test coverage"" toggle for PDF - add it; synchronize it with the main menu button.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Add url for 'utils.js' home page,CLOV-1260,267645,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,25/Mar/2013 8:37 AM,21/Oct/2013 9:01 AM,15/Nov/2024 6:09 PM,30/Aug/2013 8:59 AM,3.1.11,,,,,3.2.0,,,CEP Plugin,CIJ Plugin,,,,,,0,,,,,,,,,"In Clover-for-Eclipse and Clover-for-IDEA ""About"" dialogs the Utils.js link does not open the library home page. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx3qmv:",188867,,,,,181087,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx620n:",200372,,,,,,,,,,,"1|hx2ffr:",181137,367459200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwetcf:",4611,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,2.0,181407,,"1|hx2h33:",181407,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Ant dependendency to com.cenqua.clover:clover maven artifact,CLOV-1254,265144,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,08/Mar/2013 1:51 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.10,,,,,someday,,,Groovy,,,,,,,0,,,,,,,,,"Problem occurs in Gradle framework. When developer declares dependency to Clover artefact and tries to instrument project with Clover, it fails with a not-very-informative error:

{noformat}
[clover-setup] Detected groovyc compiler org.codehaus.groovy.ant.Groovyc
  [groovyc] Compiling 1 source file to .......
  [groovyc] ERROR: Clover-for-Groovy encountered an error while loading config:
{noformat}

Debug logging reveals more information:

{noformat}
  [groovyc] ERROR: Clover-for-Groovy encountered an error while loading config: Clover-for-Groovy encountered an error while loading config:  : org/apache/tools/ant/BuildException
  [groovyc] java.lang.NoClassDefFoundError: org/apache/tools/ant/BuildException
  [groovyc] 	at java.lang.Class.getDeclaredFields0(Native Method)
  [groovyc] 	at java.lang.Class.privateGetDeclaredFields(Unknown Source)
  ...
  [groovyc] 	at com.atlassian.clover.instr.java.InstrumentationConfig.loadFromStream(InstrumentationConfig.java:439)
  [groovyc] 	at com.atlassian.clover.instr.groovy.Grover.newConfigFromResource(Grover.java:241)
  [groovyc] 	at com.atlassian.clover.instr.groovy.Grover.<init>(Grover.java:210)
{noformat}

A reason is that normally this code is being called from Ant so the ant.jar is provided. In Gradle it's not available by default.

Workaround: add ant.jar dependency in the project build file.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx39wv:",186080,,,,,178194,,,,,,Unknown,,,,,2013-03-11 08:18:36.511,,,,,,,,,,,,,,,,,,,,,,,,"2|hx5ns7:",198000,,,,,,,,,,,"1|hx1y27:",178243,368668800,true,,,,,,,,,,365070a405d9(jskov),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hxa6z3:",203887,,,,,,,,,,,,,,,,,,,,,,,,,4.0,178507,,"1|hx1zo7:",178507,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"11/Mar/2013 8:18 AM;365070a405d9;Technically, the task looks in the classpath of code being compile for Ant (as I understand it).
Which is wrong. Even when building with Ant, you cannot assume that ant.jar will be allowed on the classpath (unless there is a spill from Ant's bootstrap classpath).

I don't know the specifics of classloading in a task, but I do know they are registered in Ant with a separate classpath definition. It is this definition that should include ant.jar.
And it is from this classpath the BuildException should be loaded (it is not, at this time - i.e. adding ant.jar to the task's classpath does not fix the problem).
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Some of per-test recording strategies do not work for multi-threaded applications,CLOV-1253,265111,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,08/Mar/2013 7:53 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.10,,,,,long term roadmap,,,Instrumentation,,,,,,,0,,,,,,,,,"*Introduction*

We've got five per-test recording strategies:

* Diffing - clover.pertest.coverage=diff
* Null - clover.pertest.coverage=off
* SingleThreaded  - clover.pertest.coverage=<empty> and clover.pertestcoverage.threading=<empty> - DEFAULT POLICY
* Synchronized clover.pertest.coverage=<empty> and clover.pertestcoverage.threading=synchronized
* Volatile - clover.pertest.coverage=<empty> and clover.pertestcoverage.threading=volatile

*Current status*

1) A SingleThreaded does not work with multi-threaded apps. Of course it's designed for single thread only. But at least it should have a correct value of coverage for a test case from a current thread. 

Expected number of hit counts is between:

{noformat}
 hits(current test) <= ... <= hits(curent test + all other concurrent tests)
{noformat}

but currently actualHits can be < than hits(current test) due to fact that CloverBitSet.set\(n\) is not thread-safe.

2) A Volatile strategy has a similar problem. CloverBitSet.set\(n\) is not thread safe. Starting/ending of test slices works fine.

3) A Synchronized is correct because we've got 'CloverBitSet.set\(n\)' wrapped in a synchronized block. Starting/ending of test slices works fine.

4) A Diffing needs more tests. 

*Possible fix*

CloverBitSet could have two variants:
 * compact - store hits as bit mask in long[] array - set\(n\) is not thread-safe, can be used for report generation as it consumes less memory
 * exploded - store hits as boolean[] array - set\(n\) \{ arr[n] = true \} would be thread-safe, used for runtime recording; it consumes 8x more memory but on the other hand we usually don't have 10'000 tests running in parallel; number of parallel tests is ~ number of processor cores available
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx39pj:",186047,,,,,178161,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx5nkv:",197967,,,,,,,,,,,"1|hx1xuv:",178210,368928000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfksn:",236286,,,,,,,,,,,,,,,,,,,,,,,,,5.0,178474,,"1|hx1zgv:",178474,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot use Clover Plugin in IntelliJ Idea 12.x if its license date is the past,CLOV-1233,253690,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Won't Fix,mparfianowicz,4a45dc9d5f31,4a45dc9d5f31,23/Jan/2013 9:44 PM,22/Jan/2014 10:12 AM,15/Nov/2024 6:09 PM,06/Nov/2013 1:01 PM,,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Recent update of Clover Plugin (version 3.1.10) did not work [because our license has support/maintenance till December 2011]. Therefore I tried to downgrade to Clover Plugin 3.1.2.  Upon Idea restart I am getting this error, followed by ever repeating NoClassDefFoundError  [with message: update failed for AnAction with ID=CloverPlugin.AboutAction: Could not initialize class com.cenqua.clover.idea.CloverIcons].

","Java version=1.7.0, Java vendor=Oracle Corporation, OS name=Windows 7, OS architecture=amd64, IDEA build number=IU-123.123
Plugin release=3.1.2.v20111107000000",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/2013 9:44 PM;4a45dc9d5f31;StackTrace.txt;https://jira.atlassian.com/secure/attachment/83902/StackTrace.txt",,,,,,,,,,,,,,,,true,,"1|hx1s3z:",177066,,,,,169012,,,,,,,,,,,2013-01-24 07:37:21.081,,,,,,,,,,,,,,,,,,,,,,,,"2|hx49cn:",189535,,,,,,,,,,,"1|hx0f8f:",169063,347932800,true,,,,,,,,,,mparfianowicz(mparfianowicz),4a45dc9d5f31(oleg.zen),,,,,,,,,,,,,,,,,,"1|hx8skn:",195421,,,,,,,,,,,,,,,,,,,,,,,,,,169322,,"1|hx0gtb:",169322,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Jan/2013 7:37 AM;mparfianowicz;Clover 3.1.2 is not compatible with IDEA 12. You have to use at least version 3.1.8.;;;","06/Nov/2013 1:01 PM;mparfianowicz;I'm closing issue as Clover 3.1.12 works with IDEA 12 quite well. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,
CLMVN-147 Classpath issue caused by clover artifacts in multimodule builds,CLOV-1225,253603,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,23/Jan/2013 8:20 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,3.0,,,,,open-source,,,Maven plugin,,,,,,,0,,,,,,,,,"Moved from: https://studio.plugins.atlassian.com/browse/CLMVN-147
=====================================



According to the Clover Maven plugin architecture, the custom maven lifecycle initiated by the clover plugin at instrumentation goal ends with the install goal.

I believe this is incorrect as the install goal will publish into the local maven repository the artifact built in that custom lifecycle. The artifact - <project_name>-<version>-clover.jar - is built from the instrumented code, something we really don't want installed into our local repositories. And especially we don't want this artifact to be resolved as a dependency to any project.

Furthermore, this causes problems in classpath resource scanning when using multimodule projects. Let's consider three projects with the following dependency structure:

  *  Project C
  **      Project B
  ***          Project A
  **      Project A

Project C has two dependencies, Project B and Project A. Project B has Project A as dependency - as a result, Project A is resolved as a transitive dependency to Project C.
Project A dependency is listed explicitly as a dependency to Project C since - per best practices in expressing dependencies - Project C uses resources explicitly from Project A (and B both).

When running clover2:instrument goal for Project C, the classpath seen during test has Project A artifacts twice:

    Project_A-0.0.1-SNAPSHOT -clover.jar <- unexpected!
    Project_A-0.0.1-SNAPSHOT.jar
    As a result, during execution of tests for Project C, scanning classpath renders duplicated resources - as indicates the failure of the WrapperTest.testResources test. This is a problem especially in environments where these resources are processed in a cumulative non-idempotent way - like JPA persistent contexts are.

Unrelated to this problem, but I find odd - to say the least - that even though there are test failures, the clover2:instrument goal declares the build was successful (see the log attached).

Please find attached the tests to reproduce the problem - the three projects discussed above, along with the log file of executing the build with clover instrumentation.

=========

 Petter Måhlén added a comment - 22/Aug/12 4:22 AM

To add to this issue, we're having a problem where for some reason, compilation of the Clover-instrumented source fails when trying to build project C in the example above. This is intermittent or perhaps platform-dependent, and the error is that the compiler is unable to find a constructor that definitely exists in the uninstrumented code, and as far as I can tell in the instrumented code as well. Deleting the -clover.jar file from the local Maven repository means that compilation succeeds.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/2013 8:20 AM;mparfianowicz;MavenCloverClasspathProblem.zip;https://jira.atlassian.com/secure/attachment/83881/MavenCloverClasspathProblem.zip","23/Jan/2013 8:20 AM;mparfianowicz;build_clover.log;https://jira.atlassian.com/secure/attachment/83880/build_clover.log",,,,,,,,,,,,,,,true,,"1|hx1rlr:",176979,,,,,168926,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx48w7:",189456,,,,,,,,,,,"1|hx0eqf:",168977,372729600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkgv:",195340,,,,,,,,,,,,,,,,,,,,,,,,,,169236,,"1|hx0gbb:",169236,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"CLMVN-144 The :log and :check goals seem to use different sums, or calculate them differently ?",CLOV-1224,253602,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,23/Jan/2013 8:14 AM,24/Oct/2014 1:25 PM,15/Nov/2024 6:09 PM,24/Oct/2014 1:25 PM,3.0,,,,,3.1.6,,,Maven plugin,,,,,,,0,,,,,,,,,"Moved from: https://studio.plugins.atlassian.com/browse/CLMVN-143 and CLMVN-144
=====================================

The :log and :check goals seem to use different sums, or calculate tehm differently ?

It seems that the :log and :check goals use different figures ? http://pastie.org/2654554



It seems that the :log and :check goals use different figures, and calculate thresholds differently ? See the following output:

[INFO] [clover2:instrument {execution: instrument-and-check}]
[INFO] [clover2:log {execution: instrument-and-check}]
[INFO] Clover Version 3.1.0, built on May 31 2011 (build-821)
[INFO] Loaded from: /Users/gjoseph/.m2/repository/com/cenqua/clover/clover/3.1.0/clover-3.1.0.jar
[INFO] Clover: Open Source License registered to Magnolia CMS.
[INFO] Clover Coverage Report
Coverage Timestamp: Fri Oct 07 12:35:22 CEST 2011


Coverage Overview -
Coverage:-
      Methods: 105/142 (73.9%)                                                                                                  
   Statements: 399/525 (76%)                                                                                                    
     Branches: 92/176 (52.3%)                                                                                                   
        Total: 70.7%                                                                                                            
Complexity:-
   Avg Method: 1.7535211
      Density: 0.47428572
        Total: 249

[INFO] [clover2:check {execution: instrument-and-check}]
[INFO] Checking for coverage of [70] for database [/Users/gjoseph/Dev/magnolia/svn/community/magnolia/magnolia-templating/target/clover/clover.db]
[INFO] Clover Version 3.1.0, built on May 31 2011 (build-821)
[INFO] Loaded from: /Users/gjoseph/.m2/repository/com/cenqua/clover/clover/3.1.0/clover-3.1.0.jar
[INFO] Clover: Open Source License registered to Magnolia CMS.
[INFO] Coverage check FAILED
[ERROR] The following coverage targets for null were not met: 
Total coverage of 66% did not meet target of 70%
[ERROR] Total coverage of 66% did not meet target of 70%

=========

 Nick Pellow added a comment - 09/Oct/11 4:19 PM

Hi Gregory,

This is a known limitation with Clover. The Log task includes the coverage of your test classes as well, whereas the Check task will not.
You can check this by excluding all your test classes from instrumentation.

Cheers,
Nick

========= 

Grégory Joseph added a comment - 10/Oct/11 2:29 AM

Hi Nick,

Thanks for the heads up. That also explains why the difference is bigger when we have more tests

This is perhaps not the best place for discussing this (let me know), but what are the use cases for instrumenting test classes ? When would I be interested - in checking how much my tests are covered... by other tests ? (I can see it would be useful when writing a test framework, but other than that ?)

=========

 Grégory Joseph added a comment - 14/Oct/11 3:54 AM - edited

Nick,

<includesTestSourceRoots>false</includesTestSourceRoots> seems to do the trick indeed, but as per the doc, it disables the reporting of per-test coverage.

The reason we're using the log goal in the first place, is because the check goal does not output the current coverage when it passes. It does output a few things, but then just mentions ""passed"" - while it does output the current coverage when it fails. As far as I'm concerned, if it would just output the current coverage, I'd just ditch the call to log. I'd suggest this:

Current messages:

    Coverage check PASSED
    Total coverage of 34.3% did not meet target of 50%

Proposed messages:

    Total coverage of 34.3% successfully met target of 50%
    Total coverage of 34.3% did not meet target of 50%


=========

 Grégory Joseph added a comment - 03/Nov/11 9:59 AM

Another discrepancy I've noticed, is that the :log goal doesn't use the contextFilter. That's also quite a burden, since we'd like our dev to look at the log, and raise the bar (i.e the targetThreshold) if they see the coverage has increased. WDYT ?

=========

 Nick Pellow added a comment - 09/Nov/11 7:29 PM

Hi Gregory,

I like your idea of improving the Clover logging in the Clover Check task.
I have created https://jira.atlassian.com/browse/CLOV-1036 for this, however can't give you an exact release date just yet.
I could potentially get you a development build containing a fix for the improved logging in clover:check though. Let me know if you are interested.

Cheers,
Nick

=========

 Grégory Joseph added a comment - 10/Nov/11 1:59 AM - edited

Thanks !
I'll follow the issue, but a non-generally available build wouldn't really at this point, since I'm working on our build infrastructure for the whole team. Of course I'll be happy to give it a spin if you want me to check it'd work for us.

=========

 Marek Parfianowicz added a comment - 23/Jan/13 12:11 AM

I believe that it was solved in https://jira.atlassian.com/browse/CLOV-1064 (3.1.6 release).

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx1rlj:",176978,,,,,168925,,,,,,Unknown,,,,,2013-01-23 14:57:30.368,,,,,,,,,,,,,,,,,,,,,,,,"2|hx48vz:",189455,,,,,,,,,,,"1|hx0eq7:",168976,317520000,true,,,,,,,,,,59be85ca750f(gregory.joseph),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hx8s3z:",195339,,,,,,,,,,,,,,,,,,,,,,,,,,169235,,"1|hx0gb3:",169235,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"23/Jan/2013 2:57 PM;59be85ca750f;Thanks Marek. I don't know that I'll be able to verify this before a couple weeks, but when I do I'l get back here and/or CLOV-1064.
;;;","23/Oct/2014 3:54 PM;59be85ca750f;Wow, over a year.
I know re-set {{includesTestSourceRoots}} to {{true}} AND {{contextFilters}} to {{property}}, and it seems I'm getting consistent output in {{:log}}, {{:check}} and the html reports. I'm now using 4.0.2

Cheers !;;;","24/Oct/2014 12:17 PM;mparfianowicz;Thanks a lot Gregory for the update. Can you confirm that we can close this bug? (I'm asking to ensure that you don't have any corner case which does not work as expected).;;;","24/Oct/2014 12:44 PM;59be85ca750f;Go ahead - I'll reopen or create another if we ever bump into another issue again, but so far so good :);;;","24/Oct/2014 1:24 PM;mparfianowicz;Great!;;;",,,,,,,,,,,,,,,,,,,,,,
CLMVN-138 artifact resolution from within a MOJO has changed in maven 3,CLOV-1222,253599,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,23/Jan/2013 8:02 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.0,,,,,open-source,,,Maven plugin,,,,,,,0,,,,,,,,,"Moved from: https://studio.plugins.atlassian.com/browse/CLMVN-138

=====================================



The following exception is thrown from the maven clover plugin when the clover.jar is attempted to be loaded and added to the compile classpath. This only occurs in Maven 3:

Caused by: org.apache.maven.plugin.MojoExecutionException: Could not resolve the clover artifact ( com.cenqua.clover:clover:jar:3.0.2 ) in the localRepository: file:///D:/PROFILES/XXX/.m2/repository/
	at com.atlassian.maven.plugin.clover.CloverInstrumentInternalMojo.addCloverDependencyToCompileClasspath(CloverInstrumentInternalMojo.java:592)
	at com.atlassian.maven.plugin.clover.CloverInstrumentInternalMojo.execute(CloverInstrumentInternalMojo.java:310)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:195)
	... 23 more
Caused by: org.apache.maven.artifact.resolver.ArtifactNotFoundException: Could not find artifact com.cenqua.clover:clover:jar:3.0.2

Try downloading the file manually from the project website.

Then, install it using the command: 
    mvn install:install-file -DgroupId=com.cenqua.clover -DartifactId=clover -Dversion=3.0.2 -Dpackaging=jar -Dfile=/path/to/file

Alternatively, if you host your own repository you can deploy the file there: 
    mvn deploy:deploy-file -DgroupId=com.cenqua.clover -DartifactId=clover -Dversion=3.0.2 -Dpackaging=jar -Dfile=/path/to/file -Durl=[url] -DrepositoryId=[id]


  com.cenqua.clover:clover:jar:3.0.2

from the specified remote repositories:
  (none)

	at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:235)
	at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:173)
	at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:541)
	at com.atlassian.maven.plugin.clover.CloverInstrumentInternalMojo.addCloverDependencyToCompileClasspath(CloverInstrumentInternalMojo.java:588)
	... 26 more
Caused by: org.sonatype.aether.resolution.ArtifactResolutionException: Could not find artifact com.cenqua.clover:clover:jar:3.0.2
	at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:488)
	at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:190)
	at org.sonatype.aether.impl.internal.DefaultRepositorySystem.resolveArtifact(DefaultRepositorySystem.java:250)
	at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:229)
	... 29 more
Caused by: org.sonatype.aether.transfer.ArtifactNotFoundException: Could not find artifact com.cenqua.clover:clover:jar:3.0.2
	at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:479)
	... 32 more

=========

 Fujitsu Apt Development added a comment - 07/Feb/11 4:05 AM

Any updates on this? It would be nice to have Maven 3.x support

=========

 Nick Pellow added a comment - 07/Feb/11 9:05 PM

Hi - unfortunately this is a larger breakage than first thought.

The way maven3 programatically resolves artifacts seems to have changed quite a bit between 2.x and 3.
For example - the local clover.jar is not being resolved from the maven repo on this
line.

this.artifactResolver.resolve( cloverArtifact, new ArrayList(), localRepository );

At this stage Clover does not support Maven3 officially, however the plugin is open source with instructions for building available here.

=========

 Nick Pellow added a comment - 07/Feb/11 10:30 PM

This error could be related to either of:

    https://cwiki.apache.org/confluence/display/MAVEN/Maven+3.x+Compatibility+Notes#Maven3.xCompatibilityNotes-ResolutionfromLocalRepository
    https://cwiki.apache.org/confluence/display/MAVEN/Maven+3.x+Plugin+Compatibility+Matrix

(via @brettporter)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx1rkv:",176975,,,,,168922,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx48vb:",189452,,,,,,,,,,,"1|hx0epj:",168973,372729600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkgn:",195336,,,,,,,,,,,,,,,,,,,,,,,,,,169232,,"1|hx0gaf:",169232,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLMVN-139 Functional tests fail in a multimodule project when run with clover,CLOV-1221,253598,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,23/Jan/2013 7:50 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.0,,,,,long term roadmap,,,Maven plugin,,,,,,,0,,,,,,,,,"Moved from: https://studio.plugins.atlassian.com/browse/CLMVN-139

=====================================



I have a multimodule maven project.

Modules:

    Webapplication
    Regular Jar
    Functional tests (using cargo plugin to start jetty)

We want to run clover across all of these modules and collate the results.

It all seems to ""almost work"" until we run the functional tests with clover enabled. Clover seems to do something to the webapplication deployed in the jetty so that the servlet-api classes are loaded differently, giving a ClassCastException. See the line:

java.lang.ClassCastException: TestServlet cannot be cast to javax.servlet.Servlet

In the attached log.

We've tried all sorts of combinations of servlet-api dependencies with similar results, which makes me think this is now possibly a bug in clover?

I'll also attach a sample project - I just deleted it from my laptop accidentally while preparing this bug report, so will get it from work again tomorrow.

=========

 Nick Pellow added a comment - 19/Apr/11 4:37 PM

Hi Steve,

There is a sample project in the maven-clover2-plugin's integration test directory: https://studio.plugins.atlassian.com/svn/CLMVN/trunk/src/it/webapp/

It would be great if you could check that out, and see if you get the same error.

Cheers,
Nick

=========

 Steve Dalton added a comment - 19/Apr/11 5:02 PM

Thanks - I'll take another look at that.... I think I did look at it - but it wasn't the same as ours as we have functional tests running in Jetty... maybe I'm mistaken though, I'll have another look.

=========

 Steve Dalton added a comment - 19/Apr/11 5:04 PM

Attached our project
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/2013 7:50 AM;mparfianowicz;CloverRecipe.tar.gz;https://jira.atlassian.com/secure/attachment/83877/CloverRecipe.tar.gz","23/Jan/2013 7:50 AM;mparfianowicz;log.txt;https://jira.atlassian.com/secure/attachment/83878/log.txt",,,,,,,,,,,,,,,true,,"1|hx1rkn:",176974,,,,,168921,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx48v3:",189451,,,,,,,,,,,"1|hx0epb:",168972,372729600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx8s3b:",195335,,,,,,,,,,,,,,,,,,,,,,,,,,169231,,"1|hx0ga7:",169231,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLMVN-137 Clover maven 2 plugin fails unable to find clover jar,CLOV-1220,253597,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,23/Jan/2013 7:47 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.0,,,,,someday,,,Maven plugin,,,,,,,0,,,,,,,,,"Moved from: https://studio.plugins.atlassian.com/browse/CLMVN-137

=====================================


Maven outputs the following error
Failed to execute goal com.atlassian.maven.plugins:maven-clover2-plugin:3.0.4:setup (default-cli) on project com.ccadllc.dks: Could not resolve the clover artifact ( com.cenqua.clover:clover:jar:3.0.2 ) in the localRepository: file:///home/bamboo/.m2/repository/: Could not find artifact com.cenqua.clover:clover:jar:3.0.2

I have attached a fix for the problem.


 Eric Berry added a comment - 13/Dec/10 2:20 PM

The failure was using Maven 3.0.1

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/2013 7:47 AM;mparfianowicz;CloverInstrumentInternalMojo.java;https://jira.atlassian.com/secure/attachment/83876/CloverInstrumentInternalMojo.java",,,,,,,,,,,,,,,,true,,"1|hx1rkf:",176973,,,,,168920,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx48uv:",189450,,,,,,,,,,,"1|hx0ep3:",168971,372729600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx8s33:",195334,,,,,,,,,,,,,,,,,,,,,,,,,,169230,,"1|hx0g9z:",169230,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLMVN-120 test optimization does not work with TestNG and Maven 2.0.9,CLOV-1219,253594,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Cannot Reproduce,mparfianowicz,mparfianowicz,mparfianowicz,23/Jan/2013 7:45 AM,15/Jul/2015 11:01 AM,15/Nov/2024 6:09 PM,15/Jul/2015 11:01 AM,3.0,,,,,won't fix,,,Maven plugin,,,,,,,0,,,,,,,,,"Moved from: https://studio.plugins.atlassian.com/browse/CLMVN-120

=====================================

see discussion here: http://forums.atlassian.com/thread.jspa?threadID=34627&tstart=0
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx1rjr:",176970,,,,,168917,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx48u7:",189447,,,,,,,,,,,"1|hx0eof:",168968,294710400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx8s2n:",195332,,,,,,,,,,,,,,,,,,,,,,,,,,169227,,"1|hx0g9b:",169227,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/Jul/2015 11:01 AM;mparfianowicz;Forum does not exist anymore. The web.archive.org also has no results. Insufficient information to reproduce it. Besides Maven 2.x is no longer maintained by the Apache foundation. Thus it's just better to upgrade to Maven 3.x;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
CLMVN-19 Building an ear fails when a dependency is listed as a dependency and a module,CLOV-1218,253593,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,23/Jan/2013 7:43 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.0,,,,,someday,,,Maven plugin,,,,,,,0,,,,,,,,,"Moved from: https://studio.plugins.atlassian.com/browse/CLMVN-19

=====================================


From http://jira.codehaus.org/browse/MCLOVER-77 :

""I have put up a patch on the maven2 ear plugin jira http://jira.codehaus.org/browse/MEAR-76 which resolves this issue.
Basically this is caused when the application.xml is generated for an ear and the module is listed in both the dependency section and the Modules section.

Clover swizzles the dependencies to refer to the cloverized artifact, but does nothing to the Modules section. When the ear tries to create the application.xml (as per the INFO - INFO ear:generate-application-xml above) the Modules are checked against the local repository and both the unclovered version and the clovered version are found and so the error is reported.

This can be fixed by specifying a classifier in the Modules section for the ear, but means that you must create two poms (or use complicated profiles), one with the classifier set to clover and one set to the empty string. This is a pain and hard to maintain.

The patch I have posted resolves this and along with MCLOVER-82 allows for the creation of a true cloverized ear, using cloverized jars.""
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx1rjj:",176969,,,,,168916,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx48tz:",189446,,,,,,,,,,,"1|hx0eo7:",168967,372729600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx8s2f:",195331,,,,,,,,,,,,,,,,,,,,,,,,,,169226,,"1|hx0g93:",169226,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLMVN-140 generated test sources are not ignored by clover plugin,CLOV-1216,253591,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,mparfianowicz,mparfianowicz,mparfianowicz,23/Jan/2013 7:37 AM,15/Jul/2015 10:58 AM,15/Nov/2024 6:09 PM,15/Jul/2015 10:58 AM,3.0,,,,,won't fix,,,Maven plugin,,,,,,,0,,,,,,,,,"Moved from: https://studio.plugins.atlassian.com/browse/CLMVN-140

=====================================

maven clover plugin generated test sources (usually generated under target/generated-test-sources) are not ignored by clover plugin, resulting in duplicate class errors.

Possible workaround is to move these classes under target/generated-sources but it would be better if the plugin also ignores files under target/generated-test-sources/

Attaching a patch to do the suggested change

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/2013 7:37 AM;mparfianowicz;clover.patch;https://jira.atlassian.com/secure/attachment/83871/clover.patch",,,,,,,,,,,,,,,,true,,"1|hx1rj3:",176967,,,,,168914,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx48tj:",189444,,,,,,,,,,,"1|hx0enr:",168965,294710400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx8s1z:",195329,,,,,,,,,,,,,,,,,,,,,,,,,,169224,,"1|hx0g8n:",169224,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/Jul/2015 10:57 AM;mparfianowicz;Fix: clover2:setup shall be called after source generation.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
CLMVN-6 maven-clover-plugin uses non instrumented jars used for transitive dependencies.,CLOV-1213,253584,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,23/Jan/2013 7:29 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,3.0,,,,,open-source,,,Maven plugin,,,,,,,0,,,,,,,,,"Moved from: https://studio.plugins.atlassian.com/browse/CLMVN-6

=====================================



This was originally reported as http://jira.codehaus.org/browse/MCLOVER-70

The patch available on that issue does not fix the problem (I don't know if there are other cases which it fixes)

If a project contains a war, jar1 and jar2, where jar1 has a dependency on jar2, the war will be built with a non-clovered version of jar2.

======

CLV-4663 

======

 Llewellyn Botelho added a comment - 30/Jan/08 3:41 PM

What's the status on a fix for this issue?

======

 Jerome Lacoste added a comment - 22/May/08 10:14 PM

We've reported the same problem to the maven mailing list. Cf http://jira.codehaus.org/browse/MCLOVER-70 and http://www.mail-archive.com/users@maven.apache.org/msg85358.html.

Below a copy of the message. I am not sure if the problem comes from clover or maven.

clover:instrument forked lifecyle modified project artifacts list do not get propagated to the WAR/EAR mojos. Is this expected ?

Jerome Lacoste
Wed, 21 May 2008 11:10:25 -0700

Clovered EAR / WAR artifacts lacks clovered versions of transitive
dependencies. Cf: http://jira.codehaus.org/browse/MCLOVER-70. This
issue still exists in the maven clover plugin 3.7 from atlassian.
We've tested maven 2.0.6 and 2.0.9.

The issue is caused apparently as the clover plugins tries to modify
the project artifacts list in a forked lifecycle, but the change is
not propagated to the mojos executed later on. My understanding is
that the way clover tries to achieve this is not possible, as the
forked lifecycle ends before the war/ear mojos are executed.

Can someone confirm this reasoning, and maybe provide an alternative
solution to this problem ?

Details:
*******
The clover instrument mojo forks its own lifecycle. This lifecyle then
triggers the clover instrumentInternal after the validate phase. In
this forked lifecycle, the instrumentInternal mojo is bound to the
install phase.

In
http://svn.atlassian.com/svn/public/contrib/clover/maven-clover-plugin/trunk/src/main/java/com/atlassian/maven/plugin/clover/CloverInstrumentMojo.java

    @goal instrument
    @execute phase=""install"" lifecycle=""clover""

Then
http://svn.atlassian.com/svn/public/contrib/clover/maven-clover-plugin/trunk/src/main/resources/META-INF/maven/lifecycle.xml

<lifecycle>
<id>clover</id>
<phases>
<phase>
<id>validate</id>

<executions><execution><goals><goal>instrumentInternal</goal></goals></execution></executions>

So when we run clover:instrument as part of a WAR project we see the
following things happening.

INFO clover:instrument
...
INFO clover:instrumentInternal
...
INFO resources:resources
...
....
INFO war:war

As part of clover:instrumentInternal, clover tries to override the
project artifacts and dependency artifacts.
This is done here:

http://svn.atlassian.com/svn/public/contrib/clover/maven-clover-plugin/trunk/src/main/java/com/atlassian/maven/plugin/clover/CloverInstrumentInternalMojo.java

    @goal instrumentInternal
    @phase validate
    @requiresDependencyResolution test

private void swizzleCloverDependencies()
{ getProject().setDependencyArtifacts( swizzleCloverDependencies( getProject().getDependencyArtifacts() ) ); getProject().setArtifacts( swizzleCloverDependencies( getProject().getArtifacts() ) ); }

According to the debug logs, the swizzleCloverDependencies does the
thing properly:

INFO clover:instrumentInternal
...
DEBUG] Clover source root
C:\b2bdev\projects\helloWorld\webapp\src\test\java
DEBUG Clover List of dependency artifacts after changes:
DEBUG Clover Artifact junit:junit:jar:3.8.1, scope = test
DEBUG Clover Artifact com.cenqua.clover:clover:jar:2.1.0,
scope = compile
DEBUG Clover Artifact com.test.helloworld:app:jar:clover:1.0,
scope = compile
DEBUG Clover List of artifacts after changes:
DEBUG Clover Artifact junit:junit:jar:3.8.1, scope = test
DEBUG Clover Artifact com.test.helloworld:app1:jar:clover:1.0,
scope = compile
DEBUG Clover Artifact com.test.helloworld:app:jar:clover:1.0,
scope = compile
DEBUG Configuring mojo
'org.apache.maven.plugins:maven-resources-plugin:2.2:resources' -->

The problem is when the war mojo is invoked later on, the list of
artifacts is still the old one. I.e. we miss some clovered artifacts.

Did the forked life cycle stop after the execution of the
instrumentInternal mojo and did the changes setArtifacts() get lost ?

Or should I expect maven to appropriately pass the appropriate
artifacts to the war mojo, as invoked as part of this special lifecyle
?

Cheers,

Jerome

=====

 Jerome Lacoste added a comment - 22/May/08 10:19 PM

CLMVN-25 and CLMVN-6 have the same root cause. CLMWN-25 seems to have some interesting findings.

http://studio.plugins.atlassian.com/browse/CLMVN-25?focusedCommentId=16756#action_16756

=====

 Jerome Lacoste added a comment - 25/May/08 2:58 PM

I managed to hack maven to work, but this is in an unsupported way. It required to modify the project interface and inject code from clover plugin.

See http://www.mail-archive.com/dev@maven.apache.org/msg74636.html for details. I will see if I can get a proper solution in maven, but I doubt that this will be done in the 2.0.x timeframe.

=======

 Jerome Lacoste added a comment - 25/May/08 11:57 PM

Here's the issue I created for maven: http://jira.codehaus.org/browse/MNG-3595

This patch is definitively not going to be accepted as is. Not sure if this is going to get fixed in a 2.0.x time frame.

=======

 Jerome Lacoste added a comment - 14/Nov/09 3:09 AM

It looks like I had forgotten to attach this. I haven't verified that this is the proper version of the patch but it should give you an idea of what to do it if doesn't work.

This was made on top of the 3.7 version of the maven-clover-plugin

Not sure how relevant this is wrt maven-clover2-plugin.

=======

 Nick Pellow added a comment - 15/Nov/09 5:01 PM

Thanks, Jerome.
It could also be worth pinging the maven development list about this. They could ensure your patch works for the upcoming maven 3.x stream of work?

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/2013 7:29 AM;mparfianowicz;CLMVN-6_for_MNG-3595.diff;https://jira.atlassian.com/secure/attachment/83868/CLMVN-6_for_MNG-3595.diff",,,,,,,,,,,,,,,,true,,"1|hx1rhj:",176960,,,,,168907,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx48rz:",189437,,,,,,,,,,,"1|hx0em7:",168958,372729600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkgf:",195324,,,,,,,,,,,,,,,,,,,,,,,,,,169217,,"1|hx0g73:",169217,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLMVN-136 com.cenqua.clover:clover:jar:3.0.2 can't be resolved error during compilation with Maven 3,CLOV-1212,253583,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,mparfianowicz,mparfianowicz,mparfianowicz,23/Jan/2013 7:23 AM,21/Apr/2017 8:47 AM,15/Nov/2024 6:09 PM,21/Apr/2017 8:47 AM,3.0,,,,,n/a,,,Maven plugin,,,,,,,0,,,,,,,,,"Moved from: https://studio.plugins.atlassian.com/browse/CLMVN-136

=====================================


It affects version 3.0.2 (which isn't in the list of released versions).

I'm compiling with Maven 3. I've added a dependency to plexus-resources:1.0-alpha-7 has requested to workaround CLMVN-135.

However, my build is still failing with

ERROR Failed to execute goal com.atlassian.maven.plugins:maven-clover2-plugin:3.0.2:instrumentInternal (default) on project easymock: Could not resolve the clover artifact ( com.cenqua.clover:clover:jar:3.0.2 ) in the localRepository: file:///D:/Programmation/maven/repository/: Could not find artifact com.cenqua.clover:clover:jar:3.0.2

which is obviously there and was downloaded seconds before. I'm on Windows. And I'm so completely blocked to migrate to Maven 3 until this is solved.

I'm providing the complete build log in attachment.

========

 Joost den Boer added a comment - 30/Nov/10 5:39 AM

We're having the same problem when converting our projects to Maven 3.
I read somewhere that the plugin dependency could be overridden with the pom, but we cannot get that working. No matter where we put the plugin dependency of plexus-resources:1.0-alpha-7, the build still breaks and when I run 'mvn dependency:resolve-plugins' it still shows 'plexus-resources:1.0-alpha-4' for the clover-plugin.
This is pretty urgent for us. Please fix this issue of just release a 3.0.3 Clover plugin with dependency of plexus-resources:1.0-alpha-7.

========

 Nick Pellow added a comment - 01/Dec/10 9:14 PM

I have bumped the version of plexus-resources to alpha7 and released a version 3.0.4 of the maven-clover2-plugin.
This should be in maven central within 24 hours.


========

 still seeing the issue

C:\clover>mvn -version
Apache Maven 3.0.1 (r1038046; 2010-11-23 11:58:32+0100)
Java version: 1.6.0_21
Java home: C:\java\jdk1.6.0_21\jre
Default locale: da_DK, platform encoding: Cp1252
OS name: ""windows 7"" version: ""6.1"" arch: ""amd64"" Family: ""windows""

C:\clover>mvn clean -Dcoverage clover2:instrument clover2:aggregate clover2:clover
INFO Scanning for projects...
INFO
INFO ------------------------------------------------------------------------
INFO Building Test 0.7-SNAPSHOT
INFO ------------------------------------------------------------------------
INFO
INFO — maven-clean-plugin:2.4.1:clean (default-clean) @ anyartifact —
INFO Deleting C:\clover\target
INFO
INFO >>> maven-clover2-plugin:3.0.4:instrument (default-cli) @ anyartifact >>>
INFO
INFO — maven-clover2-plugin:3.0.4:instrumentInternal (default-cli) @ anyartifact —
INFO Clover Version 3.0.2, built on April 13 2010 (build-790)
INFO Loaded from: C:\Users\knielsen\.m2\repository\com\cenqua\clover\clover\3.0.2\clover-3.0.2.jar
INFO Clover: Evaluation License registered to KN Consulting.
INFO You have 28 day(s) before your license expires.
INFO Creating new database at 'C:\clover\target\clover\clover.db'.
INFO Processing files at 1.6 source level.
INFO Clover all over. Instrumented 1 file (1 package).
INFO Elapsed time = 0,073 secs. (13,699 files/sec, 123,288 srclines/sec)
INFO
INFO ------------------------------------------------------------------------
INFO Skipping Test
INFO This project has been banned from the build due to previous failures.
INFO ------------------------------------------------------------------------
INFO
INFO ------------------------------------------------------------------------
INFO Skipping Test
INFO This project has been banned from the build due to previous failures.
INFO ------------------------------------------------------------------------
INFO ------------------------------------------------------------------------
INFO BUILD FAILURE
INFO ------------------------------------------------------------------------
INFO Total time: 1.318s
INFO Finished at: Thu Dec 09 00:28:40 CET 2010
INFO Final Memory: 6M/153M
INFO ------------------------------------------------------------------------
ERROR Failed to execute goal com.atlassian.maven.plugins:maven-clover2-plugin:3.0.4:instrumentInternal (default-cli) on project anyartifact: Could not resolve the clover artifact ( com.cenqua.clover:clover:jar:3.0.2 ) in the localRepository: file:///C:/Users/knielsen/.m2/repository/: Could not find artifact com.cenqua.clover:clover:jar:3.0.2
ERROR
ERROR Try downloading the file manually from the project website.
ERROR
ERROR Then, install it using the command:
ERROR mvn install:install-file -DgroupId=com.cenqua.clover -DartifactId=clover -Dversion=3.0.2 -Dpackaging=jar -Dfile=/path/to/file
ERROR
ERROR Alternatively, if you host your own repository you can deploy the file there:
ERROR mvn deploy:deploy-file -DgroupId=com.cenqua.clover -DartifactId=clover -Dversion=3.0.2 -Dpackaging=jar -Dfile=/path/to/file -Durl=url -DrepositoryId=id
ERROR
ERROR
ERROR com.cenqua.clover:clover:jar:3.0.2
ERROR
ERROR from the specified remote repositories:
ERROR (none)
ERROR -> Help 1
ERROR
ERROR To see the full stack trace of the errors, re-run Maven with the -e switch.
ERROR Re-run Maven using the -X switch to enable full debug logging.
ERROR
ERROR For more information about the errors and possible solutions, please read the following articles:
ERROR Help 1 http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException

========

 Stefan Hansel added a comment - 16/Dec/10 10:00 AM

Are there any news on this one?
I'm just trying to convert our old ant builds to maven and directly fell into this issue.

I also cannot find a version 3.0.4 on maven central, like Nick wrote on 1st Dec.

http://repo1.maven.org/maven2/com/atlassian/maven/plugins/maven-clover2-plugin/


========

 Kasper Nielsen added a comment - 16/Dec/10 10:28 AM

Look in the atlassian repo
http://repository.atlassian.com/maven2/com/atlassian/maven/plugins/maven-clover2-plugin/
Not sure why it isn't synced, maybe it is a manual process

========

 Stefan Hansel added a comment - 17/Dec/10 7:06 AM - edited

Hi Kasper, thanks for the help, maven is now able to download 3.0.4.
Unfortunately I'm running into the same problem now as you on 08.12.2010

[ERROR] Failed to execute goal com.atlassian.maven.plugins:maven-clover2-plugin:3.0.4:setup (default-cli) on project util_base_: Could not resolve the clover ar
tifact ( com.cenqua.clover:clover:jar:3.0.2 ) in the localRepository: file:///C:/Dokumente%20und%20Einstellungen/hansel/.m2/repository/: Could not find artifact
 com.cenqua.clover:clover:jar:3.0.2

I do have a file
com/cenqua/clover/clover/3.0.2/clover-3.0.2.jar
in my local repository though.

========

 Kasper Nielsen added a comment - 17/Dec/10 7:12 AM

Hej Stefan,
I'm still facing the problem.
I have postponed upgrading to Maven 3 until Atlassian have fixed the bug

========

 David Buccola added a comment - 17/Dec/10 12:48 PM

I am having this problem too and have some diagnostic information to contribute. I had two systems that had this problem. After I upgraded to 3.0.4 the problem went away on one of the systems. The other system, however, continued to get the error. I have discovered that the difference is the content of the local cache (~/.m2/repository). On the working system there is something in the local repository cache that makes things work. When I delete the repository cache and force the system to rebuild then the system that once worked begins to fail with 3.0.4.

========

 Chris Council added a comment - 17/Dec/10 3:08 PM

We had the same issue. We found a workaround. The culprit seems to be this file:

$LOCAL_REPOSITORY/com/cenqua/clover/clover/3.0.2/_maven.repositories

I have no idea why this file causes problems, but removing it seems to fix things. Go figure.

We tried with Maven 3.0, 3.0.1, on Windows, Linux, and Mac OS X... same problem on all OSes, same solution in all cases.

========

 Chris Council added a comment - 17/Dec/10 3:30 PM - edited

One more thing - maven-clover2-plugin 3.0.4 is not in maven central at the moment, so we added http://repository.atlassian.com/maven2/ to our pluginRepositories. Perhaps this caused problems?

========

 Stefan Hansel added a comment - 29/Dec/10 10:13 AM

Hi Chris, deleting the
$LOCAL_REPOSITORY/com/cenqua/clover/clover/3.0.2/_maven.repositories
file also solved the problems for me!

Now I still have problems with the buildserver and all developer workstations, but as a start I can go on with my project to move from ant to maven.

========

 Nathan Wilhelmi added a comment - 04/Jan/11 2:05 PM

We have bumped into this as well. None of the suggested fixes have worked for us.

========

 Marcin Kuthan added a comment - 21/Jan/11 4:55 AM

Same error:
Maven 3.0.1, 3.0.2.
Plugin version 3.0.4

Workaround with _maven.repositories file deletion works for me.


========

 Dmyrto added a comment - 07/Mar/11 12:35 PM

Same error:
Maven 3.0.2
Plugin version 3.0.2, 3.0.4
Workaround with _maven.repositories doesn't work for me. Any help would be appreciated.

========

 Dylan Hansen added a comment - 25/Mar/11 7:54 AM

Do we have any timeline on a fix for this issue?

========

 jeff melching added a comment - 31/Mar/11 9:35 AM

I have created the attached patch. Can one of the committers and a few others please try it out?

========

 Stefan Hansel added a comment - 01/Apr/11 7:32 AM

jeff - could you upload the new jar as well. Then I could just deploy it on Nexus and do a test much easier.

========

 jeff melching added a comment - 01/Apr/11 8:56 AM

attaching the snapshot version with the proposed patch.


========

 Stefan Hansel added a comment - 11/Apr/11 8:49 AM

Hi Jeff,
my maven skills are not very good - I was not able to upload the snapshot to our Nexus (this is not possible).
So I 'hacked' the clover2.0.4.jar in my local repository (just replaced the class files), then deleted the com.cenqua files from my local repositories so that they'd be redownloaded.

Now the _maven.repositories file exists again and even with the patched clover.jar I get the error message from the first post again.

So either the patch/jar does not work or I made a mistake with my tries to get it working.

=======

 jeff melching added a comment - 11/Apr/11 8:55 AM

What you did won't work. You need to add a dependency to the 3.0.5-SNAPSHOT and upload the jar to your repo. The change i made has nothing to do with the _maven.repositories file. That file is an internal maven file and should exist.

You need to do this:
1) mvn deploy the jar with the pom to your repo
2) add a dependency to it in your pom
3) clean your local repo, ie. delete .m2/repository
4) run your build

=======

 Nick Pellow added a comment - 11/Apr/11 5:01 PM

Hi Jeff,

Thanks for the patch! I hope to try this out today and if it runs well, will go for a release.

Do you know if the patch is backward compatible with Maven 2.x ?

Cheers,
Nick

=======

 jeff melching added a comment - 11/Apr/11 6:26 PM

I haven't tried it on a maven 2.x build, but I would think that it would work there too, since I didnt' do anything specific to maven 3.

=======

 Nick Pellow added a comment - 12/Apr/11 9:00 PM

Hi Jeff,

I've applied your patch and deployed maven-clover2-plugin:3.0.5 to our public repo.
https://maven.atlassian.com/content/groups/public/com/atlassian/maven/plugins/maven-clover2-plugin/3.0.5/

I tested with both Maven2 and Maven3, and couldn't see any problems.

Great work on getting that patch done.
I have alos deployed 3.0.5 to our centralsync repository, so hopefully it arrives at maven central soon.

Best Regards,
Nick

======

This appears to be back again in 3.1.0.

[ERROR] Failed to execute goal com.atlassian.maven.plugins:maven-clover2-plugin:3.1.0:instrumentInternal (default) on 
project myproject: Could not resolve the clover artifact ( com.cenqua.clover:clover:jar:3.1.0 ) in the 
localRepository: file:///home/abc/.m2/repository/: Could not find artifact com.cenqua.clover:clover:jar:3.1.0

=======

 John Kilmer added a comment - 17/Jun/11 7:29 AM

Reopening due to regression.

=======

 EJ Ciramella added a comment - 29/Jul/11 7:00 AM

I've seen this same issue with mvn 3.0.3 and every version of clover from 3.0.5 on through trunk (which is 3.1.1-SNAPSHOT currently).

We've had to totally disable this so our builds can/will pass.

I haven't taken a deep dive into the source code at this point, but when you run clover in conjunction with a ""deploy"" it fails, but when you use a goal that does everything but deploy, it works fine (so mvn verify works but mvn deploy fails). There's REALLY no sense in running a verify AND a deploy with every build...

Why is it trying to download anything? Why isn't it able to resolve everything from the local repository - didn't it just build up the cloverized jar?

Any targeted release this will be fixed in?

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/2013 7:23 AM;mparfianowicz;CloverInstrumentInternalMojo.java-patch;https://jira.atlassian.com/secure/attachment/83866/CloverInstrumentInternalMojo.java-patch","23/Jan/2013 7:23 AM;mparfianowicz;maven-clover2-plugin-3.0.5-SNAPSHOT.jar;https://jira.atlassian.com/secure/attachment/83867/maven-clover2-plugin-3.0.5-SNAPSHOT.jar",,,,,,,,,,,,,,,true,,"1|hx1rhb:",176959,,,,,168906,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx48rr:",189436,,,,,,,,,,,"1|hx0elz:",168957,372729600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkg7:",195323,,,,,,,,,,,,,,,,,,,,,,,,,,169216,,"1|hx0g6v:",169216,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLMVN-32 Instrumented and uninstrumented jar are on the runtime classpath,CLOV-1211,253581,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,mparfianowicz,mparfianowicz,mparfianowicz,23/Jan/2013 7:14 AM,15/Jul/2015 11:08 AM,15/Nov/2024 6:09 PM,15/Jul/2015 11:08 AM,3.0,,,,,won't fix,,,Maven plugin,,,,,,,0,,,,,,,,,"Moved from: https://studio.plugins.atlassian.com/browse/CLMVN-32

================

Copied from here: http://jira.atlassian.com/browse/CLOV-148

    When adding clover to my maven 2 build, I discovered that the testclasspath contains the uninstrumented jar and the instrumented jar.

    This is causing a problem because my code loads resources from the classpath. It parses the resources loaded to obtain a unique identifier for the resource. Because the maven 2 clover mojo is putting the instrumented and uninstrumented jars in the test classpath, my tests are breaking when the duplicate resource identifier is discovered. Basically, the identifiers are added to a hash map, however if the identifier already exists an exception is thrown.

    This is a bug catching mechanism that can not be removed.

===================

Nick Pellow added a comment - 25/May/08 11:41 PM 

After investigating this with James, it is currently not possible for the Clover plugin to correctly remove the non-clovered dependencies from the classpath.

We are currently investigating the ramifications of removing the forked lifecycle from the maven clover plugin which should fix the problem you are having.

Is it possible to have two builds - one with clover which does not do the duplicate resource check, and another which does?

I am sorry I can not be helpful at this stage.

Cheers,
Nick

==================

Nick Pellow added a comment - 03/Feb/09 1:29 AM - edited

Just a quick status update:
I am currently discussing this issue on the maven developers mailing list: http://www.nabble.com/classified-artifact-resolution-td21784916.html . Hopefully we can find a good solution or work around.

This appears to occur because Maven considers classified artifacts distinct to non-classified artifacts.

==================

 Nick Pellow added a comment - 09/Feb/09 5:57 PM

It has been reported that by reviewing all sub-module dependencies and tightening each scope as far as possible or removing unused dependencies can help remove this problem.

==================

Nick Pellow added a comment - 03/Mar/09 10:57 PM

There has been no progress made on this apart from the investigation and work around mentioned above.
At this stage, it looks as though there is not a lot the maven-clover2-plugin can do to prevent such errors.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-148,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx1rgv:",176957,,,,,168904,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx48rb:",189434,,,,,,,,,,,"1|hx0elj:",168955,372729600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx8s0v:",195322,,,,,,,,,,,,,,,,,,,,,,,,,,169214,,"1|hx0g6f:",169214,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Auto update version check reports new version when version strings are identical,CLOV-1209,252459,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,4260b291b33e,4260b291b33e,17/Jan/2013 11:23 AM,26/Jun/2013 12:47 PM,15/Nov/2024 6:09 PM,25/Apr/2013 6:36 AM,3.1.10,,,,,3.1.12,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Under File > Settings > IDE Settings: Clover > Auto Update, when you press ""Check now"" a window pops up saying:

""New version available: 3.1.10.v20130108000000, you have 3.1.10.v20130108000000
Would you like to upgrade?""

",IntelliJ IDEA 12.0.2,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1280,,,,,,,,,,"17/Jan/2013 11:41 AM;4260b291b33e;update.png;https://jira.atlassian.com/secure/attachment/83240/update.png",,,,,,,,,,,,,,,,true,,"1|hx1l3j:",175897,,,,,167807,,,,,,Unknown,,,,,2013-01-17 11:34:14.284,,,,,,,,,,,,,,,,,,,,,,,,"2|hx42l3:",188408,,,,,,,,,,,"1|hx07zz:",167858,373248000,true,,,,,,,,,,4260b291b33e(asmodai),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwfl27:",9494,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,3.0,168066,,"1|hx099j:",168066,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"17/Jan/2013 11:34 AM;mparfianowicz;Thank you very much for reporting this. I have scheduled it for the nearest release with Eclipse/IDEA bug fixes - 3.2.2.;;;","17/Jan/2013 11:41 AM;4260b291b33e;Just for completeness sake, a screenshot of what I encounter.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Eclipse does not show partially covered branch in source editor,CLOV-1200,250329,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,03/Jan/2013 1:12 PM,07/Jan/2013 10:11 AM,15/Nov/2024 6:09 PM,04/Jan/2013 10:48 AM,3.1.8,,,,,3.1.10,,,CEP Plugin,,,,,,,0,,,,,,,,,"The coloring priority for source code annotations is not properly selected when the code coverage is not related with unit tests. 

As a consequence, lines which have partial branch coverage are all marked green (green background for source line and for left margin) and user is not able to locate code section which was not covered. At the same time, coverage explorer shows coverage < 100%. When the code coverage *is* related with a test case, then coloring priority is fine, however the editor ruler shows green only. 

Example:

!mytest_before_fix.png!


Note: recently a syntax highlighting enhancements have been implemented in CLOV-1086. In Eclipse it looks like this:

!release_notes_eclipse_new_features1.png!


*Required fixes:*

a) the partially covered branch expression shall be underlined no matter whether related with a test or not

b) the ruler shall have two colours - ""green|red"" - for such a partially covered branch, no matter whether a branch contains else statement or not

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jan/2013 1:26 PM;mparfianowicz;foo_fixed.png;https://jira.atlassian.com/secure/attachment/82478/foo_fixed.png","03/Jan/2013 1:26 PM;mparfianowicz;mytest_before_fix.png;https://jira.atlassian.com/secure/attachment/82479/mytest_before_fix.png","03/Jan/2013 1:30 PM;mparfianowicz;mytest_fixed.png;https://jira.atlassian.com/secure/attachment/82481/mytest_fixed.png","03/Jan/2013 1:12 PM;mparfianowicz;partially_covered_branch.png;https://jira.atlassian.com/secure/attachment/82476/partially_covered_branch.png","03/Jan/2013 1:12 PM;mparfianowicz;release_notes_eclipse_new_features1.png;https://jira.atlassian.com/secure/attachment/82477/release_notes_eclipse_new_features1.png",,,,,,,,,,,,true,,"1|hx18jj:",173826,,,,,165708,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx3ql3:",186425,,,,,,,,,,,"1|hwzv9r:",165759,374457600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx8cav:",192708,,,,,,,,,,,,,,,,,,,,,,,,,,165967,,"1|hwzwjb:",165967,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"03/Jan/2013 1:29 PM;mparfianowicz;Fix prepared:

!mytest_fixed.png!

!foo_fixed.png!
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Groovy 2.x @CompileStatic annotation causes static methods to be ignored by Clover,CLOV-1195,246928,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,30b1df729928,30b1df729928,06/Dec/2012 10:57 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.8,,,,,long term roadmap,,,Groovy,,,,,,,3,Groovy,,,,,,,,"Adding @CompileStatic to a tested Groovy class results in 0% coverage for static methods.

e.g.
{code}
//All ok here
class MyClass{
  String sayHello(){
    'hello' //Full coverage shown by Clover
  } 

  static String sayHelloAgain(){
    'hello again' //Full coverage shown by Clover
  }
}

//Same class with the annotation
@CompileStatic
class MyClass{
  String sayHello(){
    'hello' //Full coverage shown by Clover
  } 

  static String sayHelloAgain(){
    'hello again' //***No coverage shown by Clover***
  }
}
{code}
Can anyone confirm this? Thanks.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Dec/2012 2:01 PM;mparfianowicz;MyClass.class;https://jira.atlassian.com/secure/attachment/81102/MyClass.class","06/Dec/2012 2:23 PM;mparfianowicz;MyClass.class.decompiled;https://jira.atlassian.com/secure/attachment/81106/MyClass.class.decompiled","06/Dec/2012 2:00 PM;mparfianowicz;MyClass.groovy;https://jira.atlassian.com/secure/attachment/81101/MyClass.groovy","06/Dec/2012 2:00 PM;mparfianowicz;MyClass.groovy.after.clovered;https://jira.atlassian.com/secure/attachment/81099/MyClass.groovy.after.clovered","06/Dec/2012 2:00 PM;mparfianowicz;MyClass.groovy.before.clovered;https://jira.atlassian.com/secure/attachment/81100/MyClass.groovy.before.clovered",,,,,,,,,,,,true,,"1|hx0q3b:",170757,,,,,162583,,,,,,Unknown,,,,,2012-12-06 13:59:18.08,,,,,,,,,,,,,,,,,,,,,,,,"2|hx38lj:",183439,,,,,,,,,,,"1|hwzch3:",162634,376876800,true,,,,,,,,,,mparfianowicz(mparfianowicz),30b1df729928(steve.quinlan),,,,,,,,,,,,,,,,,,"1|hwfkpz:",9500,,,,,,,,,,,,,,,,,,,,,,,,,8.0,162831,,"1|hwzdo7:",162831,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"06/Dec/2012 1:59 PM;mparfianowicz;References:
 * http://docs.codehaus.org/display/GroovyJSR/GEP+10+-+Static+compilation

Problem reproduced. Clover instruments groovy class correctly (see MyClass.groovy.before.clovered, MyClass.groovy.after.clovered, MyClass.groovy), but for some reason hit counter is not called. ;;;","06/Dec/2012 2:23 PM;mparfianowicz;Decompiled [^MyClass.class.decompiled] shows that static sayHelloAgain() does not contain any Clover instrumentation. It looks like the Groovy compiler has ignored AST enhancements done by Clover in CompilePhase.INSTRUCTION_SELECTION phase and took original AST node for this specific method. 


Todo: check switch to CompilePhase.CANONICALIZATION phase, check what groovy compiler does for @CompileStatic.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Implement GrowablePerTestRecorder and use it for Android instrumentation,CLOV-1194,246423,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,04/Dec/2012 10:54 AM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,,,,,,someday,,,Instrumentation,,,,,,,1,,,,,,,,,"*Problem:*
https://answers.atlassian.com/questions/107086/error-message-arrayindexoutofbounds-with-clover-for-android

*Background:*
A per-test recorder is instantiated with a fixed size equal to capacity for the main coverage recorder. Because of the fact that for Android the growable version of the main coverage recorder is used, as soon as it grows, per-test recorders remain with old, too small size.

*Workaround:*
Disable per-test instrumentation.

*Fix:*
Implement GrowablePerTestRecorder class with a dynamically resizeable BitSet. Instantiate either PerTestRecorder or GrowablePerTestRecorder depending on whether FixedSizeReorder or GrowableRecorder is used. 

See also CLOV-1189 problem related with Grails, where such recorder will be also needed (but used in conjunction with FixedSizeRecorder).
",,,,,,,,,,,,,,CLOV-1189,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx0nin:",170329,,,,,162146,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx3647:",183026,,,,,,,,,,,"1|hwz9uf:",162197,377049600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx7u9b:",189705,,,,,,,,,,,,,,,,,,,,,,,,,,162394,,"1|hwzb1j:",162394,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance list of files to be instrumented using data from <testsources>,CLOV-1191,244675,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,22/Nov/2012 2:09 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.8,,,,,someday,,,Groovy,,,,,,,0,,,,,,,,,"_Bug found after implementation of CLOV-1190:_

In Ant for javac it works in such way that if you define source code and test code like this:

{code:xml}
<clover-setup>
  <fileset dir=""src""> <!-- or <files> -->
  <testsources dir=""test"">
</clover-setup>
{code}

then a list of sources to be instrumented is a sum of <files>,<fileset> and <testsources>.

For groovyc it does not work this way. I.e. set of files resulting from <testsources dir=""..."" includes=""..."" excludes=""...""/> is not appended to set of files to be instrumented. In means that for groovy declaration must look like:

{code:xml}
<clover-setup>
  <fileset dir=""src"">
  <fileset dir=""test"">
  <testsources dir=""test"">
</clover-setup>
{code}

i.e. test sources have to be declared twice.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hx0bof:",168348,,,,,160125,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx2usv:",181148,,,,,,,,,,,"1|hwyxrr:",160176,378000000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx7lhb:",188235,,,,,,,,,,,,,,,,,,,,,,,,,,160373,,"1|hwyyyv:",160373,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"22/Nov/2012 11:36 PM;mparfianowicz;Code snippet (see GroovycSupport.buildTestDetector):

{code:java}
includedFiles = testSourceSet.getIncludedFiles();
excludedFiles = testSourceSet.getExcludedFiles();

for (File includeFile : includedFiles) {
    config.getIncludedFiles().add(includeFile);
}
for (File excludeFile : excludedFiles) {
    config.getIncludedFiles().remove(excludeFile); // shall we exclude, actually ???
}
{code}

Tricky parts:
 * config.getIncludesFiles() returns null in the place where buildTestDetector is called; we should update it later
 * handling joint groovy+java compilation
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Report generation seems to get into an infinite loop, never finishes",CLOV-1189,243981,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,mparfianowicz,e23cac2bea4b,e23cac2bea4b,19/Nov/2012 7:11 PM,26/Mar/2013 9:26 AM,15/Nov/2024 6:09 PM,20/Mar/2013 12:17 PM,3.1.8,,,,,3.1.11,,,Grails Plugin,,,,,,,0,,,,,,,,,"For some reason, in our Grails test environment, clover is stuck in what seems to be an infinite loop recording the data for all the files instrumented during the run.

This occurs at the end of a run started with ""grails test-app -clover.on"" which runs both unit and integration tests.

Our project is fairly reasonable in size:
{code}

    +----------------------+-------+-------+
    | Name                 | Files |  LOC  |
    +----------------------+-------+-------+
    | Controllers          |     8 |   435 |
    | Domain Classes       |   401 | 18552 |
    | Services             |    36 |  4773 |
    | Tag Libraries        |     5 |   790 |
    | Groovy Helpers       |   345 | 17830 |
    | Java Helpers         |     3 |   141 |
    | Unit Tests           |    68 |  5040 |
    | Integration Tests    |   401 | 14290 |
    | Scripts              |     6 |    83 |
    +----------------------+-------+-------+
    | Totals               |  1273 | 61934 |
    +----------------------+-------+-------+
{code}

During the run, Clover generates an amazing number of files in the .clover/ directory (about 600,000 files *.s files)

At the end of the run we get:
{code}
[Step 2/3] | Completed 563 integration tests, 0 failed in 328038ms
[09:31:13][Step 2/3] | Tests PASSED - view reports in /home/teamcity/TeamCity/buildAgent1/work/7f907064610a9f8f/common/target/test-reports
[09:31:13][Step 2/3] Clover: Tests ended
[09:31:13][Step 2/3] Clover: Generating report using default 'clover-report' task
{code}

I've attached a chunk of the log file looping on the report generation, the full log file is 4GB before I stopped it.

Also, I've attached a stack trace taken while it is seemingly looping.

It's weird, we are evaluating clover and it works fine on our other project module, but not this one. The configuration is the same:

{code}
clover {
    excludes = ['**/conf/**', '**/plugins/**', '**/migrations/**', '**/drillDown/**', '**/generator/**']
    initstring = "".clover/common.db""
}
{code}


","Redhat 6.1, Sun 64-bit JVM, 1.6.0_34, Grails 2.1.1 with plugin version 3.1.8",,,,,,,,,,,,,,CLOV-1194,,,,,,,,,,,,,,,,,,,,,"20/Mar/2013 2:09 PM;mparfianowicz;CLOVER-CoverageRecorders-200313-0908-462.pdf;https://jira.atlassian.com/secure/attachment/88641/CLOVER-CoverageRecorders-200313-0908-462.pdf","19/Nov/2012 7:19 PM;e23cac2bea4b;clover_loop.zip;https://jira.atlassian.com/secure/attachment/80113/clover_loop.zip","20/Mar/2013 2:06 PM;mparfianowicz;grails-clover-3.1.11.zip;https://jira.atlassian.com/secure/attachment/88640/grails-clover-3.1.11.zip","19/Nov/2012 7:19 PM;e23cac2bea4b;stacktrace.txt;https://jira.atlassian.com/secure/attachment/80112/stacktrace.txt",,,,,,,,,,,,,true,,"1|hx07of:",167692,,,,,159446,,,,,,Unknown,,,,,2012-11-19 21:46:39.562,,,,,,,,,,,,,,,,,,,,,,,,"2|hx2r33:",180537,,,,,,,,,,,"1|hwytmn:",159497,367372800,true,,,,,,,,,,e23cac2bea4b(longwa),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwfkaf:",9479,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,0.0,159694,,"1|hwyutr:",159694,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"19/Nov/2012 9:46 PM;mparfianowicz;Hi Aaron,

I see that you have raised a Blocker - is there any chance that your intention was to create a support ticket, actually? The difference is:
 * CLOV project on *jira.atlassian.com* is for raising bugs and improvement requests, which are being handled by developers according to [Atlassian Bug Fixing Policy|https://confluence.atlassian.com/display/Support/Atlassian+Bug+Fixing+Policy], which means it can take some time until bug is solved
 * CLV project on *support.atlassian.com* is for raising support issues, which are being handled Atlassian Support team according to [SLA|https://confluence.atlassian.com/display/Support/Atlassian+Support+Offerings] 

Regards
Marek;;;","19/Nov/2012 9:56 PM;e23cac2bea4b;Yes, that makes sense as this is probably a support issue at this point. We are looking to purchase clover but this is a show stopper for us (thus the blocker).

Can move the ticket to the CLV project for me?;;;","19/Nov/2012 10:05 PM;mparfianowicz;
{quote}
During the run, Clover generates an amazing number of files in the .clover/ directory (about 600,000 files *.s files)
{quote}

The *.s files are per-test coverage snapshot files. It means that Clover has detected 600'000 tests during the build (unit / integration test). Indeed, it's a huge number; it's uncommon to see more than 10'000 tests; no wonder why HTML report generation ""hanged"". 

I suppose that either you're calling the same set of tests multiple times or Clover [default test detection|https://confluence.atlassian.com/display/CLOVER/Clover+test+detection] algorithms found some application classes/methods which are actually not tests. I suggest to check following things first:
 * are there any ""public void testXyz()"" methods in application code
 * are there any test methods calling other test methods (recursive calls, in a loop, nested tests ?)


;;;","19/Nov/2012 10:06 PM;mparfianowicz;Yes, sure. I'll raise a support ticket.;;;","19/Nov/2012 10:10 PM;e23cac2bea4b;I wish we had 600,000 tests, but we don't. You can see from the logs that there are only 563 tests and no test* methods in the application code that would be executed. I also looked for any tests which call other tests and didn't see any.

If you unzip the clover_loop.zip, you'll see that in the debug output that it's generating the same *.s files multiple times for the same tests, I'm not sure why. If you search for a test name (PhysicalTotalLossServiceTests, for example), you'll see it show up once and then about a minute later show up again, same lines...that just repeats forever.;;;","22/Nov/2012 1:57 PM;mparfianowicz;*Problem analysis results:*

It seems that Grails compiles every domain class separately, as a consequence Clover sees this as a separate instrumentation session and generates a separate coverage recorder instance. As a consequence, at runtime hundreds of per-test recorder instances are running. Thus, during test execution every end of test method triggers flushing coverage data from all coverage recorders. In our case - 400 tests * 400 recorders for domain objects = 160'000 files. 

*Workarounds:*

1) Disable instrumentation of domain classes, e.g.
{noformat}
clover.excludes = ""**/domain/**""
{noformat}

2) Disable instrumentation of test classes, e.g.
{noformat}
clover.excludes = ""test/**""
{noformat}

3) Disable per-test instrumentation.

Use <testsources dir="".."" enabled=""false""/> (""enabled"" is an undocumented attribute). This will cause that NoTestDetector will be used (which always returns false for isTestMethod, isTestClass).

Bug: <testsources> attribute is not passed to groovyc wrapper right now (in instrumentation.ser) - see CLOV-1190 - fixed in 3.1.9-SNAPSHOT.

4) Perform merge of database (to be verified)

Database merge causes collation of per-test coverage data too. However, merging 600'000 files might take considerable amount of time (although possibly lower than during report generation).


*Possible final fix:*

Add extra option for <clover-setup/> and <clover-instr/> and for runtime, which will cause that a single, shared per-test coverage recorder will be used for all test classes, whenever the same initstring is used. Assumption is that 
 * all coverage recorders created during instrumentation are cumulative (indexes in new one are superset of indexes in previous one for the same database) *and*
 * all coverage recorders with the same initstring use exactly the same database (in other words: we cannot have multi-module build with multiple clover datbases having the same relative initstring)

However, this requires a growable size recorder (as the older recorders would have smaller arrays). Is should be safe to use such option for single-threaded tests (i.e. when tests are launched sequentially; do not confuse with a test of multi-threaded application).
;;;","20/Mar/2013 1:50 PM;e23cac2bea4b;@Marek - I'm happy to test a new snapshot build in our project if you want to attach it or send it to me. We are still using the 3.1.10 snapshot that you sent me a while back.;;;","20/Mar/2013 2:03 PM;mparfianowicz;Hello Aaron,

Snapshot of Clover core is available here: https://maven.atlassian.com/content/repositories/atlassian-public-snapshot/com/cenqua/clover/clover/3.1.11-SNAPSHOT/

For Clover-for-Grails plugin please take the attached [^grails-clover-3.1.11.zip] - it contains a dependency to 3.1.11-SNAPSHOT. Install this plugin and next update a dependency to Clover-for-Grails plugin in your project to version 3.1.11 (in BuildConfig.groovy). In order to use a new coverage recorder type, define Clover configuration as below:

{noformat}
clover {
    setuptask = { ant, binding, plugin ->
        ant.delete(dir: ""target/clover/db"")
        ant.delete(dir: ""target/clover/tmp"")
        ant.'clover-setup'(initstring: ""target/clover/db/clover.db"",
                           tmpDir: ""target/clover/tmp"") {
            ant.profiles {
                ant.profile(name: ""default"", coverageRecorder: ""SHARED"")
            }
        }
    }
    reporttask =  { ant, binding, plugin ->
        ant.delete(dir: ""target/clover/report"")
        ant.'clover-report'(initstring: ""target/clover/db/clover.db"") {
            ant.current(outfile: ""target/clover/report/clover.xml"") {
                ant.format(type: ""xml"")
            }
            ant.current(outfile: ""target/clover/report"") {
                ant.format(type: ""html"")
            }
        }
    }
 }
{noformat}


Regards
Marek

;;;","20/Mar/2013 2:09 PM;mparfianowicz;I'm attaching also a PDF with short description how new coverage recorders work. This will be also available on confluence.atlassian.com as soon as 3.1.11 is released. ;;;","20/Mar/2013 2:39 PM;e23cac2bea4b;Any plans to support the coverageRecorder natively in the plugin config? It would be nice to go back to using the simpler configuration instead of the setuptask/reporttask closures. Like:

{code}
clover {
  coverageRecorder: 'SHARED'
}
{code};;;","20/Mar/2013 2:55 PM;mparfianowicz;Great idea! I'll check what can be done.;;;","21/Mar/2013 6:26 AM;mparfianowicz;Created CLOV-1257. ;;;","21/Mar/2013 6:30 AM;mparfianowicz;Hi Aaron, did you manage to install new SNAPSHOT version? Do you need any help? It would be great if you could give me a feedback till Friday the latest as I'm about to release the 3.1.11. Later feedback will be also very appreciated, but then fixes (if any) will go into the 3.1.12.;;;","24/Mar/2013 9:14 PM;e23cac2bea4b;I'm running with the latest snapshot and it doesn't seem to be creating all the .s files, however it's almost unbearably slow unless I disable testsources (as I was doing before). My setuptask is:

{code}
    setuptask = { ant, binding, plugin ->
        ant.'clover-setup'(initstring: "".clover/common.db"") {
            ant.fileset(dir: ""grails-app"", includes: ""**/domain/**, **/controllers/**, **/jobs/**, **/services/**, **/taglib/**, **/utils/**"") { }
            ant.fileset(dir: ""src"", includes: ""**/*.groovy, **/*.java"", excludes: ""**/script@*.groovy, **/system/generator/**, **/system/database/generators/**, **/castor/**"") { }
            ant.fileset(dir: ""test"", includes: ""**/*.groovy"") { }
            // ant.testsources(dir: ""test"", enabled: false) { }
            ant.profiles {
                ant.profile(name: ""default"", coverageRecorder: ""SHARED"")
            }
        }
    }
{code}
If I uncomment the testsources enabled:false line, it runs about as quickly as before. Normally our coverage run takes about 42 minutes. With the above configuration it's been running for about 3 hours and is about half finished. I attached YourKit to try and see where the time is going but something clover does seems to be confusing the profiler. All the method invocation times say 0ms which I've never seen before. I'll try profiling a different way to see if I can tell where the time is spent.;;;","25/Mar/2013 6:25 AM;mparfianowicz;Hi Aaron,

>  I'll try profiling a different way to see if I can tell where the time is spent.

1) Could you attach profiler results? Tip: regarding tuning of the profiler - it might be worth to focus on GrowableCoverageRecorder, GrowableCoverageRecorder$FixedProxy, SharedCoverageRecorder, CoverageMatrix, PerTestRecorder$Diffing classes as well as static initialization blocks in other classes. 

> With the above configuration it's been running for about 3 hours and is about half finished. 

2) Does it mean that the problem is improved, compared to the FIXED recorder? I remember that you wrote that in case of FIXED recorder it took a lot of memory and time during report generation and it was unable to complete the task.

3) I've got one suspicion what could be wrong... Could you try to change your build in such way that the last class instrumented will be loaded into JVM as first one? For example: run the last compiled unit test as first. This might reduce number of memory reallocations due to growing coverage array.


Cheers
Marek;;;","25/Mar/2013 5:37 PM;e23cac2bea4b;Marek,
I'll run a profile session with and without the testsources, both using a Shared recorder and see what the differences are. The problem with creating a ton of *.s files is definitely resolved and technically the coverage doesn't really hang although it's so slow we can't really use it.

As for 3, I'm not sure I have that kind of control over the Grails build process. I'll see what I can do.

Stay tuned. You want to open a separate performance ticket for this issue since this one is closed?;;;","26/Mar/2013 9:26 AM;mparfianowicz;I have raised CLOV-1264, could you describe the problem and attach profiler data in this new issue, please?;;;",,,,,,,,,,
IDEA12 JavaSourceTransformingCompiler functionality has been removed,CLOV-1186,242474,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,12/Nov/2012 6:46 AM,10/Jul/2014 5:54 AM,15/Nov/2024 6:09 PM,20/Jun/2013 12:52 PM,3.1.8,,,,,3.1.12,,,CIJ Plugin,,,,,,,4,,,,,,,,,"Since build 122.694 Clover 3.1.8 cannot work with IDEA12 EAP, because the ""external"" build functionality was introduced and the JavaSourceTransformingCompiler is no longer supported. See issue

http://youtrack.jetbrains.com/issue/IDEA-94612",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1265,CLOV-1284,CLOV-1282,CLOV-1283,CLOV-1286,,,,,,,,,,,,,,,,,true,,"1|hwzzaf:",166311,,,,,158059,,,,,,Unknown,,,,,2013-03-22 13:07:25.464,,,,,,,,,,,,,,,,,,,,,,,,"2|hx2izj:",179203,,,,,,,,,,,"1|hwyl7j:",158111,359251200,true,,,,,,,,,,ad7667e92325(grant.gochnauer),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwf49b:",6610,,,,,,,,,,,,,,,,,,,,Sprint 1,Sprint 2,,,,5.0,158307,,"1|hwymef:",158307,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"07/Dec/2012 1:45 PM;mparfianowicz;Lowering priority to Critical, as the official release of IDEA12 still supports old build system in parallel to the ""external build"" feature. 

Workaround is available - disable ""File > Settings > Compiler > Use external build"".;;;","22/Mar/2013 1:07 PM;ad7667e92325;Excited for this one... Our team relies on the external build for its speed on large projects. ;;;","10/May/2013 11:26 AM;mparfianowicz;(story points tracked in follow-up issues CLOV-1265, CLOV-1283, CLOV-1284, CLOV-1286);;;","10/May/2013 11:29 AM;mparfianowicz;(estimate of 5 is for handling documentation about this problem on CAC, AAC etc);;;","27/Jun/2013 8:38 PM;mparfianowicz;Hello Watchers :-) The Clover 3.1.12 was released and supports the IDEA's ""external build"" feature. Cheers!;;;",,,,,,,,,,,,,,,,,,,,,,
Test optimization is broken in IDEA11 and above,CLOV-1185,242067,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,jjaroczynski,mparfianowicz,mparfianowicz,08/Nov/2012 2:25 PM,26/Jun/2013 12:50 PM,15/Nov/2024 6:09 PM,25/Apr/2013 1:51 PM,3.1.7,3.1.8,,,,3.1.12,,,CIJ Plugin,,,,,,,0,,,,,,,,,"JetBrains have changed sth in IDEA 11 regarding unit test run configuration, as a consequence Clover does not ""see"" and thus does not optimize all unit tests. Problem does not occur on IDEA 9.x, 10.x, 10.5.x. It is present on IDEA 11.x and probably also on 12.x.

See attached images.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/2012 2:25 PM;mparfianowicz;idea_11_test_run_no1.png;https://jira.atlassian.com/secure/attachment/79424/idea_11_test_run_no1.png","08/Nov/2012 2:25 PM;mparfianowicz;idea_11_test_run_no2.png;https://jira.atlassian.com/secure/attachment/79425/idea_11_test_run_no2.png",,,,,,,,,,,,,,,true,,"1|hwzx0f:",165927,,,,,157670,,,,,,Unknown,,,,,2012-11-08 18:35:43.469,,,,,,,,,,,,,,,,,,,,,,,,"2|hx2gwf:",178850,,,,,,,,,,,"1|hwyiwf:",157722,379209600,true,,,,,,,,,,jjaroczynski(jjaroczynski),mparfianowicz(mparfianowicz),mstudman(mstudman),,,,,,,,,,,,,,,,,"1|hwf49j:",6611,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,2.0,157918,,"1|hwyk3b:",157918,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Nov/2012 6:35 PM;mstudman;I'm so incredibly shocked, shocked to me core in fact, that JetBrains have changed something that has caused Clover to break. This never happens.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Check Now button does not work if project is not opened in IDEA,CLOV-1184,242060,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,08/Nov/2012 1:48 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.5,3.1.6,3.1.7,3.1.8,,open-source,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Install the latest Clover plugin version in IDEA. Click Settings > IDE Settings > Clover > Auto Update > Check now button. 

If project is opened then pop-up is shown that the latest version is already installed. If no project is opened (i.e. you're on a IDEA's welcome page), pop-up is not shown. See attached images.

Problem occurs on IDEA 11.x and 12.x. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/2012 1:48 PM;mparfianowicz;idea_project_opened_check_now_with_popup.png;https://jira.atlassian.com/secure/attachment/79418/idea_project_opened_check_now_with_popup.png","08/Nov/2012 1:48 PM;mparfianowicz;idea_welcome_page_check_now_no_popup.png;https://jira.atlassian.com/secure/attachment/79419/idea_welcome_page_check_now_no_popup.png",,,,,,,,,,,,,,,true,,"1|hwzwzb:",165920,,,,,157663,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx2gvb:",178843,,,,,,,,,,,"1|hwyivb:",157715,379296000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfknr:",186077,,,,,,,,,,,,,,,,,,,,,,,,,1.0,157911,,"1|hwyk27:",157911,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cloud Report in IDEA shows interfaces,CLOV-1183,242052,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,08/Nov/2012 1:16 PM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,3.1.5,3.1.6,3.1.7,3.1.8,,open-source,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Cloud Report in IDEA is inconsistent with a Cloud Report in Eclipse - it shows interfaces, which does not actually have any executable code. It shows also annotations.

Fix: don't list objects (interfaces, classes) which do not have any statements in the Cloud Report. Note that simple check if !isInterface() is not sufficient as interfaces in Java8 will have default methods with code.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/2012 1:16 PM;mparfianowicz;idea_shows_interfaces_in_cloud_report.png;https://jira.atlassian.com/secure/attachment/79415/idea_shows_interfaces_in_cloud_report.png",,,,,,,,,,,,,,,,true,,"1|hwzwxj:",165911,,,,,157654,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx2gtr:",178835,,,,,,,,,,,"1|hwyitj:",157706,379296000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfknj:",186069,,,,,,,,,,,,,,,,,,,,,,,,,2.0,157902,,"1|hwyk0f:",157902,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing data in Coverage Explorer for method instrumentation level,CLOV-1180,242041,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,mparfianowicz,mparfianowicz,08/Nov/2012 11:09 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.7,3.1.8,3.2.0,3.3.0,4.0.0,open-source,,,CEP Plugin,Database,Instrumentation,Reporting,,,,0,,,,,,,,,"If the instrumentation level = method is chosen for given project and the whole project is rebuilt, we have less data in Coverage Explorer and Dashboard than we could actually have:

1) covered method is highlighted green in source editor while in coverage explorer is marked grey as it would be not instrumented at all

2) we have 'average method complexity' unavailable - reconsider whether it's OK or maybe we should have some artificial value for it, for example:
 * 1.0 for every method or
 * number of source lines

3) Dashboard does not show least tested methods; and we can actually do this because we have 0% or 100% of coverage for methods; so we could choose those with 0% of coverage; question whether we should take all or in some random order or few first alphabetically or take artificial complexity (see point 2) value?

See screenshot.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/2012 11:09 AM;mparfianowicz;eclipse_method_coverage_missing_data.png;https://jira.atlassian.com/secure/attachment/79412/eclipse_method_coverage_missing_data.png",,,,,,,,,,,,,,,,true,,"1|hwzwv3:",165900,,,,,157643,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx2grb:",178824,,,,,,,,,,,"1|hwyir3:",157695,379296000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkn3:",186059,,,,,,,,,,,,,,,,,,,,,,,,,,157891,,"1|hwyjxz:",157891,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix ruler coloring when include coverage from passed only is enabled,CLOV-1178,242029,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,08/Nov/2012 9:34 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.7,3.1.8,,,,open-source,,,CEP Plugin,,,,,,,0,,,,,,,,,"Eclipse. Java Editor. Left ruler showing coverage colours (green/yellow/blue). Rules shows ""yellow coverage"" when the ""include from passed only"" option is enabled. There should be no yellow colour in such case. 

Note: source code is highlighted correctly, metrics are fine too.

See screenshot.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/2012 9:34 AM;mparfianowicz;eclipse_ruler_coloring.png;https://jira.atlassian.com/secure/attachment/79407/eclipse_ruler_coloring.png",,,,,,,,,,,,,,,,true,,"1|hwzwsn:",165888,,,,,157631,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx2gov:",178812,,,,,,,,,,,"1|hwyion:",157683,379296000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkmv:",186047,,,,,,,,,,,,,,,,,,,,,,,,,1.0,157879,,"1|hwyjvj:",157879,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Errors in ErrorLog when toggling between projects with Dashboard view active,CLOV-1177,241824,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,07/Nov/2012 11:21 AM,08/Nov/2012 11:55 AM,15/Nov/2024 6:09 PM,07/Nov/2012 2:22 PM,3.1.7,3.1.8,,,,3.1.8,,,CEP Plugin,,,,,,,0,,,,,,,,,"1) Toggle between cloverized projects. Dashboard visible.

Message: Unexpected URI in the Dashboard view: C:\Users\Marek\.workspace-eclipse-3.4.2\Moneybags\.clover\report\dashboard-eclipse.html

{noformat}
java.net.URISyntaxException: Illegal character in opaque part at index 2: C:\Users\Marek\.workspace-eclipse-3.4.2\Moneybags\.clover\report\dashboard-eclipse.html
	at java.net.URI$Parser.fail(Unknown Source)
	at java.net.URI$Parser.checkChars(Unknown Source)
	at java.net.URI$Parser.parse(Unknown Source)
	at java.net.URI.<init>(Unknown Source)
	at com.cenqua.clover.eclipse.views.dashboard.DashboardLocationListener.changing(DashboardLocationListener.java:62)
{noformat}


2) Right click on a closed project, which  was cloverized before. Dashboard view visible. 

Message: Error creating the dashboard
{noformat}
java.lang.NullPointerException
	at com.cenqua.clover.eclipse.views.dashboard.DashboardGenerator.execute(DashboardGenerator.java:41)
	at com.cenqua.clover.eclipse.views.dashboard.DashboardView.generateReport(DashboardView.java:100)
	at com.cenqua.clover.eclipse.views.dashboard.DashboardView.projectSelected(DashboardView.java:91)
	at com.cenqua.clover.eclipse.views.dashboard.DashboardView.selectionChanged(DashboardView.java:130)
	at org.eclipse.ui.internal.AbstractSelectionService.firePostSelection(AbstractSelectionService.java:179)
	at org.eclipse.ui.internal.AbstractSelectionService$2.selectionChanged(AbstractSelectionService.java:71)
{noformat}


3) Cloverized project selected in Package Explorer, Dashboard view opened. Close the selected project.

Message: Problem generating Dashboard report

{noformat}
java.lang.NullPointerException
	at com.cenqua.clover.eclipse.views.dashboard.DashboardView.ensureReportFolderCreated(DashboardView.java:107)
	at com.cenqua.clover.eclipse.views.dashboard.DashboardView.generateReport(DashboardView.java:97)
	at com.cenqua.clover.eclipse.views.dashboard.DashboardView$1.run(DashboardView.java:153)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
{noformat}
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwzvpb:",165709,,,,,157445,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx2fmf:",178637,,,,,,,,,,,"1|hwyhjr:",157497,379382400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx77bb:",185884,,,,,,,,,,,,,,,,,,,,,,,,,1.0,157693,,"1|hwyiqn:",157693,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Added the Clover Plugin,CLOV-1172,239980,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,mparfianowicz,b4fd833b614f,b4fd833b614f,25/Oct/2012 2:56 PM,25/Oct/2012 7:17 PM,15/Nov/2024 6:09 PM,25/Oct/2012 7:16 PM,3.1.7,,,,,3.1.8,,,CIJ Plugin,,,,,,,0,,,,,,,,,"update failed for AnAction with ID=CloverPlugin.AboutAction: Could not initialize class com.cenqua.clover.idea.CloverIcons
java.lang.NoClassDefFoundError: Could not initialize class com.cenqua.clover.idea.CloverIcons
	at com.cenqua.clover.idea.actions.AboutAction.update(AboutAction.java:36)
	at com.intellij.openapi.actionSystem.ex.ActionUtil.performDumbAwareUpdate(ActionUtil.java:98)
	at com.intellij.openapi.actionSystem.impl.Utils.a(Utils.java:165)
	at com.intellij.openapi.actionSystem.impl.Utils.expandActionGroup(Utils.java:124)
	at com.intellij.openapi.actionSystem.impl.ActionToolbarImpl$2.run(ActionToolbarImpl.java:876)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.a(FocusManagerImpl.java:616)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.g(FocusManagerImpl.java:597)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.e(FocusManagerImpl.java:567)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.access$200(FocusManagerImpl.java:55)
	at com.intellij.openapi.wm.impl.FocusManagerImpl$7.run(FocusManagerImpl.java:465)
	at com.intellij.util.ui.UIUtil.invokeLaterIfNeeded(UIUtil.java:1894)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.doWhenFocusSettlesDown(FocusManagerImpl.java:443)
	at com.intellij.openapi.actionSystem.impl.ActionToolbarImpl.a(ActionToolbarImpl.java:922)
	at com.intellij.openapi.actionSystem.impl.ActionToolbarImpl.access$300(ActionToolbarImpl.java:60)
	at com.intellij.openapi.actionSystem.impl.ActionToolbarImpl$MyTimerListener.run(ActionToolbarImpl.java:825)
	at com.intellij.openapi.actionSystem.imp","Java version=1.6.0_37, Java vendor=Sun Microsystems Inc., OS name=Windows 7, OS architecture=amd64, IDEA build number=IU-122.592
Plugin release=3.1.7.v20120831000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1132,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwzkun:",163885,,,,,155526,,,,,,,,,,,2012-10-25 19:15:47.816,,,,,,,,,,,,,,,,,,,,,,,,"2|hx25z3:",177008,,,,,,,,,,,"1|hwy647:",155579,380419200,true,,,,,,,,,,b4fd833b614f(gordonad),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hx6dvb:",180660,,,,,,,,,,,,,,,,,,,,,,,,,,155774,,"1|hwy7av:",155774,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/2012 7:15 PM;mparfianowicz;Hi Gordon, you are using the IDEA build IU-122.592 which is the IDEA 12 EAP (Early Access Program) - i.e. it's not an official IDEA 12 release. Please use the IDEA 11.x version, it should work correctly. Thank you for your bug report, we are aware about the problem and the nearest Clover 3.1.8 release (just a week away) will work with IDEA 12 EAP correctly. See linked issue.

Regards
Marek;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
CloverOptimizerMojo does not support full include/exclude syntax,CLOV-1170,239210,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,22/Oct/2012 7:58 AM,07/Jan/2013 10:11 AM,15/Nov/2024 6:09 PM,13/Dec/2012 2:22 PM,3.1.7,,,,,3.1.10,,,Maven plugin,,,,,,,0,,,,,,,,,"*Problem:*

CloverOptimizerMojo does not support full include/exclude syntax, which can be handled by maven-surefire-plugin. Two cases are not handled right now:

(1) multiple paths separated by comma 
{noformat}
<include>**/Test1.java, **/Test2.java</include>
{noformat}

(2) regular expression instead of Ant-style pattern
{noformat}
<include>%regex[.*Test.class]</include>
{noformat}

See: http://maven.apache.org/plugins/maven-surefire-plugin/examples/inclusion-exclusion.html

*Workaround:*

(1) use separate entries, like:
{noformat}
<include>**/Test1.java</include>
<include>**/Test2.java</include>
{noformat}

(2) not available; user can try to replace regexp by set of Ant-style patterns


*Implementation:*

CloverOptimizerMojo relies an Ant-style patterns underneath. The CloverOptimizerMojo.createFileSet() method has

{noformat}
private FileSet createFileSet(Project antProject, final File directory, List includes, List excludes) {
  FileSet testFileSet = new FileSet();
  ...
  testFileSet.appendIncludes((String[]) includes.toArray(new String[includes.size()]));
}
{noformat}


fix for (1) - split every element in includes/excludes arrays using the comma delimiter and pass expanded arrays to appendIncludes()

fix for (2) - find all elements from includes/excludes arrays having %regexp keyword, run file search on _directory_ using a filename matcher with regexp, create include/exclude for every file matched
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwzgc7:",163132,,,,,154680,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx21ov:",176292,,,,,,,,,,,"1|hwy113:",154733,380764800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfrtr:",10695,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,1.0,154928,,"1|hwy27r:",154928,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Grails Clover Plugin does not intercept 'testc' compiler,CLOV-1167,238077,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,15/Oct/2012 10:50 AM,19/Oct/2012 10:43 AM,15/Nov/2024 6:09 PM,19/Oct/2012 10:43 AM,3.1.6,,,,,3.1.8,,,Grails Plugin,Groovy,,,,,,0,,,,,,,,,"Grails 2.x has introduced a new compiler for building unit tests (from test/unit directory). The 'testc' task is the *org.codehaus.groovy.grails.test.compiler.GrailsTestCompiler* Build log looks like this:

{noformat}
|Compiling 1 source files
    ...
    [testc] ... \test\unit\clover\test\UnitTests.groovy

|Compiling 1 source files
   ...
  [groovyc] ... \test\integration\IntegrationServiceTests.groovy
{noformat}

Clover does not intercept this compiler call (it supports Groovyc, Grailsc, GrailsCompiler). As a consequence unit tests are not instrumented and not included in coverage.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwz9m7:",162024,,,,,153517,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx1v7b:",175223,,,,,,,,,,,"1|hwxtyv:",153570,381369600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx62wv:",178859,,,,,,,,,,,,,,,,,,,,,,,,,1.0,153767,,"1|hwxv5z:",153767,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover does not work with Groovy 2.x,CLOV-1166,237655,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,11/Oct/2012 12:33 PM,26/Mar/2013 8:07 AM,15/Nov/2024 6:09 PM,13/Mar/2013 10:07 PM,3.1.7,,,,,3.1.11,3.1.8,,Groovy,Maven plugin,,,,,,1,,,,,,,,,"*Problem:*

Clover instrumentation fails for Groovy 2.x with a stack trace like below:

{noformat}

BUILD FAILED
c:\Work\support\clv-5892-groovyjarjarasm\tutorial\build.xml:32: java.lang.IncompatibleClassChangeError
        at com.atlassian.clover.instr.groovy.bytecode.RecorderGetterBytecodeInstruction.visit(RecorderGetterBytecodeInstruction.java:109)
        at org.codehaus.groovy.classgen.AsmClassGenerator.visitBytecodeSequence(AsmClassGenerator.java:1771)
        at org.codehaus.groovy.classgen.BytecodeSequence.visit(BytecodeSequence.java:64)
        at org.codehaus.groovy.classgen.asm.StatementWriter.writeBlockStatement(StatementWriter.java:81)
        at org.codehaus.groovy.classgen.asm.OptimizingStatementWriter.writeBlockStatement(OptimizingStatementWriter.java:155)
        at org.codehaus.groovy.classgen.AsmClassGenerator.visitBlockStatement(AsmClassGenerator.java:455)
        at org.codehaus.groovy.ast.stmt.BlockStatement.visit(BlockStatement.java:69)
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClassCodeContainer(ClassCodeVisitorSupport.java:101)
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitConstructorOrMethod(ClassCodeVisitorSupport.java:112)
        at org.codehaus.groovy.classgen.AsmClassGenerator.visitStdMethod(AsmClassGenerator.java:319)
        at org.codehaus.groovy.classgen.AsmClassGenerator.visitConstructorOrMethod(AsmClassGenerator.java:276)
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitMethod(ClassCodeVisitorSupport.java:123)
        at org.codehaus.groovy.classgen.AsmClassGenerator.visitMethod(AsmClassGenerator.java:396)
        at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:1056)
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:50)
        at org.codehaus.groovy.classgen.AsmClassGenerator.visitClass(AsmClassGenerator.java:180)
        at org.codehaus.groovy.control.CompilationUnit$14.call(CompilationUnit.java:786)
        at org.codehaus.groovy.control.CompilationUnit.applyToPrimaryClassNodes(CompilationUnit.java:1027)
        at org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:564)
        at org.codehaus.groovy.control.CompilationUnit.processPhaseOperations(CompilationUnit.java:542)
        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:519)
        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:498)
        at org.codehaus.groovy.tools.FileSystemCompiler.compile(FileSystemCompiler.java:57)
        at org.codehaus.groovy.tools.FileSystemCompiler.doCompilation(FileSystemCompiler.java:213)
        at org.codehaus.groovy.ant.Groovyc.runCompiler(Groovyc.java:947)
        at org.codehaus.groovy.ant.Groovyc.compile(Groovyc.java:994)
        at org.codehaus.groovy.ant.Groovyc.execute(Groovyc.java:630)
{noformat}

*Reason:*

RecorderGetterBytecodeInstruction extends org.codehaus.groovy.classgen.BytecodeInstruction
and implements a following method:
public void visit(groovyjarjarasm.asm.MethodVisitor methodVisitor)

In Groovy 1.x MethodVisitor is an interface. In Groovy 2.x MethodVisitor is a class. Although RecorderGetterBytecodeInstruction compiles correctly with both Groovy versions, it fails at runtime during bytecode verification, becase visit() method gets different bytecode signature.

*Solution:*

Compile RecorderGetterBytecodeInstruction against two different Groovy versions. Load proper version using reflections at runtime. 
",,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,"05/Mar/2013 1:29 PM;a2e438929324;maven-clover-plugin-error.log;https://jira.atlassian.com/secure/attachment/87580/maven-clover-plugin-error.log","05/Mar/2013 1:29 PM;a2e438929324;pom.xml;https://jira.atlassian.com/secure/attachment/87582/pom.xml","05/Mar/2013 1:29 PM;a2e438929324;pom.xml;https://jira.atlassian.com/secure/attachment/87581/pom.xml",,,,,,,,,,,,,,true,,"1|hwyb13:",156415,,,,,147834,,,,,,Unknown,,,,,2013-01-30 20:03:29.691,,,,,,,,,,,,,,,,,,,,,,,,"2|hx0wv3:",169654,,,,,,,,,,,"1|hwwuxb:",147887,368928000,true,,,,,,,,,,d402e7bb30c8(ben.brown),a2e438929324(benfortuna),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,"1|hwfkav:",9481,,,,,,,,,,,,,,,,,,,,,,,,,2.0,148084,,"1|hwww4f:",148084,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"30/Jan/2013 8:03 PM;d402e7bb30c8;I saw that this issue was fixed and attributed to 3.1.8, but we still weren't able to get the maven-clover2-plugin to work with groovy 2.x. Looking through the change logs it looks like this bug got assigned to the changes for Ant.

https://confluence.atlassian.com/display/CLOVER/Changes+in+3.1.8+for+Ant

Is there a chance that this would also get fixed for the maven clover2 plugin?;;;","31/Jan/2013 6:35 AM;mparfianowicz;Hi Ben. Change was made in Clover core, so maven-clover2-plugin should work too. Did you test a version 3.1.8 (or 3.1.10)? If the problem still occurs, please attach some log files (the best with ""mvn -X"") and a pom.xml used. Cheers!;;;","05/Mar/2013 1:29 PM;a2e438929324;See attached error log

(You can check out the project on Google code: http://code.google.com/p/ousia/ to see the pom). I ran the following:

mvn clean clover2:setup test clover2:clover;;;","05/Mar/2013 1:30 PM;a2e438929324;I can't seem to resolve this issue using various combinations of versions. All of the following give the IncompatibleClassChangeError:

maven-compiler-plugin [2.5.1, 3.0]
maven-clover-plugin [3.1.8, 3.10.1]
groovy-all [2.0.6, 2.1.1]

See attached files for details. Many thanks for your assistance.
;;;","06/Mar/2013 10:47 AM;mparfianowicz;The groovy-eclipse-batch-2.0.6-01.jar contains ASM framework v 4.0, in which the *org.objectweb.asm.MethodVisitor* is a class. Clover was compiled against ASM-3.1 in which the MethodVisitor is an interface. This bug fix was for *groovyjarjarasm.asm.MethodVisitor* (which is contained in groovy-all.jar and has the same interface-vs-class problem in 1.x and 2.x). I will reopen the bug and prepare a fix for ASM 3.x v 4.x as well.;;;","06/Mar/2013 12:47 PM;mparfianowicz;Hi Ben, I've got a fix. You can check it in the com.cenqua.clover:3.1.11-SNAPSHOT. It's available here:

https://maven.atlassian.com/public-snapshot/com/cenqua/clover/clover/3.1.11-SNAPSHOT/

(clover-3.1.11-20130306.124317-41.jar 	Wed Mar 06 06:43:18 CST 2013 	13751212)

If you declare a dependency to maven-clover2-plugin:3.1.11-SNAPSHOT in your POM, it should fetch the correct version of Clover core:

{code:xml}
<plugin>
   <groupId>com.atlassian.maven.plugins</groupId>
   <artifactId>maven-clover2-plugin</artifactId>
   <version>3.1.11-SNAPSHOT</version>
</plugin>
{code}

Could you check it on your project, please? I ran build on 'ousia' project, the class loader error does not occur, but build failed on some license check:

{noformat}
[INFO] [license:check {execution: default}]
[INFO] Checking licenses...
[INFO] Missing header in: c:\Work\third-party-sources\ousia\src\main\groovy\org\mnode\ousia\util\ResourceBundleExtension
.groovy
[WARNING] Unknown file extension: c:\Work\third-party-sources\ousia\src\test\resources\find.svg
[INFO] Missing header in: c:\Work\third-party-sources\ousia\src\test\groovy\org\mnode\ousia\util\ResourceBundleExtension
Spec.groovy
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Some files do not have the expected license header
{noformat}

Cheers
Marek;;;","07/Mar/2013 10:58 PM;a2e438929324;Hi Marek,

Thanks for the quick response. I have updated my project(s) to 3.1.11-SNAPSHOT (and fixed the other build errors) and clover seems to run fine now with Groovy 2.1.1.

The hardest bit was getting my environment to use the Atlassian Snapshot Repository (needs to be configured under both repositories and pluginRepositories), but that won't be an issue once you release this version.

Thanks again.
;;;","08/Mar/2013 7:11 AM;mparfianowicz;Cool! In such case I will deliver this fix in the incoming 3.1.11 release (will be available this month).;;;",,,,,,,,,,,,,,,,,,,
Fix AbstractAntLogger,CLOV-1165,231359,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,10/Oct/2012 6:54 AM,19/Oct/2012 9:03 AM,15/Nov/2024 6:09 PM,10/Oct/2012 6:56 AM,3.1.7,,,,,3.1.8,,,Ant Tasks,,,,,,,0,,,,,,,,,"The AbstractAntLogger class logs the message only if Ant Task is not null:

{noformat}
protected void antLog(Project proj, Task task, String aMsg, int antLogLevel) {
        if (task != null) {
            proj.log(task, aMsg, antLogLevel);
        }
    }
{noformat}

As a consequence, no log is availalbe in case when code it's called outside Ant - problem was found in open-source Gradle Clover Plugin.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwy8nz:",150835,,,,,142243,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx0ugn:",164074,,,,,,,,,,,"1|hwwshr:",142296,381801600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx52kf:",167858,,,,,,,,,,,,,,,,,,,,,,,,,1.0,142493,,"1|hwwtov:",142493,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inconsistent popup menu in different IDEA versions,CLOV-1154,212324,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,08/Oct/2012 11:32 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,someday,,,CIJ Plugin,,,,,,,0,,,,,,,,,"IDEA 10 and newer is not showing the ""Exclude from compile"" option when sources are instrumented. In IDEA9 it was working fine. See 'popup_menu_in_ideas.png' screenshot. My suspicion is that IDEA somehow does not treat instrumented file as a source code, thus hiding this option from popup menu.

What's more, when you click on the ""Jump to source"" it opens the Explorer window, instead of opening the source file in IDEA.

See also:

META-INF/plugin.xml
com.cenqua.clover.idea.CloverPlugin.initComponent()

com.intellij.openapi.actionSystem.IdeActions;
    @NonNls String GROUP_COMPILER_ERROR_VIEW_POPUP = ""CompilerErrorViewPopupMenu"";

com.intellij.compiler.imp.CompilerErrorTreeView.addExtraPopupMenuActions();
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Oct/2012 11:32 AM;mparfianowicz;popup_menu_in_ideas.png;https://jira.atlassian.com/secure/attachment/72670/popup_menu_in_ideas.png",,,,,,,,,,,,,,,,true,,"1|hwy607:",150266,,,,,141654,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx0rtb:",163507,,,,,,,,,,,"1|hwwpqv:",141707,381974400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx4zzb:",167039,,,,,,,,,,,,,,,,,,,,,,,,,2.0,141904,,"1|hwwqxz:",141904,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover IDEA plugin exception,CLOV-1153,212321,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,ff5eced7cbfd,ff5eced7cbfd,08/Oct/2012 9:50 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,someday,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Occurred when was opening a project in a new window (another project was also opened at the time.)
Clover was enabled in the project being opened, was disabled in the already opened project.

Requested feature clover was not found: Requested feature clover was not found
java.lang.IllegalArgumentException: Requested feature clover was not found
	at com.cenqua.clover.idea.feature.FeatureManager.addFeatureListener(FeatureManager.java:23)
	at com.cenqua.clover.idea.content.ContentManager.init(ContentManager.java:65)
	at com.cenqua.clover.idea.ProjectPlugin.getContentManager(ProjectPlugin.java:182)
	at com.cenqua.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:115)
	at com.cenqua.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:79)
	at com.intellij.ide.startup.impl.StartupManagerImpl$6.run(StartupManagerImpl.java:230)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:203)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$100(StartupManagerImpl.java:41)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:170)
	at com.intellij.openapi.project.DumbServiceImpl.runWhenSmart(DumbServiceImpl.java:92)
	at com.intellij.ide.startup.impl.StartupManagerImpl.runPostStartupActivities(StartupManagerImpl.java:164)
	at com.intellij.openapi.project.impl.ProjectManagerImpl$5$2.run(ProjectManagerImpl.java:442)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:646)
	at java.awt.EventQueue.access$000(EventQueue.java:84)
	at java.awt.EventQueue$1.run(EventQueue.java:607)
	at java.awt.EventQueue$1.run(EventQueue.java:605)
	at java.security.Access","Java version=1.6.0_30, Java vendor=Sun Microsystems Inc., OS name=Windows 7, OS architecture=amd64, IDEA build number=IU-117.798
Plugin release=3.1.7.v20120831000000",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwy5zj:",150263,,,,,141651,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx0rsn:",163504,,,,,,,,,,,"1|hwwpq7:",141704,381974400,true,,,,,,,,,,ff5eced7cbfd(sank_alm),,,,,,,,,,,,,,,,,,,"1|hx4zyn:",167036,,,,,,,,,,,,,,,,,,,,,,,,,,141901,,"1|hwwqxb:",141901,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover fails to find coverage snapshot files when IBM JRE is used,CLOV-1151,203600,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,28/Sep/2012 2:23 PM,19/Oct/2012 9:02 AM,15/Nov/2024 6:09 PM,03/Oct/2012 10:59 AM,3.1.7,,,,,3.1.8,,,Instrumentation,,,,,,,0,,,,,,,,,"*Problem:* it seems that IBM JRE implementation differs from Oracle JRE in such way that Object.hashCode() can return a negative value. As a consequence, file name suffix generated for coverage snapshot and test slice snapshot may be composed not only of '0-9a-z_' characters, but also have minus ""-"" sign in it. 

As a result such file name does not match regular expression used for searching of coverage files and coverage is not read. 

*Workaround:* rename coverage snapshot file(s) and remove ""-"" character.
",,,,,,14400,14400,,0%,14400,14400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwxlof:",146322,,,,,137699,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hx07kv:",159578,,,,,,,,,,,"1|hww5cn:",137752,382838400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx4gqv:",163263,,,,,,,,,,,,,,,,,,,,Version 3.1.8,,,,,1.0,137949,,"1|hww6jr:",137949,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Clover does not instrument groovy source files, (groovy-eclipse compiler) when located in src/main/groovy",CLOV-1150,202443,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,f1c627903a03,f1c627903a03,24/Sep/2012 8:24 PM,08/Dec/2015 10:37 AM,15/Nov/2024 6:09 PM,22/Apr/2013 7:13 AM,3.1.7,,,,,3.1.12,,,Groovy,Maven plugin,,,,,,0,,,,,,,,,"When building a groovy project with maven, I am trying to get clover code coverage reports. With all source files in .java and in src/main/java, clover works fine. However, with all source files in .groovy and in src/main/groovy, clover can not instrument the files (clover2:instrument, or clover2:setup). 

Everything that I can find is saying that clover versions after 3.1.3 support the maven groovy eclipse compiler (so long as the groovy files are located in src/main/groovy). See this ticket: https://jira.atlassian.com/browse/CLOV-1021?page=com.atlassian.jira.plugin.system.issuetabpanels:changehistory-tabpanel


There is another support ticket that I found that seems to cover the same issue, however I cannot access it. Here is the link
https://support.atlassian.com/browse/CLV-5878

A partial output log is included here. I will try to come up with a small test project that I can upload here. Any help would be appreciated.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1144,,,,,,,,"26/Sep/2012 5:07 PM;f1c627903a03;GroovyPrefixCalc.zip;https://jira.atlassian.com/secure/attachment/71912/GroovyPrefixCalc.zip","24/Sep/2012 8:24 PM;f1c627903a03;cloverfailure.rtf;https://jira.atlassian.com/secure/attachment/71777/cloverfailure.rtf",,,,,,,,,,,,,,,true,,"1|hwxgtb:",145484,,,,,136847,,,,,,Unknown,,,,,2012-09-25 07:28:46.652,,,,,,,,,,,,,,,,,,,,,,,,"2|hx02t3:",158754,,,,,,,,,,,"1|hww0ef:",136900,358905600,true,,,,,,,,,,f1c627903a03(aarmistead),mparfianowicz(mparfianowicz),4bd5d052d26c(pavankumars),,,,,,,,,,,,,,,,,"1|hwfad3:",7667,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,5.0,137097,,"1|hww1lj:",137097,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"25/Sep/2012 7:28 AM;mparfianowicz;Hi Aaron,

Please have a look at the linked [CLOV-1144|https://jira.atlassian.com/browse/CLOV-1144] issue. If you will keep:
 * all *.java files in src/main/java and
 * all *.groovy files in src/main/groovy
then Clover should work fine with groovy-eclipse-plugin. 

If it still does not work, then could you give more details and attach the following:
 * pom.xml
 * full build log with 'mvn -X -e -Dclover.debug=true'
 * information about project layout (directories, where are source files kept etc)

PS: if you need a working solution (or workaround) immediately, then please create a support ticket at support.atlassian.com, CLV project. Bugs reported here (i.e. http://jira.atlassian.com/browse/CLOV) are being scheduled and fixed according to our https://confluence.atlassian.com/display/Support/Atlassian+Bug+Fixing+Policy so it might take more time.

Cheers
Marek;;;","26/Sep/2012 5:07 PM;f1c627903a03;Here is a basic sample project that fails. To recreate the issue, unzip the package, and run mvn clover2:setup or mvn clover2:instrument.

The project here is just a simple test project. I took the pom.xml down to its minimum to eliminate other potential conflicts. I gave a zipped file to show directory/file structure.;;;","26/Sep/2012 5:18 PM;f1c627903a03;Support request on same issue;;;","27/Sep/2012 5:24 AM;mparfianowicz;Thanks a lot for a test case, I'll check what's wrong.;;;","27/Sep/2012 10:59 AM;mparfianowicz;This case was handled on support page.;;;","18/Apr/2013 12:17 PM;mparfianowicz;Hello Aaron, a fix for your bug is ready. You can test it using maven-clover2-plugin version 3.1.12-SNAPSHOT. Cheers!!!;;;","13/Jun/2013 11:57 AM;4bd5d052d26c;I am using a trial license of Clover and hit this problem with maven-clover2-plugin version 3.1.11. I found this JIRA entry via a web search and tried out the 3.1.12-SNAPSHOT version and I still cannot get clover to instrument my groovy files under src/main/groovy.;;;","13/Jun/2013 12:31 PM;mparfianowicz;Hi Pavan, 

Please have a look at the https://bitbucket.org/atlassian/maven-clover2-plugin, directory src/it. You'll find code samples:
 * gmaven-plugin
 * gmaven-plugin-no-java 
 * groovy-eclipse-plugin
 * groovy-eclipse-plugin-src-main-groovy
 * groovy-eclipse-plugin-src-main-java

Cheers
Marek;;;","28/Jun/2013 10:03 AM;4bd5d052d26c;Thanks Marek. I looked up the samples and I think what we are doing/using is not a special case. I used this https://bitbucket.org/atlassian/maven-clover2-plugin/src/dd6db4b661e6d9893c9d51744ee492720ed42ba5/src/it/groovy-eclipse-plugin/pom.xml as my reference.

 We have java code under src/main/java and groovy code under src/main/groovy, which are the defaults supported by both the groovy plugin and the clover plugin. Interestingly, when I generate the debug log file via ""mvn -X -e -Dclover.debug=true clover2:setup"" I see the following log which indicates that the groovy files are being included for instrumentation.

[DEBUG] Clover including the following files for Groovy instrumentation: 

Infact, I see the groovy file inclusion even without using the help of the build-helper-maven-plugin or the extensions=true feature of the groovy-eclipse-compiler-plugin. But, I don't see the instrumented sources for any of the groovy files under target/clover/src-instrumented. I can see the instrumented sources for only the .java files. I am getting this behaviour with both v3.1.11 and the 3.1.12-SNAPSHOT;;;","28/Jun/2013 12:36 PM;mparfianowicz;Hi Pavan,

Clover does not instrument *.groovy files on a source level, but it modifies the AST (abstract syntax tree). It means that you will not find any *.groovy files in src-instrumented directory. In order to check if groovy files were instrumented, please generate HTML report and check if groovy files are present in it.

Cheers
Marek;;;","01/Jul/2013 7:14 AM;4bd5d052d26c;Hi Marek,

That is useful information. I generated the clover report and looked through the details. I see that clover IS reporting coverage for SOME of the groovy files. While it is reporting non-zero coverage for the 'plain' (non annotated) groovy files, it is reporting zero coverage for files uing various Spring and Groovy annotations such as @Controller, @PreAuthorize, @Commons etc. I am pretty sure my tests exercising these parts of the code. Are there any issues with collecting/reporting coverage numbers for Groovy files with Spring annotations? Is there a list of supported Spring annotations? We are using Spring 3.X. 

Thanks,
Pavan;;;","01/Jul/2013 8:08 PM;mparfianowicz;Hi Pavan,

I know about two bugs related with Groovy causing lack of instrumentation:

https://jira.atlassian.com/browse/CLOV-1195
https://jira.atlassian.com/browse/CLOV-1062

In case when you're using the Clover-for-Grails plugin, the exclusion/inclusion filters can affect scope of instrumentation too:
https://bitbucket.org/atlassian/grails-clover-plugin/src/cb55c2e4cddf5f78ee6e2968d6dabaada86d38e2/scripts/_Events.groovy?at=grails

I do not have any Spring 3.x list of annotations supported by Clover, unfortunately. 

Cheers
Marek;;;","02/Jul/2013 12:47 PM;mparfianowicz;Clover-for-Maven version 3.1.12 including this fix was just released.;;;",,,,,,,,,,,,,,
clicked on Cloverage tag after freshly installed clover plugin,CLOV-1147,201522,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,mparfianowicz,07ff1bcec04b,07ff1bcec04b,19/Sep/2012 3:27 PM,20/Sep/2012 10:18 AM,15/Nov/2024 6:09 PM,20/Sep/2012 10:18 AM,,,,,,3.1.8,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Icon cannot be found in '/objectBrowser/showStructure.png', action class='com.cenqua.clover.idea.actions.view.ShowSummaryToggleAction' [Plugin: com.atlassian.clover]: Icon cannot be found in '/objectBrowser/showStructure.png', action class='com.cenqua.clover.idea.actions.view.ShowSummaryToggleAction' [Plugin: com.atlassian.clover]
com.intellij.diagnostic.PluginException: Icon cannot be found in '/objectBrowser/showStructure.png', action class='com.cenqua.clover.idea.actions.view.ShowSummaryToggleAction' [Plugin: com.atlassian.clover]
	at com.intellij.openapi.actionSystem.impl.ActionManagerImpl.a(ActionManagerImpl.java:908)
	at com.intellij.openapi.actionSystem.impl.ActionManagerImpl.access$000(ActionManagerImpl.java:69)
	at com.intellij.openapi.actionSystem.impl.ActionManagerImpl$1.compute(ActionManagerImpl.java:447)
	at com.intellij.openapi.util.IconLoader$LazyIcon.getOrComputeIcon(IconLoader.java:337)
	at com.intellij.openapi.util.IconLoader$LazyIcon.getIconWidth(IconLoader.java:324)
	at com.intellij.openapi.util.IconLoader.isGoodSize(IconLoader.java:195)
	at com.intellij.openapi.util.IconLoader.getDisabledIcon(IconLoader.java:211)
	at com.intellij.openapi.actionSystem.impl.ActionButton.a(ActionButton.java:240)
	at com.intellij.openapi.actionSystem.impl.ActionButton.addNotify(ActionButton.java:188)
	at java.awt.Container.addNotify(Container.java:2769)
	at javax.swing.JComponent.addNotify(JComponent.java:4743)
	at com.intellij.openapi.actionSystem.impl.ActionToolbarImpl.addNotify(ActionToolbarImpl.java:172)
	at java.awt.Container.addNotify(Container.java:2769)
	at java.awt.Container.addNotify(Container.java:2769)
	at javax.swing.JComponent.addNotify(JComponent.java:4743)
	at java.awt.Container.addNotify(Container.java:2769)
	at javax.swing.JComponent.addNotify(JComponent.java:4743)
	at java.awt.Container.addNotify(Container.java:2769)
	at javax.swing.JComponent.addNotify(JComponent.java:4743)
	at java.awt.Container.addNotify(Container.java:2769)
	at javax.swing.JComponent.addNotify(JComponent.java:4743)
	at java.awt.Container.addNotify(Container.java:2769)
	at javax.swing.JComponent.addNotify(JComponent.java:4743)
	at java.awt.Container.addNotify(Container.java:2769)
	at javax.swing.JComponent.addNotify(JComponent.java:4743)
	at java.awt.Container.addNotify(Container.java:2769)
	at javax.swing.JComponent.addNotify(JComponent.java:4743)
	at java.awt.Container.addNotify(Container.java:2769)
	at javax.swing.JComponent.addNotify(JComponent.java:4743)
	at java.awt.Container.addImpl(Container.java:1114)
	at java.awt.Container.add(Container.java:410)
	at com.intellij.openapi.ui.ThreeComponentsSplitter.setFirstComponent(ThreeComponentsSplitter.java:320)
	at com.intellij.openapi.wm.impl.ToolWindowsPane.a(ToolWindowsPane.java:324)
	at com.intellij.openapi.wm.impl.ToolWindowsPane.access$400(ToolWindowsPane.java:50)
	at com.intellij.openapi.wm.impl.ToolWindowsPane$AddDockedComponentCmd.run(ToolWindowsPane.java:622)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:333)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:251)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:721)
	at java.awt.EventQueue.access$200(EventQueue.java:103)
	at java.awt.EventQueue$3.run(EventQueue.java:682)","Java version=1.7.0_07, Java vendor=Oracle Corporation, OS name=Linux, OS architecture=amd64, IDEA build number=IU-122.327
Plugin release=3.1.7.v20120831000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1132,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwxbnb:",144581,,,,,134256,,,,,,,,,,,2012-09-20 10:17:57.304,,,,,,,,,,,,,,,,,,,,,,,,"2|hwzxr3:",157869,,,,,,,,,,,"1|hwvktb:",134309,383529600,true,,,,,,,,,,07ff1bcec04b(jerzypuc),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hx47dr:",161621,,,,,,,,,,,,,,,,,,,,,,,,,,134507,,"1|hwvm3r:",134521,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/2012 10:17 AM;mparfianowicz;Hi Jerzy,

Please note that you are using IDEA 12 EAP version, which is not a final and official IDEA 12 release. Clover-for-IDEA is currently compatible with [IDEA9.x - IDEA11.x|https://confluence.atlassian.com/display/CLOVER/Supported+Platforms]. Thank you very much for your bug report. We already know about this problem and are working on it - please track the [CLOV-1132|https://jira.atlassian.com/browse/CLOV-1132] - it's scheduled for Clover 3.1.8.

Regards
Marek;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
IDEA reported exception during creation of new project after freshly installed clover plugin,CLOV-1146,201521,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,mparfianowicz,07ff1bcec04b,07ff1bcec04b,19/Sep/2012 3:25 PM,20/Sep/2012 10:17 AM,15/Nov/2024 6:09 PM,20/Sep/2012 10:17 AM,,,,,,3.1.8,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Started new project on idea122.327 with freshly installed clover plugin.

update failed for AnAction with ID=CloverPlugin.AboutAction: Could not initialize class com.cenqua.clover.idea.CloverIcons
java.lang.NoClassDefFoundError: Could not initialize class com.cenqua.clover.idea.CloverIcons
	at com.cenqua.clover.idea.actions.AboutAction.update(AboutAction.java:31)
	at com.intellij.openapi.actionSystem.ex.ActionUtil.performDumbAwareUpdate(ActionUtil.java:98)
	at com.intellij.openapi.actionSystem.impl.Utils.a(Utils.java:165)
	at com.intellij.openapi.actionSystem.impl.Utils.expandActionGroup(Utils.java:124)
	at com.intellij.openapi.actionSystem.impl.ActionToolbarImpl$2.run(ActionToolbarImpl.java:836)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.a(FocusManagerImpl.java:616)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.g(FocusManagerImpl.java:597)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.e(FocusManagerImpl.java:567)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.access$200(FocusManagerImpl.java:55)
	at com.intellij.openapi.wm.impl.FocusManagerImpl$7.run(FocusManagerImpl.java:465)
	at com.intellij.util.ui.UIUtil.invokeLaterIfNeeded(UIUtil.java:1881)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.doWhenFocusSettlesDown(FocusManagerImpl.java:443)
	at com.intellij.openapi.actionSystem.impl.ActionToolbarImpl.a(ActionToolbarImpl.java:882)
	at com.intellij.openapi.actionSystem.impl.ActionToolbarImpl.access$300(ActionToolbarImpl.java:61)
	at com.intellij.openapi.actionSystem.impl.ActionToolbarImpl$MyTimerListener.run(ActionToolbarImpl.java:790)
	at com.intellij.openapi.actionSystem.impl.WeakTimerListener.run(WeakTimerListener.java:50)
	at com.intellij.openapi.actionSystem.impl.ActionManagerImpl$MyTimer.a(ActionManagerImpl.java:1263)
	at com.intellij.openapi.actionSystem.impl.ActionManagerImpl$MyTimer.a(ActionManagerImpl.java:1252)
	at com.intellij.openapi.actionSystem.impl.ActionManagerImpl$MyTimer.actionPerformed(ActionManagerImpl.java:1233)
	at javax.swing.Timer.fireActionPerformed(Timer.java:312)
	at javax.swing.Timer$DoPostEvent.run(Timer.java:244)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:251)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:721)
	at java.awt.EventQueue.access$200(EventQueue.java:103)
	at java.awt.EventQueue$3.run(EventQueue.java:682)
	at java.awt.EventQueue$3.run(EventQueue.java:680)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:691)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:672)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:497)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:375)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:333)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:244)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:163)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:147)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:139)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:97)
","Java version=1.7.0_07, Java vendor=Oracle Corporation, OS name=Linux, OS architecture=amd64, IDEA build number=IU-122.327
Plugin release=3.1.7.v20120831000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1132,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwxbn3:",144580,,,,,134255,,,,,,,,,,,2012-09-20 10:16:44.883,,,,,,,,,,,,,,,,,,,,,,,,"2|hwzxqv:",157868,,,,,,,,,,,"1|hwvkt3:",134308,383529600,true,,,,,,,,,,07ff1bcec04b(jerzypuc),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hx47dj:",161620,,,,,,,,,,,,,,,,,,,,,,,,,,134506,,"1|hwvm3j:",134520,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/2012 10:16 AM;mparfianowicz;Hi Jerzy,

Please note that you are using IDEA 12 EAP version, which is not a final and official IDEA 12 release. Clover-for-IDEA is currently compatible with [IDEA9.x - IDEA11.x|https://confluence.atlassian.com/display/CLOVER/Supported+Platforms]. Thank you very much for your bug report. We already know about this problem and are working on it - please track the [CLOV-1132|https://jira.atlassian.com/browse/CLOV-1132] - it's scheduled for Clover 3.1.8.

Regards
Marek;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Support *.groovy files in src/main/java folder for groovy-eclipse-plugin,CLOV-1144,200342,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,11/Sep/2012 2:01 PM,14/Jul/2016 9:20 AM,15/Nov/2024 6:09 PM,22/Apr/2013 7:12 AM,3.1.7,,,,,3.1.12,,,Groovy,Maven plugin,,,,,,0,,,,,,,,,"*Problem:*

Clover fails during instrumentation of *.groovy files in case when sources are put in src/main/java directory, instead of src/main/groovy and when the groovy-eclipse-plugin is used. 

*Steps to reproduce:*

 * create a project with groovy-eclipse-plugin and maven-clover2-plugin
 * put a *.groovy file inside src/main/java
 * run build

*Expected error:*

{noformat}
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.201s
[INFO] Finished at: Mon Sep 10 10:16:48 CDT 2012
[INFO] Final Memory: 7M/18M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal com.atlassian.maven.plugins:maven-clover2-plugin:3.1.7:setup (default-cli) on project test.project: Clover has failed to instrument the source files in the [C:\workspaces\workspace\TestProject\target\clover\src-instrumented] directory -> [Help 1]
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.atlassian.maven.plugins:maven-clover2-plugin:3.1.7:setup (default-cli) on project test.project: Clover has failed to instrument the source files in the [C:\workspaces\workspace\TestProject\target\clover\src-instrumented] directory
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:217)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)
Caused by: org.apache.maven.plugin.MojoExecutionException: Clover has failed to instrument the source files in the [C:\workspaces\workspace\TestProject\target\clover\src-instrumented] directory
	at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrumentSources(AbstractInstrumenter.java:197)
	at com.atlassian.maven.plugin.clover.internal.instrumentation.AbstractInstrumenter.instrument(AbstractInstrumenter.java:72)
	at com.atlassian.maven.plugin.clover.CloverInstrumentInternalMojo.execute(CloverInstrumentInternalMojo.java:309)
	at com.atlassian.maven.plugin.clover.CloverSetupMojo.execute(CloverSetupMojo.java:31)
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
	... 19 more
[ERROR] 
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
  *** ERROR: No source files specified

  USAGE: com.cenqua.clover.CloverInstr [OPTIONS] PARAMS [FILES...]
{noformat}

A reason is that Java compiler is involved here, Clover is called, it filters out all files which do not have *.java extension and as a consequence it passes wrong argument to CloverInstr.

*Solution:*

1) Add check to AbstractInstrumenter (maven-clover2-plugin) so it does not call CloverInstr in case no matching files are found

2) Add support for src/main/java, src/test/java directories for Groovy - probably in GroovySourceScanner + CloverInstrumentInternalMojo


*Workaround:*

Put Groovy files in correct location i.e. src/main/groovy - they'll be handled correctly by Clover.

*Background:*

According to groovy-eclipse-plugin documentation, they recommend putting groovy files inside java folder - it's not nice, but it's the fastest set-up. 

http://groovy.codehaus.org/Groovy-Eclipse+compiler+plugin+for+Maven",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1150,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwx4x3:",143446,,,,,133005,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwzrmf:",156833,,,,,,,,,,,"1|hwvddb:",133058,358905600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfacv:",7666,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,3.0,133265,,"1|hwvepr:",133279,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"02/Jul/2013 12:46 PM;mparfianowicz;Clover-for-Maven version 3.1.12 including this fix was just released.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Remove grover*.jar after build,CLOV-1137,199284,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,03/Sep/2012 12:27 PM,06/Nov/2012 12:38 PM,15/Nov/2024 6:09 PM,06/Nov/2012 12:38 PM,3.1.7,,,,,3.1.8,,,Maven plugin,,,,,,,0,,,,,,,,,"A maven-clover2-plugin creates a groover*.jar file in $java.io.tmpdir directory. This JAR is next being dynamically added as a build dependency artifact. It must be available till end of the build.

Unfortunately Maven has nothing like post-build-cleanup phase (which would be always executed at end of build). We need a workaround for this, for example:

1) Create a new Clover goal, like clover2:post-build-cleanup, which will remove this file. 

2) Alternatively, find a way to add Clover groovy runtime classes to classpath, so that creation of JAR file would not be needed anymore. 

As soon as this bug is fixed, a corresponding update of Bamboo Clover Plugin is necessary. See linked issue.

*Solution implemented:*

Instead of playing with post-build cleanup, there are two new options available in <clover-setup/> taks (Ant) and clover2:setup / clover2:instrument goals (Maven):
 * skipGroverJar - if set to true it will not extract artifact at all (can be used only if there's no Groovy code in a project)
 * groverJar - target location of grover.jar file (fixed name and location instead of generating temporary file name in java.io.tmpdir)
",,,,,,,,,,,,,,,BAM-12118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwwym7:",142314,,,,,130872,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwzkan:",155618,,,,,,,,,,,"1|hwv5f3:",130925,384998400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx3uk7:",159488,,,,,,,,,,,,,,,,,,,,Version 3.1.8,,,,,2.0,131131,,"1|hwv6rb:",131145,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Coverage ruler does not refresh correctly when all source code annotations are disabled,CLOV-1136,199075,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,31/Aug/2012 9:11 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.1.4,3.1.5,3.1.6,3.1.7,,open-source,,,CEP Plugin,,,,,,,1,,,,,,,,,"A left Clover coverage ruler does not refresh correctly after change in coverage in case when we don't have Clover-related source code annotations enabled. Steps to reproduce:
 - install Clover, enable it for a Moneybags project, perform full rebuild
 - open MoneyBagTest -> coverage is red
 - open Window > Preferences > Editors > Text editors > Annotations
 - for all ""Clover: xxx"" annotation types disable ""Vertical ruler"", ""Overview ruler"" and ""Text as"" checkboxes
 - run opened test case (right click, run as, junit test)

Result:
 - JUnit view shows that tests were executed, Coverage Explorer view is also updated correctly, but the ruler is still highlighted in red
 - now scroll the text editor up and down - ruler refreshes during repaint; (the same happens when editor is reopened or resized)

See attached screenshot.

Expected result:
1) ruler should refresh automatically when coverage data is changed, no matter whether source annotation is enabled or not OR
2) ruler should not draw any color if corresponding source code annotation is disabled
","Does not work on Eclipse 3.4.2, 3.5.2, 3.6.2, 3.7.2.",,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1962,,,,,,,,"31/Aug/2012 9:11 AM;mparfianowicz;clov-1136.png;https://jira.atlassian.com/secure/attachment/70627/clov-1136.png",,,,,,,,,,,,,,,,true,,"1|hwwqcn:",140967,,,,,128872,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwzj3j:",155417,,,,,,,,,,,"1|hwut4f:",128925,385257600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkmn:",159161,,,,,,,,,,,,,,,,,,,,Version 3.1.8,,,,,2.0,129131,,"1|hwuugn:",129145,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Coverage ruler does not read settings from Preferences,CLOV-1135,199063,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,31/Aug/2012 7:03 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,3.1.4,3.1.5,3.1.6,3.1.7,,open-source,,,CEP Plugin,,,,,,,0,,,,,,,,,"A left ruler showing code coverage markers is always reading default color values (defined in plugin.xml), instead of current settings from IDE (Window > Preferences > ... Text editors > Annotations). Note that color in text editor is updated correctly. See attached screenshot. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/2012 7:13 AM;mparfianowicz;clov-1135.png;https://jira.atlassian.com/secure/attachment/70624/clov-1135.png",,,,,,,,,,,,,,,,true,,"1|hwwqav:",140958,,,,,128863,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwzj1r:",155408,,,,,,,,,,,"1|hwut2n:",128916,385257600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkmf:",159154,,,,,,,,,,,,,,,,,,,,Version 3.1.8,,,,,1.0,129122,,"1|hwuuev:",129136,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix Clover-for-IDEA compatibility with IntelliJ IDEA 12,CLOV-1132,195253,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,02/Aug/2012 9:06 AM,08/Nov/2012 11:53 AM,15/Nov/2024 6:09 PM,19/Oct/2012 12:19 PM,,,,,,3.1.8,,,CIJ Plugin,,,,,,,0,,,,,,,,,"IDEA12 is going to be released quite soon. Make sure that Clover will work on it properly: 

http://blogs.jetbrains.com/idea/2012/08/meet-august-with-new-intellij-idea-12-eap-build-120305/
http://confluence.jetbrains.net/display/IDEADEV/Leda+120.305+Release+Notes
http://confluence.jetbrains.net/display/IDEADEV/IDEA+12+EAP",,,,,,,,,,,,,,,,,,,,,CLOV-1146,CLOV-1147,CLOV-1172,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hww1gn:",136848,,,,,124993,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwyxnj:",151842,,,,,,,,,,,"1|hwu60f:",125070,387763200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx377j:",155590,,,,,,,,,,,,,,,,,,,,Version 3.1.8,,,,,4.0,125251,,"1|hwu773:",125265,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"02/Aug/2012 10:01 AM;mparfianowicz;It's not possible to open Cloverage view:

11:43:18 PluginException: Icon cannot be found in '/objectBrowser/showStructure.png', action class='com.cenqua.clover.idea.actions.view.ShowSummaryToggleAction' [Plugin: com.atlassian.clover]: Icon cannot be found in '/objectBrowser/showStructure.png', action class='com.cenqua.clover.idea.actions.view.ShowSummaryToggleAction' [Plugin: com.atlassian.clover]

It's not possible to open Test runs view:

Icon cannot be found in '/general/copy.png', action class='com.cenqua.clover.idea.config.CopyFilterAction' [Plugin: com.atlassian.clover]: Icon cannot be found in '/general/copy.png', action class='com.cenqua.clover.idea.config.CopyFilterAction' [Plugin: com.atlassian.clover]

It's possible to open Clover pages in File > Settings. 

When compiling with 'javac', clover.db is generated.

CloudReport and TreeMap report seem to work.

Coverage highlighting in text editor was not visible at all. After IDEA12 restart coverage was visible, but there were problems with repainting:

11:54:57 NoClassDefFoundError: Error during dispatching of java.awt.event.InvocationEvent[INVOCATION_DEFAULT,runnable=javax.swing.RepaintManager$ProcessingRunnable@89ae2d3,notifier=null,catchExceptions=false,when=1343901297916] on sun.awt.windows.WToolkit@67bb66d9: org/apache/commons/collections/list/SetUniqueList
(multiple times)

11:56:41 PluginException: Icon cannot be found in '/general/copy.png', action class='com.cenqua.clover.idea.config.CopyFilterAction' [Plugin: com.atlassian.clover]: Icon cannot be found in '/general/copy.png', action class='com.cenqua.clover.idea.config.CopyFilterAction' [Plugin: com.atlassian.clover]

Cannot save state of context filter toggles in Clover settings.

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Unicode CR/LF characters in javadoc causes Eclipse/IntelliJ editors get out of sync,CLOV-1131,194838,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,30/Jul/2012 11:49 AM,07/Feb/2014 8:48 AM,15/Nov/2024 6:09 PM,05/Feb/2014 1:48 PM,3.1.6,,,,,3.2.2,,,CEP Plugin,CIJ Plugin,Instrumentation,,,,,0,,,,,,,,,"Try the following example:

{code:java}
class Unicode {   
    void foo() {
    	System.out.println(""1"");
    	/** {@code \u000a} LF */
    }
    
    
    
    void goo() {
    	System.out.println(""2"");    	
    	/** {@code \u000d} CR */
    }
    
    
    
    void hoo() {
    	System.out.println(""3"");
    }
    
    
    
} // end
{code}

In Eclipse editor, every CR/LF written in unicode causes that it interprets it as newline character. As a result left ruler ""sees"" more lines and all subsequent coverage blocks are shifted down. 


In IntelliJ it's even worse, as we get exception. Stack trace:

{noformat}
Error during dispatching of java.awt.event.InvocationEvent[INVOCATION_DEFAULT,runnable=com.cenqua.clover.idea.content.ContentPlugin$1@789e7511,notifier=null,catchExceptions=false,when=1343648365649] on sun.awt.windows.WToolkit@2018aa27: Wrong end: 270; document length=249; start=246
java.lang.IllegalArgumentException: Wrong end: 270; document length=249; start=246
	at com.intellij.openapi.editor.impl.RangeMarkerImpl.<init>(RangeMarkerImpl.java:47)
	at com.intellij.openapi.editor.impl.DocumentImpl.createRangeMarker(DocumentImpl.java:303)
	at com.intellij.openapi.editor.impl.RangeHighlighterImpl.<init>(RangeHighlighterImpl.java:58)
	at com.intellij.openapi.editor.impl.MarkupModelImpl.a(MarkupModelImpl.java:119)
	at com.intellij.openapi.editor.impl.MarkupModelImpl.addRangeHighlighter(MarkupModelImpl.java:135)
	at com.cenqua.clover.idea.content.DocMarkupPlugin$HighlightMarkupBuilder.highlightStatement(DocMarkupPlugin.java:286)
	at com.cenqua.clover.idea.content.DocMarkupPlugin$HighlightMarkupBuilder.process(DocMarkupPlugin.java:220)
	at com.cenqua.clover.idea.content.DocMarkupPlugin.updateMarkups(DocMarkupPlugin.java:136)
	at com.cenqua.clover.idea.content.DocMarkupPlugin.refresh(DocMarkupPlugin.java:424)
	at com.cenqua.clover.idea.content.ContentPlugin$1.run(ContentPlugin.java:96)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:646)
	at java.awt.EventQueue.access$000(EventQueue.java:84)
	at java.awt.EventQueue$1.run(EventQueue.java:607)
	at java.awt.EventQueue$1.run(EventQueue.java:605)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:616)
	at com.intellij.ide.IdeEventQueue.f(IdeEventQueue.java:627)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:508)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:405)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:369)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)

{noformat}
",,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,CLOV-1431,,,,,,,,,,"30/Jul/2012 11:51 AM;mparfianowicz;Unicode.png;https://jira.atlassian.com/secure/attachment/69134/Unicode.png",,,,,,,,,,,,,,,,true,,"1|hwvz8n:",136464,,,,,124584,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwyvdr:",151450,,,,,,,,,,,"1|hwu3mv:",124661,340070400,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx357r:",155243,,,,,,,,,,,,,,,,,,,,,,,,,2.0,124620,,"1|hwu3gf:",124635,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"06/Nov/2013 12:29 PM;mparfianowicz;It's probably related with a UnicodeDecodingReader on the instrumentation level.;;;","05/Feb/2014 1:40 PM;mparfianowicz;Fixed by CLOV-1431;;;",,,,,,,,,,,,,,,,,,,,,,,,,
 Android for Clover Commandline Tools,CLOV-1126,193025,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mparfianowicz,mparfianowicz,mparfianowicz,17/Jul/2012 10:43 AM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,15/Jul/2015 2:58 PM,,,,,,won't fix,,,Ant Tasks,,,,,,,0,,,,,,,,,"{panel:title=Atlassian Status as of 12 October 2015|borderStyle=solid|borderColor=#3C78B5| titleBGColor=#3C78B5| bgColor=#E7F4FA}
It's always hard for us to say *no* to our customers. However, design decisions are not only about ""Do we want to have this feature?"" but also ""Is this a best feature we can implement using our available resources?"". We want to invest our time in making your lives (and code!) better. The fact that Google are building their Android IDE based on IntelliJ IDEA, which has a built-in coverage tool, means that you can measure code coverage for your Android apps, in an environment supported by Google. Therefore, we decided to not implement Clover for Android in the near future. Beginning of Clover 4.1 release, we will remove all documentation related to Clover for Android prototype and close the related issues.
{panel}


- CloverInstr tool - new options
- extend manual on CAC (CloverInstr page)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwvofj:",134699,,,,,122672,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwyl47:",149774,,,,,,,,,,,"1|hwtrxj:",122751,294019200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx2vtr:",153697,,,,,,,,,,,,,,,,,,,,,,,,,,122708,,"1|hwtrqn:",122723,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"23/Jul/2015 8:29 AM;mparfianowicz;Android build is based on Gradle and thus there is nothing we must add to the CloverInstr. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Reading clover database across platforms does not resolve path correctly for FileInfo,CLOV-1112,191744,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,11/Jul/2012 10:55 AM,15/Jan/2014 6:16 AM,15/Nov/2024 6:09 PM,19/Jul/2012 9:19 AM,3.1.6,,,,,3.1.7,,,Database,Reporting,,,,,,0,,,,,,,,,"Clover database contains FileInfo objects for every source file. One of FileInfo fields is an absolute path to given file. When database is written, it uses current platform file separator for file name ('\' for windows, '/' for Linux/MacOS). However, when database is read it interprets file name using again current platform file separator. 

As a consequence, when database is generated on Windows and report generated on Linux, it cannot resolve file name properly - it takes whole path as a single path segment, resulting in paths like:

/path/from/report/generation/sourcepath/D:/path/from/instrumented/build/file.java

As a consequence report generation does create html file containing source code with highlighted coverage.",,,,,,57600,57600,,0%,57600,57600,,,,,,,CLOV-1415,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwvief:",133708,,,,,121562,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwyf47:",148788,,,,,,,,,,,"1|hwtl7b:",121641,389664000,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx2pvr:",152721,,,,,,,,,,,,,,,,,,,,Version 3.1.8,,,,,1.0,121598,,"1|hwtl0f:",121613,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unit test failure during Clover2 custom lifecycle do not fail builds,CLOV-1109,189352,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,2a8044937dda,2a8044937dda,29/Jun/2012 5:24 AM,07/Jan/2013 10:11 AM,15/Nov/2024 6:09 PM,12/Dec/2012 2:21 PM,3.1.6,,,,,3.1.10,,,Maven plugin,,,,,,,0,,,,,,,,,"The Maven Clover2 plugin creates a custom lifecycle. When the unit tests are run in that lifecycle the build will not fail if there are test failures. This is because the lifecycle.xml file forces the Surefire plugin's testFailureIgnore configuration property to false. This is especially problematic in Jenkins builds where unit tests should fail the build (rather than allowing them to be unstable). Please remove this configuration or replace it with a mechanism that can be set in the POM.

The file in question is src/main/resources/META-INF/maven/lifecycle.xml. See the [related Answers discussion|https://answers.atlassian.com/questions/61973/clover-ignore-dmaven-test-failure-ignore-false].",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwv5tj:",131575,,,,,119316,,,,,,Unknown,,,,,2012-12-12 14:21:24.058,,,,,,,,,,,,,,,,,,,,,,,,"2|hwy3jz:",146819,,,,,,,,,,,"1|hwt7xb:",119395,376358400,true,,,,,,,,,,2a8044937dda(baron@cthing.com),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwfrtj:",10693,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,2.0,119351,,"1|hwt7q7:",119366,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"12/Dec/2012 2:21 PM;mparfianowicz;Hi Baron,

A change is implemented. If you'd like to test it, please declare a '3.1.9-SNAPSHOT' version of maven-clover2-plugin in your pom.xml.

Artefacts are available in Atlassian Maven repository:

https://maven.atlassian.com/content/repositories/atlassian-public-snapshot/com/cenqua/clover/clover/3.1.9-SNAPSHOT/

https://maven.atlassian.com/content/repositories/atlassian-public-snapshot/com/atlassian/maven/plugins/maven-clover2-plugin/3.1.9-SNAPSHOT/

*Changes:*

 * the new setTestFailureIgnore=true/false option is available for clover2:setup / clover2:instrument
 * the testFailureIgnore has been removed from lifecycle.xml
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Eclipse does not exclude filtered-out methods from statistics,CLOV-1108,188418,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,25/Jun/2012 11:14 AM,30/Aug/2012 3:46 PM,15/Nov/2024 6:09 PM,08/Aug/2012 7:29 AM,,,,,,3.1.7,,,CEP Plugin,,,,,,,0,,,,,,,,,"When we define certain methods to be filtered-out in Eclipse, they are being marked as not executed (hit count = 0) instead of not being taken into consideration at all (no hit count). 

What's interesting, an HTML report generated from Eclipse use filters correctly. Metrics in Eclipse says: 4 methods, 4 statements; Metrics in HTML says: 3 methods, 3 statements.

See attached screenshots.",,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jun/2012 11:14 AM;mparfianowicz;eclipse_vs_html_coverage.png;https://jira.atlassian.com/secure/attachment/66782/eclipse_vs_html_coverage.png","25/Jun/2012 11:19 AM;mparfianowicz;eclipse_vs_html_metrics.png;https://jira.atlassian.com/secure/attachment/66783/eclipse_vs_html_metrics.png","01/Aug/2012 8:53 AM;mparfianowicz;fixed_metrics_method_count.png;https://jira.atlassian.com/secure/attachment/69202/fixed_metrics_method_count.png","01/Aug/2012 8:53 AM;mparfianowicz;fixed_metrics_statement_count.png;https://jira.atlassian.com/secure/attachment/69203/fixed_metrics_statement_count.png","01/Aug/2012 8:53 AM;mparfianowicz;fixed_ruler_coloring_with_filter.png;https://jira.atlassian.com/secure/attachment/69204/fixed_ruler_coloring_with_filter.png","01/Aug/2012 8:53 AM;mparfianowicz;fixed_yellow_strip_for_failed_testcase.png;https://jira.atlassian.com/secure/attachment/69205/fixed_yellow_strip_for_failed_testcase.png",,,,,,,,,,,true,,"1|hwv0fr:",130649,,,,,118175,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwxz67:",146055,,,,,,,,,,,"1|hwt187:",118256,387849600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx299j:",149817,,,,,,,,,,,,,,,,,,,,"Version 3.1.7, Sprint 1",Version 3.1.8,,,,1.0,118210,,"1|hwt10n:",118225,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"01/Aug/2012 8:52 AM;mparfianowicz;Problem has been fixed. Methods and statements which are filtered-out (by method regular expressions, statement regular expressions, built-in code block contexts, built-in method contexts) are not taken for metrics calculation. They are also properly greyed out in left ruler in text editor. In addition to this, a dark yellow strip is used to indicate code covered by failed test case - it's made more consistent with a way how IntelliJ and HTML shows it. See attached fixed_*.png screenshots.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
maven-clover2-plugin wrong artifacts in Maven Central,CLOV-1107,188237,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,004a76be8d51,004a76be8d51,22/Jun/2012 11:58 AM,28/Jun/2012 7:04 AM,15/Nov/2024 6:09 PM,28/Jun/2012 7:04 AM,3.1.5,3.1.6,,,,3.1.5,3.1.6,,Maven plugin,,,,,,,0,,,,,,,,,"The Maven Central repository contains the wrong artifacts for com.atlassian.maven.plugin:maven-clover2-plugin for version 3.1.5 and 3.1.6.

The uploaded files are
* clover-3.1.X.jar (plus checksums)
* clover-3.1.X.pom (plus checksums)
but should be
* maven-clover2-plugin-3.1.X.jar (plus checksums)
* maven-clover2-plugin-3.1.X.pom (plus checksums)

Correct: http://central.maven.org/maven2/com/atlassian/maven/plugins/maven-clover2-plugin/3.1.4/
Wrong:
* http://central.maven.org/maven2/com/atlassian/maven/plugins/maven-clover2-plugin/3.1.5/
* http://central.maven.org/maven2/com/atlassian/maven/plugins/maven-clover2-plugin/3.1.6/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwuzd3:",130471,,,,,117971,,,,,,Unknown,,,,,2012-06-25 07:39:12.205,,,,,,,,,,,,,,,,,,,,,,,,"2|hwxy5b:",145885,,,,,,,,,,,"1|hwszzr:",118052,390787200,true,,,,,,,,,,mparfianowicz(mparfianowicz),004a76be8d51(p.marschik),,,,,,,,,,,,,,,,,,"1|hx285z:",149635,,,,,,,,,,,,,,,,,,,,,,,,,,118006,,"1|hwszsf:",118022,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"25/Jun/2012 7:47 AM;mparfianowicz;Thank you for your report. We're going to fix it immediately. 

Regards
Marek;;;","28/Jun/2012 7:04 AM;mparfianowicz;FIXED;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"bad alignment of ""About"" box in IDEA",CLOV-1106,187955,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mparfianowicz,jgorycki,jgorycki,20/Jun/2012 7:38 AM,17/Dec/2014 10:32 PM,15/Nov/2024 6:09 PM,17/Dec/2014 10:32 PM,3.1.6,,,,,won't fix,,,,,,,,,,0,,,,,,,,,see screenshot,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jun/2012 7:38 AM;jgorycki;mazio1.png;https://jira.atlassian.com/secure/attachment/66629/mazio1.png",,,,,,,,,,,,,,,,true,,"1|hwuxnj:",130193,,,,,117519,,,,,,Unknown,,,,,2014-12-17 22:31:02.075,,,,,,,,,,,,,,,,,,,,,,,,"2|hwxvi7:",145456,,,,,,,,,,,"1|hwsx7j:",117600,312768000,true,,,,,,,,,,jgorycki(jgorycki),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hx26if:",149367,,,,,,,,,,,,,,,,,,,,,,,,,1.0,117554,,"1|hwsx07:",117570,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"17/Dec/2014 10:31 PM;mparfianowicz;Won't fix. Misalignment is caused by a fact that there are plain text labels + html labels. Fixing it is not worth the effort.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
license information inconsistent in IDEA,CLOV-1105,187954,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Obsolete,mparfianowicz,jgorycki,jgorycki,20/Jun/2012 7:37 AM,21/Apr/2017 8:52 AM,15/Nov/2024 6:09 PM,21/Apr/2017 8:52 AM,3.1.6,,,,,n/a,,,,,,,,,,0,,,,,,,,,see screenshot,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jun/2012 7:37 AM;jgorycki;mazio.png;https://jira.atlassian.com/secure/attachment/66628/mazio.png",,,,,,,,,,,,,,,,true,,"1|hwuxnb:",130192,,,,,117518,,,,,,Unknown,,,,,2017-04-21 08:52:27.019,,,,,,,,,,,,,,,,,,,,,,,,"2|hwxvhz:",145455,,,,,,,,,,,"1|hwsx7b:",117599,238896000,true,,,,,,,,,,jgorycki(jgorycki),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwfkm7:",149366,,,,,,,,,,,,,,,,,,,,,,,,,1.0,117553,,"1|hwswzz:",117569,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"21/Apr/2017 8:52 AM;mparfianowicz;no license checks anymore on 'default' branch;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover-for-Grails does not work in Grails 1.3.x and 2.x,CLOV-1102,187673,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,18/Jun/2012 8:39 AM,28/Aug/2012 10:45 AM,15/Nov/2024 6:09 PM,22/Jun/2012 1:59 PM,3.1.3,,,,,3.1.6,,,Grails Plugin,,,,,,,0,,,,,,,,,"See the https://answers.atlassian.com/questions/29425/clover-error-when-installing-in-grails-project

Problems:

#1) Clover does not install properly if it's being installed via dependency defined in BuildConfig.groovy, instead of command line ""grails install-plugin"". It cannot find Clover ant task definitions just after installation. 

#2) Clover does not instrument groovy sources in Grails 2.x - the reason is that Clover ""hooks"" to the GrailsCompiler class which has been removed in Grails 2.x, instead of this we have Grailsc now.

#3) A problem with ""static class FileOptimizable"" - already fixed in CLOV-1076/CLOV-1093

#4) Dependencies in BuildConfig.groovy

build(clover.core.version, changing:false)
compile(clover.core.version, changing:false)
runtime(clover.core.version, changing:false)

are causing installation warnings in Grails 2.x because of ""changing:false"" property.
",,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,CLOV-1134,,,,,,,,,,"11/Aug/2012 12:24 PM;d55ab01bcca8;clover.png;https://jira.atlassian.com/secure/attachment/69642/clover.png",,,,,,,,,,,,,,,,true,,"1|hwuvxb:",129911,,,,,117232,,,,,,Unknown,,,,,2012-08-11 12:24:28.177,,,,,,,,,,,,,,,,,,,,,,,,"2|hwxtrz:",145174,,,,,,,,,,,"1|hwsvg7:",117313,385516800,true,,,,,,,,,,d55ab01bcca8(nbhushan),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hx23l3:",148881,,,,,,,,,,,,,,,,,,,,,,,,,,117267,,"1|hwsv8v:",117283,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"18/Jun/2012 8:52 AM;mparfianowicz;ad #1) added post install event hook loading Clover's ant task definitions and configuring Clover; removed old hacks related with loading of dependency classes (GRAILS-5755 solved in Grails 1.3)

ad #2) added org.codehaus.groovy.grails.compiler.Grailsc to list of Groovy compilers, which has to be intercepted by Clover

ad #4) removed ""changing:false"" property from dependency definitions causing errors under Grails 2.x

Extra: more options for https://confluence.atlassian.com/display/CLOVER/Clover-for-Grails+Quick+Start+Guide

clover.historypointtask
clover.json
clover.title
clover.verbose 
clover.view
;;;","11/Aug/2012 12:24 PM;d55ab01bcca8;Getting a different error now. Please see screen shot attached.;;;","28/Aug/2012 10:45 AM;mparfianowicz;Hi Bhushan,

Please note that for Grails 2.x the recommended way to define build dependencies is to use BuildConfig.groovy, instead of application.properties file. So instead of using 'grails install-plugin' you should rather add *compile "":clover:3.1.6""* line in grails-app/conf/BuildConfig.groovy, like:

{code:java}
grails.project.dependency.resolution = {
    plugins {
        compile "":clover:3.1.6""
    }
}
{code}

I have reproduced error from attached screenshot. It seems that despite errors are thrown, the plugin was installed correctly.


If you use BuildConfig, the installation process will have no error:

{noformat}
// ... add clover:3.1.6 to BuildConfig ...

grails test-app -plain-output -verbose

Base Directory: C:\Work\testcases\testGrails20\myApp
|Loading Grails 2.0.3
|Configuring classpath
.
|Environment set to test
..........
|Installing zip clover-3.1.6.zip...
.    [mkdir] Created dir: C:\Users\Marek\.grails\2.0.3\projects\myApp\plugins\clover-3.1.6
.    [unzip] Expanding: C:\Users\Marek\.grails\ivy-cache\org.grails.plugins\clover\zips\clover-3.1.6.zip into C:\Users\Marek\.grails\2.0.3\projects\myApp\plugins\clover-3.1.6
.
|Installed plugin clover-3.1.6
|Resolving plugin JAR dependencies
...Clover: Plugin was installed, loading new Ant task definitions ...
Clover: Using config: [:]
{noformat}


Regards
Marek;;;",,,,,,,,,,,,,,,,,,,,,,,,
Instrumentation failure for annotation inside catch clause,CLOV-1096,185102,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,30/May/2012 11:58 AM,19/Jun/2012 8:57 PM,15/Nov/2024 6:09 PM,13/Jun/2012 11:34 AM,3.1.5,,,,,3.1.6,,,Instrumentation,,,,,,,0,,,,,,,,,"Clover instrumenter does not handle the @SuppressWarnings annotation placed before exception type in the catch clause. See following examples:

{noformat}
protected void testWithAnnotation() throws IOException {
  try {
  //FAILS
  } catch (@SuppressWarnings(""unused"") RuntimeException ioe) { }
}


protected void testWithoutAnnotation() throws IOException {
  try {
  // OK
  } catch (RuntimeException ioe) { }
}
{noformat}
",,,,,,14400,14400,,0%,14400,14400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwudhb:",126004,,,,,115244,,,,,,Unknown,,,,,2012-06-14 10:27:18.855,,,,,,,,,,,,,,,,,,,,,,,,"2|hwxjq7:",143514,,,,,,,,,,,"1|hwsjxz:",115325,391478400,true,,,,,,,,,,mparfianowicz(mparfianowicz),a58de21203e9(uriv),,,,,,,,,,,,,,,,,,"1|hx1fvr:",144785,,,,,,,,,,,,,,,,,,,,,,,,,,115279,,"1|hwsjqn:",115295,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"14/Jun/2012 10:27 AM;a58de21203e9;Version 3.1.6 is still unavailable in the Atlassian public maven repository (https://maven.atlassian.com/content/repositories/atlassian-public).
When it should be officially released?;;;","15/Jun/2012 7:24 AM;mparfianowicz;Hi Uriel, 
All bugs for 3.1.6 have been implemented and I'm performing integration tests today. If everything goes smoothly you should have an official release available after this weekend. 

Regards
Marek;;;","19/Jun/2012 8:57 PM;mparfianowicz;Hi Uriel,

Clover 3.1.6 has been released today. You can download official release from atlassian-public maven repository. Within few days it will be pushed to the Maven Central as well. 

Direct links:
https://maven.atlassian.com/content/repositories/atlassian-public/com/atlassian/maven/plugins/maven-clover2-plugin/3.1.6/
https://maven.atlassian.com/content/repositories/atlassian-public/com/cenqua/clover/clover/3.1.6/

Regards
Marek;;;",,,,,,,,,,,,,,,,,,,,,,,,
Clover plugin prevents IDEAs internal coverage system,CLOV-1095,185099,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,e1f70da60fee,e1f70da60fee,30/May/2012 10:09 AM,25/Jun/2012 8:32 AM,15/Nov/2024 6:09 PM,14/Jun/2012 6:42 AM,3.1.5,,,,,3.1.6,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Clover plugin uses a tool window with the name 'Coverage'. This window name is also used by IDEAs internal coverage system. This blocks the coverage function of IDEA.

You have to rename the window ID to a clover specific name.

See: http://youtrack.jetbrains.com/issue/IDEA-86819

This is the exception stacktrace:

2012-05-30 10:28:51,558 [1754891]  ERROR - pplication.impl.LaterInvocator - window with id=""Coverage"" is already registered 
java.lang.IllegalArgumentException: window with id=""Coverage"" is already registered
        at com.intellij.openapi.wm.impl.ToolWindowManagerImpl.a(ToolWindowManagerImpl.java:1093)",Intellij IDEA 11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jun/2012 8:03 AM;mparfianowicz;Cloverage.png;https://jira.atlassian.com/secure/attachment/66473/Cloverage.png","30/May/2012 10:09 AM;e1f70da60fee;stacktrace_clover.txt;https://jira.atlassian.com/secure/attachment/65485/stacktrace_clover.txt",,,,,,,,,,,,,,,true,,"1|hwua9z:",125179,,,,,114315,,,,,,Unknown,,,,,2012-05-31 07:41:09.43,,,,,,,,,,,,,,,,,,,,,,,,"2|hwxjpj:",143511,,,,,,,,,,,"1|hwsglr:",114396,391996800,true,,,,,,,,,,mparfianowicz(mparfianowicz),mstudman(mstudman),e1f70da60fee(timomeinen),,,,,,,,,,,,,,,,,"1|hx1d33:",144278,,,,,,,,,,,,,,,,,,,,,,,,,,114350,,"1|hwsgef:",114366,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"31/May/2012 7:41 AM;mparfianowicz;Workaround available: disable Clover plugin in order to get IDEA's Coverage window working. Thus lowering priority to Critical. Issue assigned to the nearest bugfix release planned for IDEs.;;;","31/May/2012 8:16 AM;e1f70da60fee;Thank you, Marek. Shouldn't the fix version be 3.1.6?;;;","13/Jun/2012 12:47 PM;e1f70da60fee;We have a suggestion for an alternative window name. Instead of 'Coverage' name the window 'Cloverage'. ;-);;;","13/Jun/2012 1:00 PM;mparfianowicz;Rescheduling to 3.1.6 as we have enough time to fix it before release deadline.;;;","13/Jun/2012 2:22 PM;mstudman;Love it, Timo :-);;;","14/Jun/2012 8:52 AM;e1f70da60fee;Thanks for the screenshot.;;;",,,,,,,,,,,,,,,,,,,,,
Incorrect modifier 'static' error message,CLOV-1093,183723,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,d55ab01bcca8,d55ab01bcca8,23/May/2012 5:17 AM,13/Jun/2012 11:32 AM,15/Nov/2024 6:09 PM,23/May/2012 9:44 AM,3.1.3,,,,,3.1.6,,,Grails Plugin,,,,,,,0,grails,,,,,,,,"Installing clover plugin using grails install-plugin clover results in the following error message:

The class ""FileOptimizable"" has an incorrect modifier ""static""

See screenshot attached",Grails 2.0.1,,,,,,,,,,,,,,,,,,,,,,,CLOV-1076,,,,,,,,,,,,"23/May/2012 5:17 AM;d55ab01bcca8;clover.png;https://jira.atlassian.com/secure/attachment/64528/clover.png",,,,,,,,,,,,,,,,true,,"1|hwu4mn:",124229,,,,,113310,,,,,,Unknown,,,,,2012-06-13 11:31:56.435,,,,,,,,,,,,,,,,,,,,,,,,"2|hwxf1z:",142731,,,,,,,,,,,"1|hwsamf:",113392,392083200,true,,,,,,,,,,d55ab01bcca8(nbhushan),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hx18mf:",143522,,,,,,,,,,,,,,,,,,,,,,,,,,113345,,"1|hwsaev:",113361,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"13/Jun/2012 11:31 AM;mparfianowicz;Duplicate of CLOV-1076;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Write up on CAC how to get Clover working with Maven and integration tests,CLOV-1082,181512,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mstudman,mstudman,03/May/2012 11:20 AM,30/Aug/2012 3:46 PM,15/Nov/2024 6:09 PM,24/Jul/2012 10:39 AM,3.1.5,,,,,3.1.7,,,Documentation,,,,,,,0,,,,,,,,,"In particular:
* numClients=1 should be set in the config
* that the test runner JVM should not have -Dclover.distributed.coverage=ON set as this will override the numClients setting
* that a context listener that starts on webapp start needs to be registered in web.xml so that the webapp Clover runtime connects back to the test runner JVM so that tests proceed ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwtj7j:",120646,,,,,111017,,,,,,Unknown,,,,,2012-07-23 12:41:48.875,,,,,,,,,,,,,,,,,,,,,,,,"2|hwwzjb:",140082,,,,,,,,,,,"1|hwrx6f:",111100,388627200,true,,,,,,,,,,mparfianowicz(mparfianowicz),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hx0we7:",141483,,,,,,,,,,,,,,,,,,,,Version 3.1.8,,,,,1.0,111052,,"1|hwrwyn:",111068,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"23/Jul/2012 12:41 PM;mparfianowicz;Manuals:
https://confluence.atlassian.com/display/CLOVER/Using+Clover+for+web+applications
https://confluence.atlassian.com/display/CLOVER/Working+with+Distributed+Applications;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"NullPointerException in ""Run Clover as"" dialog",CLOV-1079,180651,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,24/Apr/2012 7:15 AM,09/Nov/2012 2:08 PM,15/Nov/2024 6:09 PM,25/Apr/2012 8:34 AM,3.1.4,,,,,3.1.5,,,CEP Plugin,,,,,,,0,,,,,,,,,"The NullPointerException is raised while user clicks on the ""Close"" button in the ""Run Clover as"" dialog. It prevents window from closure on older eclipses (e.g. on SpringSource 2.6; on SpringSource Tool Suite 2.9.1 which is based on eclipse 3.7.2 it is non-blocking).",SpringSource Tool Suite 2.6,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwte2v:",119785,,,,,110122,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwwujz:",139259,,,,,,,,,,,"1|hwrru7:",110205,396403200,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx0q0v:",140433,,,,,,,,,,,,,,,,,,,,,,,,,,110154,,"1|hwrrlr:",110170,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"24/Apr/2012 7:18 AM;mparfianowicz;Caused by bannerImage resource which was not loading properly.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove all references to Clover 2, replace with Clover3; 2011 -> 2012",CLOV-1078,180507,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,23/Apr/2012 12:17 PM,08/May/2012 12:12 PM,15/Nov/2024 6:09 PM,24/Apr/2012 1:36 PM,3.1.4,,,,,3.1.5,,,Ant Tasks,CEP Plugin,CIJ Plugin,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwtdiv:",119692,,,,,110015,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwwtyn:",139160,,,,,,,,,,,"1|hwrr73:",110098,396489600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hx0ph3:",140341,,,,,,,,,,,,,,,,,,,,,,,,,,110047,,"1|hwrqyn:",110063,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing icons on TreeView and Cloud Report tabs,CLOV-1077,180135,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mparfianowicz,mparfianowicz,20/Apr/2012 6:52 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,,,,,,open-source,,,CIJ Plugin,,,,,,,0,,,,,,,,,"On IDEA 11 the ""Tree View"" and ""Cloud Report"" tabs have missing icons. See attached screenshot. ","IntelliJ IDEA 11, Clover 3.x",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Apr/2012 6:54 AM;mparfianowicz;missing_cloud_report_icon.png;https://jira.atlassian.com/secure/attachment/63056/missing_cloud_report_icon.png",,,,,,,,,,,,,,,,true,,"1|hwtcjr:",119516,,,,,109825,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwwt1b:",138990,,,,,,,,,,,"1|hwrq4v:",109908,396748800,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hwfkkn:",140175,,,,,,,,,,,,,,,,,,,,,,,,,2.0,109858,,"1|hwrpwn:",109874,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover grails plugin v.3.1.3 is not working with grails 2.x.x,CLOV-1076,180044,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,0a2531cc279b,0a2531cc279b,19/Apr/2012 1:25 PM,13/Jun/2012 11:32 AM,15/Nov/2024 6:09 PM,05/Jun/2012 1:03 PM,3.1.3,,,,,3.1.6,,,Grails Plugin,,,,,,,0,,,,,,,,,"When installing or running clover plugin for grails the following error is araised:

~/.grails/2.0.3/projects/XXXXXX/plugins/clover-3.1.2/scripts/_Events.groovy: 78: The class 'FileOptimizable' has an incorrect modifier static.
 @ line 78, column 1.
   static class FileOptimizable /**implements Optimizable**/ {
   ^

1 error
 (Use --stacktrace to see the full trace)

In the topic on Atlasssian forum (https://answers.atlassian.com/questions/29425/clover-error-when-installing-in-grails-project) it's said that it was fixed in version 3.1.3, but really it's not. We're still getting this error with 3.1.3 version.",Grails 2.0.3,,,,,,,,,,,,,,,,,,,,CLOV-1093,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwtc13:",119430,,,,,109733,,,,,,Unknown,,,,,2012-06-05 12:59:48.514,,,,,,,,,,,,,,,,,,,,,,,,"2|hwwshr:",138900,,,,,,,,,,,"1|hwrpkv:",109816,396835200,true,,,,,,,,,,0a2531cc279b(dkekel),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hx0o1z:",140090,,,,,,,,,,,,,,,,,,,,,,,,,,109766,,"1|hwrpcn:",109782,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix compatiblity issues with Intellij IDEA 11.1,CLOV-1068,179132,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,mparfianowicz,mparfianowicz,11/Apr/2012 9:44 AM,25/Apr/2012 8:35 AM,15/Nov/2024 6:09 PM,25/Apr/2012 8:34 AM,3.1.4,,,,,3.1.5,,,CIJ Plugin,,,,,,,0,,,,,,,,,"The IDEA'a API has changed (again) without any prior notification: 

1) Removed AnimatedIcon.init()
 - see similar bug report in CLOV-1043 and CLOV-1060

2) Removed VirtualFile.getIcon()

3) Added JavaSourceTransformingCompiler.fileGenerated()

4) The <group id=""CompilerErrorViewPopupMenu""/> was added to IDEA's resource file, therefore cannot be used in clover's plugin.xml anymore. 

5) Added ProgressIndicator.isPopupWasShown(), ProgressIndicator.isShowing()
",Intellij IDEA 11.1.1 build 117.117,,"Time submitted by npellow for review CR-CLOV-130;16/Apr/2012 12:16 AM;npellow;300",,,86400,86400,300,0%,86400,86400,300,,,,,,,,,CLOV-1060,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwt653:",118427,,,,,108660,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwwnbb:",138037,,,,,,,,,,,"1|hwrjbj:",108753,396489600,true,,,,,,,,,,mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,,"1|hx0c1j:",138101,,,,,,,,,,,,,,,,,,,,,,,,,,108693,,"1|hwrj1j:",108711,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"23/Apr/2012 11:51 AM;mparfianowicz;ad 2) Fixed compilation error, but new bug CLOV-1077 for missing icon was reported.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Lack of Filtering/Reporting Consistency Across Maven Goals,CLOV-1064,173736,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mstudman,97463bf031d0,97463bf031d0,02/Mar/2012 5:53 PM,13/Jun/2012 11:31 AM,15/Nov/2024 6:09 PM,11/Jun/2012 9:27 AM,3.1.4,,,,,3.1.6,,,Maven plugin,,,,,,,0,check,clover,clover2,context,log,maven,method,statement,"The various filtering options (statement contexts, method contexts, exclusions, etc) do not seem to be applied consistently across the various clover2 maven goals: clover2:clover, clover2:check: clover2:log.  The discrepancies between clover2:clover and clover2:check essentially render clover2:check useless as it cannot be relied upon for accurate threshold reporting.

The attached maven project demonstrates the following use cases:
1. A method covered by tests
2. A method not covered by tests
3. A property method excluded via the property method context
4. A constructor method excluded via the constructor method context
5. A method filtered using a custom method context
6. A statement filtered using a custom statement context
7. A file filtered using the ""exclusion"" configuration option

In order to execute the example, unzip the attached zip file and run the following:

mvn clean clover2:setup test clover2:aggregate clover2:clover clover2:check clover2:log

Things to note:

Clover2:clover generates correctly.  Coverage is at 50% and 71.4% of the code is correctly filtered out.  

Clover2:check reports coverage at 66.7%.  Now in this case clover2:check is reporting coverage higher than clover2:clover.  I'm not sure how it's getting there, but in my production examples the opposite tends to be the case:  clover2:check reports lower coverage than clover2:clover.

Clover2:log reports coverage at 33.3%:

[INFO] Clover Coverage Report
Coverage Timestamp: Fri Mar 02 12:26:09 EST 2012

Coverage Overview -
Coverage:-
      Methods: 2/7 (28.6%)
   Statements: 4/12 (33.3%)
     Branches: 1/2 (50%)
        Total: 33.3%
Complexity:-
   Avg Method: 1.1428572
      Density: 0.6666667
        Total: 8

If I change my maven execution to the following:

mvn clean clover2:instrument test clover2:aggregate clover2:clover clover2:check clover2:log

where clover2:setup is swapped out for clover2:instrument, the coverage check matches the report: 50%.

As you can see, none of these tools seems to be reporting the same thing.  You might say ""Leo, why not use clover2:instrument so at least clover2:clover and clover:2check"" match?  Well, there's a problem with clover2:instrument as well:  http://forums.atlassian.com/thread.jspa?threadID=22387

I've been using clover for some time now (~5+ years).  Your main competitive advantage over the other guys (jacoco, cobertura, emma, etc) is your advanced filtering and reporting capabilities.  The frustrating thing is that in these 5 years none of these features have ever seemed to work consistently across maven goals nor in integration with other tools like STS and Sonar.

Please make it a priority to ensure that these features are enabled consistently and tested for as part of every release.  You know, ensure you have proper code coverage on your code coverage product.  :P

Please feel free to integrate my example project into your automated regression suite!

Thanks!","Windows XP
Java 1.6.0_24",,,,,,,,,14400,14400,,,,,,,,,,,,,,,,,,,,,,,,,"24/May/2012 1:01 PM;mparfianowicz;clover-3.1.6-snapshot-v2.z01;https://jira.atlassian.com/secure/attachment/64592/clover-3.1.6-snapshot-v2.z01","24/May/2012 1:01 PM;mparfianowicz;clover-3.1.6-snapshot-v2.zip;https://jira.atlassian.com/secure/attachment/64591/clover-3.1.6-snapshot-v2.zip","17/May/2012 10:36 PM;97463bf031d0;clover-example.zip;https://jira.atlassian.com/secure/attachment/64277/clover-example.zip","02/Mar/2012 5:53 PM;97463bf031d0;clover-example.zip;https://jira.atlassian.com/secure/attachment/60887/clover-example.zip","17/May/2012 10:33 PM;97463bf031d0;output.log;https://jira.atlassian.com/secure/attachment/64276/output.log",,,,,,,,,,,,true,,"1|hwsgvr:",114139,,,,,104057,,,,,,Unknown,,,,,2012-05-01 19:10:59.486,,,,,,,,,,,,,,,,,,,,,,,,"2|hww0s7:",134261,,,,,,,,,,,"1|hwqs5z:",104157,392256000,true,,,,,,,,,,97463bf031d0(leojhartiv),mparfianowicz(mparfianowicz),mstudman(mstudman),,,,,,,,,,,,,,,,,"1|hwyusf:",129202,,,,,,,,,,,,,,,,,,,,,,,,,,104076,,"1|hwqrnb:",104076,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"01/May/2012 7:10 PM;mstudman;Hi Leo,

Just an FYI that I've started work on this and it's looking good for a 3.1.6 release.

I'll get in touch when I have a snapshot for you to try on.

Michael.;;;","01/May/2012 7:35 PM;97463bf031d0;Sounds great!  Thanks!;;;","15/May/2012 1:14 PM;mparfianowicz;Hi Leo, I sent you an email with the Clover 3.1.6 development build. Could you check it and give us a feedback?

Marek;;;","15/May/2012 1:20 PM;97463bf031d0;I never received the email at leo.hart@fmr.com.  It may be blocked by our spam filters.  Can you upload a zip here?  Alternatively, if you tried emailing a zip file, rename it to .txt and try sending it.  I should be able to grab it then.;;;","16/May/2012 7:04 PM;97463bf031d0;Marek, I tested it out on the project I sent you and everything looks good.  Coverage is reported as 50% across the project.  I'm going to try to run it on our development project as an extra measure and see if the results are the same, but so far so good!  Thanks!;;;","17/May/2012 10:29 PM;97463bf031d0;I was able to test this on our development project and ran across some interesting results.  For one, there seems to be some issue introduced with this release as my clover execution no longer completes.  I get a ""Access Denied"" message on a file during packaging.  

I also am getting lots of these messages as part of the clover2:clover goal:

{noformat}
[ERROR] Failed to render syntax highlights for SomeJavaClass.java
java.lang.NullPointerExceptionjava.lang.NullPointerException
        at clover.org.codehaus.groovy.antlr.parser.GroovyLexer.require(GroovyLexer.java:309)
        at clover.org.codehaus.groovy.antlr.parser.GroovyLexer.mSTRING_CTOR_END(GroovyLexer.java:2321)
        at clover.org.codehaus.groovy.antlr.parser.GroovyLexer.mSTRING_LITERAL(GroovyLexer.java:1985)
        at clover.org.codehaus.groovy.antlr.parser.GroovyLexer.nextToken(GroovyLexer.java:468)
        at clover.org.codehaus.groovy.antlr.parser.GroovyLexer$1.nextToken(GroovyLexer.java:258)
        at com.atlassian.clover.reporters.html.source.groovy.GroovySourceTraverser.traverse(GroovySourceTraverser.java:178)
        at com.atlassian.clover.reporters.html.source.groovy.GroovySourceRenderer.render(GroovySourceRenderer.java:18)
        at com.cenqua.clover.reporters.html.source.SourceRenderHelper.render(SourceRenderHelper.java:311)
        at com.cenqua.clover.reporters.html.source.SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:117)
        at com.cenqua.clover.reporters.html.source.SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:47)
        at com.cenqua.clover.reporters.html.RenderFileAction.insertLineInfos(RenderFileAction.java:284)
        at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:131)
        at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:115)
        at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:86)
        at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:178)
        at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1061)
        at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
        at java.lang.Thread.run(Thread.java:662)
{noformat}

I'm going to keep digging into those.

Going through this made me realize that my test case doesn't demonstrate aggregation.  I've refactored it to include 2 modules, module-a and module-b.  With that change it seems like the numbers are a tad off in the parent project (project attached).

Execute this against the parent project:

mvn clean clover2:instrument test clover2:aggregate clover2:clover clover2:check clover2:log

I've attached the complete log, but you'll notice that module-a correctly reports:
* check: 50%
* log: 50%
* clover: 50%

module-b correctly reports:
* check: 33.3%
* log: 33.3%
* clover: 33.3%

The parent project, clover-example seems to incorrectly report:
* check: 40%  <--correct
* log: 57.1%  <--incorrect
* clover: 40% <--correct

So that's something you might want to look at.

I'll let you know if I learn more about those other errors; let me know if there's some more info I can provide.
;;;","18/May/2012 2:21 PM;97463bf031d0;I think you can disregard the ""Access is Denied"" issue for now.  I was able to duplicate it using 3.1.4, but only by using that combination of Maven goals, which I don't normally use all at once.

The ""Failed to render syntax highlights for..."" error does seem to be introduced with 3.1.6, however.  Let me know if there's more info I can provide to help debug that.;;;","18/May/2012 3:34 PM;mstudman;Thanks Leo. That was a regression caused by me. We will get you a new build asap.;;;","24/May/2012 1:02 PM;mparfianowicz;Hi Leo, please have a look at our latest build attached in  clover-3.1.6-snapshot-v2.zip+clover-3.1.6-snapshot-v2.z01

;;;","25/May/2012 12:15 PM;97463bf031d0;The example project looks good: all the percentages match up.  

I've tried running this on my app and I'm getting different percentages.  Going to try to run that again (it takes a while).;;;","28/May/2012 6:14 AM;mparfianowicz;Thanks for information. As a matter of fact, I'm surprised that there are still some differences. :-) I would propose checking how your application/test code is split into different folders (src/main, src/test) and/or named (JUnit3 naming, JUnit4 annotations etc) . Things which were fixed by us (me & Michael) were mainly related with filtering of test classes (so they are not included in statistics) and detection of test code.;;;","05/Jun/2012 7:21 AM;mparfianowicz;Hi Leo, do you have any comments to this bug? I'd like to close it, otherwise.;;;","05/Jun/2012 1:21 PM;97463bf031d0;You can go ahead and close the bug.  If my application is still having a problem I'll open a new jira.  It seems like the controlled use cases are all passing.

Thanks!;;;","11/Jun/2012 11:19 AM;mstudman;Thanks to you, Leo, for providing the controlled use case. We really appreciate it.;;;",,,,,,,,,,,,,
Clover-for-Groovy failed to instrument Groovy sources having methods overridden by metaClass ,CLOV-1062,173638,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,61a5a5be511c,61a5a5be511c,02/Mar/2012 8:13 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.0.2,3.1.0,3.1.4,,,long term roadmap,,,Groovy,Maven plugin,,,,,,3,,,,,,,,,"We were able to get clover report from maven-clover2-plugin even for groovy classes successfully. However when we try to override a method via Groovy metaclass in some tests, clover plugin fails on these tests.

We simply added the following lines to our tests.

MyClass.metaClass.myMethod = {
   return ""called""
} 

Clover plugin gave the following error.

Exception in thread ""main"" BUG! exception in phase 'instruction selection' in source unit Test.groovy Clover-for-Groovy failed to instrument Groovy source: Test.groovy

I attached the full stacktrace for further details.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Mar/2012 8:13 AM;61a5a5be511c;clover2.bug.txt;https://jira.atlassian.com/secure/attachment/60788/clover2.bug.txt",,,,,,,,,,,,,,,,true,,"1|hwsgn3:",114099,,,,,104015,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hww0jr:",134222,,,,,,,,,,,"1|hwqrwv:",104115,400982400,true,,,,,,,,,,61a5a5be511c(lemiorhan),,,,,,,,,,,,,,,,,,,"1|hwfkpj:",9493,,,,,,,,,,,,,,,,,,,,,,,,,13.0,104034,,"1|hwqre7:",104034,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
com.cenqua.clover:clover 3.1.4 jars are missing on maven-central repo,CLOV-1061,173198,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,50315d19e079,50315d19e079,29/Feb/2012 4:19 PM,08/May/2012 11:52 AM,15/Nov/2024 6:09 PM,06/Mar/2012 4:32 AM,3.1.4,,,,,3.1.4,,,Maven plugin,,,,,,,0,,,,,,,,,"it seems like maven central repo doesn't contain com.cenqua.clover:clover:3.1.4 jar. 

This is needed for the  maven-clover2-plugin.",On maven builds,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwsf4f:",113829,,,,,103707,,,,,,Unknown,,,,,2012-03-04 23:44:36.254,,,,,,,,,,,,,,,,,,,,,,,,"2|hwvz7b:",133999,,,,,,,,,,,"1|hwqq5z:",103808,400636800,true,,,,,,,,,,mstudman(mstudman),50315d19e079(mk3732),,,,,,,,,,,,,,,,,,"1|hwysxj:",128886,,,,,,,,,,,,,,,,,,,,,,,,,,103726,,"1|hwqpn3:",103726,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"29/Feb/2012 4:22 PM;50315d19e079;This is error we get
Missing:
----------
1) com.cenqua.clover:clover:jar:3.1.4

  Try downloading the file manually from the project website.

  Then, install it using the command:
      mvn install:install-file -DgroupId=com.cenqua.clover -DartifactId=clover -Dversion=3.1.4 -Dpackaging=jar -Dfile=/path/to/fi
e

  Alternatively, if you host your own repository you can deploy the file there:
      mvn deploy:deploy-file -DgroupId=com.cenqua.clover -DartifactId=clover -Dversion=3.1.4 -Dpackaging=jar -Dfile=/path/to/file
-Durl=[url] -DrepositoryId=[id]

  Path to dependency:
        1) com.atlassian.maven.plugins:maven-clover2-plugin:maven-plugin:3.1.4
        2) com.cenqua.clover:clover:jar:3.1.4;;;","04/Mar/2012 11:44 PM;mstudman;Hi,

Thanks for pointing this out. We'll get it sorted straight away.

Michael.;;;","06/Mar/2012 4:32 AM;mstudman;This should be fixed now. Apologies for the delay.;;;","06/Mar/2012 5:57 AM;50315d19e079;thanks mike;;;",,,,,,,,,,,,,,,,,,,,,,,
Bug,CLOV-1060,173031,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,sginter,e9b807fcfa3d,e9b807fcfa3d,28/Feb/2012 2:37 PM,19/Apr/2012 9:35 AM,15/Nov/2024 6:09 PM,19/Apr/2012 9:35 AM,,,,,,3.1.5,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com.intellij.util.ui.AnimatedIcon.<init>(Ljava/lang/String;)V: com.intellij.util.ui.AnimatedIcon.<init>(Ljava/lang/String;)V
java.lang.NoSuchMethodError: com.intellij.util.ui.AnimatedIcon.<init>(Ljava/lang/String;)V
	at com.cenqua.clover.idea.autoupdater.NotificationIcon.<init>(NotificationIcon.java:15)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.addNotification(NewVersionNotifier.java:79)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.update(NewVersionNotifier.java:30)
	at com.cenqua.clover.idea.autoupdater.AutoUpdateComponent.updateNotifiers(AutoUpdateComponent.java:189)
	at com.cenqua.clover.idea.autoupdater.AutoUpdateComponent.handleVersion(AutoUpdateComponent.java:181)
	at com.cenqua.clover.idea.autoupdater.AutoUpdateComponent.access$100(AutoUpdateComponent.java:39)
	at com.cenqua.clover.idea.autoupdater.AutoUpdateComponent$2.run(AutoUpdateComponent.java:224)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:333)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:641)
	at java.awt.EventQueue.access$000(EventQueue.java:84)
	at java.awt.EventQueue$1.run(EventQueue.java:602)
	at java.awt.EventQueue$1.run(EventQueue.java:600)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:611)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:694)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:534)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:416)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:374)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)

","Java version=1.6.0_29, Java vendor=Sun Microsystems Inc., OS name=Windows 7, OS architecture=x86, IDEA build number=IU-111.277
Plugin release=3.1.3.v20120117000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1068,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwscun:",113460,,,,,102878,,,,,,,,,,,2012-04-12 14:01:53.144,,,,,,,,,,,,,,,,,,,,,,,,"2|hwvy9j:",133846,,,,,,,,,,,"1|hwql1z:",102979,396835200,true,,,,,,,,,,e9b807fcfa3d(jozmarek),mstudman(mstudman),sginter(sginter),,,,,,,,,,,,,,,,,"1|hwyoof:",128196,,,,,,,,,,,,,,,,,,,,,,,,,,102897,,"1|hwqkj3:",102897,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/2012 9:35 AM;mstudman;This issue duplicates another. We will fix this for 3.1.5.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"clover NPE when there is an enum type named ""java""",CLOV-1058,163352,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Cannot Reproduce,mstudman,299669e40041,299669e40041,03/Feb/2012 9:00 PM,22/Jan/2014 10:41 AM,15/Nov/2024 6:09 PM,19/Apr/2012 9:54 AM,3.1.3,,,,,won't fix,,,Instrumentation,,,,,,,0,,,,,,,,,"enable clover for the attached java class and run the test.  Get an error like below.


Exception in thread ""main"" java.lang.ExceptionInInitializerError
	at echosign.qe.MyJavaTestRunner.main(MyJavaTestRunner.java:10)
Caused by: java.lang.NullPointerException
	at echosign.qe.MyJavaTest$java.<init>(MyJavaTest.java:15)
	at echosign.qe.MyJavaTest$java.<clinit>(MyJavaTest.java:8)
	... 1 more
",all platform,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Feb/2012 9:00 PM;299669e40041;enum_name_issue.zip;https://jira.atlassian.com/secure/attachment/58777/enum_name_issue.zip",,,,,,,,,,,,,,,,true,,"1|hwr0gn:",104271,,,,,92259,,,,,,Unknown,,,,,2012-04-19 09:54:59.674,,,,,,,,,,,,,,,,,,,,,,,,"2|hwuotb:",125311,,,,,,,,,,,"1|hwozwn:",92370,396748800,true,,,,,,,,,,299669e40041(zhao_john),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwwfon:",113881,,,,,,,,,,,,,,,,,,,,,,,,,,92262,,"1|hwoz7z:",92262,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"19/Apr/2012 9:54 AM;mstudman;I wasn't able to reproduce this. Here's how I tried:

java -classpath ~/Projects/clover2_trunk2/build/clover-ant/clover.jar com.cenqua.clover.CloverInstr -s ~/Downloads/echosign/qe/ -d ~/Downloads/echosign/bin --dontFullyQualifyJavaLang


java -classpath ~/Projects/clover2_trunk2/build/clover-ant/clover.jar:. echosign.qe.MyJavaTestRunner

ONE

Please reopen if there is something else I should be doing to reproduce this. Note that I had to use --dontFullyqQualifyJavaLang (there are equivalent Ant and Maven settings for this) in order for it to compile.

Which Clover product were you using to test this (Eclipe, Intellij, Maven, Ant or CLI) BTW?
;;;","19/Apr/2012 7:19 PM;299669e40041;It seems the issue is fixed by using the 3.1.4 release.  I was using
3.1.3.  

-John


On 4/19/12 5:56 AM, ""Michael Studman [Atlassian] (JIRA)""


;;;",,,,,,,,,,,,,,,,,,,,,,,,,
IDEA 11 error turning OFF Clover coverage,CLOV-1056,161723,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,048c9d49b71e,048c9d49b71e,20/Jan/2012 10:17 PM,30/Aug/2012 3:46 PM,15/Nov/2024 6:09 PM,08/Aug/2012 7:31 AM,,,,,,3.1.7,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Error during dispatching of java.awt.event.MouseEvent[MOUSE_CLICKED,(691,256),absolute(1963,178),button=1,modifiers=Button1,clickCount=1] on frame0
java.lang.NullPointerException
	at clover.net.sf.jtreemap.swing.JTreeMap$Zoom.setNewDimension(JTreeMap.java:694)
	at clover.net.sf.jtreemap.swing.JTreeMap$Zoom.execute(JTreeMap.java:664)
	at clover.net.sf.jtreemap.swing.JTreeMap.zoom(JTreeMap.java:570)
	at clover.net.sf.jtreemap.swing.JTreeMap$HandleMouseClick.mouseClicked(JTreeMap.java:616)
	at java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:270)
	at java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:269)
	at java.awt.Component.processMouseEvent(Component.java:6507)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)
	at java.awt.Component.processEvent(Component.java:6269)
	at java.awt.Container.processEvent(Container.java:2229)
	at java.awt.Component.dispatchEventImpl(Component.java:4860)
	at java.awt.Container.dispatchEventImpl(Container.java:2287)
	at java.awt.Component.dispatchEvent(Component.java:4686)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4501)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)
	at java.awt.Container.dispatchEventImpl(Container.java:2273)
	at java.awt.Window.dispatchEventImpl(Window.java:2713)
	at java.awt.Component.dispatchEvent(Component.java:4686)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)
	at java.awt.EventQueue.access$000(EventQueue.java:101)
	at java.awt.EventQueue$3.run(EventQueue.java:666)
	at java.awt.EventQueue$3.run(EventQueue.java:664)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)
	at java.awt.EventQueue$4.run(EventQueue.java:680)
	at java.awt.EventQueue$4.run(EventQueue.java:678)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:677)
	at com.intellij.ide.IdeEventQueue.e(IdeEventQueue.java:694)
	at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:530)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:416)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:374)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:211)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:90)

","Java version=1.7.0_01, Java vendor=Oracle Corporation, OS name=Windows 7, OS architecture=amd64, IDEA build number=IU-111.167
Plugin release=3.1.3.v20120117000000",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwph93:",93979,,,,,81501,,,,,,,,,,,2012-08-01 13:06:31.748,,,,,,,,,,,,,,,,,,,,,,,,"2|hwuhv3:",124124,,,,,,,,,,,"1|hwnduf:",81612,387849600,true,,,,,,,,,,mparfianowicz(mparfianowicz),048c9d49b71e(mickknutson),,,,,,,,,,,,,,,,,,"1|hww35b:",111715,,,,,,,,,,,,,,,,,,,,"Version 3.1.7, Sprint 1",Version 3.1.8,,,,2.0,81503,,"1|hwnd67:",81506,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/2012 1:06 PM;mparfianowicz;Bug occurs when project has Clover enabled, but has no source code in it.

Way to reproduce it: create IntelliJ project with one module containing some code, enable Clover for it, rebuild project, open TreeMap Report view; report is displayed; now right click on a project, choose ""Exclude module from Clover instrumentation"", click ""Refresh Coverage"" icon; TreeMap Report will not display gray background; click on the TreeMap view, it will raise NullPointerException.
;;;","01/Aug/2012 1:23 PM;mparfianowicz;Hello Mick, 

Bug is fixed. Can you wait till 3.1.7 release (which should be in 1st half of September) or shall I make a 3.1.7-SNAPSHOT build for you? 

Regards
Marek;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Support Intellij 11,CLOV-1055,161216,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,17/Jan/2012 6:46 PM,17/Jan/2012 6:47 PM,15/Nov/2024 6:09 PM,17/Jan/2012 6:47 PM,3.1.2,,,,,3.1.3,,,CIJ Plugin,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwpevb:",93585,,,,,81071,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwuftz:",123789,,,,,,,,,,,"1|hwnb8v:",81184,404784000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hww027:",111206,,,,,,,,,,,,,,,,,,,,,,,,,,81073,,"1|hwnak7:",81076,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Opened a new IDEA project in IDEA,CLOV-1054,161096,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,,048c9d49b71e,048c9d49b71e,16/Jan/2012 4:52 PM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,16/Jan/2012 5:21 PM,,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V: com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V
java.lang.NoSuchMethodError: com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V
	at com.cenqua.clover.idea.autoupdater.NotificationIcon.<init>(NotificationIcon.java:14)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.addNotification(NewVersionNotifier.java:77)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.update(NewVersionNotifier.java:29)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.projectOpened(NewVersionNotifier.java:104)
	at com.intellij.openapi.project.impl.ProjectImpl.c(ProjectImpl.java:378)
	at com.intellij.openapi.project.impl.ProjectImpl.access$200(ProjectImpl.java:75)
	at com.intellij.openapi.project.impl.ProjectImpl$MyProjectManagerListener.projectOpened(ProjectImpl.java:413)
	at com.intellij.openapi.project.impl.ProjectManagerImpl$2.projectOpened(ProjectManagerImpl.java:150)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.d(ProjectManagerImpl.java:1031)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.openProject(ProjectManagerImpl.java:401)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:462)
	at com.intellij.ide.impl.ProjectUtil.openProject(ProjectUtil.java:175)
	at com.intellij.ide.RecentProjectsManager.doOpenProject(RecentProjectsManager.java:47)
	at com.intellij.ide.RecentProjectsManagerBase$MyAppLifecycleListener.appStarting(RecentProjectsManagerBase.java:322)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at com.intellij.util.messages.impl.MessageBusConnectionImpl.deliverMessage(MessageBusConnectionImpl.java:110)
	at com.intellij.util.messages.impl.MessageBusImpl.doPumpMessages(MessageBusImpl.java:220)
	at com.intellij.util.messages.impl.MessageBusImpl.pumpMessages(MessageBusImpl.java:212)
	at com.intellij.util.messages.impl.MessageBusImpl.sendMessage(MessageBusImpl.java:202)
	at com.intellij.util.messages.impl.MessageBusImpl.access$000(MessageBusImpl.java:42)
	at com.intellij.util.messages.impl.MessageBusImpl$2.invoke(MessageBusImpl.java:128)
	at $Proxy43.appStarting(Unknown Source)
	at com.intellij.idea.IdeaApplication.c(IdeaApplication.java:256)
	at com.intellij.idea.IdeaApplication.access$400(IdeaApplication.java:56)
	at com.intellij.idea.IdeaApplication$IdeStarter$2.run(IdeaApplication.java:213)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:333)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:251)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:705)
	at java.awt.EventQueue.access$000(EventQueue.java:101)
	at java.awt.EventQueue$3.run(EventQueue.java:666)
	at java.awt.EventQueue$3.run(EventQueue.java:664)
	at java.security.AccessController.doPrivileged(Native Method)
","Java version=1.7.0_01, Java vendor=Oracle Corporation, OS name=Windows 7, OS architecture=amd64, IDEA build number=IU-111.167
Plugin release=3.1.2.v20111107000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1043,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwpe7b:",93475,,,,,80959,,,,,,,,,,,2012-01-16 17:21:35.177,,,,,,,,,,,,,,,,,,,,,,,,"2|hwuf9b:",123694,,,,,,,,,,,"1|hwnakn:",81073,404956800,true,,,,,,,,,,mstudman(mstudman),048c9d49b71e(mickknutson),,,,,,,,,,,,,,,,,,"1|hwvz87:",111069,,,,,,,,,,,,,,,,,,,,,,,,,,80961,,"1|hwn9vr:",80964,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jan/2012 5:21 PM;mstudman;Is this really a 'blocker'? Anyway, it's fixed already. If you need a dev build for it, get in touch at support.atlassian.com referring to this issue and we'll make one available for you.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover coverage files sometimes get corrupted,CLOV-1053,161081,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,16/Jan/2012 11:02 AM,17/Jan/2012 3:37 PM,15/Nov/2024 6:09 PM,16/Jan/2012 11:04 AM,3.1.2,,,,,3.1.3,,,,,,,,,,0,,,,,,,,,"It seems that sometimes the JVM is terminated midway through Clover writing coverage and the alternate file does not have the full coverage data.

One way to mitigate this problem is to force a full flush after every test finishes. That way the 2nd last coverage file will always be complete (for directed flushing and discounting multithreaded tests).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwpe3r:",93458,,,,,80942,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwuf5z:",123679,,,,,,,,,,,"1|hwnah3:",81056,404956800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwvz47:",111051,,,,,,,,,,,,,,,,,,,,,,,,,,80944,,"1|hwn9s7:",80947,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Opened a new project in IDEA,CLOV-1052,160912,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,,048c9d49b71e,048c9d49b71e,13/Jan/2012 8:41 PM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,16/Jan/2012 5:23 PM,,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V: com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V
java.lang.NoSuchMethodError: com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V
	at com.cenqua.clover.idea.autoupdater.NotificationIcon.<init>(NotificationIcon.java:14)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.addNotification(NewVersionNotifier.java:77)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.update(NewVersionNotifier.java:29)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.projectOpened(NewVersionNotifier.java:104)
	at com.intellij.openapi.project.impl.ProjectImpl.c(ProjectImpl.java:378)
	at com.intellij.openapi.project.impl.ProjectImpl.access$200(ProjectImpl.java:75)
	at com.intellij.openapi.project.impl.ProjectImpl$MyProjectManagerListener.projectOpened(ProjectImpl.java:413)
	at com.intellij.openapi.project.impl.ProjectManagerImpl$2.projectOpened(ProjectManagerImpl.java:150)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.d(ProjectManagerImpl.java:1031)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.openProject(ProjectManagerImpl.java:401)
	at com.intellij.projectImport.ProjectOpenProcessorBase.doOpenProject(ProjectOpenProcessorBase.java:236)
	at com.intellij.ide.impl.ProjectUtil.openOrImport(ProjectUtil.java:121)
	at com.intellij.ide.actions.OpenProjectAction$1.consume(OpenProjectAction.java:75)
	at com.intellij.ide.actions.OpenProjectAction$1.consume(OpenProjectAction.java:70)
	at com.intellij.openapi.fileChooser.FileChooser.chooseFilesWithSlideEffect(FileChooser.java:128)
	at com.intellij.openapi.fileChooser.FileChooser.chooseFilesWithSlideEffect(FileChooser.java:97)
	at com.intellij.ide.actions.OpenProjectAction.actionPerformed(OpenProjectAction.java:70)
	at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter$1.run(ActionMenuItem.java:260)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.runOnOwnContext(FocusManagerImpl.java:861)
	at com.intellij.openapi.wm.impl.IdeFocusManagerImpl.runOnOwnContext(IdeFocusManagerImpl.java:119)
	at com.intellij.openapi.actionSystem.impl.ActionMenuItem$ActionTransmitter.actionPerformed(ActionMenuItem.java:226)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2018)
	at com.intellij.openapi.actionSystem.impl.ActionMenuItem.fireActionPerformed(ActionMenuItem.java:100)
	at com.intellij.ui.plaf.beg.BegMenuItemUI.a(BegMenuItemUI.java:512)
	at com.intellij.ui.plaf.beg.BegMenuItemUI.access$300(BegMenuItemUI.java:44)
	at com.intellij.ui.plaf.beg.BegMenuItemUI$MyMouseInputHandler.mouseReleased(BegMenuItemUI.java:532)
	at java.awt.Component.processMouseEvent(Component.java:6504)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3321)
	at java.awt.Component.processEvent(Component.java:6269)
	at java.awt.Container.processEvent(Container.java:2229)
	at java.awt.Component.dispatchEventImpl(Component.java:4860)
	at java.awt.Container.dispatchEventImpl(Container.java:2287)
	at java.awt.Component.dispatchEvent(Component.java:4686)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)
","Java version=1.7.0_01, Java vendor=Oracle Corporation, OS name=Windows 7, OS architecture=amd64, IDEA build number=IU-111.167
Plugin release=3.1.2.v20111107000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1043,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwpcuf:",93195,,,,,80673,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwueif:",123520,,,,,,,,,,,"1|hwn96f:",80787,405129600,true,,,,,,,,,,048c9d49b71e(mickknutson),,,,,,,,,,,,,,,,,,,"1|hwvxzr:",110816,,,,,,,,,,,,,,,,,,,,,,,,,,80675,,"1|hwn8hj:",80678,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Opened a new project in IDEA,CLOV-1050,160907,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,,048c9d49b71e,048c9d49b71e,13/Jan/2012 7:31 PM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,16/Jan/2012 5:25 PM,,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V: com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V
java.lang.NoSuchMethodError: com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V
	at com.cenqua.clover.idea.autoupdater.NotificationIcon.<init>(NotificationIcon.java:14)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.addNotification(NewVersionNotifier.java:77)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.update(NewVersionNotifier.java:29)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.projectOpened(NewVersionNotifier.java:104)
	at com.intellij.openapi.project.impl.ProjectImpl.c(ProjectImpl.java:378)
	at com.intellij.openapi.project.impl.ProjectImpl.access$200(ProjectImpl.java:75)
	at com.intellij.openapi.project.impl.ProjectImpl$MyProjectManagerListener.projectOpened(ProjectImpl.java:413)
	at com.intellij.openapi.project.impl.ProjectManagerImpl$2.projectOpened(ProjectManagerImpl.java:150)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.d(ProjectManagerImpl.java:1031)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.openProject(ProjectManagerImpl.java:401)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:462)
	at com.intellij.ide.impl.ProjectUtil.openProject(ProjectUtil.java:175)
	at com.intellij.ide.RecentProjectsManager.doOpenProject(RecentProjectsManager.java:47)
	at com.intellij.ide.RecentProjectsManagerBase$MyAppLifecycleListener.appStarting(RecentProjectsManagerBase.java:322)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at com.intellij.util.messages.impl.MessageBusConnectionImpl.deliverMessage(MessageBusConnectionImpl.java:110)
	at com.intellij.util.messages.impl.MessageBusImpl.doPumpMessages(MessageBusImpl.java:220)
	at com.intellij.util.messages.impl.MessageBusImpl.pumpMessages(MessageBusImpl.java:212)
	at com.intellij.util.messages.impl.MessageBusImpl.sendMessage(MessageBusImpl.java:202)
	at com.intellij.util.messages.impl.MessageBusImpl.access$000(MessageBusImpl.java:42)
	at com.intellij.util.messages.impl.MessageBusImpl$2.invoke(MessageBusImpl.java:128)
	at $Proxy44.appStarting(Unknown Source)
	at com.intellij.idea.IdeaApplication.c(IdeaApplication.java:256)
	at com.intellij.idea.IdeaApplication.access$400(IdeaApplication.java:56)
	at com.intellij.idea.IdeaApplication$IdeStarter$2.run(IdeaApplication.java:213)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:333)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:251)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:705)
	at java.awt.EventQueue.access$000(EventQueue.java:101)
	at java.awt.EventQueue$3.run(EventQueue.java:666)
	at java.awt.EventQueue$3.run(EventQueue.java:664)
	at java.security.AccessController.doPrivileged(Native Method)
","Java version=1.7.0_01, Java vendor=Oracle Corporation, OS name=Windows 7, OS architecture=amd64, IDEA build number=IU-111.167
Plugin release=3.1.2.v20111107000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1043,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwpctr:",93191,,,,,80669,,,,,,,,,,,2012-01-16 17:24:46.432,,,,,,,,,,,,,,,,,,,,,,,,"2|hwuehr:",123516,,,,,,,,,,,"1|hwn95r:",80783,404870400,true,,,,,,,,,,mstudman(mstudman),048c9d49b71e(mickknutson),,,,,,,,,,,,,,,,,,"1|hwvxyv:",110811,,,,,,,,,,,,,,,,,,,,,,,,,,80671,,"1|hwn8gv:",80674,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jan/2012 5:24 PM;mstudman;Mate, we appreciate the feedback but you seem to have created 3 issues for the same thing.;;;","16/Jan/2012 5:31 PM;048c9d49b71e;Michael, the error report in IDEA does not allow for general feedback to be sent and I am just following the dialog of the tool. Maybe the tool should allow for a general failure report to be emailed to you instead?;;;","16/Jan/2012 6:16 PM;mstudman;Fair enough. Sorry, I didn't realise you were using a feedback dialog.;;;","16/Jan/2012 6:18 PM;mstudman;Please get in touch at support.atlassian.com and we can provide you with a dev build that fixes this. jira.atlassian.com doesn't allow for attachments > 10m;;;",,,,,,,,,,,,,,,,,,,,,,,
"clover plugin freezes at startup, IDEA 11 UE and Java 1.7. (both windows and oracle jdk and linux and openjdk)",CLOV-1048,160142,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,,74366e91fcc0,74366e91fcc0,09/Jan/2012 3:31 PM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,09/Jan/2012 3:57 PM,,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V: com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V
java.lang.NoSuchMethodError: com.cenqua.clover.idea.autoupdater.NotificationIcon.init([Ljavax/swing/Icon;Ljavax/swing/Icon;III)V
	at com.cenqua.clover.idea.autoupdater.NotificationIcon.<init>(NotificationIcon.java:14)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.addNotification(NewVersionNotifier.java:77)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.update(NewVersionNotifier.java:29)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.projectOpened(NewVersionNotifier.java:104)
	at com.intellij.openapi.project.impl.ProjectImpl.c(ProjectImpl.java:378)
	at com.intellij.openapi.project.impl.ProjectImpl.access$200(ProjectImpl.java:75)
	at com.intellij.openapi.project.impl.ProjectImpl$MyProjectManagerListener.projectOpened(ProjectImpl.java:413)
	at com.intellij.openapi.project.impl.ProjectManagerImpl$2.projectOpened(ProjectManagerImpl.java:150)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.d(ProjectManagerImpl.java:1031)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.openProject(ProjectManagerImpl.java:401)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:462)
	at com.intellij.ide.impl.ProjectUtil.openProject(ProjectUtil.java:175)
	at com.intellij.ide.RecentProjectsManager.doOpenProject(RecentProjectsManager.java:47)
	at com.intellij.ide.ReopenProjectAction.actionPerformed(ReopenProjectAction.java:59)
	at com.intellij.openapi.wm.impl.welcomeScreen.WelcomeScreen$2.mouseClicked(WelcomeScreen.java:306)
	at java.awt.Component.processMouseEvent(Component.java:6507)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3312)
	at java.awt.Component.processEvent(Component.java:6269)
	at java.awt.Container.processEvent(Container.java:2229)
	at java.awt.Component.dispatchEventImpl(Component.java:4860)
	at java.awt.Container.dispatchEventImpl(Container.java:2287)
	at java.awt.Component.dispatchEvent(Component.java:4686)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4832)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4501)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4422)
	at java.awt.Container.dispatchEventImpl(Container.java:2273)
	at java.awt.Window.dispatchEventImpl(Window.java:2713)
	at java.awt.Component.dispatchEvent(Component.java:4686)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:707)
	at java.awt.EventQueue.access$000(EventQueue.java:101)
	at java.awt.EventQueue$3.run(EventQueue.java:666)
	at java.awt.EventQueue$3.run(EventQueue.java:664)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:87)
	at java.awt.EventQueue$4.run(EventQueue.java:680)
	at java.awt.EventQueue$4.run(EventQueue.java:678)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$1.doIntersectionPrivilege(ProtectionDomain.java:76)","Java version=1.7.0_147-icedtea, Java vendor=Oracle Corporation, OS name=Linux, OS architecture=amd64, IDEA build number=IU-111.167
Plugin release=3.1.2.v20111107000000",,,,,,,,,,,,,,,,,,,,,,,CLOV-1046,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwp8gv:",92417,,,,,79767,,,,,,,,,,,2012-01-09 15:57:05.744,,,,,,,,,,,,,,,,,,,,,,,,"2|hwubtj:",123051,,,,,,,,,,,"1|hwn40f:",79881,405561600,true,,,,,,,,,,mstudman(mstudman),74366e91fcc0(rheinerman),,,,,,,,,,,,,,,,,,"1|hwvonj:",109268,,,,,,,,,,,,,,,,,,,,,,,,,,79769,,"1|hwn3bj:",79772,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jan/2012 3:57 PM;mstudman;Robert, I will send you a private email with a link to a dev build that fixes this.;;;","09/Jan/2012 4:00 PM;mstudman;Actually, your registered email address doesn't seem right here. Please contact us at support.atlassian.com and I can post you a dev build there (this JIRA instance doesn't accept attachments > 10m :-( );;;",,,,,,,,,,,,,,,,,,,,,,,,,
Namespace conflict with parent controller class '$CLV_exprEval$',CLOV-1047,159024,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,64dbf023b8f7,64dbf023b8f7,23/Dec/2011 12:57 AM,17/Jan/2012 3:37 PM,15/Nov/2024 6:09 PM,17/Jan/2012 3:27 PM,3.1.2,,,,,3.1.3,,,Grails Plugin,,,,,,,2,,,,,,,,,"Works in 3.1.0.  Couldn't test 3.1.1 because there isn't a grails plugin for it.  http://plugins.grails.org/grails-clover/trunk/

Here's what I think is causing the problem:
class MicrositesAccountController extends AccountController {


$ grails test-app -clover.on
Welcome to Grails 1.3.7 - http://grails.org/
Licensed under Apache Standard License 2.0
Grails home is set to: /home/build/grails_versions/grails_1.3.7

Base Directory: /home/build/make_myaccount/trunk
Resolving dependencies...
Dependencies resolved in 2518ms.
Running script /home/build/grails_versions/grails_1.3.7/scripts/TestApp.groovy
Environment set to test
Clover: Using config: [on:true]
Using clover license path: /home/build/clover.license
[clover-env] Loading clover.xml: jar:file:/home/build/.ivy2/cache/com.cenqua.clover/clover/jars/clover-3.1.2.jar!/clover.xml
Using default clover-setup configuration.
Clover:
               directories: [src/java, src/groovy, test/unit, test/integration, grails-app]
               includes:    [**/*.groovy, **/*.java]
               excludes     [**/conf/**, **/plugins/**]
[clover-setup] Clover Version 3.1.2, built on November 07 2011 (build-842)
[clover-setup] Loaded from: /home/build/.ivy2/cache/com.cenqua.clover/clover/jars/clover-3.1.2.jar
[clover-setup] Clover: Commercial License registered to J2 GLOBAL COMMUNICATIONS INC.
[clover-setup] Clover is enabled with initstring '/home/build/.grails/1.3.7/projects/trunk/clover/db/clover.db'
Clover: Forcing a clean to ensure Clover instrumentation occurs. Disable by setting: clover.forceClean=false
   [delete] Deleting directory /home/build/make_myaccount/trunk/target/classes
   [delete] Deleting directory /home/build/.grails/1.3.7/projects/trunk/clover
Clover: Compile start.
    [mkdir] Created dir: /home/build/make_myaccount/trunk/target/classes
[clover-setup] Creating new database at '/home/build/.grails/1.3.7/projects/trunk/clover/db/clover.db'.
[clover-setup] Processing files at 1.6 source level.
[clover-setup] Clover all over. Instrumented 13 files (5 packages).
[clover-setup] Elapsed time = 1.247 secs. (10.425 files/sec, 2,218.926 srclines/sec)
  [groovyc] Compiling 99 source files to /home/build/make_myaccount/trunk/target/classes
[clover-setup] Updating existing database at '/home/build/.grails/1.3.7/projects/trunk/clover/db/clover.db'.
Note: Some input files use or override a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: Some input files use unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
  [groovyc] org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:
  [groovyc] /home/build/make_myaccount/trunk/grails-app/controllers/com/j2/myaccount/microsites/MicrositesAccountController.groovy: -1: You are not allowed to override the final method $CLV_exprEval$(java.lang.Object,java.lang.Integer) from class 'com.j2.myaccount.AccountController'.
  [groovyc]  @ line -1, column -1.
  [groovyc] 1 error
Compilation error: Compilation Failed
",Java(TM) SE Runtime Environment (build 1.6.0_21-b06),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Dec/2011 1:12 PM;mstudman;grails-clover-3.1.3-SNAPSHOT.zip;https://jira.atlassian.com/secure/attachment/56827/grails-clover-3.1.3-SNAPSHOT.zip",,,,,,,,,,,,,,,,true,,"1|hwp0l3:",91067,,,,,78127,,,,,,Unknown,,,,,2011-12-23 01:18:06.021,,,,,,,,,,,,,,,,,,,,,,,,"2|hwu6in:",122149,,,,,,,,,,,"1|hwmuc7:",78241,405993600,true,,,,,,,,,,b46f0236744b(bmcguire),64dbf023b8f7(johnk73),mstudman(mstudman),,,,,,,,,,,,,,,,,"1|hwv8fz:",106569,,,,,,,,,,,,,,,,,,,,,,,,,,78129,,"1|hwmtnb:",78132,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"23/Dec/2011 1:18 AM;mstudman;This will be fixed in 3.1.3. I'll prepare a snapshot grails plugin for you tomorrow.;;;","23/Dec/2011 1:12 PM;mstudman;Here  is the dev build hopefully resolving your issue.

It depends on clover-3.1.3-SNAPSHOT which can be found in our snapshot repo at: https://maven.atlassian.com/public-snapshot

Let me know how you go.
;;;","23/Dec/2011 6:07 PM;64dbf023b8f7;I hacked up my grails clover-3.1.2 plugin to go get the 3.1.3-SNAPSHOT jars, removed my license file (as it had expired in Nov).  And then it worked.

$ grails test-app -clover.on
Welcome to Grails 1.3.7 - http://grails.org/
Licensed under Apache Standard License 2.0
Grails home is set to: /home/build/grails_versions/grails_1.3.7

Base Directory: /home/build/make_myaccount/trunk
Resolving dependencies...
Downloading: https://maven.atlassian.com/content/repositories/atlassian-public-snapshot/com/cenqua/clover/clover/3.1.3-SNAPSHOT/clover-3.1.3-20111221.223934-13.pom ...
Download complete.
Downloading: https://maven.atlassian.com/content/repositories/atlassian-public-snapshot/com/cenqua/clover/clover/3.1.3-SNAPSHOT/clover-3.1.3-20111221.223934-13.pom.sha1 ...
Download complete.
Downloading: https://maven.atlassian.com/content/repositories/atlassian-public-snapshot/com/cenqua/clover/clover/3.1.3-SNAPSHOT/clover-3.1.3-20111221.223934-13.jar ...
Download complete.
Downloading: https://maven.atlassian.com/content/repositories/atlassian-public-snapshot/com/cenqua/clover/clover/3.1.3-SNAPSHOT/clover-3.1.3-20111221.223934-13.jar.sha1 ...
Download complete.
Dependencies resolved in 27982ms.
Running script /home/build/grails_versions/grails_1.3.7/scripts/TestApp.groovy
Environment set to test
Clover: Using config: [on:true]
Using clover license path: /home/build/.grails/1.3.7/projects/trunk/plugins/clover-3.1.3/grails-app/conf/clover/clover-evaluation.license
[clover-env] Loading clover.xml: jar:file:/home/build/.ivy2/cache/com.cenqua.clover/clover/jars/clover-3.1.3-SNAPSHOT.jar!/clover.xml
Using default clover-setup configuration.
Clover:
               directories: [src/java, src/groovy, test/unit, test/integration, grails-app]
               includes:    [**/*.groovy, **/*.java]
               excludes     [**/conf/**, **/plugins/**]
[clover-setup] Clover Version 3.1.3, built on December 21 2011 (build-dev)
[clover-setup] Loaded from: /home/build/.ivy2/cache/com.cenqua.clover/clover/jars/clover-3.1.3-SNAPSHOT.jar
[clover-setup] Clover Evaluation License registered to Clover Grails Plugin.
[clover-setup] You have 28 day(s) before your license expires.
[clover-setup] Clover is enabled with initstring '/home/build/.grails/1.3.7/projects/trunk/clover/db/clover.db'
Clover: Forcing a clean to ensure Clover instrumentation occurs. Disable by setting: clover.forceClean=false
   [delete] Deleting directory /home/build/make_myaccount/trunk/target/classes
   [delete] Deleting directory /home/build/make_myaccount/trunk/target/test-classes
   [delete] Deleting directory /home/build/.grails/1.3.7/projects/trunk/clover
Clover: Compile start.
    [mkdir] Created dir: /home/build/make_myaccount/trunk/target/classes
[clover-setup] Creating new database at '/home/build/.grails/1.3.7/projects/trunk/clover/db/clover.db'.
[clover-setup] Processing files at 1.6 source level.
[clover-setup] Clover all over. Instrumented 13 files (5 packages).
[clover-setup] Elapsed time = 1.518 secs. (8.564 files/sec, 1,822.793 srclines/sec)
  [groovyc] Compiling 99 source files to /home/build/make_myaccount/trunk/target/classes
[clover-setup] Updating existing database at '/home/build/.grails/1.3.7/projects/trunk/clover/db/clover.db'.
Note: Some input files use or override a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: Some input files use unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
    [mkdir] Created dir: /home/build/make_myaccount/trunk/target/test-reports/html
    [mkdir] Created dir: /home/build/make_myaccount/trunk/target/test-reports/plain

Starting unit test phase ...
    [mkdir] Created dir: /home/build/make_myaccount/trunk/target/test-classes/unit
  [groovyc] Compiling 39 source files to /home/build/make_myaccount/trunk/target/test-classes/unit
[clover-setup] Updating existing database at '/home/build/.grails/1.3.7/projects/trunk/clover/db/clover.db'.

-------------------------------------------------------
Running 335 unit tests...
Running test com.j2.utils.BrandPagesCacheTest...PASSED
...;;;","23/Dec/2011 6:14 PM;64dbf023b8f7;Oops didn't see the attachment; you'd done the plugin for me.;;;","03/Jan/2012 8:30 PM;b46f0236744b;I'm facing the same issue. I think the priority should be higher as this is blocking the use of Clover in Grails on valid code.;;;","03/Jan/2012 9:16 PM;mstudman;Ben, did you see the comments? There's a dev build attached that fixed the problem.;;;",,,,,,,,,,,,,,,,,,,,,
Clover-for-Intellij incorrectly reports a new version is available even if the current version is the latests,CLOV-1045,158775,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,20/Dec/2011 7:09 PM,17/Jan/2012 3:37 PM,15/Nov/2024 6:09 PM,20/Dec/2011 7:32 PM,3.1.2,,,,,3.1.3,,,CIJ Plugin,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwoz1r:",90804,,,,,77816,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwu55j:",121916,,,,,,,,,,,"1|hwmsi7:",77930,407203200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwv5cn:",106055,,,,,,,,,,,,,,,,,,,,,,,,,,77816,,"1|hwmrsv:",77819,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Possibly deadlock found,CLOV-1044,158026,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,ba81b6334429,ba81b6334429,14/Dec/2011 3:27 PM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,3.0,,,,,open-source,,,,,,,,,,2,,,,,,,,,"Deadlock found, but no meaningful logging appears to be enabled (I vaguely recall there's a way to enable debug logging - how does that impact run time?). Here's a thread dump:

Full thread dump OpenJDK 64-Bit Server VM (1.6.0_0-b11 mixed mode):

""Clover-Thread-10"" prio=10 tid=0x00007eff5c30b800 nid=0x3713 runnable [0x00007eff616f4000..0x00007eff616f49c0]
   java.lang.Thread.State: RUNNABLE
	at java.util.HashMap.getEntry(HashMap.java:364)
	at java.util.HashMap.containsKey(HashMap.java:352)
	at com.cenqua.clover.context.ContextStore.getContextsAsString(ContextStore.java:257)
	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:278)
	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:83)
	at com.cenqua.clover.reporters.html.RenderFileAction.insertLineInfos(RenderFileAction.java:284)
	at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:131)
	at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:115)
	at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:86)
	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:178)
	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1061)
	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
	at java.lang.Thread.run(Thread.java:636)

""Clover-Thread-9"" prio=10 tid=0x00007eff5c07ac00 nid=0x3712 runnable [0x00007eff60b74000..0x00007eff60b74a40]
   java.lang.Thread.State: RUNNABLE
	at java.util.HashMap.getEntry(HashMap.java:364)
	at java.util.HashMap.containsKey(HashMap.java:352)
	at com.cenqua.clover.context.ContextStore.getContextsAsString(ContextStore.java:257)
	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:278)
	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:83)
	at com.cenqua.clover.reporters.html.RenderFileAction.insertLineInfos(RenderFileAction.java:284)
	at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:131)
	at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:115)
	at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:86)
	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:178)
	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1061)
	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
	at java.lang.Thread.run(Thread.java:636)

""AWT-XAWT"" daemon prio=10 tid=0x00007eff6426e800 nid=0x70f7 runnable [0x00007eff617f5000..0x00007eff617f59c0]
   java.lang.Thread.State: RUNNABLE
	at sun.awt.X11.XToolkit.waitForEvents(Native Method)
	at sun.awt.X11.XToolkit.run(XToolkit.java:543)
	at sun.awt.X11.XToolkit.run(XToolkit.java:518)
	at java.lang.Thread.run(Thread.java:636)

""Java2D Disposer"" daemon prio=10 tid=0x00007eff641e5800 nid=0x70f3 in Object.wait() [0x00007eff61f98000..0x00007eff61f98a40]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00007eff6eac9818> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:133)
	- locked <0x00007eff6eac9818> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:149)
	at sun.java2d.Disposer.run(Disposer.java:143)
	at java.lang.Thread.run(Thread.java:636)

""Low Memory Detector"" daemon prio=10 tid=0x00007eff64008c00 nid=0x70ed runnable [0x0000000000000000..0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

""CompilerThread1"" daemon prio=10 tid=0x00007eff64006000 nid=0x70ec waiting on condition [0x0000000000000000..0x00007eff63efc110]
   java.lang.Thread.State: RUNNABLE

""CompilerThread0"" daemon prio=10 tid=0x0000000001389000 nid=0x70eb waiting on condition [0x0000000000000000..0x00007eff63ffd190]
   java.lang.Thread.State: RUNNABLE

""Signal Dispatcher"" daemon prio=10 tid=0x0000000001387c00 nid=0x70ea waiting on condition [0x0000000000000000..0x0000000000000000]
   java.lang.Thread.State: RUNNABLE

""Finalizer"" daemon prio=10 tid=0x000000000135ec00 nid=0x70e9 in Object.wait() [0x00007eff68609000..0x00007eff68609b40]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00007eff6ea0bd20> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:133)
	- locked <0x00007eff6ea0bd20> (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:149)
	at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:177)

""Reference Handler"" daemon prio=10 tid=0x000000000135d800 nid=0x70e8 in Object.wait() [0x00007eff6870a000..0x00007eff6870a9c0]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00007eff6eab1a78> (a java.lang.ref.Reference$Lock)
	at java.lang.Object.wait(Object.java:502)
	at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133)
	- locked <0x00007eff6eab1a78> (a java.lang.ref.Reference$Lock)

""main"" prio=10 tid=0x00000000012eac00 nid=0x70e2 in Object.wait() [0x00007efff4600000..0x00007efff4601c30]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)
	- waiting on <0x00007eff9a8ba8a0> (a clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.locks.CondVar)
	at java.lang.Object.wait(Object.java:460)
	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.TimeUnit.timedWait(TimeUnit.java:364)
	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.locks.CondVar.await(CondVar.java:99)
	- locked <0x00007eff9a8ba8a0> (a clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.locks.CondVar)
	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.awaitTermination(ThreadPoolExecutor.java:1375)
	at com.cenqua.clover.util.CloverExecutors$CloverExecutorService.awaitTermination(CloverExecutors.java:62)
	at com.cenqua.clover.reporters.html.HtmlReporter.executeCurrentReport(HtmlReporter.java:257)
	at com.cenqua.clover.reporters.html.HtmlReporter.executeImpl(HtmlReporter.java:156)
	at com.cenqua.clover.reporters.CloverReporter.execute(CloverReporter.java:41)
	at com.cenqua.clover.tasks.CloverReportTask.generateReports(CloverReportTask.java:428)
	at com.cenqua.clover.tasks.CloverReportTask.cloverExecute(CloverReportTask.java:385)
	at com.cenqua.clover.tasks.AbstractCloverTask.execute(AbstractCloverTask.java:55)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:616)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:357)
	at org.apache.tools.ant.Target.performTasks(Target.java:385)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1306)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1189)
	at org.apache.tools.ant.Main.runBuild(Main.java:758)
	at org.apache.tools.ant.Main.startAnt(Main.java:217)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)

""VM Thread"" prio=10 tid=0x0000000001358400 nid=0x70e7 runnable 

""GC task thread#0 (ParallelGC)"" prio=10 tid=0x00000000012f5000 nid=0x70e3 runnable 

""GC task thread#1 (ParallelGC)"" prio=10 tid=0x00000000012f6400 nid=0x70e4 runnable 

""GC task thread#2 (ParallelGC)"" prio=10 tid=0x00000000012f7800 nid=0x70e5 runnable 

""GC task thread#3 (ParallelGC)"" prio=10 tid=0x00000000012f8c00 nid=0x70e6 runnable 

""VM Periodic Task Thread"" prio=10 tid=0x00007eff6400b000 nid=0x70ee waiting on condition 

JNI global references: 992

Heap
 PSYoungGen      total 242560K, used 37691K [0x00007effc3f00000, 0x00007effed0a0000, 0x00007effee9a0000)
  eden space 233088K, 12% used [0x00007effc3f00000,0x00007effc5a94eb0,0x00007effd22a0000)
  from space 9472K, 99% used [0x00007effd22a0000,0x00007effd2bda060,0x00007effd2be0000)
  to   space 216896K, 0% used [0x00007effdfcd0000,0x00007effdfcd0000,0x00007effed0a0000)
 PSOldGen        total 1180352K, used 1045648K [0x00007eff6e9a0000, 0x00007effb6a50000, 0x00007effc3f00000)
  object space 1180352K, 88% used [0x00007eff6e9a0000,0x00007effae6c40d0,0x00007effb6a50000)
 PSPermGen       total 32064K, used 29226K [0x00007eff695a0000, 0x00007eff6b4f0000, 0x00007eff6e9a0000)
  object space 32064K, 91% used [0x00007eff695a0000,0x00007eff6b22a9f8,0x00007eff6b4f0000)

",Debian GNU/Linux,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwouz3:",90068,,,,,76861,,,,,,Unknown,,,,,2011-12-15 02:14:41.942,,,,,,,,,,,,,,,,,,,,,,,,"2|hwu26f:",121423,,,,,,,,,,,"1|hwmn7b:",76975,403315200,true,,,,,,,,,,ba81b6334429(dbharris),npellow(npellow),0dde58c4010b(pundit5307),,,,,,,,,,,,,,,,,"1|hwfkhb:",105299,,,,,,,,,,,,,,,,,,,,,,,,,,76861,,"1|hwmmhz:",76864,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/Dec/2011 2:14 AM;npellow;Hi David, 

Does this happen all the time, or has it only happened once?
Also - are you certain this is a deadlock, and not just quite slow ?

You can enable Clover debugging in Ant by adding the -debug command line to your build.

Please create a support request at http://support.atlassian.com if you experience this again.

Cheers,
Nick;;;","16/Dec/2011 10:34 PM;ba81b6334429;Hi Nick,

It's happened a few times, but not frequently - once every month or three, perhaps?

I can't say for sure whether it's a deadlock or not. The thread dump seems to imply it, and Clover was running for 7+ hours (instead of the usual ~2.5 hours).

If we see it again we'll report via support.atlassian.com

Thanks,

Dave;;;","03/Feb/2012 8:50 PM;0dde58c4010b;I am also facing the same issue with clover 3.0.2 version. And it is happening 2-3 times a day.

Please see the thread dump below:

build	03-Feb-2012 08:54:19	[INFO] Writing HTML report to '/u01/app/bamboo/bamboo-agent-home-1/xml-data/build-dir/MC-NIGHTLY-JOB1/target/site/clover'
build	03-Feb-2012 08:58:34	2012-02-03 08:58:34
build	03-Feb-2012 08:58:34	Full thread dump Java HotSpot(TM) 64-Bit Server VM (17.0-b16 mixed mode):
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""Clover-Thread-165"" prio=10 tid=0x00002aab40396000 nid=0x320e runnable [0x0000000041a5e000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: RUNNABLE
build	03-Feb-2012 08:58:34		at java.util.HashMap.getEntry(HashMap.java:347)
build	03-Feb-2012 08:58:34		at java.util.HashMap.containsKey(HashMap.java:335)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.context.ContextStore.getContextsAsString(ContextStore.java:257)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.source.SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:278)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.source.SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:83)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.RenderFileAction.insertLineInfos(RenderFileAction.java:284)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:131)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:115)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:86)
build	03-Feb-2012 08:58:34		at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:178)
build	03-Feb-2012 08:58:34		at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1061)
build	03-Feb-2012 08:58:34		at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
build	03-Feb-2012 08:58:34		at java.lang.Thread.run(Thread.java:619)
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""Clover-Thread-164"" prio=10 tid=0x00002aab40395000 nid=0x320d runnable [0x0000000041433000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: RUNNABLE
build	03-Feb-2012 08:58:34		at java.util.HashMap.getEntry(HashMap.java:347)
build	03-Feb-2012 08:58:34		at java.util.HashMap.containsKey(HashMap.java:335)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.context.ContextStore.getContextsAsString(ContextStore.java:257)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.source.SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:278)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.source.SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:83)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.RenderFileAction.insertLineInfos(RenderFileAction.java:284)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:131)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:115)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:86)
build	03-Feb-2012 08:58:34		at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:178)
build	03-Feb-2012 08:58:34		at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1061)
build	03-Feb-2012 08:58:34		at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
build	03-Feb-2012 08:58:34		at java.lang.Thread.run(Thread.java:619)
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""Java2D Disposer"" daemon prio=10 tid=0x00000000485b9000 nid=0x2a9f in Object.wait() [0x0000000041b5f000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: WAITING (on object monitor)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Native Method)
build	03-Feb-2012 08:58:34		- waiting on <0x00002aaab8fd3420> (a java.lang.ref.ReferenceQueue$Lock)
build	03-Feb-2012 08:58:34		at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)
build	03-Feb-2012 08:58:34		- locked <0x00002aaab8fd3420> (a java.lang.ref.ReferenceQueue$Lock)
build	03-Feb-2012 08:58:34		at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)
build	03-Feb-2012 08:58:34		at sun.java2d.Disposer.run(Disposer.java:127)
build	03-Feb-2012 08:58:34		at java.lang.Thread.run(Thread.java:619)
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""pool-1-thread-5"" prio=10 tid=0x00002aab385a6000 nid=0x2638 in Object.wait() [0x0000000041f7a000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: WAITING (on object monitor)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Native Method)
build	03-Feb-2012 08:58:34		- waiting on <0x00002aaab4d2f618> (a hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue$SerializableLock)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Object.java:485)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:316)
build	03-Feb-2012 08:58:34		- locked <0x00002aaab4d2f618> (a hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue$SerializableLock)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:994)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1054)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
build	03-Feb-2012 08:58:34		at java.lang.Thread.run(Thread.java:619)
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""pool-1-thread-4"" prio=10 tid=0x00002aab38559000 nid=0x2637 in Object.wait() [0x0000000041e79000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: WAITING (on object monitor)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Native Method)
build	03-Feb-2012 08:58:34		- waiting on <0x00002aaab4d2f618> (a hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue$SerializableLock)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Object.java:485)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:316)
build	03-Feb-2012 08:58:34		- locked <0x00002aaab4d2f618> (a hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue$SerializableLock)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:994)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1054)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
build	03-Feb-2012 08:58:34		at java.lang.Thread.run(Thread.java:619)
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""pool-1-thread-3"" prio=10 tid=0x0000000047ff2800 nid=0x2636 in Object.wait() [0x0000000040df4000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: WAITING (on object monitor)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Native Method)
build	03-Feb-2012 08:58:34		- waiting on <0x00002aaab4d2f618> (a hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue$SerializableLock)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Object.java:485)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:316)
build	03-Feb-2012 08:58:34		- locked <0x00002aaab4d2f618> (a hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue$SerializableLock)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:994)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1054)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
build	03-Feb-2012 08:58:34		at java.lang.Thread.run(Thread.java:619)
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""pool-1-thread-2"" prio=10 tid=0x00002aab3890e000 nid=0x2635 in Object.wait() [0x0000000040cf3000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: WAITING (on object monitor)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Native Method)
build	03-Feb-2012 08:58:34		- waiting on <0x00002aaab4d2f618> (a hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue$SerializableLock)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Object.java:485)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:316)
build	03-Feb-2012 08:58:34		- locked <0x00002aaab4d2f618> (a hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue$SerializableLock)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:994)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1054)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
build	03-Feb-2012 08:58:34		at java.lang.Thread.run(Thread.java:619)
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""pool-1-thread-1"" prio=10 tid=0x00002aab38ddf000 nid=0x2634 in Object.wait() [0x0000000040ff6000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: WAITING (on object monitor)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Native Method)
build	03-Feb-2012 08:58:34		- waiting on <0x00002aaab4d2f618> (a hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue$SerializableLock)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Object.java:485)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:316)
build	03-Feb-2012 08:58:34		- locked <0x00002aaab4d2f618> (a hidden.edu.emory.mathcs.backport.java.util.concurrent.LinkedBlockingQueue$SerializableLock)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:994)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1054)
build	03-Feb-2012 08:58:34		at hidden.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
build	03-Feb-2012 08:58:34		at java.lang.Thread.run(Thread.java:619)
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""Low Memory Detector"" daemon prio=10 tid=0x0000000047e19000 nid=0x2628 runnable [0x0000000000000000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: RUNNABLE
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""CompilerThread1"" daemon prio=10 tid=0x0000000047e17000 nid=0x2627 waiting on condition [0x0000000000000000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: RUNNABLE
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""CompilerThread0"" daemon prio=10 tid=0x0000000047e11800 nid=0x2626 waiting on condition [0x0000000000000000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: RUNNABLE
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""Signal Dispatcher"" daemon prio=10 tid=0x0000000047e0f000 nid=0x2625 runnable [0x0000000000000000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: RUNNABLE
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""Finalizer"" daemon prio=10 tid=0x0000000047deb000 nid=0x2624 in Object.wait() [0x00000000405fd000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: WAITING (on object monitor)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Native Method)
build	03-Feb-2012 08:58:34		- waiting on <0x00002aaab3a352b0> (a java.lang.ref.ReferenceQueue$Lock)
build	03-Feb-2012 08:58:34		at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)
build	03-Feb-2012 08:58:34		- locked <0x00002aaab3a352b0> (a java.lang.ref.ReferenceQueue$Lock)
build	03-Feb-2012 08:58:34		at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)
build	03-Feb-2012 08:58:34		at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""Reference Handler"" daemon prio=10 tid=0x0000000047de9000 nid=0x2623 in Object.wait() [0x00000000404fc000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: WAITING (on object monitor)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Native Method)
build	03-Feb-2012 08:58:34		- waiting on <0x00002aaab3a35268> (a java.lang.ref.Reference$Lock)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Object.java:485)
build	03-Feb-2012 08:58:34		at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)
build	03-Feb-2012 08:58:34		- locked <0x00002aaab3a35268> (a java.lang.ref.Reference$Lock)
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""main"" prio=10 tid=0x0000000047d8b800 nid=0x261f in Object.wait() [0x0000000041d76000]
build	03-Feb-2012 08:58:34	   java.lang.Thread.State: TIMED_WAITING (on object monitor)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Native Method)
build	03-Feb-2012 08:58:34		- waiting on <0x00002aaacd3aa180> (a clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.locks.CondVar)
build	03-Feb-2012 08:58:34		at java.lang.Object.wait(Object.java:443)
build	03-Feb-2012 08:58:34		at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.TimeUnit.timedWait(TimeUnit.java:364)
build	03-Feb-2012 08:58:34		at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.locks.CondVar.await(CondVar.java:99)
build	03-Feb-2012 08:58:34		- locked <0x00002aaacd3aa180> (a clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.locks.CondVar)
build	03-Feb-2012 08:58:34		at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.awaitTermination(ThreadPoolExecutor.java:1375)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.util.CloverExecutors$CloverExecutorService.awaitTermination(CloverExecutors.java:62)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.HtmlReporter.executeCurrentReport(HtmlReporter.java:257)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.html.HtmlReporter.executeImpl(HtmlReporter.java:156)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.reporters.CloverReporter.execute(CloverReporter.java:41)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.tasks.CloverReportTask.generateReports(CloverReportTask.java:428)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.tasks.CloverReportTask.cloverExecute(CloverReportTask.java:385)
build	03-Feb-2012 08:58:34		at com.cenqua.clover.tasks.AbstractCloverTask.execute(AbstractCloverTask.java:55)
build	03-Feb-2012 08:58:34		at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
build	03-Feb-2012 08:58:34		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
build	03-Feb-2012 08:58:34		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
build	03-Feb-2012 08:58:34		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
build	03-Feb-2012 08:58:34		at java.lang.reflect.Method.invoke(Method.java:597)
build	03-Feb-2012 08:58:34		at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
build	03-Feb-2012 08:58:34		at org.apache.tools.ant.Task.perform(Task.java:348)
build	03-Feb-2012 08:58:34		at org.apache.tools.ant.Target.execute(Target.java:357)
build	03-Feb-2012 08:58:34		at org.apache.tools.ant.Target.performTasks(Target.java:385)
build	03-Feb-2012 08:58:34		at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)
build	03-Feb-2012 08:58:34		at org.apache.tools.ant.Project.executeTarget(Project.java:1306)
build	03-Feb-2012 08:58:34		at com.atlassian.maven.plugin.clover.CloverReportMojo.createReport(CloverReportMojo.java:424)
build	03-Feb-2012 08:58:34		at com.atlassian.maven.plugin.clover.CloverReportMojo.createAllReportTypes(CloverReportMojo.java:372)
build	03-Feb-2012 08:58:34		at com.atlassian.maven.plugin.clover.CloverReportMojo.executeReport(CloverReportMojo.java:361)
build	03-Feb-2012 08:58:34		at org.apache.maven.reporting.AbstractMavenReport.generate(AbstractMavenReport.java:101)
build	03-Feb-2012 08:58:34		at org.apache.maven.reporting.AbstractMavenReport.execute(AbstractMavenReport.java:66)
build	03-Feb-2012 08:58:34		at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:490)
build	03-Feb-2012 08:58:34		at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:694)
build	03-Feb-2012 08:58:34		at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandaloneGoal(DefaultLifecycleExecutor.java:569)
build	03-Feb-2012 08:58:34		at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:539)
build	03-Feb-2012 08:58:34		at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:387)
build	03-Feb-2012 08:58:34		at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:348)
build	03-Feb-2012 08:58:34		at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:180)
build	03-Feb-2012 08:58:34		at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:328)
build	03-Feb-2012 08:58:34		at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:138)
build	03-Feb-2012 08:58:34		at org.apache.maven.cli.MavenCli.main(MavenCli.java:362)
build	03-Feb-2012 08:58:34		at org.apache.maven.cli.compat.CompatibleMain.main(CompatibleMain.java:60)
build	03-Feb-2012 08:58:34		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
build	03-Feb-2012 08:58:34		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
build	03-Feb-2012 08:58:34		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
build	03-Feb-2012 08:58:34		at java.lang.reflect.Method.invoke(Method.java:597)
build	03-Feb-2012 08:58:34		at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
build	03-Feb-2012 08:58:34		at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
build	03-Feb-2012 08:58:34		at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)
build	03-Feb-2012 08:58:34		at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""VM Thread"" prio=10 tid=0x0000000047de5000 nid=0x2622 runnable 
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""GC task thread#0 (ParallelGC)"" prio=10 tid=0x0000000047d9e800 nid=0x2620 runnable 
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""GC task thread#1 (ParallelGC)"" prio=10 tid=0x0000000047da0800 nid=0x2621 runnable 
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	""VM Periodic Task Thread"" prio=10 tid=0x0000000047e23800 nid=0x2629 waiting on condition 
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	JNI global references: 1868
build	03-Feb-2012 08:58:34	
build	03-Feb-2012 08:58:34	Heap
build	03-Feb-2012 08:58:34	 PSYoungGen      total 473664K, used 121064K [0x00002aab08b50000, 0x00002aab321a0000, 0x00002aab335f0000)
build	03-Feb-2012 08:58:34	  eden space 283840K, 39% used [0x00002aab08b50000,0x00002aab0f842038,0x00002aab1a080000)
build	03-Feb-2012 08:58:34	  from space 189824K, 5% used [0x00002aab26840000,0x00002aab27188000,0x00002aab321a0000)
build	03-Feb-2012 08:58:34	  to   space 197184K, 0% used [0x00002aab1a080000,0x00002aab1a080000,0x00002aab26110000)
build	03-Feb-2012 08:58:34	 PSOldGen        total 637184K, used 447183K [0x00002aaab35f0000, 0x00002aaada430000, 0x00002aab08b50000)
build	03-Feb-2012 08:58:34	  object space 637184K, 70% used [0x00002aaab35f0000,0x00002aaaceaa3ef8,0x00002aaada430000)
build	03-Feb-2012 08:58:34	 PSPermGen       total 83328K, used 54945K [0x00002aaaae1f0000, 0x00002aaab3350000, 0x00002aaab35f0000)
build	03-Feb-2012 08:58:34	  object space 83328K, 65% used [0x00002aaaae1f0000,0x00002aaab1798778,0x00002aaab3350000)
build	03-Feb-2012 08:58:34	;;;",,,,,,,,,,,,,,,,,,,,,,,,
DistributedConfig is not Serializable,CLOV-1042,156608,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,bhumphreys,bhumphreys,bhumphreys,05/Dec/2011 2:55 AM,17/Jan/2012 3:37 PM,15/Nov/2024 6:09 PM,04/Jan/2012 10:10 PM,3.1.2,,,,,3.1.3,,,,,,,,,,0,,,,,,,,,"Our Groovy support uses InstrumentationConfig.saveToFile, which serializes the config object tree to a file, but one optional element on it is DistributedConfig, which is not Serializable.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwlp5r:",71247,,,,,56316,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwttwn:",120053,,,,,,,,,,,"1|hwj6yn:",56465,408585600,true,,,,,,,,,,bhumphreys(bhumphreys),,,,,,,,,,,,,,,,,,,"1|hwrvo7:",86895,,,,,,,,,,,,,,,,,,,,,,,,,,56316,,"1|hwj62f:",56323,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Generated groovy methods used for conditional coverage checking should not be final - causes Grails problems when inheritence is used,CLOV-1041,156146,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,29/Nov/2011 8:58 PM,17/Jan/2012 3:37 PM,15/Nov/2024 6:09 PM,17/Jan/2012 3:27 PM,3.1.0,3.1.1,3.1.2,,,3.1.3,,,Grails Plugin,Groovy,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwlkc7:",70448,,,,,55364,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwtrj3:",119658,,,,,,,,,,,"1|hwj17b:",55518,409017600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwrqnb:",86070,,,,,,,,,,,,,,,,,,,,,,,,,,55364,,"1|hwj09z:",55371,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java 7 ARM blocks cause Clover to generate invalid code,CLOV-1040,156128,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,mstudman,mstudman,mstudman,29/Nov/2011 5:51 PM,17/Jan/2012 3:37 PM,15/Nov/2024 6:09 PM,29/Nov/2011 6:10 PM,3.1.0,3.1.1,,,,3.1.3,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwlk93:",70434,,,,,55350,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwtrg7:",119645,,,,,,,,,,,"1|hwj147:",55504,409104000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwrqjr:",86054,,,,,,,,,,,,,,,,,,,,,,,,,,55350,,"1|hwj06v:",55357,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"When instrumenting code, fully qualified class names should be used for Classes and Annotations being added to prevent ambiguous references.",CLOV-1039,155548,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,96eb78c084cb,96eb78c084cb,24/Nov/2011 3:05 AM,04/Jan/2012 10:07 PM,15/Nov/2024 6:09 PM,04/Jan/2012 10:07 PM,,,,,,3.1.3,,,Instrumentation,,,,,,,0,,,,,,,,,"My specific issue comes with the @SuppressWarnings({""fallthrough""}) annotation that is added by clover's instrumentation.

In the same java file, we are importing the following from the findbugs library:

import edu.umd.cs.findbugs.annotations.*;

The above package also contains a SuppressWarnings annotation.  Thus, when the instrumented class is compiled, I'm greeted with this error:


/tmp/clover9189767877125005725.tmp/search/smartscope/SmartSearchData.java:42: reference to SuppressWarnings is ambiguous, both class edu.umd.cs.findbugs.annotations.SuppressWarnings in edu.umd.cs.findbugs.annotations and class java.lang.SuppressWarnings in java.lang match


This could all be resolved if clover used @java.lang.SuppressWarnings({""fallthrough""}) instead of just the annotation without the package specification.  

I assume other bugs like this exist as well involving other classes/annotations that clover adds, but this is the one we have encountered. 

Just an FYI, I'm using clover 3.1.0, however, I assume this issue stands in all clover versions.",All Environments,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwlgxz:",69796,,,,,54588,,,,,,1,,,,,2011-11-25 13:56:24.997,,,,,,,,,,,,,,,,,,,,,,,,"2|hwtp3r:",119229,,,,,,,,,,,"1|hwix1j:",54742,409104000,true,,,,,,,,,,96eb78c084cb(mdayaram),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwr7tj:",82979,,,,,,,,,,,,,,,,,,,,,,,,,,54588,,"1|hwiw47:",54595,,,,,,,,,,,,,,,,,,,,,,5,,,,,,,"25/Nov/2011 1:56 PM;mstudman;Thanks for raising this.

Clover has a special mode which fully qualifies java.lang class references for this exact reason but I've just checked and SuppressWarnings is not covered by this. If you get in touch at support.atlassian.com I can supply you with a build that fixes it.

Alternatively, to get around this problem, you can simply fully qualify your edu.umd.cs.findbugs.annotations.SuppressWarnings class and not import it or its package in your source file.;;;","29/Nov/2011 2:26 AM;96eb78c084cb;Yeah, that's what I'm currently doing, however, the code base is accessed by a ton of people, and it's impossible to prevent everyone from introducing this issue somewhere else.

Thanks a lot for your help Michael!  We'll follow up with support.atlassian.com, linking this bug in the comments.  Just as a reference though, how do you turn on the mode in which clover uses fully qualified class names?  I want to make sure we're using it.

;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Testng test with parameters shows $testMethod.qualifiedName as test name in reports,CLOV-1038,154910,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,f0223d342f21,f0223d342f21,18/Nov/2011 6:01 PM,17/Jan/2012 3:37 PM,15/Nov/2024 6:09 PM,29/Nov/2011 12:00 PM,3.1.0,,,,,3.1.3,,,Reporting,,,,,,,0,,,,,,,,,"I am using clover 3.1.0, jdk 1.6 and maven 3.0.3

I have a test that takes a parameter as input, and the report is generated using 

mvn clover2:setup test clover2:aggregate clover2:clover

In report, the testmethod is showing up as  $testMethod.qualifiedName

Please see the attached picture for more details. When I click the link on that particular method,  it is giving me a directory listing instead of actual source.","Testng, maven, clover",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Nov/2011 6:01 PM;f0223d342f21;clovererror.PNG;https://jira.atlassian.com/secure/attachment/54900/clovererror.PNG",,,,,,,,,,,,,,,,true,,"1|hwlc3z:",69001,,,,,53959,,,,,,Unknown,,,,,2011-11-29 12:00:48.721,,,,,,,,,,,,,,,,,,,,,,,,"2|hwtln3:",118655,,,,,,,,,,,"1|hwit7z:",54113,409104000,true,,,,,,,,,,f0223d342f21(josekutty),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwr3cv:",81981,,,,,,,,,,,,,,,,,,,,,,,,,,53959,,"1|hwisan:",53966,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"18/Nov/2011 6:06 PM;f0223d342f21;Here are some more details 

My source code 

package com.my.test;

public class SampleIntegration {
	
	public void doSomething() {
		System.out.println(""Test something..."");		
	}

}

My test code 

package com.my.test;

import org.testng.annotations.DataProvider;
import org.testng.annotations.Test;

public class IntegrationTest {
	@Test(dataProvider=""Sample"")
	
	public void testSomething(String name) {
		System.out.println(""Name = "" + name);
		SampleIntegration obj = new SampleIntegration();
		obj.doSomething();
	}
	
	@Test
	public void testWithoutParameter() {
		SampleIntegration obj = new SampleIntegration();
		obj.doSomething();
	}
	@DataProvider(name=""Sample"")
	protected String [][] getSomeNames(){
		return new String[][]{{""Jose""},{""kutty""}};
	}
}

;;;","29/Nov/2011 12:00 PM;mstudman;Get in touch at support.atlassian.com if you'd like a development build that fixes this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Generic method call in expression causes parse error,CLOV-1035,153520,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,,bhumphreys,bhumphreys,03/Nov/2011 6:57 AM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,03/Nov/2011 8:31 AM,3.1.0,,,,,won't fix,,,Instrumentation,,,,,,,0,,,,,,,,,"see https://support.atlassian.com/browse/CLV-5737
  
This was the breaking example extracted from the customer's code:

  Set set = new HashSet<T>();

  if (Collections.<T>emptySet() == set) {
  
  }

I Don't understand how we haven't stumbled on this before.. possibly a recent regression?

",,,,,,,,,,,,,,,,,,,,,,,,CLOV-402,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwicnz:",50012,,,,,24988,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwtax3:",116848,,,,,,,,,,,"1|hwe9wv:",26043,411350400,true,,,,,,,,,,bhumphreys(bhumphreys),,,,,,,,,,,,,,,,,,,"1|hwky93:",41505,,,,,,,,,,,,,,,,,,,,,,,,,,24988,,"1|hwe3gn:",25004,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
the tutorial/build_optimized.xml has a bug in it,CLOV-1034,153090,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,bhumphreys,bhumphreys,bhumphreys,02/Nov/2011 10:41 AM,02/Nov/2011 2:16 PM,15/Nov/2024 6:09 PM,02/Nov/2011 11:00 AM,3.1.0,,,,,3.1.1,,,,,,,,,,0,,,,,,,,,"need to add snapshotfile=""${clover.snapshot.file}"" to the <clover-optimized-testset> element on line 55.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwiagf:",49648,,,,,24579,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwtabb:",116747,,,,,,,,,,,"1|hwe867:",25756,411436800,true,,,,,,,,,,bhumphreys(bhumphreys),,,,,,,,,,,,,,,,,,,"1|hwkvj3:",41057,,,,,,,,,,,,,,,,,,,,,,,,,,24579,,"1|hwe0z3:",24595,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover doesn't generate PDF historical 'adders',CLOV-1030,152061,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,20/Oct/2011 12:09 PM,02/Nov/2011 2:11 PM,15/Nov/2024 6:09 PM,02/Nov/2011 2:11 PM,3.1.0,,,,,3.1.1,,,Reporting,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxjr:",11841,,,,,14406,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwt51j:",115863,,,,,,,,,,,"1|hwcopr:",16325,412560000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwjaiv:",31374,,,,,,,,,,,,,,,,,,,,,,,,,,14406,,"1|hwccwn:",14406,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover plugin could not handle two modules with same artifact id in a reactor project,CLOV-1026,148571,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,jmuehlenhoff,jmuehlenhoff,22/Sep/2011 11:30 AM,13/Jun/2012 11:29 AM,15/Nov/2024 6:09 PM,13/Jun/2012 11:28 AM,3.1.0,,,,,3.1.6,,,Maven plugin,,,,,,,0,,,,,,,,,"The clover plugin changes the source folder of an artifact in the wrong way, if the modules of a reactor project contains 
two artifact with equal ids but different group ids.

To check this, we add the following debug output
{code}
class CloverInstrumentInternalMojo {
...
@Override
public void execute() throws MojoExecutionException {
...
System.out.println(""1:"" + getProject().getCompileSourceRoots());
resetSrcDirsOriginal(getProject().getArtifact(), this);
System.out.println(""2:"" + getProject().getCompileSourceRoots());
{code}

and get the following output
{nofromat}
1:[D:\Build\cmh.bamboo\compile-deploy\de.ponton.cmh.queuing.xp\src]
[DEBUG] Clover source directories before change:
[DEBUG] [Clover] source root [D:\Build\cmh.bamboo\compile-deploy\de.ponton.cmh.queuing.xp\src]
[DEBUG] Clover main source directories after change:
[DEBUG] [Clover] source root [D:\Build\cmh.bamboo\compile-deploy\de.ponton.cmh.auditlog.xp\src\main\java]
[DEBUG] Clover source directories before change:
[DEBUG] [Clover] source root [D:\Build\cmh.bamboo\compile-deploy\de.ponton.cmh.queuing.xp\src\test\java]
[DEBUG] Clover main source directories after change:
[DEBUG] [Clover] source root [D:\Build\cmh.bamboo\compile-deploy\de.ponton.cmh.queuing.xp\src\test\java]
2:[D:\Build\cmh.bamboo\compile-deploy\de.ponton.cmh.auditlog.xp\src\main\java]
{nofromat}

The plugin changes the source to the source folder of the wrong artifact.","Maven3, Windows, Unix, JDK 1.6.0_27",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/2012 11:16 AM;mparfianowicz;clov-1026.zip;https://jira.atlassian.com/secure/attachment/66313/clov-1026.zip","13/Jun/2012 11:18 AM;mparfianowicz;maven-clover2-plugin-3.1.6-SNAPSHOT.jar;https://jira.atlassian.com/secure/attachment/66314/maven-clover2-plugin-3.1.6-SNAPSHOT.jar","13/Jun/2012 11:18 AM;mparfianowicz;maven-clover2-plugin-3.1.6-SNAPSHOT.pom;https://jira.atlassian.com/secure/attachment/66315/maven-clover2-plugin-3.1.6-SNAPSHOT.pom",,,,,,,,,,,,,,true,,"1|hwbvnz:",11536,,,,,28964,,,,,,Unknown,,,,,2011-09-23 00:21:53.28,,,,,,,,,,,,,,,,,,,,,,,,"2|hwspnb:",113217,,,,,,,,,,,"1|hwewp3:",29887,392083200,true,,,,,,,,,,jmuehlenhoff(jmuehlenhoff),mparfianowicz(mparfianowicz),npellow(npellow),,,,,,,,,,,,,,,,,"1|hwnju7:",58817,,,,,,,,,,,,,,,,,,,,,,,,,,28964,,"1|hwer1z:",28977,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"22/Sep/2011 11:33 AM;jmuehlenhoff;I thing the problem is:
{code}
// HACK: this allows us to reset the source directories to the originals
private static Map originalSrcMap = new HashMap();
private static Map originalSrcTestMap = new HashMap();
{code}

This map contains the original source folder. The second project now gets the source folder of the first project.

The source folder should be stored with group and artifact id in the lists.


;;;","23/Sep/2011 12:21 AM;npellow;Nice work, Jens. Can you please add the group ids to the keys and see if that does indeed fix the issue?
I'd be happy to apply the patch !;;;","23/Sep/2011 7:13 AM;jmuehlenhoff;I have done some local changes. I changed {{artifact.getArtifactId()}} to {{artifact.getId()}} and it works.

Changes code:

{code}
    public static void resetSrcDirsOriginal(Artifact artifact, CompilerConfiguration config) {
        if (originalSrcMap.containsKey(artifact.getId())) {
            final String sourceDirectory = (String) originalSrcMap.get(artifact.getId());
            MainInstrumenter mainInstrumenter = new MainInstrumenter(config, sourceDirectory);
            mainInstrumenter.redirectSourceDirectories();

        }
        if (originalSrcTestMap.containsKey(artifact.getId())) {
            final String testDirectory = (String) originalSrcTestMap.get(artifact.getId());
            TestInstrumenter instrumenter = new TestInstrumenter(config, testDirectory);
            instrumenter.redirectSourceDirectories();
        }
    }
{code}

{code}
        originalSrcMap.put(getProject().getId(), originalSrcDir);
        if (this.includesTestSourceRoots) {
            String originalSrcTestDir = testInstrumenter.redirectSourceDirectories();
            originalSrcTestMap.put(getProject().getId(), originalSrcTestDir);
        }
{code}

;;;","16/Dec/2011 10:32 AM;jmuehlenhoff;Any updates on this? 
I checked the new 3.1.2 version of the plugin, but the fix was not in this new plugin. 
We need this fix to get Clover working in our build environment.;;;","13/Jun/2012 11:15 AM;mparfianowicz;I have implemented a fix as you suggested. I've replaced getArtifactId->getId in other MOJOs as well (clover2:check, clover2:log). Fix will be available in version 3.1.6, but you can download 3.1.6-SNAPSHOT version right now if you're interested. I'm attaching also a sample project testing the change.;;;","13/Jun/2012 11:16 AM;mparfianowicz;Sample project;;;","13/Jun/2012 11:18 AM;mparfianowicz;Clover-for-Maven 3.1.6-SNAPSHOT build.;;;",,,,,,,,,,,,,,,,,,,,
"Can't Use ""Google App Engine"" Run Configuration in IDEA 10.5 when Clover Plug-in is Installed",CLOV-1018,143627,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Cannot Reproduce,mparfianowicz,6a1c0efcda64,6a1c0efcda64,03/Aug/2011 10:36 AM,22/Jan/2014 10:41 AM,15/Nov/2024 6:09 PM,10/Aug/2012 11:43 AM,3.1.0,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"I am trying to start a GAE run configuration in IDEA 10.5 - after compilation and the web artifact being built, the process simply fails to start, with no errors.  I uninstalled the plug-in and the process once again starts correctly.

I also attempted to create a plain Java Application run configuration to start the process instead and this also fails with the same issue.  The GAE libraries are pulled in as module libraries, via a Maven POM.  I'm not sure if this is linked, but there definitely seems to be a problem with Run configurations when the main Java class being run is located in an external library, rather than being part of the project code-base.  I've checked the IDEA logs and no errors are thrown.  The plain Java Application run configuration had the following settings:

Main Class: com.google.appengine.tools.development.DevAppServerMain
VM Parameters: -Dappengine.sdk.root=<sdk_root> -javaagent:<sdk_root>/lib/agent/appengine-agent.jar
Program Parameters: --disable_update_check <war_file_location>
Working Directory: <sdk_root>","Windows XP
IDEA 10.5.2 (latest RC build)
Clover ""Dev Build"" Plug-in from https://jira.atlassian.com/browse/CLOV-1004",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Aug/2012 11:12 AM;mparfianowicz;guestbook.zip;https://jira.atlassian.com/secure/attachment/69531/guestbook.zip","10/Aug/2012 9:50 AM;mparfianowicz;guestbook2.zip;https://jira.atlassian.com/secure/attachment/69631/guestbook2.zip",,,,,,,,,,,,,,,true,,"1|hwbvnr:",11535,,,,,31208,,,,,,Unknown,,,,,2012-08-08 11:06:44.121,,,,,,,,,,,,,,,,,,,,,,,,"2|hws26n:",109193,,,,,,,,,,,"1|hwf79j:",31792,387072000,true,,,,,,,,,,mparfianowicz(mparfianowicz),6a1c0efcda64(sdknott),,,,,,,,,,,,,,,,,,"1|hwnrwv:",60239,,,,,,,,,,,,,,,,,,,,"Version 3.1.7, Sprint 1",Version 3.1.8,,,,2.0,31208,,"1|hwf3pj:",31219,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Aug/2012 11:06 AM;mparfianowicz;Hi Simon,

Could you give more details about your project setup? Is it a ""pure"" IntelliJ IDEA project (*.ipr file / .idea dir) or a project imported from Maven? Or both? Do you use some extra stuff in your application, like enhancers, persistence (Project Structure > Modules > Facet Google App Engine)? Do you have Clover instrumentation enabled in your project? If yes, then how do you deploy clover.jar? 

Would it be possible to have some some code sample from you?

I have used the following environment:
 * IDEA Ultimate 10.5.4 (build 107-777)
 * Java jdk1.7.0u03 
 * Clover for IntelliJ 3.1.6
 * Google App Engine 1.7.0

and created a ""pure"" IDEA project using sources from <gae>/demos/guestbook. It compiles and deploys. See attached sample.

Regards
Marek;;;","08/Aug/2012 11:12 AM;mparfianowicz;Guestbook application. I have deleted jars from war/WEB-INF/lib in order to have smaller attachment - you have to copy them from from <gae>/demos/guestbook/war/WEB-INF/lib before building.;;;","10/Aug/2012 10:02 AM;mparfianowicz;Hi Simon,

I have found a similar case to described by you. Please compare the guestbook.zip and guestbook2.zip. Both are demos from GAE toolkit. The first one was set up in IDEA by ""File > New Project > Create project from existing sources"" option. It compiles and deploys without any error, but application does not work and only displays the ""Place content here"" message in web browser. The second one works correctly. 

The problem is that IDEA creates 'web' directory with a template web.xml and a JSP file. As a consequence wrong page is loaded in browser. You have to manually fix location of web.xml and other web artifacts. See attached screenshots:
 * guestbook.png - difference between default IDEA project set-up after import and the corrected version
 * guestbook-projectstructure.png - wrong location of web.xml and other artifacts
 * guestbook2-projectstructure.png - correct location of web.xml and other artifacts

Could you give more details about your project setup (i.e. where web.xml is located; how it's defined in project settings)? Do you have the same empty page (with ""Place content here"") loaded in browser?

Regards
Marek;;;","10/Aug/2012 11:37 AM;mparfianowicz;I have tested the scenario with a maven-based project:

mvn archetype:generate -DgroupId=development -DartifactId=clov1018 -DarchetypeGroupId=net.kindleit -DarchetypeArtifactId=gae-archetype-jsp -DarchetypeVersion=0.9.4
mvn clean install

Open project in IntelliJ by File > Open Project > ... pom.xml. Accept two facets detected. Install Clover plugin, but do not enable it on the project. 

It runs correctly in the browser. 

;;;","10/Aug/2012 11:38 AM;mparfianowicz;By the way: please note that Google App Engine is not supported by Clover, so that you cannot instrument such application and run it.;;;","10/Aug/2012 11:41 AM;mparfianowicz;Hi Simon,

In my opinion the problem described by you is not reproducible. GAE with Clover plugin installed (but not instrumented!) works for both IntelliJ- and Maven-based projects. The only problem that might occur is the correct setup of GAE project in IntelliJ. I'm closing this issue. 

If you have any test case project in which I can reproduce this bug, feel free to attach to this bug and reopen it. 

Regards
Marek;;;",,,,,,,,,,,,,,,,,,,,,
Test Optimization says 0 tests should run but all tests are run anyway,CLOV-1015,142416,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,jjaroczynski,aed06677c1f4,aed06677c1f4,22/Jul/2011 8:18 PM,10/Jun/2015 10:43 AM,15/Nov/2024 6:09 PM,13/May/2013 9:25 AM,3.1.0,,,,,3.1.6,,,Maven plugin,,,,,,,1,,,,,,,,,"Recently upgraded my Maven builds to use the Maven Surefire plugin version 2.9. Now my builds that run Clover2:optimized and say 0 tests should run, run all tests anyway. The upshot of this is that our optimized test runs are now taking over an hour versus the 15 to 20 minutes they were when the tests were correctly optimized away.


Here is a section of the log file that shows the problem:

{noformat}
    [shell] cd dba; mvn -PPERSONAL,UnitTests,Clover.optimize -Djava.awt.headless=true --offline -Dforkmode=once -Dmaven.download.meter=silent -DskipAssembly -Dmaven.test.failure.ignore=true -Dmaven.test.redirectTestOutputToFile=false -Dmaven.clover.licenseLocation=/prodinfolocal/BambooHome/clover.license -Dclover.plugin.version=3.1.0 -Dclover.version=3.1.0 install  clover2:aggregate clover2:clover
[INFO] 
NOTE: Maven is executing in offline mode. Any artifacts not already in your local
repository will be inaccessible.

[INFO] Scanning for projects...
[WARNING] 
	Profile with id: 'PERSONAL' has not been activated.

[WARNING] 
	Profile with id: 'UnitTests' has not been activated.

[INFO] ------------------------------------------------------------------------
[INFO] Building dba
[INFO]    task-segment: [install]
[INFO] ------------------------------------------------------------------------
[INFO] [clover2:setup {execution: clover}]
[INFO] No Clover instrumentation done on source files in: [/Users/mhusby/workarea/dba/src/main/java] as no matching sources files found
[INFO] No Clover instrumentation done on source files in: [/Users/mhusby/workarea/dba/src/test/java] as no matching sources files found
[WARNING] Using [Squid:configuration:jar:1.0-SNAPSHOT], built on Fri Jul 22 15:44:02 EDT 2011 even though a Clovered version exists but it's older (lastModified: Fri Jul 22 15:43:02 EDT 2011 ) and could fail the build. Please consider running Clover again on that dependency's project.
[INFO] [resources:resources {execution: default-resources}]
[WARNING] Using platform encoding (MacRoman actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 2 resources
[INFO] Copying 1 resource
[INFO] [compiler:compile {execution: default-compile}]
[INFO] Nothing to compile - all classes are up to date
[INFO] [resources:testResources {execution: default-testResources}]
[WARNING] Using platform encoding (MacRoman actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 6 resources
[INFO] [compiler:testCompile {execution: default-testCompile}]
[INFO] Nothing to compile - all classes are up to date
[INFO] [clover2:optimize {execution: clover}]
[INFO] Adding fileset: directory=/Users/mhusby/workarea/dba/target/clover/src-test-instrumented, includes=[**/*Tests.*, **/*Test.*, **/Test*.*, qxjShouldNeverMatchAClass], excludes=[**/*TestCase.*, **/Test*Servlet.*, **/Abstract*.*, **/*FormModuleTests.*, **/*.xml, **/*$*.*]
[INFO] Clover estimates having saved around 44 seconds on this optimized test run. The full test run takes approx. 44 seconds
[INFO] Clover included 0 test classes in this run (total # test classes : 22)
[INFO] [surefire:test {execution: default-test}]
[INFO] Surefire report directory: /Users/mhusby/workarea/dba/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running edu.mit.broad.prodinfo.dba.BlobDefTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.327 sec
Running edu.mit.broad.prodinfo.dba.LongDefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running edu.mit.broad.prodinfo.dba.ExceptionWrapperTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running edu.mit.broad.prodinfo.dba.DoubleDefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running edu.mit.broad.prodinfo.dba.CacheMapTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.108 sec
Running edu.mit.broad.prodinfo.dba.OurDBsTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.596 sec
Running edu.mit.broad.prodinfo.dba.VArrayDefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running edu.mit.broad.prodinfo.dba.VArrayFormatterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec
Running edu.mit.broad.prodinfo.dba.RowDefTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.311 sec
Running edu.mit.broad.prodinfo.dba.BigDecimalDefTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running edu.mit.broad.prodinfo.dba.DoubleFormatterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running edu.mit.broad.prodinfo.dba.DateFormatterTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec
Running edu.mit.broad.prodinfo.dba.LongFormatterTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running edu.mit.broad.prodinfo.dba.ClobDefTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running edu.mit.broad.prodinfo.dba.DBTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.778 sec
Running edu.mit.broad.prodinfo.dba.DataIteratorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running edu.mit.broad.prodinfo.dba.ProcedureDefTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.052 sec
Running edu.mit.broad.prodinfo.dba.VArrayListTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec
Running edu.mit.broad.prodinfo.dba.DBPoolTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 39.08 sec
Running edu.mit.broad.prodinfo.dba.StringDefTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running edu.mit.broad.prodinfo.dba.DataDefIteratorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running edu.mit.broad.prodinfo.dba.RowTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.54 sec

Results :

Tests run: 49, Failures: 0, Errors: 0, Skipped: 1

[INFO] [clover2:snapshot {execution: clover}]
[INFO] No span specified, using span of: 48s
[INFO] Saving snapshot to: /Users/mhusby/.clover/Squid-dba/clover.snapshot
[INFO] Clover Version 3.1.0, built on May 31 2011 (build-821)
[INFO] Loaded from: /Users/mhusby/.m2/repository/com/cenqua/clover/clover/3.1.0/clover-3.1.0.jar
[INFO] Clover: Academic License registered to Broad/MIT Institute.
[INFO] Updating snapshot '/Users/mhusby/.clover/Squid-dba/clover.snapshot' against Clover database at '/Users/mhusby/workarea/dba/target/clover/clover.db'
{noformat}","Java 6, Maven 2.2.1, Maven Surefire plugin 2.9,",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbutz:",11401,,,,,29286,,,,,,Unknown,,,,,2011-12-18 23:26:06.204,,,,,,,,,,,,,,,,,,,,,,,,"2|hwp5xb:",91691,,,,,,,,,,,"1|hwext3:",30162,363484800,true,,,,,,,,,,fdbbd11ef4a2(diggerk),aed06677c1f4(mhusby),jjaroczynski(jjaroczynski),npellow(npellow),,,,,,,,,,,,,,,,"1|hwnkqv:",59056,,,,,,,,,,,,,,,,,,,,,,,,,5.0,29286,,"1|hwesg7:",29298,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"16/Sep/2011 2:22 PM;aed06677c1f4;This is really impacting our Bamboo build server. Any idea when it can be dealt with?;;;","16/Dec/2011 9:23 PM;aed06677c1f4;Problem is still occurring with Maven-Surefire-plugin Version 2.11.


Is anyone going to address this issue? It really has a negative impact on our builds.;;;","18/Dec/2011 11:26 PM;npellow;Hi Erik, It appears that the version of the Maven-Surefire plugin you are using (2.9 - 2.11) is not working with Clover's test optimisation.

Are you able to roll back the version of the surefire plugin to a version that does work with Clover'r test optimisation until this issue is resolved ?

Cheers,
Nick;;;","19/Dec/2011 6:38 PM;aed06677c1f4;I had to go all the way back to surefire 2.7.1 to get the correct behavior in Clover.

It would be really nice to get this fixed in Clover since I am sure I had a good reason to upgrade Surefire although I did not make a note. I need to run more builds before I commit to rolling back the surefire version.;;;","21/Sep/2012 10:19 PM;fdbbd11ef4a2;Here's a workaround I found. This plugin runs after Clover's done with optimization and sets ""skipTests"" property if the property ""test"" is an empty string. 

{code}
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>groovy-maven-plugin</artifactId>
            <version>1.4</version>
            <executions>
              <execution>
                <phase>process-test-classes</phase>
                <goals>
                  <goal>execute</goal>
                </goals>
                <configuration>
                  <source>
                    def tests = project.properties['test'];
                    log.info(""Tests to run: "" + tests);
                    if (tests != null &amp;&amp; tests.length() == 0) {
                      log.info(""No tests to run"");
                      project.properties['skipTests'] = 'true';
                    }
                  </source>
                </configuration>
              </execution>
            </executions>
          </plugin> 
{code};;;","30/Apr/2013 7:15 AM;jjaroczynski;Does it mean that test optimization does not work with surefire 2.9-2.11 at all? What about newer surefire version? 

Doesn't it work only if tests should be skipped (0 tests to run)? What in case if e.g. 1 test should be run, does it work fine in that case?

Do we know answers to that questions or should I investigate that?;;;","10/May/2013 12:08 PM;jjaroczynski;After analysis it looks like it was fixed in Clover 3.1.6. It works fine and skips all tests if necessary.;;;",,,,,,,,,,,,,,,,,,,,
Integer overflow causes coverage data to be incorrectly written to disk,CLOV-1013,141825,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,18/Jul/2011 1:26 PM,02/Nov/2011 2:11 PM,15/Nov/2024 6:09 PM,02/Nov/2011 2:11 PM,3.1.0,,,,,3.1.1,,,,,,,,,,0,,,,,,,,,"When coverage data size in bytes > Integer.MAX_INT, integer overflow and some incorrect logic cause underwriting of the data and invalid segment header values.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbu1b:",11272,,,,,24712,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwo8q7:",86254,,,,,,,,,,,"1|hwe89z:",25773,420681600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwkwrb:",41257,,,,,,,,,,,,,,,,,,,,,,,,,,24712,,"1|hwe1sf:",24728,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Grails clover plugin unable to parse license location properly on windows when a full path is used,CLOV-1012,141619,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Not a bug,mparfianowicz,85def863d5ee,85def863d5ee,14/Jul/2011 9:51 PM,22/Jan/2014 10:38 AM,15/Nov/2024 6:09 PM,04/Sep/2012 11:25 AM,,,,,,won't fix,,,Grails Plugin,,,,,,,0,,,,,,,,,"I am logging this from http://jira.grails.org/browse/GPCLOVER-1, which seems to be a dead project that no one is looking at.

Brian Atkinson's original description:

The clover plugin seems to be having trouble parsing its command line options. If the following command is run (cwd=C:\hudson\workspace\genesis-instrument\grails-genesis-instrument):

C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\grails-tools\org.grails-grails-distribution-1.2.2-zip\bin\grails.bat -Dgrails.project.work.dir=C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\grails-work -Dserver.port=4216 test-app --non-interactive -clover.on -clover.license.path=C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover.license -clover.initstring=C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover\clover.db

The following output is produced:

{noformat}
Welcome to Grails 1.2.2 - http://grails.org/
Licensed under Apache Standard License 2.0
Grails home is set to: C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\grails-tools\org.grails-grails-distribution-1.2.2-zip

Base Directory: C:\hudson\workspace\genesis-instrument\grails-genesis-instrument
Resolving dependencies...
Dependencies resolved in 1656ms.
Running script C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\grails-tools\org.grails-grails-distribution-1.2.2-zip\scripts\TestApp.groovy
Environment set to test
Setting non-interactive mode
Clover: Using config: [license:[path:true], initstring:true, on:true]
Error executing script TestApp: No signature of method: static java.lang.System.setProperty() is applicable for argument types: (java.lang.String, java.lang.Boolean) values: [clover.license.path, true]
groovy.lang.MissingMethodException: No signature of method: static java.lang.System.setProperty() is applicable for argument types: (java.lang.String, java.lang.Boolean) values: [clover.license.path, true]
	at _Events.configureLicense(_Events.groovy:435)
	at _Events.this$4$configureLicense(_Events.groovy)
	at _Events$this$4$configureLicense.callCurrent(Unknown Source)
	at _Events.toggleCloverOn(_Events.groovy:299)
	at _Events$_run_closure3.doCall(_Events.groovy:56)
	at _GrailsEvents_groovy$_run_closure5.doCall(_GrailsEvents_groovy:58)
	at _GrailsEvents_groovy$_run_closure5.call(_GrailsEvents_groovy)
	at _GrailsEvents_groovy.run(_GrailsEvents_groovy:62)
	at _GrailsEvents_groovy$run.call(Unknown Source)
	at _GrailsClean_groovy$run.call(Unknown Source)
	at _GrailsClean_groovy.run(_GrailsClean_groovy:29)
	at _GrailsClean_groovy$run.call(Unknown Source)
	at TestApp.run(TestApp.groovy:44)
	at TestApp$run.call(Unknown Source)
	at gant.Gant.processTargets(Gant.groovy:494)
	at gant.Gant.processTargets(Gant.groovy:480)
Error executing script TestApp: No signature of method: static java.lang.System.setProperty() is applicable for argument types: (java.lang.String, java.lang.Boolean) values: [clover.license.path, true]
{noformat}

What is interesting is how the clover config seems to be significantly off. A similar call run on Ubuntu 10.04 and RHEL 5.3 machines seems to parse the path correctly:

{noformat}
/home/brian/tmp/genesis-instrument/target/grails-tools/org.grails-grails-distribution-1.2.2-zip/bin/grails \
-Dgrails.project.work.dir=/home/brian/tmp/genesis-instrument/target/grails-work \
-Dmaven.localRepository=/home/brian/.m2/repository \
-Dserver.port=43897 \
test-app \
--non-interactive \
-clover.on \
-clover.license.path=C:\\hudson\\workspace\\genesis-instrument\\grails-genesis-instrument\\target\\clover.license \
-clover.initstring=C:\\hudson\\workspace\\genesis-instrument\\grails-genesis-instrument\\target\\clover\\clover.db
{noformat}

Produces:
{noformat}
/home/brian/tmp/genesis-instrument/target/grails-tools/org.grails-grails-distribution-1.2.2-zip/bin/grails: 6: [[: not found
Welcome to Grails 1.2.2 - http://grails.org/
Licensed under Apache Standard License 2.0
Grails home is set to: /home/brian/tmp/genesis-instrument/target/grails-tools/org.grails-grails-distribution-1.2.2-zip

Base Directory: /home/brian/tmp/genesis-instrument
Resolving dependencies...
Dependencies resolved in 2323ms.
Running script /home/brian/tmp/genesis-instrument/target/grails-tools/org.grails-grails-distribution-1.2.2-zip/scripts/TestApp.groovy
Environment set to test
Setting non-interactive mode
Clover: Using config: [license:[path:C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover.license], initstring:C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover\clover.db, on:true]
Using clover license path: C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover.license
...
{noformat}


This proceeds to fail because the path does not work, but at this point I am unsure why on windows this call fails, but on linux it works.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw4v:",11612,,,,,32611,,,,,,Unknown,,,,,2012-09-04 11:25:06.707,,,,,,,,,,,,,,,,,,,,,,,,"2|hwo3gv:",85388,,,,,,,,,,,"1|hwfehr:",33105,384912000,true,,,,,,,,,,85def863d5ee(kpshek),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwnygn:",61353,,,,,,,,,,,,,,,,,,,,,,,,,,32611,,"1|hwfbhr:",32622,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"14/Jul/2011 9:52 PM;85def863d5ee;...and Sarah Brake's [comment|http://jira.grails.org/browse/GPCLOVER-1?focusedCommentId=58141&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-58141] from the original issue:

I did some testing on this with Brian, and we found that in order to get the license location parsed correctly in windows all commands related to clover had to be contained in a single command. This works on both linux and windows, but we still don't know why the original command could be parsed correctly in linux but not in windows.

Updated command used:
C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\grails-tools\org.grails-grails-distribution-1.2.2-zip\bin\grails.bat -Dgrails.project.work.dir=C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\grails-work -Dserver.port=4216 ""test-app -clover.on -clover.license.path=C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover.license -clover.initstring=C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover\clover.db"" --non-interactive

Gives the correct parsed paths:
C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\grails-tools\org.grails-grails-distribution-1.3.1-zip\bin\grails.bat
-Dgrails.project.work.dir=C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\grails-work
-Dserver.port=3552
test-app -clover.on -clover.license.path=C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover.license -clover.initstring=C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover\clover.db
--non-interactive

And updated the config appropriately:
Clover: Using config: [license:[path:C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover.license], initstring:C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover\clover.db, on:true]
Using clover license path: C:\hudson\workspace\genesis-instrument\grails-genesis-instrument\target\clover.license;;;","04/Sep/2012 11:25 AM;mparfianowicz;All ""-key=value"" parameters for Grails have to be enclosed in double quotes on Windows platform. It's a Grails feature. Closing a bug.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Coverage data not showing up in Intellij,CLOV-1011,141071,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Cannot Reproduce,mparfianowicz,1561992a889b,1561992a889b,13/Jul/2011 1:43 PM,22/Jan/2014 10:41 AM,15/Nov/2024 6:09 PM,22/Oct/2012 7:05 AM,3.1.0,3.1.1,,,,won't fix,,,CIJ Plugin,,,,,,,1,,,,,,,,,"I've got the dev build from CLOV-1004, which worked for Intellij 10.3 but since I upgraded to 10.5.1, neither the latest public rev (3.1.0.v20110608114626-dev) nor the dev version of the plugin from CLOV-1004 works.

In the projects view, it looks like the code is instrumented.  But after I run a test, no coverage information is displayed.  When I explicitly update the clover database, nothing is updated.  The ""Test Runs"" view behaves as if I never ran a test.","Intellij IDEA 10.5.1, OSX.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwburz:",11392,,,,,28401,,,,,,Unknown,,,,,2011-09-30 14:54:11.808,,,,,,,,,,,,,,,,,,,,,,,,"2|hwb5tz:",4799,,,,,,,,,,,"1|hwetz3:",29390,381024000,true,,,,,,,,,,1561992a889b(andrew@broadinstitute.org),mparfianowicz(mparfianowicz),e1f70da60fee(timomeinen),,,,,,,,,,,,,,,,,"1|hwnij3:",58600,,,,,,,,,,,,,,,,,,,,Version 3.1.8,,,,,1.0,28401,,"1|hwenxj:",28416,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"13/Jul/2011 4:25 PM;1561992a889b;This seems to be related to intellij's compiler option.  In 10.0.3, if I use standard ""Javac"" is the compiler in intellij, things work.  If I switch to ""Javac in-process"", code coverage is always empty.;;;","13/Jul/2011 6:12 PM;1561992a889b;I just confirmed this, at least in 10.0.3.  Standard Javac works, but Javac in-process compiler doesn't.;;;","30/Aug/2011 12:35 PM;1561992a889b;Hi Folks,
Just checking up on this.  Is there any progress on using the ""Javac in-process"" compiler?;;;","30/Sep/2011 2:54 PM;e1f70da60fee;I can confirm, this happens, when Javac-in-process-compiler is selected. Using Javac works.

I am using Debian, so this bug has nothing to do with osx.;;;","29/Jun/2012 2:42 PM;mparfianowicz;This bug is located in the IntelliJ IDEA - it does not call custom source code instrumenters correctly when the ""Javac in-process"" option is used. This bug occurs in IDEA 10.5.x series. It seems that JetBrains team have fixed it in IDEA 11.x. I have tested Clover with IDEA 11.0.2 and 11.1.2 and it works correctly in both ""javac"" and ""javac in-process"" modes.

Solution:
 * use javac option only or
 * upgrade to IDEA 11.x;;;","29/Jun/2012 2:45 PM;e1f70da60fee;Yes, works for us with IDEA 11 and Mac-OS-X with javac-in-process.;;;","02/Jul/2012 4:03 PM;1561992a889b;I have recently switched back to a windows 7 box for development, and this problem exists for win7.  In-memory compiler results in a ton of compiler errors, now, however, when clover is enabled.  Disabling clover or switching back to plain old javac works just fine, though.;;;","03/Jul/2012 8:24 AM;mparfianowicz;Hi Andrew, 

Could you give more details what kind of compiler errors you have? And attach some code 
samples/build logs? I was testing Clover with IDEA 11.x on Windows7 box as well and it worked correctly. 

By the way:

The only problem I saw was when I was running IDEA on different Java version than SDK used for project build. For example:
 - IDEA is running on JRE1.7 
 - project settings SDK = 1.6
 - run configuration for unit tests - default settings

Code compiled successfully, but there was JUnit error of course, like below:
{noformat} 
Exception in thread ""main"" java.lang.UnsupportedClassVersionError: 
Main : Unsupported major.minor version 51.0
{noformat}

This is correct, because code was compiled using Java7. In order to fix it it's necessary to add ""-target 1.6"" in Java Compiler settings tab. Or enable ""Use alternative JRE"" in run configuration. Did you have the same case?


Regards
Marek;;;","18/Jul/2012 1:02 PM;mparfianowicz;Hi Andrew, 

Could you give more details what kind of compiler errors you have? And attach some code samples/build logs?

As I wrote before, I don't see any such behaviour...

Regards
Marek;;;","19/Jul/2012 4:06 PM;1561992a889b;Will do.  At the moment, the maven plugin's clean and install work, but when I go to run a test, the ""Make"" thing shows up at the bottom of the intellij window.  So post-maven, intellij thinks it needs to recompile the project, and then the trouble starts.

Somewhat related appears to be the fact that when I click on a compiler error in the messages tab, instead of being taken to the source code in intellij, intellij pops up with windows file system explorer, and shows me the path to the file instead of opening the source.;;;","19/Jul/2012 4:09 PM;1561992a889b;Here's one of the > 100 compiler errors I get:

/C:/Users/andrew/AppData/Local/Temp/SequeL305043954020666082SequeL/ProjectPlanFromPassTest.java:31: cannot find symbol
symbol  : class AbstractPass
location: class org.broadinstitute.sequel.test.entity.project.ProjectPlanFromPassTest;;;","19/Jul/2012 4:11 PM;1561992a889b;Also, the locations where source is being looked for isn't correct.  I have my files on D:/ on an SSD drive, but for some reason intellij is looking for my sources in this AppData/Local location on my spinning drive when I have clover turned on with in-memory compiler.;;;","19/Jul/2012 4:15 PM;1561992a889b;I'm using java 1.6.0_26, 64 bit server.;;;","20/Jul/2012 7:44 AM;mparfianowicz;Thanks a lot, Andrew! Now I know where to look for.

{quote}
Somewhat related appears to be the fact that when I click on a compiler error in the messages tab, instead of being taken to the source code in intellij, intellij pops up with windows file system explorer, and shows me the path to the file instead of opening the source.
{quote}

Yep. It's a known bug. But when you right click, you should get a pop-up menu with an option ""Jump to actual source"" - this would work. 
;;;","20/Jul/2012 12:47 PM;1561992a889b;Hi Marek,
Ah, thanks!  ""Jump to actual source"" does indeed work!;;;","01/Aug/2012 2:28 PM;mparfianowicz;Hello Andrew,

{quote}
At the moment, the maven plugin's clean and install work, but when I go to run a test ...
{quote}

Could you describe more precisely how do you perform your build? 
* do you import the Maven-based project (pom.xml) into IntelliJ, next open the ""Maven Projects"" view, right click on ""clean, install"" targets and choose ""Run my_project [clean, install]"" from context menu? 
* do you have com.atlassian.maven.plugins:maven-clover2-plugin defined in your POM? 
* do you have com.cenqua.clover:clover defined in POM?
* do you have ""Toggle build with Clover"" button enabled in IntelliJ toolbar? 
* do you have Clover IntelliJ settings (File > Settings > Project Settings > Clover; initstring) synchronized somehow with Clover Maven settings (pom.xml / <plugins> / maven-clover2-plugin / <configuration> / <cloverDatabase>)?


I have reproduced lack of code coverage in a slightly different scenario:
* import maven-based (pom.xml) project into IntelliJ
* set ""javac-in-process"" compiler in File > Settings > Compiler
* enable ""Toggle build with Clover"" on toolbar
* run unit tests using IntelliJ JUnit test runner, for example 
** right click on test class, chose ""Run <MyClassTest>"" option or
** main menu > Run > Edit configurations > JUnit > ... choose test classes; next run it

After this code coverage does not refresh and shows 0% for all classes. 
In case when ""javac"" compiler is used, coverage refreshes, but only for test classes (app classes still show 0%). 

Is my scenario somehow similar to yours?


Regards
Marek;;;","06/Aug/2012 3:26 PM;1561992a889b;Hi Marek,
Sorry for the delay...I've been on vacation.

Thanks for looking into this!

The scenario you describe is exactly how I work: import the maven project with intellij, then run tests via testng runner in intellij.

* maven-clover2-plugin is defined in the POM
* com.cenqua.clover:clover is *not* defined in the pom.
* ""toggle build with clover"" is enabled
* clover intellij settings are not synchronized with clover maven settings;;;","29/Aug/2012 11:48 AM;mparfianowicz;Hi Andrew,

>  via testng runner in intellij.

I'd like to ensure: are you using TestNG or JUnit?

Regards
Marek;;;","29/Aug/2012 12:03 PM;mparfianowicz;Two more things: 

1) in the Run/Debug Configuration window, ""Configuration"" tab, ""Before Launch"" section - do you have ""Make"" or ""Run Maven Goal"" checkboxes enabled? If the ""Run Maven Goal"" is enabled then what goal do you run before tests?


2) ""maven-clover2-plugin is defined in the POM"" - how is it configured?;;;","29/Aug/2012 12:34 PM;mparfianowicz;Hi Andrew,

I mentioned on 1st of August that I reproduced a problem. However my further tests showed that it was due to some class clashing in IDEA debug mode. So it seems that on IDEA11 it still works - i.e. as long as you compile using IDEA Javac/Javac-in-process compiler (instead of running Maven 'compile' goal) and as long as you use JUnit Runner / TestNG Runner from IDEA (instead of running Maven 'test' goal) - coverage is being refreshed correctly in both ""Cloverage"" view and source code editors.

Would you be able to prepare and attach some sample project showing the problem (source files + pom.xml + *.iml/*.ipr/*.iws files)? It would be great to get a screen recording showing your actions in IDEA IDE too. 

Regards
Marek;;;","29/Aug/2012 12:35 PM;mparfianowicz;I'm rescheduling this issue to 3.1.8 as 3.1.7 version is going to be released this week.;;;","19/Oct/2012 11:18 AM;mparfianowicz;Hi Andrew, does this problem still occurs on your environment? I was not able to reproduce it. Do you have some sample project showing the problem (source files + pom.xml + .iml/.ipr/*.iws files)? Is there any change that you were using IBM JRE? There is one bug related with coverage which was fixed recently - CLOV-1151.;;;","19/Oct/2012 2:31 PM;1561992a889b;Hi Marek,
I do tend to use the maven compile goal, but given your feedback, I have since stopped doing this and life is great with intellij and clover.  Thanks so much...this has really helped my development every day!;;;",,,,
Clover html reports don't wipe previous reports/html files,CLOV-1010,140814,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mparfianowicz,40971a6d73c8,40971a6d73c8,11/Jul/2011 11:26 PM,28/Sep/2015 1:27 PM,15/Nov/2024 6:09 PM,28/Sep/2015 1:27 PM,3.1.0,,,,,n/a,,,Reporting,,,,,,,0,,,,,,,,,"When running <clover-report/> in html format, it does not clear the previous report's html files. This is a problem when running multiple builds over time because the report directory continuously grows and grows.

And then, this can be an issue when tied into Bamboo, due to how Bamboo stores it's artifacts (copies the entire report directory over to the server). 

Although it's easy to work around this by deleting the clover-report/current directory before a new build, it would be nice if this limitation was mentioned in the documentation OR the functionality of deleting the previous report was added to either the {{<clover-clean/>}} target or to the {{<clover-report/>}} target.","RHEL 5.5

Ant 1.7.1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw4n:",11611,,,,,32807,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwb5u7:",4800,,,,,,,,,,,"1|hwffhb:",33282,421200000,true,,,,,,,,,,40971a6d73c8(awashington),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwfken:",61496,,,,,,,,,,,,,,,,,,,,,,,,,,32807,,"1|hwfclj:",32818,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
clover2:check fails with negative coverage if no class to instrument,CLOV-1007,139379,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,437a7f3bd847,437a7f3bd847,24/Jun/2011 12:59 PM,10/Jan/2013 11:43 AM,15/Nov/2024 6:09 PM,23/Jul/2012 3:23 PM,3.1.0,,,,,3.1.7,,,Maven plugin,,,,,,,1,,,,,,,,,"This happens either if no java class was found for instrumentation or if they were all excluded.
Clover then reports a negative coverage of -100%.

To my mind, this is not correct : strictly speaking, if no java class has to be tested for coverage, there is no relevant coverage value (I guess it is what the -100% means) but check should be OK.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvnb:",11533,,,,,33441,,,,,,Unknown,,,,,2012-02-21 20:02:50.949,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi27:",74676,,,,,,,,,,,"1|hwfijb:",33855,388627200,true,,,,,,,,,,dale.peakall(dale.peakall),437a7f3bd847(mjambert),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,"1|hwo1uf:",61927,,,,,,,,,,,,,,,,,,,,"Version 3.1.7, Sprint 1",,,,,1.0,33441,,"1|hwfg0v:",33452,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"21/Feb/2012 8:02 PM;dale.peakall;This also occurs if the code under test has no branches/conditions (at least under 3.0.5).;;;","23/Jul/2012 3:23 PM;mparfianowicz;The 3.1.7-SNAPSHOT build is available at https://maven.atlassian.com/content/repositories/atlassian-public-snapshot/;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"Intellij 10.5 with clover 3.1 is throwing: ""Error: CloverException: unexpected token"" for enums",CLOV-1004,138037,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,mstudman,b24358adaf6c,b24358adaf6c,14/Jun/2011 1:42 PM,07/Nov/2011 2:47 PM,15/Nov/2024 6:09 PM,17/Jun/2011 9:15 AM,3.1.0,,,,,3.1.1,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Classes containing enums are failing to compile, and display the error ""Error: CloverException: unexpected token: <<enum name>>"" or ""Error: CloverException: unexpected token enum"".
Have attached example failing code with company name and details stripped out.
I've marked this as a blocker as I can't get the plugin to work at all. I thought it may have been clashing with the scala plugin but I have disabled that and there are still problems.","Intellij 10.5; windows; Clover Intellij plugin version idea7-3.1.0-v20110531000000",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jun/2011 1:42 PM;b24358adaf6c;clover_plugin_enum_fail.zip;https://jira.atlassian.com/secure/attachment/48796/clover_plugin_enum_fail.zip",,,,,,,,,,,,,,,,true,,"1|hwbuqv:",11387,,,,,26579,,,,,,Unknown,,,,,2011-06-14 14:44:26.244,,,,,,,,,,,,,,,,,,,,,,,,"2|hwb5uf:",4801,,,,,,,,,,,"1|hwejdb:",27599,415756800,true,,,,,,,,,,b24358adaf6c(gus4000@gmail.com),1561992a889b(andrew@broadinstitute.org),mstudman(mstudman),7bb9e442d184(zzztimbo),,,,,,,,,,,,,,,,"1|hwl2in:",42220,,,,,,,,,,,,,,,,,,,,,,,,,,26579,,"1|hwed4v:",26595,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"14/Jun/2011 2:44 PM;mstudman;Could you tell me what the language level for your module is, please?;;;","14/Jun/2011 3:26 PM;mstudman;I've uploaded a dev build here http://www.atlassian.com/software/clover/downloads/binary/clover-idea-3.1.1.v20110614155907-dev.jar that I believe addresses the problem. Please install this in

%USERPROFILE%\.IntelliJIdea10\config\plugins

And be sure to remove your previous version of the clover plugin before doing so.;;;","14/Jun/2011 9:34 PM;b24358adaf6c;Apologies that I didn't include any java details. Using jdk 1.6.0.18 and language level is 6.
I'll try out the dev jar and provide feedback.
Ta for the quick response & fix.;;;","17/Jun/2011 8:23 AM;b24358adaf6c;The updated jar has fixed the issue. Thanks again.;;;","17/Jun/2011 9:15 AM;mstudman;You're welcome and sorry for the inconvenience. I'll do a public push of the plugin early next week.;;;","07/Jul/2011 4:46 PM;1561992a889b;I'm seeing the same problem with Intellij 10.0.3, JDK 1.6 on OSX.  Do I need to upgrade Intellij to 10.5 to fix this?;;;","07/Jul/2011 5:56 PM;1561992a889b;The attached dev build solved this problem for me.  Thanks much!;;;","13/Sep/2011 12:09 AM;7bb9e442d184;The attached dev build used to work for me. Now it says my license is no longer valid; however, my license works fine with version v20110531000000 of the plugin. ;;;",,,,,,,,,,,,,,,,,,,
Clover's Log4J handling is broken,CLOV-1003,137970,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,13/Jun/2011 5:06 PM,07/Nov/2011 2:47 PM,15/Nov/2024 6:09 PM,13/Jun/2011 5:20 PM,3.1.0,,,,,3.1.1,,,Instrumentation,,,,,,,0,,,,,,,,,"Log4j's interface has changed a bit since we coded support for it. It would work but our initialisation code looks for the wrong method signature

clover.org.apache.log4j.Logger.log(clover.org.apache.log4j.Level, Object, Throwable)

but should be looking for

clover.org.apache.log4j.Category.log(clover.org.apache.log4j.Priority, Object, Throwable)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwburb:",11389,,,,,26580,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi2n:",74678,,,,,,,,,,,"1|hwejdj:",27600,423705600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwl2iv:",42221,,,,,,,,,,,,,,,,,,,,,,,,,,26580,,"1|hwed53:",26596,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover-for-Eclipse may load intermediate coverage results and not load subsequent coverage updates,CLOV-995,132006,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,26/Apr/2011 12:16 PM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,31/May/2011 11:40 AM,3.0.2,,,,,3.1.0,,,CEP Plugin,,,,,,,0,,,,,,,,,"If a test run takes longer than the refresh period for coverage, intermediate coverage data may be loaded (depending on flush settings) and the final coverage data is not subsequently loaded.

The quick solution is to hold off loading coverage while ever a coverage.db.liverec file is present.

The longer term solution will be a combination of:
* track the last modified stamps and file sizes for coverage recording file 
* implement an undo framework for all recording files so that intermediate coverage loads can be undone and updated coverage can be appended",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxb3:",11802,,,,,35452,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi3z:",74684,,,,,,,,,,,"1|hwftvj:",35815,427852800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwo987:",63149,,,,,,,,,,,,,,,,,,,,,,,,,,35452,,"1|hwfrof:",35463,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inline assignments within while loop clause get no coverage,CLOV-990,129286,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,983aa62a2de2,983aa62a2de2,30/Mar/2011 6:08 PM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,3.0.2,3.1.0,3.2.0,3.3.0,4.0.0,long term roadmap,,,CEP Plugin,Reporting,,,,,,0,,,,,,,,,"This will work with any type of assignment:

int i = 0;
while ((i = i + 1) < 3) {
	System.out.println(i);
}

The ""((i = i + 1) < 3)"" will get no coverage with the mouseover hint being: ""Expression evaluated to true 0 times, false 0 times.""


The following is no problem however:

int i = 0;
while ((++i) < 3) {
	System.out.println(i);
}


Here is another example that won't work:

public static void inlineAssignment() {
	Class<?> c = Integer.class;
	while ((c = c.getSuperclass()) != null) {
		System.out.println(c);
	}
}


Since Clover is primarily a coverage tool, I marked this issue Major.","Eclipse Helios, Vista 64bit",,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-408,,,,,,,,"20/Jun/2012 12:28 PM;mparfianowicz;clov-990-inline-coverage.png;https://jira.atlassian.com/secure/attachment/66634/clov-990-inline-coverage.png","30/Mar/2011 6:08 PM;983aa62a2de2;coverage_screenshot.png;https://jira.atlassian.com/secure/attachment/45808/coverage_screenshot.png",,,,,,,,,,,,,,,true,,"1|hwbvmv:",11531,,,,,40150,,,,,,Unknown,,,,,2011-04-05 23:40:04.23,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi4f:",74686,,,,,,,,,,,"1|hwgk2v:",40389,429580800,true,,,,,,,,,,983aa62a2de2(bbottema),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwosx3:",66625,,,,,,,,,,,,,,,,,,,,,,,,,,40150,,"1|hwginb:",40160,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"05/Apr/2011 11:40 PM;mstudman;Unfortunately it is a long standing issue in Clover that it does not support coverage of inline assignments. We don't have any timeframe for resolving this, I'm afraid.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot select contexts in IDEA 10.0.2,CLOV-987,125422,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,171710c14ff3,171710c14ff3,16/Feb/2011 10:43 AM,30/Aug/2012 3:46 PM,15/Nov/2024 6:09 PM,28/Aug/2012 3:40 PM,3.0.2,,,,,3.1.7,,,CIJ Plugin,,,,,,,0,,,,,,,,,"I select either the filter button in the coverage panel or go via the project settings (same either way) to get to the clover setting dialog. I select the 3rd tab (Contexts) and check the check-boxes 'catch bosy' and 'property methods'. The boxes become checked but the Apply button remains disabled (this is the main issue).

I add a new custom context - and the Apply button is enabled.

I click apply and the check boxes all reset back to their un-set state. The custom context remains.

","Ubuntu 10.10, Sun JDK 1.6.0_22, IDEA Community Edition 10.0.2, Clover plugin trial license.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvmn:",11530,,,,,41757,,,,,,Unknown,,,,,2012-08-27 14:57:18.809,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi53:",74689,,,,,,,,,,,"1|hwgsxr:",41897,433814400,true,,,,,,,,,,171710c14ff3(ibrown),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwoy9b:",67522,,,,,,,,,,,,,,,,,,,,"Version 3.1.7, Sprint 1",Version 3.1.8,,,,1.0,41757,,"1|hwgs47:",41767,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Forced build.compiler property confuses clover, no parsed code is generated.",CLOV-978,123331,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,6492bb6c2d23,6492bb6c2d23,25/Jan/2011 8:39 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,3.0.2,,,,,long term roadmap,,,Build system,,,,,,,0,,,,,,,,,"This applies to clover-ant. Passing build.compiler property from command-line or via a nested property in an <ant> call freezes this property in the executed (sub-) project. As far as I can tell, clover-setup attempts to substitute build.compiler with its own source code parser, which is then delegated to the actual build.compiler -- this fails if build.compiler is frozen and no code is preprocessed.

A potential fix is to replace the frozen property (ANT's Project has two methods for setting properties, can't recall their name now, but one of them is able to override a property, even if it's already bound to a value). Another fix is to fail the build if it is detected that clover-setup has been executed, but build.property is not replaced.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw3b:",11605,,,,,42637,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi5j:",74691,,,,,,,,,,,"1|hwgy2n:",42778,435715200,true,,,,,,,,,,6492bb6c2d23(dawid.weiss),,,,,,,,,,,,,,,,,,,"1|hwfkxj:",68182,,,,,,,,,,,,,,,,,,,,,,,,,,42637,,"1|hwgx8v:",42647,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Clover's embedding of GSON brings in ""assembly-descriptor.xml"" into clover.jar which causes problems for ejbdoclet, others",CLOV-977,121456,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mparfianowicz,bhumphreys,bhumphreys,29/Dec/2010 12:51 AM,26/Nov/2012 12:20 PM,15/Nov/2024 6:09 PM,26/Nov/2012 12:20 PM,2.6,,,,,3.1.0,,,Build system,,,,,,,0,,,,,,,,,"see support case https://support.atlassian.com/browse/CLV-5576 and forum post http://forums.atlassian.com/thread.jspa?messageID=257357810

the solution is to simply exclude this file when building the clover.jar
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw33:",11604,,,,,43357,,,,,,Unknown,,,,,2012-11-26 11:10:08.727,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi5r:",74692,,,,,,,,,,,"1|hwh2g7:",43507,377740800,true,,,,,,,,,,bhumphreys(bhumphreys),mparfianowicz(mparfianowicz),mstudman(mstudman),,,,,,,,,,,,,,,,,"1|hwfruv:",10710,,,,,,,,,,,,,,,,,,,,,,,,,1.0,43357,,"1|hwh1k7:",43366,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"26/Nov/2012 11:10 AM;mstudman;I think this is fixed already.;;;","26/Nov/2012 12:17 PM;mparfianowicz;Oh. Indeed. Closing.;;;","26/Nov/2012 12:20 PM;mparfianowicz;Was fixed in 3.1.0.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Clover produces huge and growing coverage data,CLOV-976,119758,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Resolved Locally,,6c118691fb11,6c118691fb11,07/Dec/2010 9:08 AM,22/Jan/2014 10:39 AM,15/Nov/2024 6:09 PM,04/Sep/2012 11:08 AM,3.0,,,,,won't fix,,,Ant Tasks,,,,,,,0,,,,,,,,,"We are using the Clover-Ant-Task on our Bamboo-Server.
This is creating rather large artifacts (initial about 8GB). The main problem is that this artifacts keep on growing from build to build. Last time they reached about 77GB (the server went out of diks space at this point).

Ther should be a way to effectivly reduce the needed space for the generated artifacts.","Windows 2003 Server; Bamboo 2.5.1 Standalone; Ant 1.8.0RC1; JDK 1.6 Update 21",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvm7:",11528,,,,,44044,,,,,,Unknown,,,,,2010-12-08 04:21:19.241,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi5z:",74693,,,,,,,,,,,"1|hwh6l3:",44196,439776000,true,,,,,,,,,,npellow(npellow),6c118691fb11(tobias.kremer@lfstad.bayern.de),,,,,,,,,,,,,,,,,,"1|hwpahj:",69560,,,,,,,,,,,,,,,,,,,,,,,,,,44044,,"1|hwh5of:",44052,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Dec/2010 4:21 AM;npellow;Hi Tobias, 

Are you performing a clean of your clover.db for each build? This can be done by using the Ant [clover-clean|http://confluence.atlassian.com/display/CLOVER/clover-clean] task, in your build.xml .

You should also check that your clover reports are being cleaned each time - if you are not doing a clean checkout for each build.

Further - be sure that you have compression of artefacts in Bamboo enabled - Clover HTML reports compress down a lot.

Cheers,
Nick.;;;","08/Dec/2010 7:23 AM;6c118691fb11;Hello Nick,
how do I enable compression of artefacts? I can not find anything about it in the Bamboo documentation.

Greetings,
Tobias;;;","08/Dec/2010 10:36 PM;npellow;Hi Tobias, 

My mistake - bamboo artifacts are only compressed for download, not for storage.
You may need to try the other suggestions first - ensuring your build is cleaning up correctly each time, and not aggregating reports and db files across builds.
You could also consider using Ant's gzip task to compress Clover artifacts.

Cheers,
Nick;;;","09/Dec/2010 7:03 AM;6c118691fb11;Hi Nick,
instead of using the clover default-tasks I did some fine tuning.
It is working a lot better now.

Thanks,
Tobias;;;",,,,,,,,,,,,,,,,,,,,,,,
Clover doesn't support parallel compilation in Ant,CLOV-973,119067,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mparfianowicz,mstudman,mstudman,29/Nov/2010 12:08 PM,22/Jan/2014 10:12 AM,15/Nov/2024 6:09 PM,19/Oct/2012 11:59 AM,3.0.2,,,,,won't fix,,,Ant Tasks,,,,,,,0,,,,,,,,,"Clover is one big FAIL when it is invoked within an <parallel/> task either through <clover-instr/> or <javac/>

Effectively it tries to overwrite databases and the last compile to finish will fail (on Windows) because of file locking.

At the very least we should warn that parallel compilation is not supported.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw2v:",11603,,,,,44369,,,,,,Unknown,,,,,2012-10-19 11:52:40.029,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi67:",74694,,,,,,,,,,,"1|hwh8hz:",44521,381024000,true,,,,,,,,,,mparfianowicz(mparfianowicz),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwpc9b:",69857,,,,,,,,,,,,,,,,,,,,,,,,,,44369,,"1|hwh7l3:",44376,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"19/Oct/2012 11:58 AM;mparfianowicz;Documented on 
 * https://confluence.atlassian.com/display/CLOVER/clover-instr
 * https://confluence.atlassian.com/display/CLOVER/clover-setup
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
No tests run with Test Optimization,CLOV-971,118784,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,sginter,sginter,sginter,24/Nov/2010 1:44 PM,22/Jan/2014 12:05 PM,15/Nov/2024 6:09 PM,05/Jan/2011 3:02 PM,3.1.0,,,,,3.1.0,,,CIJ Plugin,Test Optimization,,,,,,0,,,,,,,,,"Run Optimized button does not run any tests.
It gives a proper balloon notification with the number of tests to be run but then it runs none.
It is probably caused by yet another change in test runner in Idea.

Bad news is that when I tried to reproduce it on recent Idea9 it also failed.

The solution would require looking at how Idea runs it's test this time and find some hack to hook into the process - there is no clear API for that.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx6v:",11783,,,,,35451,,,,,,4,,,,,2010-11-28 22:33:03.079,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi6f:",74695,,,,,,,,,,,"1|hwftvb:",35814,441072000,false,,,,,,,,,,sginter(sginter),,,,,,,,,,,,,,,,,,,"1|hwo97z:",63148,,,,,,,,,,,,,,,,,,,,,,,,,,35451,,"1|hwfro7:",35462,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"When a method annotated with @Test(expected = ...) is overridden, the overriding method should not expect an exception.",CLOV-970,118127,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Cannot Reproduce,mparfianowicz,fdbeeffc9155,fdbeeffc9155,16/Nov/2010 1:52 AM,22/Jan/2014 10:41 AM,15/Nov/2024 6:09 PM,13/Jun/2012 12:56 PM,3.0.2,,,,,won't fix,,,Instrumentation,,,,,,,0,,,,,,,,,"I have a test like this:
@Test(expected = RuntimeException.class)
public void somethingThrows()
{
  something();
}

In a subclass, I override the test without expecting an exception.
@Override
@Test
public void somethingThrows()
{
  something();
}

The test in the subclass should only fail if it DOES throw, but when Clover runs, it reports this as a failed test because it does not throw a RuntimeException.","Standalone
Java 6
Windows and Linux",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/2012 1:38 PM;mparfianowicz;clov-970-v2.zip;https://jira.atlassian.com/secure/attachment/66319/clov-970-v2.zip","13/Jun/2012 12:55 PM;mparfianowicz;clov-970.zip;https://jira.atlassian.com/secure/attachment/66318/clov-970.zip",,,,,,,,,,,,,,,true,,"1|hwbutb:",11398,,,,,41549,,,,,,Unknown,,,,,2012-06-13 12:55:11.541,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi6n:",74696,,,,,,,,,,,"1|hwgrqn:",41687,392083200,true,,,,,,,,,,fdbeeffc9155(motlin),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwoxdb:",67367,,,,,,,,,,,,,,,,,,,,,,,,,,41549,,"1|hwgqxj:",41559,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"22/Feb/2011 5:23 PM;fdbeeffc9155;Any update on this?;;;","13/Jun/2012 12:55 PM;mparfianowicz;Hi Craig,

The problem reported by you does not exist anymore. Please have a look at attached sample project clov-970.zip. In the target/site/clover you'll find a coverage report produced by me. You can run this project by typing ""mvn clean install"". 

Regards
Marek;;;","13/Jun/2012 12:55 PM;mparfianowicz;Sample project;;;","13/Jun/2012 1:09 PM;fdbeeffc9155;These are good test cases but the specific bug mentioned here isn't tested.

In AaaTest.java:
    @Test(expected = RuntimeException.class)
    public void testCustom() {
        Aaa a = new Aaa();
        a.somethingThrows();
    }

In AaaSubTest.java:
    @Override
    @Test
    public void testCustom(){
        Aaa a = new Aaa();
        a.something();
    }

Specifically overriding ""expected"" without ""expected""

;;;","13/Jun/2012 1:38 PM;mparfianowicz;Hi Craig,

Your test case works as well. See clov-970-v2.zip.

Regards
Marek;;;","13/Jun/2012 5:46 PM;fdbeeffc9155;Perfect, thanks.;;;",,,,,,,,,,,,,,,,,,,,,
Clover HTML reporter can hang on JRockit with numThreads > 0,CLOV-969,117757,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mparfianowicz,andrew.myers,andrew.myers,10/Nov/2010 6:09 AM,21/Apr/2017 8:45 AM,15/Nov/2024 6:09 PM,21/Apr/2017 8:45 AM,,,,,,n/a,,,,,,,,,,0,,,,,,,,,"Customer had a case where the reporter threads were blocked on accessing a hash map: 

{noformat}""Clover-Thread-59"" id=112 idx=0x1c0 tid=28824 prio=5 alive
at java/util/HashMap.getEntry(HashMap.java:427)
at java/util/HashMap.containsKey(HashMap.java:413)
at com/cenqua/clover/context/ContextStore.getContextsAsString(ContextStore.java:257)
at com/cenqua/clover/reporters/html/source/SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:278)
at com/cenqua/clover/reporters/html/source/SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:83)
at com/cenqua/clover/reporters/html/RenderFileAction.insertLineInfos(RenderFileAction.java:284)
at com/cenqua/clover/reporters/html/RenderFileAction.render(RenderFileAction.java:131)
at com/cenqua/clover/reporters/html/RenderFileAction.call(RenderFileAction.java:115)
at com/cenqua/clover/util/CloverExecutors$LoggingCallable.call(CloverExecutors.java:86)
at clover/retrotranslator/edu/emory/mathcs/backport/java/util/concurrent/FutureTask.run(FutureTask.java:178)
at clover/retrotranslator/edu/emory/mathcs/backport/java/util/concurrent/ThreadPoolExecutor.runWorker(ThreadPoolExec
utor.java:1061)
at clover/retrotranslator/edu/emory/mathcs/backport/java/util/concurrent/ThreadPoolExecutor$Worker.run(ThreadPoolExe
cutor.java:575)
at java/lang/Thread.run(Thread.java:619)
at jrockit/vm/RNI.c2java(JJJJJ)V(Native Method)
- end of trace
{noformat} 

Setting numThreads=""0"" on [clover-html-report|http://confluence.atlassian.com/display/CLOVER/clover-html-report] resolves this. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw2n:",11602,,,,,44489,,,,,,Unknown,,,,,2010-11-26 11:20:47.427,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi6v:",74697,,,,,,,,,,,"1|hwh97r:",44641,440899200,true,,,,,,,,,,andrew.myers(andrew.myers),67b721ba612e(dannyand),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,"1|hwfkev:",64263,,,,,,,,,,,,,,,,,,,,,,,,,,44489,,"1|hwh8av:",44496,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"26/Nov/2010 11:20 AM;67b721ba612e;Seen this also on Sun JDK running in Maven triggered by Bamboo

build   26-Nov-2010 10:47:18    2010-11-26 10:47:18
build   26-Nov-2010 10:47:18    Full thread dump Java HotSpot(TM) Server VM (11.3-b02 mixed mode):
build   26-Nov-2010 10:47:18    
build   26-Nov-2010 10:47:18    ""Clover-Thread-11"" prio=3 tid=0x0aa57400 nid=0x2a runnable [0xb6409000..0xb6409b70]
build   26-Nov-2010 10:47:18       java.lang.Thread.State: RUNNABLE
build   26-Nov-2010 10:47:18            at java.util.HashMap.getEntry(HashMap.java:347)
build   26-Nov-2010 10:47:18            at java.util.HashMap.containsKey(HashMap.java:335)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.context.ContextStore.getContextsAsString(ContextStore.java:257)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.reporters.html.source.SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:278)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.reporters.html.source.SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:83)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.reporters.html.RenderFileAction.insertLineInfos(RenderFileAction.java:284)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:131)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:115)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:86)
build   26-Nov-2010 10:47:18            at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:178)
build   26-Nov-2010 10:47:18            at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1061)
build   26-Nov-2010 10:47:18            at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
build   26-Nov-2010 10:47:18            at java.lang.Thread.run(Thread.java:619)
build   26-Nov-2010 10:47:18    
build   26-Nov-2010 10:47:18    ""Clover-Thread-10"" prio=3 tid=0x09d83000 nid=0x29 runnable [0xb5dfd000..0xb5dfdaf0]
build   26-Nov-2010 10:47:18       java.lang.Thread.State: RUNNABLE
build   26-Nov-2010 10:47:18            at java.util.HashMap.getEntry(HashMap.java:347)
build   26-Nov-2010 10:47:18            at java.util.HashMap.containsKey(HashMap.java:335)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.context.ContextStore.getContextsAsString(ContextStore.java:257)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.reporters.html.source.SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:278)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.reporters.html.source.SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:83)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.reporters.html.RenderFileAction.insertLineInfos(RenderFileAction.java:284)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:131)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:115)
build   26-Nov-2010 10:47:18            at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:86)
build   26-Nov-2010 10:47:18            at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:178)
build   26-Nov-2010 10:47:18            at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1061)
build   26-Nov-2010 10:47:18            at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
build   26-Nov-2010 10:47:18            at java.lang.Thread.run(Thread.java:619)

....


;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Statement Context Too Greedy on Filtering,CLOV-966,115187,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,dhansen@atlassian.com,dhansen@atlassian.com,18/Oct/2010 3:43 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,2.6.3,3.0.2,,,,long term roadmap,,,Ant Tasks,,,,,,,2,,,,,,,,,"The {{<statementcontext>}} feature of Clover for Ant appears to be too greedy it some cases when trying to exclude code from instrumentation.  For example, the follow code that looks like this:

{code}
String foo;

try {
   foo = String.valueOf(32940);
}
catch (Exception e) {
    getLogger().isEmpty();
}
{code}

Combined with using the following Ant targets:

{code}
<target name=""with.clover"">
    <clover-setup>
        <statementcontext name=""getLogger"" regexp=""^.*getLogger\(\)\..*""/>
    </clover-setup>
</target>

<target name=""clover.html"">
    <clover-report>
        <current outfile=""/Users/dhansen/Desktop/report"">
            <format type=""html"" filter=""getLogger""/>
        </current>
   </clover-report>
</target>
{code}

This will produce a Clover HTML report that will filter out not only the {{getLogger()}} call but also {{foo = String.valueOf(32940);}}.  See the screenshot below:

!htmlreport.jpg!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/2010 3:43 AM;dhansen@atlassian.com;htmlreport.jpg;https://jira.atlassian.com/secure/attachment/41388/htmlreport.jpg",,,,,,,,,,,,,,,,true,,"1|hwbvlz:",11527,,,,,41045,,,,,,Unknown,,,,,2011-03-16 22:00:35.3,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi7b:",74699,,,,,,,,,,,"1|hwgov3:",41193,431308800,true,,,,,,,,,,dhansen@atlassian.com(dhansen@atlassian.com),27c247f697f5(joel.s.berman),,,,,,,,,,,,,,,,,,"1|hwfkxb:",66998,,,,,,,,,,,,,,,,,,,,,,,,,,41045,,"1|hwgnzr:",41055,1.0,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"16/Mar/2011 10:00 PM;27c247f697f5;It would be great if you could priorities a fix for this issue for the next Clover release ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
IntelliJ Clover error,CLOV-965,114678,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,,7d204839d776,7d204839d776,11/Oct/2010 6:56 PM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,24/Nov/2010 1:36 PM,,,,,,won't fix,,,CIJ Plugin,,,,,,,0,clover,error,exception,intellij,,,,,"com/intellij/util/ui/treetable/ListTreeTableModelOnColumns: com/intellij/util/ui/treetable/ListTreeTableModelOnColumns
java.lang.NoClassDefFoundError: com/intellij/util/ui/treetable/ListTreeTableModelOnColumns
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:616)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:466)
	at com.intellij.util.lang.UrlClassLoader._defineClass(UrlClassLoader.java:123)
	at com.intellij.util.lang.UrlClassLoader.defineClass(UrlClassLoader.java:119)
	at com.intellij.util.lang.UrlClassLoader._findClass(UrlClassLoader.java:95)
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClassInsideSelf(PluginClassLoader.java:94)
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:57)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:248)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:169)
	at com.cenqua.clover.idea.treetables.TreeTableModelFactory.getSortableListTreeTableModelOnColumns(TreeTableModelFactory.java:72)
	at com.cenqua.clover.idea.treetables.TreeTableModelFactory.getCoverageTreeTableModel(TreeTableModelFactory.java:59)
	at com.cenqua.clover.idea.coverageview.CoverageViewPanel.<init>(CoverageViewPanel.java:93)
	at com.cenqua.clover.idea.CloverToolWindow.getCoveragePane(CloverToolWindow.java:180)
	at com.cenqua.clover.idea.CloverToolWindow.initComponents(CloverToolWindow.java:111)
	at com.cenqua.clover.idea.CloverToolWindow.<init>(CloverToolWindow.java:67)
	at com.cenqua.clover.idea.CloverToolWindow.getInstance(CloverToolWindow.java:57)
	at com.cenqua.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:112)
	at com.cenqua.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:79)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:757)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:199)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:174)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$100(StartupManagerImpl.java:39)
	at com.intellij.ide.startup.impl.StartupManagerImpl$2.run(StartupManagerImpl.java:143)
	at com.intellij.openapi.project.DumbServiceImpl.runWhenSmart(DumbServiceImpl.java:85)
	at com.intellij.ide.startup.impl.StartupManagerImpl.runPostStartupActivities(StartupManagerImpl.java:140)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.openProject(ProjectManagerImpl.java:393)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:433)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.loadAndOpenProject(ProjectManagerImpl.java:416)
	at com.intellij.ide.impl.ProjectUtil.openProject(ProjectUtil.java:194)
	at com.intellij.ide.RecentProjectsManager.doOpenProject(RecentProjectsManager.java:48)
	at com.intellij.ide.RecentProjectsManagerBase$ReopenProjectAction.actionPerformed(RecentProjectsManagerBase.java:232)
	at com.intellij.ui.popup.PopupFactoryImpl$ActionPopupStep$1.run(PopupFactoryImpl.java:482)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.c(FocusManagerImpl.java:406)
	at com.intellij.openapi.wm.impl.FocusManagerImpl.doWhenFocusSettlesDown(FocusManagerImpl.java:346)","Java version=1.6.0_20, Java vendor=Apple Inc., OS name=Mac OS X, OS architecture=i386, IDEA build number=IU-96.1190
Plugin release=3.0.2.v20100413110000",,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,CLOV-956,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw93:",11631,,,,,17347,,,,,,2,,,,,2010-10-12 00:03:33.321,,,,,,,,,,,,,,,,,,,,,,,,"2|hwbyo7:",11104,,,,,,,,,,,"1|hwd3en:",18876,441072000,true,,,,,,,,,,7d204839d776(bodiam),npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,"1|hwjswn:",34507,,,,,,,,,,,,,,,,,,,,,,,,,,17347,,"1|hwcu07:",17347,42.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/2010 12:03 AM;npellow;Hi Erik, 

Clover is only compatible with IDEA 7, 8 and 9 at the moment.

Cheers,
Nick;;;","24/Nov/2010 1:35 PM;sginter;This is a duplicate, closing this copy.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
<testsources> does not work with Ant groovyc task,CLOV-964,114632,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,andrew.myers,andrew.myers,11/Oct/2010 4:13 AM,07/Jan/2013 10:11 AM,15/Nov/2024 6:09 PM,26/Nov/2012 8:23 AM,3.0.2,,,,,3.1.10,,,Groovy,,,,,,,0,,,,,,,,,"Since TestSourceSet is not Serializable it doesn't work with Ant/groovyc.

{noformat}Clover failed to integrate with <groovyc/>java.io.NotSerializableException: com.cenqua.clover.tasks.TestSourceSet
        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1081)
        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:302)
        at java.util.ArrayList.writeObject(ArrayList.java:569)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:917)

... 

        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:302)
        at com.atlassian.clover.instr.java.InstrumentationConfig.saveToFile(InstrumentationConfig.java:427)
        at com.atlassian.clover.ant.groovy.GroovycSupport.newConfigDir(GroovycSupport.java:360)
        at com.atlassian.clover.ant.groovy.GroovycSupport.augmentCompilationClasspath(GroovycSupport.java:350)
        at com.atlassian.clover.ant.groovy.GroovycSupport.taskStarted(GroovycSupport.java:160)
        at org.apache.tools.ant.Project.fireTaskStarted(Project.java:2182){noformat} 


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1190,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvlr:",11526,,,,,44971,,,,,,Unknown,,,,,2012-11-26 08:22:28.06,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi7j:",74700,,,,,,,,,,,"1|hwhbzz:",45125,377740800,true,,,,,,,,,,andrew.myers(andrew.myers),mparfianowicz(mparfianowicz),,,,,,,,,,,,,,,,,,"1|hwfruf:",10699,,,,,,,,,,,,,,,,,,,,Sprint 1,,,,,1.0,44971,,"1|hwhb2n:",44978,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"26/Nov/2012 8:22 AM;mparfianowicz;Problem with serialization was solved during fix of CLOV-1190 (where more was implemented, like initialization of test detector).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Instrumentation failed when import statement has extra semicolon (works under javac),CLOV-963,114505,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,1279dd9ac894,1279dd9ac894,07/Oct/2010 11:49 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,2.6.3,,,,,long term roadmap,,,Instrumentation,,,,,,,0,,,,,,,,,"** Error(s) occurred and the instrumentation process can't continue.
[18:15:19]: [javac] com.cenqua.clover.CloverException: /path/to/my/test/src/some/package/MyTest.java:21:1:expecting EOF, found 'import'


It turns out that one of the import statements had an extra semi-colon, for example:
import java.util.Collections;;
                             ^

I had not noticed this because javac accepted it and the test executed/passed locally without error. However, Clover's instrumentation crashed and failed on the build server.","Clover 2.6.3 for Ant
Java 1.6.0_20
Linux",,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1258,CLOV-1571,,,,,,,"20/Apr/2013 7:01 AM;mparfianowicz;java.g.diff;https://jira.atlassian.com/secure/attachment/90635/java.g.diff","20/Apr/2013 7:14 AM;mparfianowicz;java.g.diff2;https://jira.atlassian.com/secure/attachment/90637/java.g.diff2","20/Apr/2013 7:14 AM;mparfianowicz;java.g.diff3;https://jira.atlassian.com/secure/attachment/90636/java.g.diff3",,,,,,,,,,,,,,true,,"1|hwbw27:",11600,,,,,46017,,,,,,Unknown,,,,,2013-04-20 06:56:39.065,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi7r:",74701,,,,,,,,,,,"1|hwhi0f:",46171,365212800,true,,,,,,,,,,mparfianowicz(mparfianowicz),1279dd9ac894(wrprice),,,,,,,,,,,,,,,,,,"1|hwogv3:",64642,,,,,,,,,,,,,,,,,,,,,,,,,,46017,,"1|hwhh33:",46024,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"20/Apr/2013 6:56 AM;mparfianowicz;A simple attempt to modify importDefinition in java.g to add multiple semicolons ends with an ANTLR warning:

{noformat}
warning: nondeterminism upon
 k==1:SEMI
 k==2:EOF,""final"",""abstract"",""strictfp"",SEMI,...
between alt 2 and exit branch block
{noformat}
;;;","20/Apr/2013 7:03 AM;mparfianowicz;http://stackoverflow.com/questions/9344066/spurious-nondeterminism-warnings-from-antlr-2-7-6;;;","20/Apr/2013 7:14 AM;mparfianowicz;Instrumentation fails for fixes as attached. We'll have a look at this bug after upgrading ANTLR to 4.x (see CLOV-1258);;;",,,,,,,,,,,,,,,,,,,,,,,,
Command line tools do not honor testsIncludePattern/testsExcludePattern,CLOV-961,113546,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,dhansen@atlassian.com,dhansen@atlassian.com,21/Sep/2010 3:53 PM,22/Jan/2014 10:12 AM,15/Nov/2024 6:09 PM,22/Sep/2010 12:31 AM,3.0.2,,,,,won't fix,,,Instrumentation,,,,,,,0,,,,,,,,,"The CloverInstr command does not appear to honor the {{--testsIncludePattern}} or {{--testsExcludePattern}}.

I have a simple project setup:

{noformat}
src/
    HelloWorld.java
    HelloWorldTest.java
    HelloWorldUtil.java
{noformat}

When I run the following command I expect {{HelloWorldTest.java}} to be instrumented, but all classes are:

{noformat}java -classpath clover.jar com.cenqua.clover.CloverInstr -i ~/Desktop/clover.db -s src/ -d ~/Desktop/instr --testsIncludePattern **/*Test.java --verbose{noformat}

Output:

{noformat}
Clover Version 3.0.2, built on April 13 2010 (build-790)
Loaded from: /Users/dhansen/Workspace/clover/clover-ant-3.0.2/lib/clover.jar
Clover: Developer License registered to Atlassian.
Updating existing database at '/Users/dhansen/Desktop/clover.db'.
Processing files at 1.6 source level.
Processed 'src/HelloWorldTest.java' to '/Users/dhansen/Desktop/instr/HelloWorldTest.java'
Processed '/Users/dhansen/Workspace/clover/clover_cli_test/src/HelloWorld.java' to '/Users/dhansen/Desktop/instr/HelloWorld.java'
Processed '/Users/dhansen/Workspace/clover/clover_cli_test/src/HelloWorldTest.java' to '/Users/dhansen/Desktop/instr/HelloWorldTest.java'
Processed '/Users/dhansen/Workspace/clover/clover_cli_test/src/HelloWorldUtil.java' to '/Users/dhansen/Desktop/instr/HelloWorldUtil.java'
Clover all over. Instrumented 4 files (1 package).
8 test methods detected.
Elapsed time = 0.085 secs. (47.059 files/sec, 988.235 srclines/sec){noformat}

Conversely, specifying {{--testsExcludePattern}} to exclude the test class also isn't honored:

{noformat}java -classpath clover.jar com.cenqua.clover.CloverInstr -i ~/Desktop/clover.db -s src/ -d ~/Desktop/instr --testsExcludePattern **/*Test.java --verbose{noformat}

Output:

{noformat}Clover Version 3.0.2, built on April 13 2010 (build-790)
Loaded from: /Users/dhansen/Workspace/clover/clover-ant-3.0.2/lib/clover.jar
Clover: Developer License registered to Atlassian.
Updating existing database at '/Users/dhansen/Desktop/clover.db'.
Processing files at 1.6 source level.
Processed 'src/HelloWorldTest.java' to '/Users/dhansen/Desktop/instr/HelloWorldTest.java'
Processed '/Users/dhansen/Workspace/clover/clover_cli_test/src/HelloWorld.java' to '/Users/dhansen/Desktop/instr/HelloWorld.java'
Processed '/Users/dhansen/Workspace/clover/clover_cli_test/src/HelloWorldTest.java' to '/Users/dhansen/Desktop/instr/HelloWorldTest.java'
Processed '/Users/dhansen/Workspace/clover/clover_cli_test/src/HelloWorldUtil.java' to '/Users/dhansen/Desktop/instr/HelloWorldUtil.java'
Clover all over. Instrumented 4 files (1 package).
8 test methods detected.
Elapsed time = 0.083 secs. (48.193 files/sec, 1,012.048 srclines/sec){noformat}",Clover Command Line tools (CloverInst),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxev:",11819,,,,,46477,,,,,,Unknown,,,,,2010-09-22 00:31:05.534,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi7z:",74702,,,,,,,,,,,"1|hwhkov:",46631,446515200,true,,,,,,,,,,dhansen@atlassian.com(dhansen@atlassian.com),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwpn47:",71683,,,,,,,,,,,,,,,,,,,,,,,,,,46477,,"1|hwhjrj:",46484,1.0,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"22/Sep/2010 12:31 AM;npellow;If there are source files to be filtered from a clover report, then those files should not be passed to the CloverInstr command for instrumentation.

Clover Command Line tools have only basic options. For anything more advanced, users must use the Clover Ant or Maven2 integrations.

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Report fuzzy matching for moved source fails on Windows due to File.separatorChar,CLOV-959,112704,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,06/Sep/2010 12:19 PM,18/May/2011 5:28 PM,15/Nov/2024 6:09 PM,18/May/2011 5:28 PM,3.0.2,,,,,3.1.0,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwvj:",11732,,,,,35804,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi8f:",74704,,,,,,,,,,,"1|hwfvtj:",36145,447897600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwoab3:",63327,,,,,,,,,,,,,,,,,,,,,,,,,,35804,,"1|hwftrb:",35815,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cloud report does not refresh when coverage is 100%,CLOV-958,112672,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,jjaroczynski,andrew.myers,andrew.myers,05/Sep/2010 11:50 PM,26/Jun/2013 12:43 PM,15/Nov/2024 6:09 PM,15/May/2013 8:25 PM,3.0.2,,,,,3.1.12,,,CEP Plugin,,,,,,,1,,,,,,,,,"We disable refreshing the cloud report when coverage hits 100%.

This is a bit confusing if you have the report open from a previous test run where the coverage was not 100%

!http://img.skitch.com/20100905-rxds2kf1832d5qa1tjktbgqigj.jpg! 

You can't refresh it and the old coverage information is still displayed. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw1z:",11599,,,,,46857,,,,,,Unknown,,,,,2013-05-15 13:27:51.912,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi8n:",74705,,,,,,,,,,,"1|hwhmz3:",47011,363052800,true,,,,,,,,,,andrew.myers(andrew.myers),jjaroczynski(jjaroczynski),,,,,,,,,,,,,,,,,,"1|hwpp4n:",72016,,,,,,,,,,,,,,,,,,,,,,,,,,46857,,"1|hwhm1r:",46864,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/May/2013 1:33 PM;jjaroczynski;Refresh button is enabled now even if coverage is 100%. 

I have also enabled action buttons (Cloud and Treemap) in Coverage Explorer view in case of 100% covered.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
generateHistorical attribute not used,CLOV-957,112320,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,5542f68ed6ce,5542f68ed6ce,30/Aug/2010 8:25 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.0.2,,,,,open-source,,,Maven plugin,,,,,,,0,,,,,,,,,"generateHistorical configuration attribute in CloverReportMojo is not used anywhere. The only way to forcefully exclude historical report generation is by pointing historyDir to a non-existing directory. Please check generateHistorical flag's value while deciding whether to call ""historical"" or ""current"" ant task.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw1r:",11598,,,,,46989,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi8v:",74706,,,,,,,,,,,"1|hwhnrb:",47143,448502400,true,,,,,,,,,,5542f68ed6ce(tmkarthi),,,,,,,,,,,,,,,,,,,"1|hwfkfb:",72123,,,,,,,,,,,,,,,,,,,,,,,,,,46989,,"1|hwhmtz:",46996,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java.lang.NoClassDefFoundError: com/intellij/util/ui/treetable/ListTreeTableModelOnColumns at IDEA X,CLOV-956,111112,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,sginter,a03de1f42b41,a03de1f42b41,11/Aug/2010 3:37 PM,16/Dec/2010 1:44 PM,15/Nov/2024 6:09 PM,16/Dec/2010 1:43 PM,3.0.2,,,,,3.0.2,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/intellij/util/ui/treetable/ListTreeTableModelOnColumns: com/intellij/util/ui/treetable/ListTreeTableModelOnColumns
java.lang.NoClassDefFoundError: com/intellij/util/ui/treetable/ListTreeTableModelOnColumns
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:620)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:465)
	at com.intellij.util.lang.UrlClassLoader._defineClass(UrlClassLoader.java:119)
	at com.intellij.util.lang.UrlClassLoader.defineClass(UrlClassLoader.java:115)
	at com.intellij.util.lang.UrlClassLoader._findClass(UrlClassLoader.java:91)
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClassInsideSelf(PluginClassLoader.java:94)
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:57)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:169)
	at com.cenqua.clover.idea.treetables.TreeTableModelFactory.getSortableListTreeTableModelOnColumns(TreeTableModelFactory.java:72)
	at com.cenqua.clover.idea.treetables.TreeTableModelFactory.getCoverageTreeTableModel(TreeTableModelFactory.java:59)
	at com.cenqua.clover.idea.coverageview.CoverageViewPanel.<init>(CoverageViewPanel.java:93)
	at com.cenqua.clover.idea.CloverToolWindow.getCoveragePane(CloverToolWindow.java:180)
	at com.cenqua.clover.idea.CloverToolWindow.initComponents(CloverToolWind","Java version=1.6.0_07, Java vendor=Sun Microsystems Inc., OS name=Windows Vista, OS architecture=x86, IDEA build number=IU-96.802
Plugin release=3.0.2.v20100413110000",,,,,,,,,,,,,,,,,,,,CLOV-965,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxvr:",11895,,,,,43668,,,,,,,,,,,2010-11-26 15:14:15.265,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi93:",74707,,,,,,,,,,,"1|hwh4b3:",43819,440899200,true,,,,,,,,,,a03de1f42b41(lmoren),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwoglr:",64585,,,,,,,,,,,,,,,,,,,,,,,,,,43668,,"1|hwh3ev:",43677,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/2010 3:14 PM;sginter;I plan to have this released early next week;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover for IDEA offers an older update plugin version,CLOV-954,110780,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,sginter,mgchong,mgchong,06/Aug/2010 1:40 AM,16/Dec/2010 1:44 PM,15/Nov/2024 6:09 PM,16/Dec/2010 1:44 PM,3.0.2,,,,,3.0.2,,,CIJ Plugin,,,,,,,0,,,,,,,,,"User is using version 3.0.2 plugin, however it offers an upgrade version which is an older version 3.0.1. See the attached screen shot.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Aug/2010 1:40 AM;mgchong;upgrade-clover.png;https://jira.atlassian.com/secure/attachment/40048/upgrade-clover.png",,,,,,,,,,,,,,,,true,,"1|hwbxvj:",11894,,,,,43667,,,,,,Unknown,,,,,2010-08-09 03:12:20.843,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi9j:",74709,,,,,,,,,,,"1|hwh4av:",43818,450576000,true,,,,,,,,,,mgchong(mgchong),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwp97b:",69347,,,,,,,,,,,,,,,,,,,,,,,,,,43667,,"1|hwh3en:",43676,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Occasionally clover is getting broken on the Hudson ,CLOV-953,110388,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Cannot Reproduce,mparfianowicz,e8577a0ded61,e8577a0ded61,30/Jul/2010 11:41 PM,28/Sep/2015 1:41 PM,15/Nov/2024 6:09 PM,28/Sep/2015 1:41 PM,,,,,,won't fix,,,Build system,Grails Plugin,Groovy,,,,,1,,,,,,,,,"We are using Grails 1.2.2 , Hudson, clover
From time to time Hudson fails with the following console output. Without any changes the next build can be fine.

Licensed under Apache Standard License 2.0
Grails home is set to: D:\Apps\grails-1.2.2

Base Directory: D:\Apps-Pub\HUDSON_HOME\jobs\LifePoints\workspace\Lifepoints
WARNING: Dependencies cannot be resolved for plugin [clover-3.0.2] due to error: null
Resolving dependencies...
Dependencies resolved in 1422ms.
Running script D:\Apps\grails-1.2.2\scripts\TestApp.groovy
Environment set to test
Clover: Using config: [on:true]
Using clover license path: D:\Apps-Pub\HUDSON_HOME\jobs\LifePoints\workspace\Lifepoints/clover.license
  [taskdef] Could not load definitions from resource cloverlib.xml. It could not be found.
Error executing script TestApp: Problem: failed to create task or type clover-env
Cause: The name is undefined.
Action: Check the spelling.
Action: Check that any custom tasks/types have been declared.
Action: Check that any <presetdef>/<macrodef> declarations have taken place.

: Problem: failed to create task or type clover-env
Cause: The name is undefined.
Action: Check the spelling.
Action: Check that any custom tasks/types have been declared.
Action: Check that any <presetdef>/<macrodef> declarations have taken place.

	at org.apache.tools.ant.UnknownElement.getNotFoundException(UnknownElement.java:484)
	at org.apache.tools.ant.UnknownElement.makeObject(UnknownElement.java:416)
	at org.apache.tools.ant.UnknownElement.maybeConfigure(UnknownElement.java:160)
	at _Events.toggleCloverOn(_Events.groovy:302)
	at _Events$_run_closure3.doCall(_Events.groovy:56)
	at _GrailsEvents_groovy$_run_closure5.doCall(_GrailsEvents_groovy:58)
	at _GrailsEvents_groovy$_run_closure5.call(_GrailsEvents_groovy)
	at _GrailsEvents_groovy.run(_GrailsEvents_groovy:62)
	at _GrailsEvents_groovy$run.call(Unknown Source)
	at _GrailsClean_groovy$run.call(Unknown Source)
	at _GrailsClean_groovy.run(_GrailsClean_groovy:29)
	at _GrailsClean_groovy$run.call(Unknown Source)
	at TestApp.run(TestApp.groovy:44)
	at TestApp$run.call(Unknown Source)
	at gant.Gant.processTargets(Gant.groovy:494)
	at gant.Gant.processTargets(Gant.groovy:480)
Error executing script TestApp: Problem: failed to create task or type clover-env
Cause: The name is undefined.
Action: Check the spelling.
Action: Check that any custom tasks/types have been declared.
Action: Check that any <presetdef>/<macrodef> declarations have taken place.","Hudson, Windows 32bit",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw1b:",11596,,,,,26076,,,,,,Unknown,,,,,2010-08-02 01:50:15.882,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmi9r:",74710,,,,,,,,,,,"1|hwegev:",27105,450921600,true,,,,,,,,,,e8577a0ded61(aizmaylov),mparfianowicz(mparfianowicz),npellow(npellow),,,,,,,,,,,,,,,,,"1|hwfkpr:",10706,,,,,,,,,,,,,,,,,,,,,,,,,3.0,26076,,"1|hwea4f:",26092,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"02/Aug/2010 1:50 AM;npellow;The clover.jar dependency is not being resolved for some reason on that build:
{code}
WARNING: Dependencies cannot be resolved for plugin [clover-3.0.2] due to error: null
{code}
which then causes the CNFE later on.


Are there any network outages or so with your maven repo at the time it fails?

Have you seen this behaviour outside of hudson?;;;","02/Aug/2010 5:27 PM;e8577a0ded61;1) We are using standard GRAILS without any additional Maven setup
2) We are not running test-app with clover regularly on dev machines, we dedicated Hudson for it.
3) The exception happens almost every 2-4th build. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Assertion failing (call not made from EDT),CLOV-951,107981,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,lmiranda,,22/Jun/2010 12:00 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,someday,,,CIJ Plugin,,,,,,,0,,,,,,,,,"{code}
Access is allowed from event dispatch thread only.
Details: Current thread: Thread[ApplicationImpl pooled thread,5,Idea Thread Group] 1631384517
Our dispatch thread:Thread[AWT-EventQueue-1 9.0.2#IU-95.66, eap:false,6,Idea Thread Group] 1360788520
SystemEventQueueThread: Thread[AWT-EventQueue-1 9.0.2#IU-95.66, eap:false,6,Idea Thread Group] 1360788520

java.lang.Throwable
	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:55)
	at com.intellij.openapi.application.impl.ApplicationImpl.a(ApplicationImpl.java:860)
	at com.intellij.openapi.application.impl.ApplicationImpl.assertIsDispatchThread(ApplicationImpl.java:847)
	at com.cenqua.clover.idea.coverage.DefaultCoverageManager.setCoverageTree(DefaultCoverageManager.java:176)
	at com.cenqua.clover.idea.coverage.DefaultCoverageManager.clearCache(DefaultCoverageManager.java:160)
	at com.cenqua.clover.idea.coverage.DefaultCoverageManager.setContextFilter(DefaultCoverageManager.java:151)
	at com.cenqua.clover.idea.ProjectPlugin.getCoverageManager(ProjectPlugin.java:219)
	at com.cenqua.clover.idea.config.ContextFilterPane.<init>(ContextFilterPane.java:16)
	at com.cenqua.clover.idea.config.ProjectConfigPanel.getFilterPane(ProjectConfigPanel.java:200)
	at com.cenqua.clover.idea.config.ProjectConfigPanel.getTabbedContent(ProjectConfigPanel.java:120)
	at com.cenqua.clover.idea.config.ProjectConfigPanel.getLicensedPanel(ProjectConfigPanel.java:82)
	at com.cenqua.clover.idea.config.ProjectConfigPanel.initComponents(ProjectConfigPanel.java:63)
	at com.cenqua.clover.idea.config.ProjectConfigPanel.<init>(ProjectConfigPanel.java:54)
	at com.cenqua.clover.idea.ProjectPlugin.createComponent(ProjectPlugin.java:328)
	at com.intellij.openapi.options.newEditor.OptionsEditor$Simple.<init>(OptionsEditor.java:1113)
	at com.intellij.openapi.options.newEditor.OptionsEditor.b(OptionsEditor.java:350)
	at com.intellij.openapi.options.newEditor.OptionsEditor.access$2100(OptionsEditor.java:63)
	at com.intellij.openapi.options.newEditor.OptionsEditor$6$1.run(OptionsEditor.java:328)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:695)
	at com.intellij.openapi.options.newEditor.OptionsEditor$6.run(OptionsEditor.java:326)
	at com.intellij.openapi.application.impl.ApplicationImpl$5.run(ApplicationImpl.java:329)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:637)
	at com.intellij.openapi.application.impl.ApplicationImpl$1$1.run(ApplicationImpl.java:125)

Access is allowed from event dispatch thread only.
Details: Current thread: Thread[ApplicationImpl pooled thread,5,Idea Thread Group] 1631384517
Our dispatch thread:Thread[AWT-EventQueue-1 9.0.2#IU-95.66, eap:false,6,Idea Thread Group] 1360788520
SystemEventQueueThread: Thread[AWT-EventQueue-1 9.0.2#IU-95.66, eap:false,6,Idea Thread Group] 1360788520

java.lang.Throwable
	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:55)
{code}","Java version=1.6.0_20, Java vendor=Apple Inc., OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IU-95.66
Plugin release=3.0.1.v20100331641641",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvlj:",11525,,,,,49133,,,,,,,,,,,2010-07-05 04:25:52.05,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmia7:",74712,,,,,,,,,,,"1|hwi0jr:",49287,453340800,true,,,,,,,,,,lmiranda(lmiranda),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwq16v:",73999,,,,,,,,,,,,,,,,,,,,"Version 3.1.7, Sprint 1",,,,,2.0,49133,,"1|hwhzmf:",49140,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jun/2010 12:56 AM;lmiranda;quoted stack trace to make it easier to read;;;","05/Jul/2010 4:25 AM;npellow;Hi Luis, 

Thanks for reporting this. Is this a constant problem for you, or only intermittent ?

Cheers,
Nick ;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Coverage contexts broken in Clover 3,CLOV-949,107469,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,bhumphreys,andrew.myers,andrew.myers,09/Jun/2010 7:04 AM,13/Mar/2012 10:38 AM,15/Nov/2024 6:09 PM,27/Feb/2012 8:58 AM,3.0.2,,,,,3.1.4,,,Database,Maven plugin,,,,,,1,,,,,,,,,"The following configuration produces different results in Clover 3.0.2 compared with 2.6.3:

{code:xml}<plugin>
	<groupId>com.atlassian.maven.plugins</groupId>
	<artifactId>maven-clover2-plugin</artifactId>
	<version>3.0.2</version>
	<configuration>
		<statementContexts>
			<log1>if.*\(isDebugEnabled.*</log1>
			<log2>System.out.println\(.*\);</log2>
		</statementContexts>
		<contextFilters>log1,log2</contextFilters>
	</configuration>
</plugin>
{code}

In Clover 3.0.2 the log1 context does not work: 

!http://img.skitch.com/20100609-bpp1hnunfc1yxwk44xiaen7p5d.jpg!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jul/2010 12:58 AM;npellow;screenshot-1.jpg;https://jira.atlassian.com/secure/attachment/39428/screenshot-1.jpg","06/Jul/2010 1:00 AM;npellow;tutorial.tar.gz;https://jira.atlassian.com/secure/attachment/39429/tutorial.tar.gz",,,,,,,,,,,,,,,true,,"1|hwbusv:",11396,,,,,49113,,,,,,Unknown,,,,,2010-07-05 04:41:03.408,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmian:",74714,,,,,,,,,,,"1|hwi0fb:",49267,400032000,true,,,,,,,,,,andrew.myers(andrew.myers),5c7807ded5a9(andrew_norman@intuit.com),bhumphreys(bhumphreys),97463bf031d0(leojhartiv),npellow(npellow),cef4487bffde(creativenitin),,,,,,,,,,,,,,"1|hwq133:",73982,,,,,,,,,,,,,,,,,,,,,,,,,,49113,,"1|hwhzhz:",49120,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"09/Jun/2010 7:09 AM;andrew.myers;Okay its even more broken than I thought. Even the System.out statements aren't being filtered properly. ;;;","05/Jul/2010 4:41 AM;npellow;HI Andrew, 

Could you please zip up and attach a copy of the project dir you used to reproduce this bug.

Thanks!
Nick;;;","06/Jul/2010 12:58 AM;npellow;This was filtered using the same config as used in your example:


            <plugin>
                <groupId>com.atlassian.maven.plugins</groupId>
                <artifactId>maven-clover2-plugin</artifactId>
                <version>3.0.2</version>
                <configuration>
                    <statementContexts>
                        <log1>if.*\(isDebugEnabled.*</log1>
                        <log2>System.out.println\(.*\);</log2>
                    </statementContexts>
                    <contextFilters>log1,log2</contextFilters>
                </configuration>
            </plugin>
.

I'll attach the sample project, please let me know how to reproduce this.

Cheers,
Nick;;;","06/Jul/2010 1:00 AM;npellow;An archive of the project I used to generate the screenshot above.
Run using the following:
{code}
mvn -f pom_completed.xml clean clover2:setup test clover2:clover
{code};;;","02/Feb/2012 12:42 AM;5c7807ded5a9;looks like a lot of activity in 2010 on this. Did it get resolved?;;;","06/Feb/2012 9:36 AM;cef4487bffde;I am also facing this same problem. Though the statement matches happen in the instrument cycle but the reporting cycle ignores the custom context filter (seen the debug log [WARNING] Ignoring unknown context filter "" "").
;;;","06/Feb/2012 4:22 PM;cef4487bffde;This works fine with the standard set of blocks (viz try, etc) but for no reason the custom statement contexts are not being recognized.
;;;","06/Feb/2012 9:58 PM;npellow;Hi Nitin, 

The fix for this will be available in the up coming 3.1.4 release of Clover.

Which version are you using ?

Cheers,
Nick;;;","20/Feb/2012 1:51 PM;97463bf031d0;I can confirm that this doesn't work in 3.1.0 and 3.1.3.  When is 3.1.4 due for release?  ;;;","02/Mar/2012 4:20 PM;97463bf031d0;This seems to be fixed in 3.1.4 for clover:clover, but clover:check does not honor defined contexts.  I'll open another jira.;;;","13/Mar/2012 8:41 AM;cef4487bffde;I tried the 3.1.4 release too and it is still not able to recognize the custom context in reporting.
The debug log shows
[WARNING] Ignoring unknown context filter "" "").
but i see that the matching of the filter does happen.;;;","13/Mar/2012 10:28 AM;cef4487bffde;ok, i see the problem, the custom context filter in a scenario of multi module project reports the filter omission in the individual project but when it aggregates the filter does not work. This has happened in 3.1.4. ill open a bug for this.;;;","13/Mar/2012 10:38 AM;cef4487bffde;https://jira.atlassian.com/browse/CLOV-1065;;;",,,,,,,,,,,,,,
"Clover instrumented class doesn't compile when the class has a field called ""java""",CLOV-946,107142,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Obsolete,npellow,jroper,jroper,02/Jun/2010 11:14 PM,13/Oct/2015 5:02 AM,15/Nov/2024 6:09 PM,02/Jun/2010 11:54 PM,3.0.2,,,,,won't fix,,,Instrumentation,,,,,,,0,,,,,,,,,"If a class has field called ""java"", a clover instrumented class fails to compile:

{noformat}
[INFO] Compilation failure
no more tokens - could not parse error message: pebble/target/clover/src-test-instrumented/net/sourceforge/pebble/index/CategoryIndexTest.java:42: non-static variable java cannot be referenced from a static context
pebble/target/clover/src-test-instrumented/net/sourceforge/pebble/index/CategoryIndexTest.java:[42,235] cannot find symbol
symbol  : variable lang
location: class net.sourceforge.pebble.domain.Category
no more tokens - could not parse error message: pebble/target/clover/src-test-instrumented/net/sourceforge/pebble/index/CategoryIndexTest.java:42: non-static variable java cannot be referenced from a static context
pebble/target/clover/src-test-instrumented/net/sourceforge/pebble/index/CategoryIndexTest.java:[42,535] cannot find symbol
symbol  : variable lang
location: class net.sourceforge.pebble.domain.Category
no more tokens - could not parse error message: pebble/target/clover/src-test-instrumented/net/sourceforge/pebble/index/CategoryIndexTest.java:42: non-static variable java cannot be referenced from a static context
pebble/target/clover/src-test-instrumented/net/sourceforge/pebble/index/CategoryIndexTest.java:[42,745] cannot find symbol
symbol  : variable lang
location: class net.sourceforge.pebble.domain.Category
{noformat}

Maybe a solution could be to rename any fields called ""java""?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxd3:",11811,,,,,49578,,,,,,Unknown,,,,,2010-06-02 23:54:39.786,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmib3:",74716,,,,,,,,,,,"1|hwi38f:",49732,456105600,true,,,,,,,,,,jroper(jroper),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwq3bj:",74349,,,,,,,,,,,,,,,,,,,,,,,,,,49578,,"1|hwi2b3:",49585,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"02/Jun/2010 11:54 PM;npellow;see the: fullyQualifyJavaLang attribute on clover-setup and clover-instr.

bq. This should only be set to 'false' if you have defined a variable called 'java' in your source files. If false, Clover will instrument source files without using fully qualified java.lang names.
http://confluence.atlassian.com/display/CLOVER/clover-setup


For Maven projects, use the [useFullyQualifiedJavaLang|http://docs.atlassian.com/maven-clover2-plugin/3.0.2/setup-mojo.html#useFullyQualifiedJavaLang] setting.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Make the maven-clover2-plugin support Maven3,CLOV-945,106862,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,,npellow,npellow,26/May/2010 11:45 PM,12/Dec/2011 12:29 AM,15/Nov/2024 6:09 PM,12/Dec/2011 12:29 AM,,,,,,3.1.0,,,Maven plugin,,,,,,,3,,,,,,,,,"There is at least one known issue with the version of plexus used:

{quote}
This is an issue in plexus-resources:1.0-alpha-4 and its classpath resource locator which relied on a bug in the class loaders in Maven 2. Please update the plugin to use the latest plexus-resources version.
{quote}

The work around for this, for anyone wishing to use Maven3 with Clover2 is:

bq. Independently of an update to the Clover Plugin, you can make the build work right now by overriding the plugin dependency in the POM yourself.


There may be other problems as well.

NB: Maven3 is currently in beta and not one of the versions supported by the Clover2 maven plugin.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbuqf:",11385,,,,,27525,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmibb:",74717,,,,,,,,,,,"1|hwep93:",28593,456710400,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwnecv:",57911,,,,,,,,,,,,,,,,,,,,,,,,,,27525,,"1|hweipz:",27541,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The AntIntegrationListener doesn't survive a presetdef for javac,CLOV-942,106165,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,12/May/2010 7:07 AM,18/May/2011 5:26 PM,15/Nov/2024 6:09 PM,11/May/2011 8:02 AM,3.0.2,,,,,3.1.0,,,Ant Tasks,,,,,,,0,,,,,,,,,"One workaround is for the presetdef to talk the same as javac.

Also - the AntIntegrationListener could use a convention an except any task name ending with .javac to be a javac task.


There may be another way to do this by detecting the presetdef task.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwpb:",11704,,,,,35806,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwc4hr:",12051,,,,,,,,,,,"1|hwfvtz:",36147,458006400,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwoabj:",63329,,,,,,,,,,,,,,,,,,,,,,,,,,35806,,"1|hwftrr:",35817,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE for some selections when rendering gutter annotation ,CLOV-941,106021,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,10/May/2010 9:54 AM,18/May/2011 5:28 PM,15/Nov/2024 6:09 PM,18/May/2011 5:25 PM,,,,,,3.1.0,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwon:",11701,,,,,35803,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmibz:",74720,,,,,,,,,,,"1|hwfvtb:",36144,458179200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwoaav:",63326,,,,,,,,,,,,,,,,,,,,,,,,,,35803,,"1|hwftr3:",35814,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
clover + ant + GWT does not compile and test with clover.,CLOV-940,106001,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Invalid,mparfianowicz,ukuhnhardt,ukuhnhardt,09/May/2010 11:38 PM,22/Jan/2014 10:47 AM,15/Nov/2024 6:09 PM,02/Jan/2013 11:00 AM,3.0,,,,,won't fix,,,Ant Tasks,,,,,,,0,,,,,,,,,"https://support.atlassian.com/browse/BSP-2952


It looks like the GWT.clover.xxx are not executed.

build	06-May-2010 17:24:30	Build sequence for target(s) `clover.fullclean' is [clover.clean, clover.fullclean]
build	06-May-2010 17:24:30	Complete build sequence is [clover.clean, clover.fullclean, clover.save-history, GWT.clover.report, GWT.clover.json, checkstyle, common.checkstyle, buildonly, dist-dev, tools, apicheck-nobuild, apicheck, test, verify, common.all, build, doc, dist, -compile.emma.if.enabled, dev, GWT.with.clover, compile.emma.if.enabled, common.clean, GWT.clover.fullclean, common.build, GWT.clover.current, presubmit, all, GWT.clover.clean, GWT.clover.save-history, clover.snapshot, clover.json, clover.report, user, clover.log, common.compile.emma.if.enabled, ci, common.-compile.emma.if.enabled, GWT.clover.log, bikeshed, emma.merge, GWT.test, with.clover, jni, clean, clover.all, common.-create.emma.coverage.if.enabled, clover.xml, common.verify, -create.emma.coverage.if.enabled, buildtools, clover.current, samples, dist-bikeshed, soyc, GWT.clover.all, GWT.clover.xml, common.test, servlet, GWT.clover.snapshot, ]

However targets without GWT are executed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvlb:",11524,,,,,50086,,,,,,Unknown,,,,,2013-01-02 10:59:36.976,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmic7:",74721,,,,,,,,,,,"1|hwi69j:",50240,374544000,true,,,,,,,,,,mparfianowicz(mparfianowicz),ukuhnhardt(ukuhnhardt),,,,,,,,,,,,,,,,,,"1|hwfru7:",10697,,,,,,,,,,,,,,,,,,,,Sprint 2,,,,,3.0,50086,,"1|hwi5c7:",50093,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"02/Jan/2013 10:59 AM;mparfianowicz;A linked support issue was about ""cloverizing"" GWT framework itself, not about building GWT application with Clover. Problem was resolved in the support case. 

However, I created a manual how to instrument GWT application from Ant:

https://confluence.atlassian.com/x/UwXoEg 

(note that we've got a similar tutorial for Maven too);;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Historical reports ""Added Classes"" section ignores classes in a new package",CLOV-938,105336,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mstudman,mstudman,22/Apr/2010 12:34 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.0,,,,,open-source,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbupb:",11380,,,,,27529,,,,,,Unknown,,,,,2010-04-22 12:50:55.973,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmicn:",74723,,,,,,,,,,,"1|hwep9z:",28597,459734400,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwfkef:",57915,,,,,,,,,,,,,,,,,,,,,,,,,,27529,,"1|hweiqv:",27545,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incompatible Class Change Error with IntelliJ plugin and Java 7 EAP,CLOV-937,105322,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mparfianowicz,andrew.myers,andrew.myers,22/Apr/2010 6:16 AM,22/Jan/2014 10:14 AM,15/Nov/2024 6:09 PM,06/Nov/2013 12:27 PM,3.0,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"We don't officially have support for Java 7 yet but have seen the following error using the Clover IntelliJ plugin.
 
{noformat}java.lang.IncompatibleClassChangeError: org.dhaven.jue.api.collectorclasses.ClassWithAfterMethod and org.dhaven.jue.api.collectorclasses.ClassWithAfterMethod$__CLR3_0_1c4c4g7oqs7an disagree on InnerClasses attribute
at java.lang.Class.getDeclaringClass(Native Method)
at java.lang.Class.getEnclosingClass(Class.java:1103)
at org.dhaven.jue.api.ClassCollector.deliver(ClassCollector.java:158)
at org.dhaven.jue.api.ClassCollector.deliver(ClassCollector.java:43){noformat} 

Doesn't happen with build 1.7.0-ea-b76 but does happen with later versions such as 1.7.0-ea-b85. Maven with the same JVM works in both cases so it looks like some weirdness with IntelliJ + JVM version. 

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw0f:",11592,,,,,50009,,,,,,Unknown,,,,,2010-04-22 08:26:04.749,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmicv:",74724,,,,,,,,,,,"1|hwi5sv:",50163,347932800,true,,,,,,,,,,andrew.myers(andrew.myers),54e44a39ff4b(bloritsch),mparfianowicz(mparfianowicz),mstudman(mstudman),sginter(sginter),,,,,,,,,,,,,,,"1|hwq7uf:",75091,,,,,,,,,,,,,,,,,,,,,,,,,,50009,,"1|hwi4vj:",50016,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"22/Apr/2010 8:26 AM;mstudman;My initial investigation led me to believe this was a problem with the java 7 javac compiler and not with Clover.;;;","12/May/2010 9:37 AM;sginter;This seems to be caused by code having been compiled against non-Cloverized dependency now being run against cloverized dependency.
I'd say: do a full rebuild and see if that helps.

A similar thing happened when I was debugging a non-cloverized code but tried to recompile (and substitute) a class with Clover enabled - but the message would be different in this case.;;;","12/May/2010 1:53 PM;54e44a39ff4b;All the byte code was instrumented in this case.  Now, the unit tests are loaded through a class loader and those classes are scanning files/jars.

My guess is that there is some undocumented change in how the class loaders are working.  The classes by themselves work quite nicely.  It's just these classes that we are running across.;;;","06/Nov/2013 12:27 PM;mparfianowicz;It's not worth to fix in Java7 EAP.;;;",,,,,,,,,,,,,,,,,,,,,,,
"When using singleCloverDatabase with multi module maven project, not all tests are shown in the tests section of the reports",CLOV-936,104738,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,andrew.myers,andrew.myers,12/Apr/2010 3:36 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.0,,,,,open-source,,,Maven plugin,,,,,,,0,,,,,,,,,"Its only identifying the tests from the last module to be built: 

!http://img.skitch.com/20100412-x5mwy7ek9bnuqfa8icau95uptk.jpg! 
!http://img.skitch.com/20100412-nk627kd6957wq7p9mb62tnsrqb.jpg! 
!http://img.skitch.com/20100412-grrbub64efjixtggxbf4ieiu1y.jpg! 
 

Viewing the test results shows both packages that have tests 

!http://img.skitch.com/20100412-krfa46qttc8xwkrx3xudrwqep5.jpg!

But clicking on these org.sonatype.mavenbook.weather.yahoo package the WeatherFormatterTest is not shown. 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw07:",11591,,,,,50580,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmid3:",74725,,,,,,,,,,,"1|hwi92n:",50734,460598400,true,,,,,,,,,,andrew.myers(andrew.myers),,,,,,,,,,,,,,,,,,,"1|hwfkjj:",66926,,,,,,,,,,,,,,,,,,,,,,,,,,50580,,"1|hwi85b:",50587,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover shows a different number of tests cases to maven,CLOV-935,104546,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,andrew.myers,andrew.myers,andrew.myers,07/Apr/2010 9:40 PM,22/Jan/2014 10:24 AM,15/Nov/2024 6:09 PM,08/Apr/2010 7:18 AM,3.0,,,,,won't fix,,,Reporting,,,,,,,0,,,,,,,,,"If you have a JUnit test case with some test methods, as well as running tests of another class in a test suite maven will count the number of tests differently to clover. 

!http://img.skitch.com/20100401-guww9dwh3t2y933xkkb62awb6s.jpg!

So there there are two test cases, and we run another 2 tests from the MyTestSuiteTest class. Maven will show this as 4 tests on the DownloadHandlerPerformanceTest test class: 

{noformat}-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running DownloadHandlerPerformanceTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.088 sec
Running MyTestSuiteTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec
{noformat}

Whereas clover shows a different result:

!http://img.skitch.com/20100401-j52w9unp7jhdequr9sbtcwsyks.jpg! 

It counts the 2 tests in MyTestSuiteTest with that class rather than DownloadHandlerPerformanceTest. To me this is correct since that is where the tests are defined, but some customers find this confusing and think we should mirror what maven is telling us. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxcn:",11809,,,,,50670,,,,,,Unknown,,,,,2010-04-07 23:24:52.362,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmidb:",74726,,,,,,,,,,,"1|hwi9lr:",50824,460944000,true,,,,,,,,,,andrew.myers(andrew.myers),,,,,,,,,,,,,,,,,,,"1|hwqa47:",75494,,,,,,,,,,,,,,,,,,,,,,,,,,50670,,"1|hwi8of:",50677,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Apr/2010 7:20 AM;andrew.myers;The clover team informs: 

{quote}
Clover reports which test methods get run, and doesn't take into account Test Suites.
I agree that Clover is doing the correct thing here, and maven doing the wrong thing - since the tests are not being run from DownloadHandlerPerformanceTest - they are merely being configured and created there.
{quote}

Closing as won't fix.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
error: Access is allowed from event dispatch thread only.,CLOV-934,104329,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,sginter,18bba0f7a685,18bba0f7a685,03/Apr/2010 9:09 PM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,08/Apr/2010 12:58 PM,3.0,,,,,3.0.2,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Access is allowed from event dispatch thread only.
Details: Current thread: Thread[ApplicationImpl pooled thread,4,Idea Thread Group] 24574081
Our dispatch thread:Thread[AWT-EventQueue-1 9.0.1#IC-93.94, eap:false,6,Idea Thread Group] 10507790
SystemEventQueueThread: Thread[AWT-EventQueue-1 9.0.1#IC-93.94, eap:false,6,Idea Thread Group] 10507790

java.lang.Throwable
	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:52)
	at com.intellij.openapi.application.impl.ApplicationImpl.assertIsDispatchThread(ApplicationImpl.java:856)
	at com.intellij.openapi.application.impl.ApplicationImpl.assertIsDispatchThread(ApplicationImpl.java:843)
	at com.cenqua.clover.idea.coverage.DefaultCoverageManager.reload(DefaultCoverageManager.java:376)
	at com.cenqua.clover.idea.coverage.DefaultCoverageManager.reload(DefaultCoverageManager.java:372)
	at com.cenqua.clover.idea.ProjectPlugin.getCoverageManager(ProjectPlugin.java:221)
	at com.cenqua.clover.idea.config.ContextFilterPane.<init>(ContextFilterPane.java:16)
	at com.cenqua.clover.idea.config.ProjectConfigPanel.getFilterPane(ProjectConfigPanel.java:200)
	at com.cenqua.clover.idea.config.ProjectConfigPanel.getTabbedContent(ProjectConfigPanel.java:120)
	at com.cenqua.clover.idea.config.ProjectConfigPanel.getLicensedPanel(ProjectConfigPanel.java:82)
	at com.cenqua.clover.idea.config.ProjectConfigPanel.initComponents(ProjectConfigPanel.java:63)
	at com.cenqua.clover.idea.config.ProjectConfigPanel.<init>(ProjectConfigPanel.java:54)
	at com.cenqua.clover.idea.ProjectPlugin.createComponent(ProjectPlugin.java:328)
	at com.intellij.openapi.options.newEditor.OptionsEditor$Simple.<init>(OptionsEditor.java:1112)
	at com.intellij.openapi.options.newEditor.OptionsEditor.initConfigurable(OptionsEditor.java:348)
	at com.intellij.openapi.options.newEditor.OptionsEditor.access$2100(OptionsEditor.java:63)
	at com.intellij.openapi.options.newEditor.OptionsEditor$6$1.run(OptionsEditor.java:326)
	at com.intellij.openapi.application.impl.ApplicationImpl.runReadAction(ApplicationImpl.java:691)
	at com.intellij.openapi.options.newEditor.OptionsEditor$6.run(OptionsEditor.java:324)
	at com.intellij.openapi.application.impl.ApplicationImpl$5.run(ApplicationImpl.java:328)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:619)
	at com.intellij.openapi.application.impl.ApplicationImpl$1$1.run(ApplicationImpl.java:124)

Access is allowed from event dispatch thread only.
Details: Current thread: Thread[ApplicationImpl pooled thread,4,Idea Thread Group] 24574081
Our dispatch thread:Thread[AWT-EventQueue-1 9.0.1#IC-93.94, eap:false,6,Idea Thread Group] 10507790
SystemEventQueueThread: Thread[AWT-EventQueue-1 9.0.1#IC-93.94, eap:false,6,Idea Thread Group] 10507790

java.lang.Throwable
	at com.intellij.openapi.diagnostic.Logger.error(Logger.java:52)
","Java version=1.6.0_17, Java vendor=Sun Microsystems Inc., OS name=Windows XP, OS architecture=x86, IDEA build number=IC-93.94
Plugin release=3.0.1.v20100331641641",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxvb:",11893,,,,,50651,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmidj:",74727,,,,,,,,,,,"1|hwi9hr:",50805,461289600,true,,,,,,,,,,18bba0f7a685(dsmiley),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwqa2f:",75486,,,,,,,,,,,,,,,,,,,,,,,,,,50651,,"1|hwi8kf:",50658,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Don't include directories that don't exist in clover-setup in grails projects',CLOV-933,104134,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,30/Mar/2010 5:08 AM,30/Mar/2010 6:06 AM,15/Nov/2024 6:09 PM,30/Mar/2010 6:06 AM,,,,,,3.0,,,Grails Plugin,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxv3:",11892,,,,,51043,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmidr:",74728,,,,,,,,,,,"1|hwibp3:",51197,461721600,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwogvb:",64644,,,,,,,,,,,,,,,,,,,,,,,,,,51043,,"1|hwiarr:",51050,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Groovy classes are not visible from Java when instrumented by Clover within Maven lifecycle,CLOV-928,103863,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,2aceeb5c9a94,2aceeb5c9a94,23/Mar/2010 5:43 PM,24/Mar/2010 11:11 PM,15/Nov/2024 6:09 PM,24/Mar/2010 11:11 PM,3.0 M4,,,,,3.0,3.0 M5,,Groovy,Maven plugin,,,,,,0,,,,,,,,,"There is something strange going on with the classpath when building combined Java and Groovy Maven modules instrumented by Clover. If I run the build without Clover, it completes OK. If I apply the following binding in the POM, it fails:
{code}
            <plugin>
                <groupId>com.atlassian.maven.plugins</groupId>
                <artifactId>maven-clover2-plugin</artifactId>
                <version>3.0.0-m4r3</version>
                <executions>
                    <execution>
                        <id>instrument</id>
                        <phase>process-sources</phase>
                        <goals>
                            <goal>setup</goal>
                        </goals>
                    </execution>
                    <execution>
                        <id>report</id>
                        <phase>verify</phase>
                        <goals>
                            <goal>clover</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
{code}

It is giving errors like this:
{code}
C:\Users\amcmanus\Documents\Temp\clov-920\target\clover\src-instrumented\org\oclc\test\InJava.java:[20,12] cannot find symbol
symbol  : class Thingumy
location: class org.oclc.test.InJava
{code}
(where Thingumy is a Groovy class).

Test case to follow shortly...","Windows 7, Maven 2.0.10, Java 1.6.0_18, gmaven_plugin 1.0-rc-5, Groovy 1.6.2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Mar/2010 1:13 AM;npellow;clov-928.tar.gz;https://jira.atlassian.com/secure/attachment/37343/clov-928.tar.gz","23/Mar/2010 5:47 PM;2aceeb5c9a94;clov-928.zip;https://jira.atlassian.com/secure/attachment/37336/clov-928.zip",,,,,,,,,,,,,,,true,,"1|hwbxun:",11890,,,,,51188,,,,,,Unknown,,,,,2010-03-24 01:12:36.666,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiev:",74733,,,,,,,,,,,"1|hwick7:",51342,462153600,true,,,,,,,,,,2aceeb5c9a94(alexmcmanus),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqbcf:",75706,,,,,,,,,,,,,,,,,,,,,,,,,,51188,,"1|hwibmv:",51195,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"23/Mar/2010 5:47 PM;2aceeb5c9a94;Just run ""mvn clean install"" to reproduce the problem. 

Note that if you remove the Clover binding from the POM and run ""mvn clover2:setup test clover2:report"" it works OK.;;;","24/Mar/2010 1:12 AM;npellow;Hi Alex, 

The problem here is that Clover needs to run _before_ the gmaven generateStubs goal.

Currently, the clover2:setup will run on the process-sources phase, unless otherwise specified. There may be historical reasons for this, of which I am not fully aware of just now.

To get your example working, I've done the following:

* moved the clover2 plugin definition above the gmaven plugin in your pom.xml
* bound the clover2:setup goal to the generate-sources phase (same phase as the gmaven:generateStubs goal runs)

This ensures that clover2:setup runs before gmaven:generateStubs.

The integration test in https://studio.plugins.atlassian.com/svn/CLMVN/trunk/src/it/groovy works, because we are only running clover2:setup on the command line.
Please let me know if this work-around is suitable for you.
 
I will ensure that we document this, and/or see what breaks if we permanently run clover2:setup on generate-sources.

Thanks for the sample project - this really made it easy to track down the problem.

Best Regards,
Nick Pellow.;;;","24/Mar/2010 1:13 AM;npellow;running: mvn clean verify
should produce the report you want.;;;","24/Mar/2010 12:30 PM;2aceeb5c9a94;Hi Nick,

Your workaround resolves the problem, and also works in our original (rather more complex) project where Clover is setup in a super-POM and GMaven is setup in a sub-module.

The only information I found on binding Clover into the build lifecycle was from the Maven 2 Users Guide: http://confluence.atlassian.com/display/CLOVER/Clover-for-Maven+2+User%27s+Guide

This describes binding clover2:setup into a phase called pre-compile, and using an instrument goal. There is no Maven 2 phase called pre-compile, so I took a guess (and got it wrong!). It would be useful to update this guide too.

Thanks again for the speedy response,

Alex.;;;","24/Mar/2010 11:11 PM;npellow;Thanks for pointing out that mistake, Alex.
I've updated the example, to use the  generate-sources phase. 

Cheers,
nick;;;",,,,,,,,,,,,,,,,,,,,,,
Project names greater than 64 characters causes BufferOverflowError,CLOV-926,103776,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,22/Mar/2010 3:42 PM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,31/Mar/2010 3:39 AM,,,,,,3.0,3.0 M4,,Database,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxtz:",11887,,,,,51024,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmifb:",74735,,,,,,,,,,,"1|hwibkv:",51178,462412800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqapj:",75602,,,,,,,,,,,,,,,,,,,,,,,,,,51024,,"1|hwianj:",51031,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java.lang.NoSuchMethodError thrown by Clover when instrumenting Groovy code under Maven 2,CLOV-920,103554,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,,2aceeb5c9a94,2aceeb5c9a94,17/Mar/2010 12:23 PM,21/May/2012 10:10 AM,15/Nov/2024 6:09 PM,23/Mar/2010 11:16 PM,3.0 M3,,,,,3.0,3.0 M5,,Groovy,Maven plugin,,,,,,0,,,,,,,,,"I get a fatal java.lang.NoSuchMethodError error when trying to instrument my Groovy code, running a multi-module build with Maven 2. I've tried this with 3.0.0-m3 and 3.0.0-m4r3.

The command line is:
{code}
mvn clover2:setup test clover2:aggregate clover2:clover
{code}

The error details:
{code}
[INFO] ------------------------------------------------------------------------
[ERROR] FATAL ERROR
[INFO] ------------------------------------------------------------------------
[INFO] org.codehaus.groovy.ast.stmt.TryCatchStatement.setFinallyStatement(Lorg/codehaus/groovy/ast/stmt/Statement;)V
[INFO] ------------------------------------------------------------------------
[INFO] Trace
java.lang.NoSuchMethodError: org.codehaus.groovy.ast.stmt.TryCatchStatement.setFinallyStatement(Lorg/codehaus/groovy/ast
/stmt/Statement;)V
        at com.atlassian.clover.instr.groovy.InstrumentingCodeVisitor.visitTryCatchFinally(InstrumentingCodeVisitor.java
:813)
        at org.codehaus.groovy.ast.stmt.TryCatchStatement.visit(TryCatchStatement.java:42)
        at org.codehaus.groovy.ast.CodeVisitorSupport.visitBlockStatement(CodeVisitorSupport.java:38)
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitBlockStatement(ClassCodeVisitorSupport.java:129)
        at com.atlassian.clover.instr.groovy.InstrumentingCodeVisitor.visitBlockStatement(InstrumentingCodeVisitor.java:
834)
        at org.codehaus.groovy.ast.stmt.BlockStatement.visit(BlockStatement.java:52)
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClassCodeContainer(ClassCodeVisitorSupport.java:73)
        at com.atlassian.clover.instr.groovy.InstrumentingCodeVisitor.visitConstructorOrMethod(InstrumentingCodeVisitor.
java:242)
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitMethod(ClassCodeVisitorSupport.java:88)
        at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:965)
        at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:48)
        at com.atlassian.clover.instr.groovy.InstrumentingCodeVisitor.visitClass(InstrumentingCodeVisitor.java:220)
        at com.atlassian.clover.instr.groovy.Grover.visit(Grover.java:215)
        at com.atlassian.clover.instr.groovy.Grover.visit(Grover.java:119)
        at org.codehaus.groovy.transform.ASTTransformationVisitor$3.call(ASTTransformationVisitor.java:268)
        at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:801)
        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:466)
        at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:445)
        at org.codehaus.groovy.maven.runtime.v1_6.ClassCompilerFeature$ClassCompilerImpl.compile(ClassCompilerFeature.ja
va:158)
        at org.codehaus.groovy.maven.plugin.compile.AbstractCompileMojo.compile(AbstractCompileMojo.java:200)
        at org.codehaus.groovy.maven.plugin.compile.AbstractCompileMojo.process(AbstractCompileMojo.java:164)
        at org.codehaus.groovy.maven.plugin.ComponentMojoSupport.doExecute(ComponentMojoSupport.java:60)
        at org.codehaus.groovy.maven.plugin.MojoSupport.execute(MojoSupport.java:69)
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:453)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:559)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalWithLifecycle(DefaultLifecycleExecutor.java:50
0)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:479)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.jav
a:331)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:292)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:142)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:336)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:129)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:301)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
        at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
        at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)
        at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
{code}

","Windows 7, Maven 2.0.10, Java 1.6.0_18, gmaven_plugin 1.0-rc-5, Groovy 1.6.2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Mar/2010 5:10 PM;2aceeb5c9a94;clov-920.log;https://jira.atlassian.com/secure/attachment/37300/clov-920.log","22/Mar/2010 12:33 AM;npellow;clov-920.tar.gz;https://jira.atlassian.com/secure/attachment/37306/clov-920.tar.gz","19/Mar/2010 5:08 PM;2aceeb5c9a94;clov-920.zip;https://jira.atlassian.com/secure/attachment/37299/clov-920.zip",,,,,,,,,,,,,,true,,"1|hwbxsn:",11881,,,,,51201,,,,,,Unknown,,,,,2010-03-17 21:54:06.403,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmigf:",74740,,,,,,,,,,,"1|hwicn3:",51355,462240000,true,,,,,,,,,,2aceeb5c9a94(alexmcmanus),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqbe7:",75714,,,,,,,,,,,,,,,,,,,,,,,,,,51201,,"1|hwibpr:",51208,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"17/Mar/2010 9:54 PM;npellow;Hi Alex, 

Thanks for reporting this. I tried to reproduce this using Groovy 1.6.2 and the Gmaven Plugin version 1.0-rc-5 in the Clover tutorial and can not.
We do test Clover for Groovy 1.6.2 so there may be an older version of Groovy somehow on your compile classpath?

Could you please attach your pom.xml files, and also the full output of running maven with the -X option.
I am sure we can work out what is going wrong asap.

Cheers,
Nick;;;","19/Mar/2010 5:08 PM;2aceeb5c9a94;Please see the attached test case. Just unzip, cd into clov-920 and run ""mvn install"" and it should reproduce the error. Looking at the original stack trace, it seems linked to the use of try-finally:
{code}
java.lang.NoSuchMethodError: org.codehaus.groovy.ast.stmt.TryCatchStatement.setFinallyStatement(Lorg/codehaus/groovy/ast
/stmt/Statement;)V
{code}

My test case confirms this - the error goes away if you comment-out the try-finally block in the Thingumy.groovy source file. I'm pretty sure I'm not pulling in an older version of Groovy, but I'll also post the -X trace as requested.

Thanks, Alex.;;;","19/Mar/2010 5:10 PM;2aceeb5c9a94;This is the output from the previously-attached test case, run with the -X option.

Thanks, Alex.;;;","22/Mar/2010 12:33 AM;npellow;Hi Alex, 

Maven is actually pulling in groovy-all-1.6.0.jar for certain parts of your build, and groovy-all-1.6.2.jar for others.

Like the example in the tutorial/pom_completed.xml, you need to tell the gmaven plugin to use groovy 1.6.2 by defining the groovy dependency in the plugin definition itself like so:

{code}
  <plugin>
                <groupId>org.codehaus.groovy.maven</groupId>
                <artifactId>gmaven-plugin</artifactId>
                <version>1.0-rc-5</version>
                <dependencies>
                    <dependency>
                        <groupId>org.codehaus.groovy</groupId>
                        <artifactId>groovy-all</artifactId>
                        <version>1.6.2</version>
                    </dependency>
                </dependencies>
{code}

Thanks for pointing this out, this is something we will need to mention in the documentation for our Groovy Maven2 plugin!

Please let me know if you have any more questions.
I'll attach a zip of your sample project with this change made.
Running: mvn clean test clover2:clover produces a clover report in target/site/clover.

Cheers,
Nick


;;;","22/Mar/2010 12:33 AM;npellow;The sample project, with the groovy 1.6.2 dependency added to the gmaven plugin explicitly.;;;","23/Mar/2010 5:50 PM;2aceeb5c9a94;Thanks very much, I can confirm this resolves the problem (although I've just added another, CLOV-920, sorry!).

The extra documentation would be useful - when I looked, I couldn't even find anything that stated which versions of Groovy were supported.

Thanks again, Alex.;;;","23/Mar/2010 11:16 PM;npellow;Thanks for confirming this, Alex!

The Groovy Documentation for Clover does mentions which versions of Groovy we support, however this doco wont be live until we release 3.0.0. We should have mentioned this on the EAP site though - apologies.
;;;",,,,,,,,,,,,,,,,,,,,
<fileset> in <current> report does not get resolved correctly,CLOV-918,103407,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,andrew.myers,andrew.myers,15/Mar/2010 6:49 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,31/Mar/2010 3:40 AM,3.0 M4,,,,,3.0,3.0 M5,,,,,,,,,0,,,,,,,,,"A customer is trying to gather coverage info across multiple ""projects"" with ant. All projects are writing into the same clover database and then using an ant macro we try to generate reports on a per project basis: 

{code:xml}<macrodef name=""clover2xml"">
        <attribute name=""projectName""  />
        <sequential>
			<clover-report initstring=""${initstring}"">
				<current outfile=""@{projectName}_clover.xml"">
					 <fileset dir=""../@{projectName}/src"" includes=""**/*.java""/>
				</current>	
			</clover-report>
			<echo message=""@{projectName}"" />
        </sequential>
</macrodef>
{code}

The problem is that the fileset is not working correctly. 

Chat with Nick:

{quote}it seems we have a problem with fuzzyMatch: 
{code:java}
    private boolean fuzzyMatch(FileInfo fileInfo) {
        final Set<String> paths = fileNamesToPaths.get(fileInfo.getName());
        if (paths != null) {
            final String packagePath = fileInfo.getPackagePath();
            for (String path : paths) {
                if (path.endsWith(packagePath)) {
                    return true;
                }
            }
        }
        return false;
    } 
{code}
we are doing our best, to detect where a package name ends/starts in relation to a directory
the accept logic is:
  {code} if (exactMatch(fileInfo) || fuzzyMatch(fileInfo)) { {code}
we may need another option to not try and fuzzyMatch... or, we remove it altogether
here are some fuzzy matching fails: 
[clover-report] TRYING TO FUZZY MATCH = /Users/niick/Downloads/clv-5397/CLV-5397_2/src/bar1/Test1.java
[clover-report] FUZZY MATCHED PACKAGE path = /Users/niick/Downloads/clv-5397/CLV-5397_1/src/foo/Test1.java

and: [clover-report] TRYING TO FUZZY MATCH = /Users/niick/Downloads/clv-5397/CLV-5397_2/src/bar2/Test2.java
[clover-report] FUZZY MATCHED PACKAGE path = /Users/niick/Downloads/clv-5397/CLV-5397_1/src/foo/Test2.java
{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxsf:",11880,,,,,51022,,,,,,Unknown,,,,,2010-03-17 10:46:43.111,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmigv:",74742,,,,,,,,,,,"1|hwibkf:",51176,462326400,true,,,,,,,,,,andrew.myers(andrew.myers),mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,"1|hwqap3:",75600,,,,,,,,,,,,,,,,,,,,,,,,,,51022,,"1|hwian3:",51029,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"22/Mar/2010 10:29 PM;mstudman;The fix for CLOV-813 is the cause of this. ;;;","22/Mar/2010 10:40 PM;npellow;Allowing an [Ant Patternset|http://ant.apache.org/manual/CoreTypes/patternset.html] to be passed to clover-setup et al could be a way to solve CLOV-813 without needing to fuzzy match.;;;","23/Mar/2010 3:50 PM;mstudman;@nick agreed;;;",,,,,,,,,,,,,,,,,,,,,,,,
Error enabling Clover plugin in Eclipse,CLOV-911,103221,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Resolved Locally,sginter,npellow,npellow,11/Mar/2010 12:19 AM,27/Jan/2015 9:05 AM,15/Nov/2024 6:09 PM,15/Mar/2010 2:55 PM,,,,,,won't fix,,,CEP Plugin,,,,,,,0,,,,,,,,,"see: http://forums.atlassian.com/thread.jspa?messageID=257334861&#257334861
Log message is: 

{code}

!ENTRY com.cenqua.clover.core 0 0 2010-03-09 15:14:15.775
!MESSAGE converted 'src
**/*.java

disabled' to com.cenqua.clover.eclipse.projects.settings.source.SourceFolderPattern@cb92b771

!ENTRY com.cenqua.clover.core 0 0 2010-03-09 15:14:20.447
!MESSAGE Storing project property data:'src
**/*.java

disabled'

!ENTRY com.cenqua.clover.core 0 0 2010-03-09 15:14:20.463
!MESSAGE Adding nature com.cenqua.clover.core.clovernature

!ENTRY org.eclipse.core.resources 4 2 2010-03-09 15:14:20.463
!MESSAGE Problems occurred when invoking code from plug-in: ""org.eclipse.core.resources"".
!STACK 1
Java Model Exception: Java Model Status [Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048']
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:784)
	at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2890)
	at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2921)
	at com.cenqua.clover.eclipse.projects.BaseNature.ensureClasspathEntryAdded(BaseNature.java:142)
	at com.cenqua.clover.eclipse.projects.CloverProject.configure(CloverProject.java:111)
	at org.eclipse.core.internal.resources.NatureManager$1.run(NatureManager.java:143)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.internal.resources.NatureManager.configureNature(NatureManager.java:158)
	at org.eclipse.core.internal.resources.NatureManager.configureNatures(NatureManager.java:203)
	at org.eclipse.core.internal.resources.Project.basicSetDescription(Project.java:84)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1054)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1082)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggle(CloverProject.java:266)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggleWithUserFeedback(CloverProject.java:632)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage$Panel.performApply(ProjectPropertyPage.java:518)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage.performApply(ProjectPropertyPage.java:602)
	at org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:281)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
	at org.eclipse.jface.window.Window.open(Window.java:801)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1311)
!SUBENTRY 1 org.eclipse.jdt.core 4 964 2010-03-09 15:14:20.463
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'
!SUBENTRY 1 org.eclipse.jdt.core 4 964 2010-03-09 15:14:20.463
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'

!ENTRY com.cenqua.clover.core 4 0 2010-03-09 15:14:20.463
!MESSAGE Error setting description for project, attempting to undo
!STACK 1
org.eclipse.core.runtime.CoreException: Problems encountered while setting project description.
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1056)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1082)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggle(CloverProject.java:266)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggleWithUserFeedback(CloverProject.java:632)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage$Panel.performApply(ProjectPropertyPage.java:518)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage.performApply(ProjectPropertyPage.java:602)
	at org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:281)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
	at org.eclipse.jface.window.Window.open(Window.java:801)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1311)
Contains: Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'
!SUBENTRY 1 org.eclipse.core.resources 4 568 2010-03-09 15:14:20.463
!MESSAGE Problems encountered while setting project description.
!SUBENTRY 2 org.eclipse.jdt.core 4 964 2010-03-09 15:14:20.463
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'

!ENTRY org.eclipse.core.resources 4 2 2010-03-09 15:14:20.463
!MESSAGE Problems occurred when invoking code from plug-in: ""org.eclipse.core.resources"".
!STACK 1
Java Model Exception: Java Model Status [Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048']
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:784)
	at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2890)
	at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2921)
	at com.cenqua.clover.eclipse.projects.BaseNature.ensureClasspathEntryAbsent(BaseNature.java:164)
	at com.cenqua.clover.eclipse.projects.CloverProject.deconfigure(CloverProject.java:167)
	at org.eclipse.core.internal.resources.NatureManager$2.run(NatureManager.java:258)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.internal.resources.NatureManager.deconfigureNature(NatureManager.java:272)
	at org.eclipse.core.internal.resources.NatureManager.configureNatures(NatureManager.java:198)
	at org.eclipse.core.internal.resources.Project.basicSetDescription(Project.java:84)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1054)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1082)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggle(CloverProject.java:273)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggleWithUserFeedback(CloverProject.java:632)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage$Panel.performApply(ProjectPropertyPage.java:518)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage.performApply(ProjectPropertyPage.java:602)
	at org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:281)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
	at org.eclipse.jface.window.Window.open(Window.java:801)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1311)
!SUBENTRY 1 org.eclipse.jdt.core 4 964 2010-03-09 15:14:20.463
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'
!SUBENTRY 1 org.eclipse.jdt.core 4 964 2010-03-09 15:14:20.463
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'

!ENTRY com.cenqua.clover.core 4 0 2010-03-09 15:14:20.463
!MESSAGE Error undoing changes to description for project, most likely related to the previous error
!STACK 1
org.eclipse.core.runtime.CoreException: Problems encountered while setting project description.
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1056)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1082)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggle(CloverProject.java:273)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggleWithUserFeedback(CloverProject.java:632)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage$Panel.performApply(ProjectPropertyPage.java:518)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage.performApply(ProjectPropertyPage.java:602)
	at org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:281)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
	at org.eclipse.jface.window.Window.open(Window.java:801)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1311)
Contains: Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'
!SUBENTRY 1 org.eclipse.core.resources 4 568 2010-03-09 15:14:20.463
!MESSAGE Problems encountered while setting project description.
!SUBENTRY 2 org.eclipse.jdt.core 4 964 2010-03-09 15:14:20.463
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'

!ENTRY com.cenqua.clover.core 4 0 2010-03-09 15:14:20.463
!MESSAGE Error toggling Clover support
!STACK 1
org.eclipse.core.runtime.CoreException: Problems encountered while setting project description.
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1056)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1082)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggle(CloverProject.java:266)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggleWithUserFeedback(CloverProject.java:632)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage$Panel.performApply(ProjectPropertyPage.java:518)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage.performApply(ProjectPropertyPage.java:602)
	at org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:281)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
	at org.eclipse.jface.window.Window.open(Window.java:801)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1311)
Contains: Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'
!SUBENTRY 1 org.eclipse.core.resources 4 568 2010-03-09 15:14:20.463
!MESSAGE Problems encountered while setting project description.
!SUBENTRY 2 org.eclipse.jdt.core 4 964 2010-03-09 15:14:20.463
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'

!ENTRY com.cenqua.clover.core 0 0 2010-03-09 15:14:27.354
!MESSAGE Storing project property data:'src
**/*.java

disabled'

!ENTRY com.cenqua.clover.core 0 0 2010-03-09 15:14:27.385
!MESSAGE Adding nature com.cenqua.clover.core.clovernature

!ENTRY org.eclipse.core.resources 4 2 2010-03-09 15:14:27.385
!MESSAGE Problems occurred when invoking code from plug-in: ""org.eclipse.core.resources"".
!STACK 1
Java Model Exception: Java Model Status [Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048']
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:784)
	at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2890)
	at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2921)
	at com.cenqua.clover.eclipse.projects.BaseNature.ensureClasspathEntryAdded(BaseNature.java:142)
	at com.cenqua.clover.eclipse.projects.CloverProject.configure(CloverProject.java:111)
	at org.eclipse.core.internal.resources.NatureManager$1.run(NatureManager.java:143)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.internal.resources.NatureManager.configureNature(NatureManager.java:158)
	at org.eclipse.core.internal.resources.NatureManager.configureNatures(NatureManager.java:203)
	at org.eclipse.core.internal.resources.Project.basicSetDescription(Project.java:84)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1054)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1082)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggle(CloverProject.java:266)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggleWithUserFeedback(CloverProject.java:632)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage$Panel.performApply(ProjectPropertyPage.java:518)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage.performApply(ProjectPropertyPage.java:602)
	at org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:281)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
	at org.eclipse.jface.window.Window.open(Window.java:801)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1311)
!SUBENTRY 1 org.eclipse.jdt.core 4 964 2010-03-09 15:14:27.385
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'
!SUBENTRY 1 org.eclipse.jdt.core 4 964 2010-03-09 15:14:27.385
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'

!ENTRY com.cenqua.clover.core 4 0 2010-03-09 15:14:27.385
!MESSAGE Error setting description for project, attempting to undo
!STACK 1
org.eclipse.core.runtime.CoreException: Problems encountered while setting project description.
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1056)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1082)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggle(CloverProject.java:266)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggleWithUserFeedback(CloverProject.java:632)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage$Panel.performApply(ProjectPropertyPage.java:518)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage.performApply(ProjectPropertyPage.java:602)
	at org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:281)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
	at org.eclipse.jface.window.Window.open(Window.java:801)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1311)
Contains: Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'
!SUBENTRY 1 org.eclipse.core.resources 4 568 2010-03-09 15:14:27.385
!MESSAGE Problems encountered while setting project description.
!SUBENTRY 2 org.eclipse.jdt.core 4 964 2010-03-09 15:14:27.385
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'

!ENTRY org.eclipse.core.resources 4 2 2010-03-09 15:14:27.385
!MESSAGE Problems occurred when invoking code from plug-in: ""org.eclipse.core.resources"".
!STACK 1
Java Model Exception: Java Model Status [Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048']
	at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:784)
	at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2890)
	at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2921)
	at com.cenqua.clover.eclipse.projects.BaseNature.ensureClasspathEntryAbsent(BaseNature.java:164)
	at com.cenqua.clover.eclipse.projects.CloverProject.deconfigure(CloverProject.java:167)
	at org.eclipse.core.internal.resources.NatureManager$2.run(NatureManager.java:258)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.internal.resources.NatureManager.deconfigureNature(NatureManager.java:272)
	at org.eclipse.core.internal.resources.NatureManager.configureNatures(NatureManager.java:198)
	at org.eclipse.core.internal.resources.Project.basicSetDescription(Project.java:84)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1054)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1082)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggle(CloverProject.java:273)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggleWithUserFeedback(CloverProject.java:632)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage$Panel.performApply(ProjectPropertyPage.java:518)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage.performApply(ProjectPropertyPage.java:602)
	at org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:281)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
	at org.eclipse.jface.window.Window.open(Window.java:801)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1311)
!SUBENTRY 1 org.eclipse.jdt.core 4 964 2010-03-09 15:14:27.385
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'
!SUBENTRY 1 org.eclipse.jdt.core 4 964 2010-03-09 15:14:27.385
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'

!ENTRY com.cenqua.clover.core 4 0 2010-03-09 15:14:27.401
!MESSAGE Error undoing changes to description for project, most likely related to the previous error
!STACK 1
org.eclipse.core.runtime.CoreException: Problems encountered while setting project description.
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1056)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1082)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggle(CloverProject.java:273)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggleWithUserFeedback(CloverProject.java:632)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage$Panel.performApply(ProjectPropertyPage.java:518)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage.performApply(ProjectPropertyPage.java:602)
	at org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:281)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
	at org.eclipse.jface.window.Window.open(Window.java:801)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1311)
Contains: Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'
!SUBENTRY 1 org.eclipse.core.resources 4 568 2010-03-09 15:14:27.401
!MESSAGE Problems encountered while setting project description.
!SUBENTRY 2 org.eclipse.jdt.core 4 964 2010-03-09 15:14:27.401
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'

!ENTRY com.cenqua.clover.core 4 0 2010-03-09 15:14:27.401
!MESSAGE Error toggling Clover support
!STACK 1
org.eclipse.core.runtime.CoreException: Problems encountered while setting project description.
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1056)
	at org.eclipse.core.internal.resources.Project.setDescription(Project.java:1082)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggle(CloverProject.java:266)
	at com.cenqua.clover.eclipse.projects.CloverProject.toggleWithUserFeedback(CloverProject.java:632)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage$Panel.performApply(ProjectPropertyPage.java:518)
	at com.cenqua.clover.eclipse.projects.settings.ProjectPropertyPage.performApply(ProjectPropertyPage.java:602)
	at org.eclipse.jface.preference.PreferencePage$2.widgetSelected(PreferencePage.java:281)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
	at org.eclipse.jface.window.Window.open(Window.java:801)
	at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)
	at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)
	at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
	at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
	at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3910)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3503)
	at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405)
	at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369)
	at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
	at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1311)
Contains: Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'
!SUBENTRY 1 org.eclipse.core.resources 4 568 2010-03-09 15:14:27.401
!MESSAGE Problems encountered while setting project description.
!SUBENTRY 2 org.eclipse.jdt.core 4 964 2010-03-09 15:14:27.401
!MESSAGE Cannot nest 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048/libs' inside library 'C:Program Files/Adobe/Adobe Flash Builder 4/plugins/com.adobe.flexbuilder.DCDService_4.0.0.272048'

!ENTRY com.cenqua.clover.core 0 0 2010-03-09 15:14:31.744
!MESSAGE Storing project property data:'src
**/*.java

disabled'

{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Jan/2015 9:04 AM;mparfianowicz;Atlassian Forums_Unable_to_enable_Clover_on_a_project.pdf;https://jira.atlassian.com/secure/attachment/149632/Atlassian+Forums_Unable_to_enable_Clover_on_a_project.pdf",,,,,,,,,,,,,,,,true,,"1|hwbxrj:",11876,,,,,51343,,,,,,Unknown,,,,,2015-01-27 04:26:02.426,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmihz:",74747,,,,,,,,,,,"1|hwidhb:",51497,309312000,true,,,,,,,,,,0dd74cb8c1ab(gverma),mparfianowicz(mparfianowicz),npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,"1|hwofpz:",64402,,,,,,,,,,,,,,,,,,,,,,,,,,51343,,"1|hwicjz:",51350,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"27/Jan/2015 4:26 AM;0dd74cb8c1ab;@Nick Pellow Can you please tell me how this issue was resolved?;;;","27/Jan/2015 9:03 AM;mparfianowicz;A link to forums.atlassian.com is not valid anymore. However, I've found this forum question in a web archive. Please see: [^Atlassian Forums_Unable_to_enable_Clover_on_a_project.pdf] - it contains an answer how to fix it.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Reports don't launch under Windows + Grails,CLOV-909,103037,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,08/Mar/2010 6:47 AM,08/Mar/2010 10:40 PM,15/Nov/2024 6:09 PM,08/Mar/2010 10:40 PM,,,,,,3.0,3.0 M4,,Groovy,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxrb:",11875,,,,,51518,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiif:",74749,,,,,,,,,,,"1|hwiejz:",51672,463622400,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqcun:",75953,,,,,,,,,,,,,,,,,,,,,,,,,,51518,,"1|hwidmn:",51525,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Investigate warnings output by maven-clover2-plugin with grover enabled,CLOV-908,103018,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,07/Mar/2010 11:57 PM,08/Mar/2010 2:24 AM,15/Nov/2024 6:09 PM,08/Mar/2010 2:24 AM,,,,,,3.0,3.0 M4,,Maven plugin,,,,,,,0,,,,,,,,,"The messages are logged at INFO, however are distracting:

{code}
[INFO] Elapsed time = 0.049 secs. (40.816 files/sec, 3,938.776 srclines/sec)
Downloading: https://m2proxy.atlassian.com/repository/internal//com/cenqua/clover/grover/3.0.0-m3/grover-3.0.0-m3.pom
[INFO] Unable to find resource 'com.cenqua.clover:grover:pom:3.0.0-m3' in repository central (https://m2proxy.atlassian.com/repository/internal/)
Downloading: https://maven.atlassian.com/public/com/cenqua/clover/grover/3.0.0-m3/grover-3.0.0-m3.pom
[INFO] Unable to find resource 'com.cenqua.clover:grover:pom:3.0.0-m3' in repository atlassian-public (https://maven.atlassian.com/public)
Downloading: https://maven.atlassian.com/private/com/cenqua/clover/grover/3.0.0-m3/grover-3.0.0-m3.pom
[INFO] Unable to find resource 'com.cenqua.clover:grover:pom:3.0.0-m3' in repository atlassian-private (https://maven.atlassian.com/private)
Downloading: https://m2proxy.atlassian.com/repository/m1//com/cenqua/clover/grover/3.0.0-m3/grover-3.0.0-m3.pom
[INFO] Unable to find resource 'com.cenqua.clover:grover:pom:3.0.0-m3' in repository atlassian-m1-repository (https://m2proxy.atlassian.com/repository/m1/)
[INFO] [groovy:generateStubs {execution: default}]
[INFO]  Generated 1 Java stub

{code}",,,";08/Mar/2010 2:23 AM;npellow;7200",,,,0,7200,,,0,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxr3:",11874,,,,,51608,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiin:",74750,,,,,,,,,,,"1|hwif3z:",51762,463622400,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqdcn:",76034,,,,,,,,,,,,,,,,,,,,,,,,,,51608,,"1|hwie6n:",51615,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Mar/2010 2:24 AM;npellow;The grover jar and config files are now set to scope SYSTEM to prevent maven trying to download them from remote repositories.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Grails plugin fails to install on windows,CLOV-907,102964,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,05/Mar/2010 6:19 AM,13/Apr/2010 7:07 AM,15/Nov/2024 6:09 PM,08/Mar/2010 6:45 AM,,,,,,3.0,3.0 M4,,,,,,,,,0,,,,,,,,,"more details here: http://n4.nabble.com/Getting-a-Plugin-Listing-on-grails-org-td1577549.html#a1577549

Moving the plugin from https://svn... to http://plugins.grails.org ... could be a good way to work around this problem.",,,,,,14400,14400,,0%,14400,14400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxqv:",11873,,,,,50537,,,,,,Unknown,,,,,2010-04-12 08:00:07.522,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiiv:",74751,,,,,,,,,,,"1|hwi8t3:",50691,460512000,true,,,,,,,,,,7ee95e0cb625(kajh),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwog7b:",64499,,,,,,,,,,,,,,,,,,,,,,,,,,50537,,"1|hwi7vr:",50544,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Mar/2010 6:45 AM;npellow;I couldn't reproduce this problem on windows Vista, running JDK 1.6 .

Please re-open if your mileage varies. 

In case of SSL problems, the clover plugin is also available from: http://plugins.grails.org/grails-clover/tags/
Therefore, the following will install version 0.2 of the plugin:

grails install-plugin http://plugins.grails.org/grails-clover/tags/RELEASE_0_2/grails-clover-0.2.zip;;;","12/Apr/2010 8:00 AM;7ee95e0cb625;I see a similar issue when installing webflow on MacOS X 10.6.3 with jdv 1.6:

$ grails install-plugin webflow 
Welcome to Grails 1.2.2 - http://grails.org/
Licensed under Apache Standard License 2.0
Grails home is set to: /Users/kajh/bin/grails

Base Directory: /Users/kajh/src/medark/trunk
Resolving dependencies...
Dependencies resolved in 1091ms.
Running script /Users/kajh/bin/grails/scripts/InstallPlugin.groovy
Environment set to development
Reading remote plugin list ...
      [get] Getting: https://svn.codehaus.org/grails/trunk/grails-plugins/grails-webflow/tags/RELEASE_1_3_0_RC1/grails-webflow-1.3.0.RC1.zip
      [get] To: /Users/kajh/.grails/1.2.2/plugins/grails-webflow-1.3.0.RC1.zip
      [get] Error getting https://svn.codehaus.org/grails/trunk/grails-plugins/grails-webflow/tags/RELEASE_1_3_0_RC1/grails-webflow-1.3.0.RC1.zip to /Users/kajh/.grails/1.2.2/plugins/grails-webflow-1.3.0.RC1.zip
: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
	at org.apache.tools.ant.taskdefs.Get.execute(Get.java:82)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
;;;","12/Apr/2010 11:43 PM;npellow;Hi Kaj, 

Thanks for mentioning this here. 
The current workaround would be to define the non-ssl location of the plugin like so:
{code}
grails install-plugin http://plugins.grails.org/grails-clover/trunk/grails-clover-3.0.0.zip
{code}

Could you please also mail the grails user mailing list with this problem and see if there are any better suggestions for having the problem fixed?
AFAICT, this is a grails specific problem, and not necessarily a Clover plugin problem? I may however me be wrong here.

Cheers,
Nick;;;","13/Apr/2010 7:07 AM;7ee95e0cb625;Thanks for answering! It turned out that this was my mistake. I had some problems with my cacerts file. After fixing those problems, installing plugin works just perfect :);;;",,,,,,,,,,,,,,,,,,,,,,,
Clover-for-Grails generates an exception when using the -clover.view option on the Grails command line.,CLOV-906,102916,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,ggaskell,ggaskell,05/Mar/2010 12:23 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.0 M3,,,,,long term roadmap,,,Grails Plugin,,,,,,,0,,,,,,,,,"Clover-for-Grails generates an exception when using the -clover.view option on the Grails command line. According to Nick's assessment so far, this is a Windows-specific problem.

See output below:

{noformat}
C:\grails-1.2.1\samples\petclinic>grails test-app -clover.on -clover.view
Welcome to Grails 1.2.1 - http://grails.org/
Licensed under Apache Standard License 2.0
Grails home is set to: C:\grails-1.2.1

Base Directory: C:\grails-1.2.1\samples\petclinic
Resolving dependencies...
Dependencies resolved in 2641ms.
Running script C:\grails-1.2.1\scripts\TestApp.groovy
Environment set to test
Clover: Using config: [on:true, view:true]
Using clover license path: C:\Documents and Settings\Giles Gaskell\.grails\1.2.1\projects\petclinic\plugins\clover-0.2\grails-app\conf\clover\clover-evaluation.
license
[clover-env] Loading clover.xml: jar:file:/C:/Documents%20and%20Settings/Giles%20Gaskell/.ivy2/cache/com.cenqua.clover/clover/jars/clover-3.0.0-m3.jar!/clover.x
ml
Using default clover-setup configuration.
Clover:
               directories: [src/java, src/groovy, test, grails-app]
               includes:    [**/*.groovy, **/*.java]
               excludes     [**/conf/**, **/plugins/**]
[clover-setup] Clover Version 3.0.0-m3, built on February 26 2010 (build-780)
[clover-setup] Loaded from: C:\Documents and Settings\Giles Gaskell\.ivy2\cache\com.cenqua.clover\clover\jars\clover-3.0.0-m3.jar
[clover-setup] Clover Evaluation License registered to Clover Grails Plugin.
[clover-setup] You have 23 day(s) before your license expires.
[clover-setup] Clover is enabled with initstring 'C:\Documents and Settings\Giles Gaskell\.grails\1.2.1\projects\petclinic\clover\db\clover.db'
Clover: Forcing a clean to ensure Clover instrumentation occurs. Disable by setting: clover.forceClean=false
   [delete] Deleting directory C:\grails-1.2.1\samples\petclinic\target\classes
   [delete] Deleting directory C:\grails-1.2.1\samples\petclinic\target\test-classes
   [delete] Deleting directory C:\Documents and Settings\Giles Gaskell\.grails\1.2.1\projects\petclinic\clover
Clover: Compile start.
    [mkdir] Created dir: C:\grails-1.2.1\samples\petclinic\target\classes
  [groovyc] Compiling 2 source files to C:\grails-1.2.1\samples\petclinic\target\classes
[clover-setup] Creating new database at 'C:\Documents and Settings\Giles Gaskell\.grails\1.2.1\projects\petclinic\clover\db\clover.db'.
  [groovyc] Compiling 17 source files to C:\grails-1.2.1\samples\petclinic\target\classes
[clover-setup] Creating new database at 'C:\Documents and Settings\Giles Gaskell\.grails\1.2.1\projects\petclinic\clover\db\clover.db'.
    [mkdir] Created dir: C:\grails-1.2.1\samples\petclinic\target\test-reports\html
    [mkdir] Created dir: C:\grails-1.2.1\samples\petclinic\target\test-reports\plain

Starting unit test phase ...
    [mkdir] Created dir: C:\grails-1.2.1\samples\petclinic\target\test-classes\unit
  [groovyc] Compiling 1 source file to C:\grails-1.2.1\samples\petclinic\target\test-classes\unit
[clover-setup] Updating existing database at 'C:\Documents and Settings\Giles Gaskell\.grails\1.2.1\projects\petclinic\clover\db\clover.db'.

-------------------------------------------------------
Running 1 unit test...
Running test org.grails.samples.OwnerControllerTests...PASSED
Tests Completed in 2015ms ...
-------------------------------------------------------
Tests passed: 6
Tests failed: 0
-------------------------------------------------------

Starting integration test phase ...
     [copy] Copying 1 file to C:\grails-1.2.1\samples\petclinic\target\test-classes\integration
     [copy] Copying 1 file to C:\grails-1.2.1\samples\petclinic\target\test-classes
     [copy] Copied 3 empty directories to 2 empty directories under C:\grails-1.2.1\samples\petclinic\target\test-classes
Clover: Compile start.
  [groovyc] Compiling 1 source file to C:\grails-1.2.1\samples\petclinic\target\classes
[clover-setup] Updating existing database at 'C:\Documents and Settings\Giles Gaskell\.grails\1.2.1\projects\petclinic\clover\db\clover.db'.
     [copy] Copying 1 file to C:\grails-1.2.1\samples\petclinic\target\classes
Clover: Compile start.
  [groovyc] Compiling 1 source file to C:\grails-1.2.1\samples\petclinic\target\classes
[clover-setup] Updating existing database at 'C:\Documents and Settings\Giles Gaskell\.grails\1.2.1\projects\petclinic\clover\db\clover.db'.
[junitreport] Processing C:\grails-1.2.1\samples\petclinic\target\test-reports\TESTS-TestSuites.xml to C:\DOCUME~1\GILESG~1\LOCALS~1\Temp\null1750708552
[junitreport] Loading stylesheet jar:file:/C:/Documents%20and%20Settings/Giles%20Gaskell/.ivy2/cache/org.apache.ant/ant-junit/jars/ant-junit-1.7.1.jar!/org/apac
he/tools/ant/taskdefs/optional/junit/xsl/junit-frames.xsl
[junitreport] Transform time: 735ms
[junitreport] Deleting: C:\DOCUME~1\GILESG~1\LOCALS~1\Temp\null1750708552

Tests PASSED - view reports in target\test-reports
Clover: Tests ended
[clover-historypoint] Clover Version 3.0.0-m3, built on February 26 2010 (build-780)
[clover-historypoint] Loaded from: C:\Documents and Settings\Giles Gaskell\.ivy2\cache\com.cenqua.clover\clover\jars\clover-3.0.0-m3.jar
[clover-historypoint] Clover Evaluation License registered to Clover Grails Plugin.
[clover-historypoint] You have 23 day(s) before your license expires.
[clover-historypoint] Writing report to 'C:\grails-1.2.1\samples\petclinic\.cloverhistory\clover-20100305112533.xml.gz'
[clover-html-report] Clover Version 3.0.0-m3, built on February 26 2010 (build-780)
[clover-html-report] Loaded from: C:\Documents and Settings\Giles Gaskell\.ivy2\cache\com.cenqua.clover\clover\jars\clover-3.0.0-m3.jar
[clover-html-report] Clover Evaluation License registered to Clover Grails Plugin.
[clover-html-report] You have 23 day(s) before your license expires.
[clover-html-report] Not overwriting existing history point 'C:\grails-1.2.1\samples\petclinic\.cloverhistory\clover-20100305112533.xml.gz'. To force, set overw
rite=""true"".
[clover-html-report] Loading coverage database from: 'C:\Documents and Settings\Giles Gaskell\.grails\1.2.1\projects\petclinic\clover\db\clover.db'
[clover-html-report] Loading historical coverage data from: 'C:\grails-1.2.1\samples\petclinic\.cloverhistory'
[clover-html-report] Writing HTML report to 'C:\grails-1.2.1\samples\petclinic\build\clover\report'
[clover-html-report] Done. Processed 1 packages in 3047ms (3047ms per package).
[clover-html-report] Writing historical report to 'C:\grails-1.2.1\samples\petclinic\build\clover\report'
[clover-html-report] Read 3 history points.
[clover-html-report] using movers interval of 18 hours
[clover-html-report] using movers interval of 18 hours
[clover-html-report] Writing JSON historical-data to: C:\grails-1.2.1\samples\petclinic\build\clover\report\historical-json.js
[clover-html-report] Done.
Error executing script TestApp: java.lang.StringIndexOutOfBoundsException: String index out of range: 1
gant.TargetExecutionException: java.lang.StringIndexOutOfBoundsException: String index out of range: 1
        at gant.Gant$_dispatch_closure4.doCall(Gant.groovy:331)
        at gant.Gant$_dispatch_closure6.doCall(Gant.groovy:334)
        at gant.Gant$_dispatch_closure6.doCall(Gant.groovy)
        at gant.Gant.withBuildListeners(Gant.groovy:344)
        at gant.Gant.this$2$withBuildListeners(Gant.groovy)
        at gant.Gant$this$2$withBuildListeners.callCurrent(Unknown Source)
        at gant.Gant.dispatch(Gant.groovy:334)
        at gant.Gant.this$2$dispatch(Gant.groovy)
        at gant.Gant.invokeMethod(Gant.groovy)
        at gant.Gant.processTargets(Gant.groovy:495)
        at gant.Gant.processTargets(Gant.groovy:480)
Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: 1
        at java.lang.String.charAt(String.java:687)
        at java.util.regex.Matcher.appendReplacement(Matcher.java:703)
        at java.util.regex.Matcher.replaceAll(Matcher.java:813)
        at java.lang.String.replaceAll(String.java:2190)
        at _Events.launchReport(_Events.groovy:138)
        at _Events$_run_closure6.doCall(_Events.groovy:108)
        at _GrailsEvents_groovy$_run_closure5.doCall(_GrailsEvents_groovy:58)
        at _GrailsEvents_groovy$_run_closure5.call(_GrailsEvents_groovy)
        at _GrailsTest_groovy$_run_closure1.doCall(_GrailsTest_groovy:214)
        at TestApp$_run_closure1.doCall(TestApp.groovy:102)
        at gant.Gant$_dispatch_closure4.doCall(Gant.groovy:324)
        ... 10 more
Error executing script TestApp: java.lang.StringIndexOutOfBoundsException: String index out of range: 1
Application context shutting down...
Application context shutdown.
{noformat}",Windows XP,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvyv:",11585,,,,,51677,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmij3:",74752,,,,,,,,,,,"1|hwifjb:",51831,463881600,true,,,,,,,,,,ggaskell(ggaskell),,,,,,,,,,,,,,,,,,,"1|hwfkpb:",10704,,,,,,,,,,,,,,,,,,,,,,,,,1.0,51677,,"1|hwielz:",51684,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Grails Clover plugin wont install on Windows,CLOV-904,102855,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Duplicate,npellow,npellow,npellow,04/Mar/2010 2:17 AM,08/Mar/2010 6:46 AM,15/Nov/2024 6:09 PM,08/Mar/2010 6:46 AM,,,,,,3.0,3.0 M4,,,,,,,,,0,,,,,,,,,"Giles was getting the following error when trying to install the clover plugin on Windows:
{code}
      [get] last modified = Wed Feb 24 23:48:32 EST 2010
Reading remote plugin list ...
      [get] Getting: http://plugins.grails.org/.plugin-meta/plugins-list.xml
      [get] To: C:\Documents and Settings\Giles Gaskell\.grails\1.2.1\plugins-li
st-default.xml
................................
      [get] last modified = Thu Mar 04 05:21:29 EST 2010
      [get] Getting: https://svn.codehaus.org/grails-plugins/grails-clover/tags/
RELEASE_0_2/grails-clover-0.2.zip
      [get] To: C:\Documents and Settings\Giles Gaskell\.grails\1.2.1\plugins\gr
ails-clover-0.2.zip
      [get] Error getting https://svn.codehaus.org/grails-plugins/grails-clover/
tags/RELEASE_0_2/grails-clover-0.2.zip to C:\Documents and Settings\Giles Gaskel
l\.grails\1.2.1\plugins\grails-clover-0.2.zip
: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException
: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderEx
ception: unable to find valid certification path to requested target
        at org.apache.tools.ant.taskdefs.Get.execute(Get.java:82)
        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.jav
a:106)
        at org.apache.tools.ant.Task.perform(Task.java:348)
        at InstallPlugin$_run_closure34.doCall(InstallPlugin:1422)
        at InstallPlugin$_run_closure34.call(InstallPlugin)
        at InstallPlugin$_run_closure26_closure82.doCall(InstallPlugin:983)
        at InstallPlugin$_run_closure26_closure82.doCall(InstallPlugin)
        at InstallPlugin$_run_closure26.doCall(InstallPlugin:956)
        at InstallPlugin$_run_closure26.call(InstallPlugin)
        at InstallPlugin$_run_closure32_closure88.doCall(InstallPlugin:1214)
        at InstallPlugin$_run_closure32_closure88.doCall(InstallPlugin)
        at InstallPlugin.withPluginInstall(InstallPlugin:1253)
        at InstallPlugin.this$4$withPluginInstall(InstallPlugin)
        at InstallPlugin$_run_closure32.doCall(InstallPlugin:1213)
        at InstallPlugin$_run_closure32.call(InstallPlugin)
        at InstallPlugin$_run_closure2.doCall(InstallPlugin:73)
        at gant.Gant$_dispatch_closure4.doCall(Gant.groovy:324)
        at gant.Gant$_dispatch_closure6.doCall(Gant.groovy:334)
        at gant.Gant$_dispatch_closure6.doCall(Gant.groovy)
        at gant.Gant.withBuildListeners(Gant.groovy:344)
        at gant.Gant.this$2$withBuildListeners(Gant.groovy)
        at gant.Gant$this$2$withBuildListeners.callCurrent(Unknown Source)
        at gant.Gant.dispatch(Gant.groovy:334)
        at gant.Gant.this$2$dispatch(Gant.groovy)
        at gant.Gant.invokeMethod(Gant.groovy)
        at gant.Gant.processTargets(Gant.groovy:495)
        at gant.Gant.processTargets(Gant.groovy:480)
{code}

I've written to the list to ask how we can publish the plugin to http://plugins.grails.org which should hopefully workaround this issue.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxqn:",11872,,,,,51525,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmijj:",74754,,,,,,,,,,,"1|hwielj:",51679,463622400,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqcvr:",75958,,,,,,,,,,,,,,,,,,,,,,,,,,51525,,"1|hwido7:",51532,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Mar/2010 6:46 AM;npellow;see CLOV-907 for workaround and explanation ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
test hudson clover plugin,CLOV-903,102678,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,02/Mar/2010 2:11 AM,02/Mar/2010 6:17 AM,15/Nov/2024 6:09 PM,02/Mar/2010 6:17 AM,,,,,,3.0,3.0 M4,,,,,,,,,0,,,,,,,,,"Michael mentioned there was a bug with the hudson clover plugin.
Will test and hope to fix for 3.0 if it is an issue.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxqf:",11871,,,,,51866,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmijr:",74755,,,,,,,,,,,"1|hwignj:",52020,464140800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqein:",76228,,,,,,,,,,,,,,,,,,,,,,,,,,51866,,"1|hwifq7:",51873,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"02/Mar/2010 2:59 AM;npellow;I just tested the clover hudson clover plugin and noticed no obvious errors.
going to need more information on this one.;;;","02/Mar/2010 6:17 AM;npellow;The clover plugin was broken for newer versions of Hudson.

I've just done a release, and used the 2.6.3 version of the clover jar as well.

http://issues.hudson-ci.org/browse/HUDSON-5168;;;",,,,,,,,,,,,,,,,,,,,,,,,,
clover maven plugin not playing well with jaxb,CLOV-902,102677,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,02/Mar/2010 2:09 AM,02/Mar/2010 2:09 AM,15/Nov/2024 6:09 PM,02/Mar/2010 2:09 AM,,,,,,3.0,3.0 M4,,,,,,,,,0,,,,,,,,,see: https://studio.plugins.atlassian.com/browse/CLMVN-131,,,";02/Mar/2010 2:09 AM;npellow;14400",,,14400,0,14400,100%,14400,0,14400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxq7:",11870,,,,,51876,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmijz:",74756,,,,,,,,,,,"1|hwigpr:",52030,464140800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwog0n:",64459,,,,,,,,,,,,,,,,,,,,,,,,,,51876,,"1|hwifsf:",51883,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eclipse per-test coverage viewer,CLOV-901,102589,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Duplicate,sginter,npellow,npellow,28/Feb/2010 9:41 PM,15/Mar/2010 2:47 AM,15/Nov/2024 6:09 PM,15/Mar/2010 2:47 AM,,,,,,3.0,3.0 M4,,CEP Plugin,,,,,,,0,,,,,,,,,"So far, this is looking really good!

A few things however will still need to be done. In case they are not already on your todo list:

* this should be enabled by default. Otherwise, no one will ever see it, find it, discover it whatever...
* when the mouse is moved over the pop-up, it should gain focus. Just like when you move the mouse over a javadoc popup.
* display the test result: PASS|FAIL in the popup - even just by using the same icon as in the 'Test Contributions' panel.
* the pop-up seems to be very wide, even when the test names are very short.
* the cursor should change to a pointer when the user hovers over a test name to indicate it is actually an action/link
* the text: ""Covered by 1 test runs"" needs to be pluralized.
* is it possible to display the test in a tree - and make it look similar/the same as ""test contributions"" ?
!http://img.skitch.com/20100228-thd6e96m6y22sr9t63x1my7t64.png!
",,,,,,,,,,,,,,,,,,,,,CLOV-781,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxpz:",11869,,,,,51363,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmik7:",74757,,,,,,,,,,,"1|hwidlr:",51517,463017600,true,,,,,,,,,,npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwqc5j:",75839,,,,,,,,,,,,,,,,,,,,,,,,,,51363,,"1|hwicof:",51370,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/Mar/2010 2:47 AM;npellow;Duplicate of: CLOV-781;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Gutter not green bug?,CLOV-900,102505,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Cannot Reproduce,,npellow,npellow,26/Feb/2010 7:14 AM,22/Jan/2014 10:41 AM,15/Nov/2024 6:09 PM,27/May/2010 7:19 AM,,,,,,won't fix,,,,,,,,,,0,,,,,,,,,as seen in PAC,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Feb/2010 7:14 AM;npellow;pac-website_ default-pkg.ReviewTagLibTests.groovy.png;https://jira.atlassian.com/secure/attachment/36829/pac-website_+default-pkg.ReviewTagLibTests.groovy.png",,,,,,,,,,,,,,,,true,,"1|hwbxpr:",11868,,,,,49738,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmikf:",74758,,,,,,,,,,,"1|hwi47b:",49892,464486400,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwq4mv:",74567,,,,,,,,,,,,,,,,,,,,,,,,,,49738,,"1|hwi39z:",49745,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wrong documentation for licenseLocation in Maven's settings.xml,CLOV-896,102376,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,ggaskell,9bef0533c413,9bef0533c413,24/Feb/2010 7:05 PM,22/Jan/2014 12:04 PM,15/Nov/2024 6:09 PM,26/Feb/2010 5:03 AM,2.6.3,,,,,2.6.3,,,Documentation,,,,,,,0,clover2,documentation,maven,website,,,,,"The documentation here: http://confluence.atlassian.com/display/CLOVER/How+to+configure+your+clover.license

Says to use the {{clover.licenseLocation}} property in the user's {{settings.xml}}.

{noformat}
<properties>
   <clover.licenseLocation>...path to your Clover license file...</clover.licenseLocation>
</properties>
{noformat}

However, the plugin is looking for the property {{maven.clover.licenseLocation}}.

{noformat}
[INFO] [clover2:setup]
[INFO] No 'maven.clover.licenseLocation' configured. Using default evaluation license.
[INFO] Clover Version 2.6.3, built on November 20 2009 (build-778)
{noformat}

As far as I've seen, the rest of the pages that give this information correctly show {{maven.clover.licenseLocation}}.
",N/A (web site),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxj3:",11838,,,,,51932,,,,,,Unknown,,,,,2010-02-26 05:02:37.623,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmilb:",74762,,,,,,,,,,,"1|hwih1z:",52086,464486400,true,,,,,,,,,,ggaskell(ggaskell),9bef0533c413(jake.cobb@gatech.edu),,,,,,,,,,,,,,,,,,"1|hwogt3:",64628,,,,,,,,,,,,,,,,,,,,,,,,,,51932,,"1|hwig4n:",51939,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"26/Feb/2010 5:02 AM;ggaskell;Thanks very much Jake - the documentation has been corrected.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
JUnit test results parsing seems broken when enclosing test suite class can't be found,CLOV-894,102335,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,24/Feb/2010 4:29 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,31/Mar/2010 3:57 AM,,,,,,3.0,,,Reporting,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxpj:",11867,,,,,51014,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmilr:",74764,,,,,,,,,,,"1|hwibin:",51168,464659200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqanz:",75595,,,,,,,,,,,,,,,,,,,,,,,,,,51014,,"1|hwialb:",51021,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add sanity check in grover that avoids instrumenting already-instrumented ASTs,CLOV-887,102128,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,22/Feb/2010 2:40 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,31/Mar/2010 3:57 AM,,,,,,3.0,,,Groovy,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxof:",11862,,,,,51016,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwminb:",74771,,,,,,,,,,,"1|hwibj3:",51170,464832000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqao7:",75596,,,,,,,,,,,,,,,,,,,,,,,,,,51016,,"1|hwialr:",51023,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Grover should ignore .groovy files with top level script lines.,CLOV-884,102116,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,21/Feb/2010 11:35 PM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,31/Mar/2010 3:57 AM,,,,,,3.0,,,Groovy,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxnz:",11860,,,,,51012,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwminz:",74774,,,,,,,,,,,"1|hwibi7:",51166,464832000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqanj:",75593,,,,,,,,,,,,,,,,,,,,,,,,,,51012,,"1|hwiakv:",51019,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Correct errors in HTML report legend,CLOV-879,101987,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,18/Feb/2010 8:00 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,31/Mar/2010 3:57 AM,,,,,,3.0,,,Reporting,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxmv:",11855,,,,,51004,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiov:",74778,,,,,,,,,,,"1|hwibgf:",51158,465177600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqam7:",75587,,,,,,,,,,,,,,,,,,,,,,,,,,51004,,"1|hwiaj3:",51011,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Indentations for indented class definitions lost at report time,CLOV-878,101939,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,17/Feb/2010 11:40 PM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,31/Mar/2010 3:57 AM,,,,,,3.0,,,Reporting,,,,,,,0,,,,,,,,,!http://img.skitch.com/20100217-kx71a3epbn4cj6b1a751st6sq2.jpg!,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxmn:",11854,,,,,51011,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmip3:",74779,,,,,,,,,,,"1|hwibhz:",51165,465177600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqanb:",75592,,,,,,,,,,,,,,,,,,,,,,,,,,51011,,"1|hwiakn:",51018,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Grover should respect <clover-setup enabled=""false""/>",CLOV-876,101803,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,16/Feb/2010 3:10 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,31/Mar/2010 3:57 AM,,,,,,3.0,,,Groovy,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxm7:",11852,,,,,51010,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmipj:",74781,,,,,,,,,,,"1|hwibhr:",51164,465350400,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqan3:",75591,,,,,,,,,,,,,,,,,,,,,,,,,,51010,,"1|hwiakf:",51017,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
testHits is null for certain lines when rendering a grover report,CLOV-874,101765,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,npellow,npellow,15/Feb/2010 10:23 PM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,31/Mar/2010 3:57 AM,,,,,,3.0,,,Groovy,Reporting,,,,,,0,,,,,,,,,"See Weceem: 
Debugging can be enabled via: -clover.debug

{code}
[clover-html-report] Writing HTML report to '/Users/niick/projects/CLOV-trunk/grails/testcases/weceem/build/clover/report'
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] [Velocity] Left side ($line.testHits.size()) of '>' operation has null value. Operation not possible. html_res/src-file.vm [line 1, column 16]
[clover-html-report] Done. Processed 18 packages in 3258ms (181ms per package).

{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxlr:",11850,,,,,51013,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmipz:",74783,,,,,,,,,,,"1|hwibif:",51167,465350400,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqanr:",75594,,,,,,,,,,,,,,,,,,,,,,,,,,51013,,"1|hwial3:",51020,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"16/Feb/2010 4:07 AM;npellow;Possibly related:
$line is null when a groovy file ends with two new line chars: \n\n.

!http://img.skitch.com/20100216-pwen1494jrmsx7gnji2qg8qbgj.png!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
java.lang.VerifyError when running grover instrumented code,CLOV-872,101743,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,npellow,npellow,15/Feb/2010 3:42 AM,21/Feb/2010 11:37 PM,15/Nov/2024 6:09 PM,21/Feb/2010 11:37 PM,,,,,,3.0 M3,,,Groovy,Instrumentation,,,,,,0,,,,,,,,,"'
When certain grover instrumented classes are loaded, the following error occurs at runtime.
Attached is the ContentRepositoryService class.

Error executing script TestApp: (class: org/weceem/services/ContentRepositoryService, method: getAncestors signature: (Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;) Wrong return type in function
java.lang.VerifyError: (class: org/weceem/services/ContentRepositoryService, method: getAncestors signature: (Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;) Wrong return type in function
	at java.lang.Class.getDeclaredFields0(Native Method)
	at java.lang.Class.privateGetDeclaredFields(Class.java:2291)
	at java.lang.Class.getDeclaredField(Class.java:1880)
	at _PluginDependencies_groovy$_run_closure8_closure70.doCall(_PluginDependencies_groovy:616)
	at _PluginDependencies_groovy$_run_closure8_closure70.doCall(_PluginDependencies_groovy)
	at _GrailsSettings_groovy$_run_closure10.doCall(_GrailsSettings_groovy:287)
	at _GrailsSettings_groovy$_run_closure10.call(_GrailsSettings_groovy)
	at _PluginDependencies_groovy$_run_closure8.doCall(_PluginDependencies_groovy:596)
	at _GrailsBootstrap_groovy$_run_closure1.doCall(_GrailsBootstrap_groovy:69)
	at _GrailsBootstrap_groovy$_run_closure6.doCall(_GrailsBootstrap_groovy:136)
	at _GrailsTest_groovy$_run_closure9.doCall(_GrailsTest_groovy:309)
	at _GrailsTest_groovy$_run_closure9.doCall(_GrailsTest_groovy)
	at _GrailsTest_groovy$_run_closure1_closure21.doCall(_GrailsTest_groovy:193)
	at _GrailsTest_groovy$_run_closure1.doCall(_GrailsTest_groovy:171)
	at TestApp$_run_closure1.doCall(TestApp.groovy:102)
	at gant.Gant$_dispatch_closure4.doCall(Gant.groovy:324)
	at gant.Gant$_dispatch_closure6.doCall(Gant.groovy:334)
	at gant.Gant$_dispatch_closure6.doCall(Gant.groovy)
	at gant.Gant.withBuildListeners(Gant.groovy:344)
	at gant.Gant.this$2$withBuildListeners(Gant.groovy)
	at gant.Gant$this$2$withBuildListeners.callCurrent(Unknown Source)
	at gant.Gant.dispatch(Gant.groovy:334)
	at gant.Gant.this$2$dispatch(Gant.groovy)
	at gant.Gant.invokeMethod(Gant.groovy)
	at gant.Gant.processTargets(Gant.groovy:495)
	at gant.Gant.processTargets(Gant.groovy:480)
Error executing script TestApp: (class: org/weceem/services/ContentRepositoryService, method: getAncestors signature: (Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;) Wrong return type in function
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Feb/2010 3:59 AM;npellow;ContentRepositoryService.class;https://jira.atlassian.com/secure/attachment/36567/ContentRepositoryService.class","15/Feb/2010 3:59 AM;npellow;ContentRepositoryService.groovy;https://jira.atlassian.com/secure/attachment/36568/ContentRepositoryService.groovy",,,,,,,,,,,,,,,true,,"1|hwbxlb:",11848,,,,,52065,,,,,,Unknown,,,,,2010-02-21 23:37:26.116,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiqf:",74785,,,,,,,,,,,"1|hwihvj:",52219,464832000,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqfkf:",76399,,,,,,,,,,,,,,,,,,,,,,,,,,52065,,"1|hwigy7:",52072,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"21/Feb/2010 11:37 PM;mstudman;Backed out the BytecodeStatements AST node change. Will resume work on this post 3.0;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Error rendering groovy enums,CLOV-870,101732,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,npellow,npellow,15/Feb/2010 1:01 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,31/Mar/2010 3:57 AM,,,,,,3.0,,,Groovy,Reporting,,,,,,0,,,,,,,,,"[clover-html-report] Renderers: {.groovy=com.atlassian.clover.reporters.html.source.groovy.GroovySourceRenderKit@3cbd0fa5, .java=com.cenqua.clover.reporters.html.source.java.JavaSourceRenderKit@204e38ca}
[clover-html-report] Found source renderer com.atlassian.clover.reporters.html.source.groovy.GroovySourceRenderKit for file Events.groovy
[clover-html-report] Rendering Events.groovy with renderer com.atlassian.clover.reporters.html.source.groovy.GroovySourceRenderKit
[clover-html-report] -1
[clover-html-report] java.lang.ArrayIndexOutOfBoundsException: -1java.lang.ArrayIndexOutOfBoundsException: -1
[clover-html-report] 	at com.cenqua.clover.registry.FileInfo$1.getOrCreateLineInfo(FileInfo.java:108)
[clover-html-report] 	at com.cenqua.clover.registry.FileInfo$1.visitClass(FileInfo.java:117)
[clover-html-report] 	at com.cenqua.clover.registry.ClassInfo.visitElements(ClassInfo.java:143)
[clover-html-report] 	at com.cenqua.clover.registry.FileInfo.visitElements(FileInfo.java:170)
[clover-html-report] 	at com.cenqua.clover.registry.FileInfo.getLineInfo(FileInfo.java:103)
[clover-html-report] 	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:155)
[clover-html-report] 	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:73)
[clover-html-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.insertLineInfos(RenderFileAction.java:284)
[clover-html-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:131)
[clover-html-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:115)
[clover-html-report] 	at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:86)
[clover-html-report] 	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:178)
[clover-html-report] 	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1061)
[clover-html-report] 	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
[clover-html-report] 	at java.lang.Thread.run(Thread.java:637)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxl3:",11847,,,,,51009,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiqv:",74787,,,,,,,,,,,"1|hwibhj:",51163,465436800,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwogn3:",64591,,,,,,,,,,,,,,,,,,,,,,,,,,51009,,"1|hwiak7:",51016,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failed to syntax high light groovy code,CLOV-868,101665,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,npellow,npellow,12/Feb/2010 7:34 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,16/Feb/2010 6:06 AM,3.0 M2,,,,,3.0,3.0 M2,,,,,,,,,0,,,,,,,,,"Failed to render syntax highlights for /Users/niick/projects/CLOV-trunk/grails/testcases/weceem/grails-app/controllers/org/weceem/controllers/ContentController.groovy
[clover-html-report] line 41:67: expecting anything but ''\n''; got it anywayline 41:67: expecting anything but ''\n''; got it anyway
[clover-html-report] 	at clover.org.codehaus.groovy.antlr.parser.GroovyLexer.nextToken(GroovyLexer.java:695)
[clover-html-report] 	at com.atlassian.clover.reporters.html.source.groovy.GroovySourceTraverser.traverse(GroovySourceTraverser.java:181)
[clover-html-report] 	at com.atlassian.clover.reporters.html.source.groovy.GroovySourceRenderKit.render(GroovySourceRenderKit.java:14)
[clover-html-report] 	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.render(SourceRenderHelper.java:325)
[clover-html-report] 	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.gatherSrcRenderInfo(SourceRenderHelper.java:144)
[clover-html-report] 	at com.cenqua.clover.reporters.html.source.SourceRenderHelper.insertLineInfosForFile(SourceRenderHelper.java:73)
[clover-html-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.insertLineInfos(RenderFileAction.java:284)
[clover-html-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:131)
[clover-html-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:115)
[clover-html-report] 	at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:86)
[clover-html-report] 	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:178)
[clover-html-report] 	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1061)
[clover-html-report] 	at clover.retrotranslator.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:575)
[clover-html-report] 	at java.lang.Thread.run(Thread.java:637)
[clover-html-report] Done. Processed 18 packages in 3831ms (212ms per package).
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxkn:",11845,,,,,52164,,,,,,Unknown,,,,,2010-02-13 09:24:12.462,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmirb:",74789,,,,,,,,,,,"1|hwiigv:",52318,465609600,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwpnwn:",71813,,,,,,,,,,,,,,,,,,,,,,,,,,52164,,"1|hwihjj:",52171,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"13/Feb/2010 9:24 AM;mstudman;Some report code got neutered when rewriting it in Java.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Joint compilation fails if grover encounters source not in the known instrumentation fileset,CLOV-866,101643,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mstudman,mstudman,mstudman,12/Feb/2010 2:52 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,16/Feb/2010 6:05 AM,,,,,,3.0,3.0 M2,,,,,,,,,0,,,,,,,,,Seems like Groovy stubs are not generated.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxk7:",11843,,,,,52174,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmirr:",74791,,,,,,,,,,,"1|hwiij3:",52328,465696000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwog0f:",64458,,,,,,,,,,,,,,,,,,,,,,,,,,52174,,"1|hwihlr:",52181,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expressions in for loops with closure lists are not flagged as branches,CLOV-859,101411,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,08/Feb/2010 5:05 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,16/Feb/2010 6:05 AM,,,,,,3.0,3.0 M2,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxhj:",11831,,,,,52171,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmit3:",74797,,,,,,,,,,,"1|hwiiif:",52325,466041600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwoetz:",64242,,,,,,,,,,,,,,,,,,,,,,,,,,52171,,"1|hwihl3:",52178,,,,,,,,,,,,,,,,,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE when instrumenting if statement in field closure,CLOV-858,101400,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,npellow,npellow,08/Feb/2010 1:19 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,16/Feb/2010 6:05 AM,,,,,,3.0,3.0 M2,,Groovy,,,,,,,0,,,,,,,,,"When clover is enabled in the pet-store sample project, the following Exception is thrown:

{code}
Caused by: java.lang.NullPointerException
	at com.atlassian.clover.instr.groovy.InstrumentingCodeVisitor.visitIfElse(InstrumentingCodeVisitor.java:622)
	at org.codehaus.groovy.ast.stmt.IfStatement.visit(IfStatement.java:41)
	at org.codehaus.groovy.ast.CodeVisitorSupport.visitBlockStatement(CodeVisitorSupport.java:38)
	at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitBlockStatement(ClassCodeVisitorSupport.java:129)
	at org.codehaus.groovy.ast.stmt.BlockStatement.visit(BlockStatement.java:52)
	at com.atlassian.clover.instr.groovy.InstrumentingCodeVisitor.visitClosureExpression(InstrumentingCodeVisitor.java:719)
	at org.codehaus.groovy.ast.expr.ClosureExpression.visit(ClosureExpression.java:46)
	at com.atlassian.clover.instr.groovy.InstrumentingCodeVisitor.visitField(InstrumentingCodeVisitor.java:581)
	at org.codehaus.groovy.ast.ClassNode.visitContents(ClassNode.java:1045)
	at org.codehaus.groovy.ast.ClassCodeVisitorSupport.visitClass(ClassCodeVisitorSupport.java:48)
	at com.atlassian.clover.instr.groovy.InstrumentingCodeVisitor.visitClass(InstrumentingCodeVisitor.java:177)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoCachedMethodSiteNoUnwrapNoCoerce.invoke(PojoMetaMethodSite.java:229)
	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:52)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
	at com.atlassian.clover.instr.groovy.ASTTransformer$_visit_closure6.doCall(ASTTransformer.groovy:158)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:86)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:234)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1049)
	at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:923)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:880)
	at groovy.lang.Closure.call(Closure.java:279)
	at groovy.lang.Closure.call(Closure.java:292)
	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:1165)
	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:1141)
	at org.codehaus.groovy.runtime.dgm$96.invoke(Unknown Source)
	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoMetaMethodSiteNoUnwrapNoCoerce.invoke(PojoMetaMethodSite.java:270)
	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:52)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callSafe(AbstractCallSite.java:90)
	at com.atlassian.clover.instr.groovy.ASTTransformer.visit(ASTTransformer.groovy:136)
	at com.atlassian.clover.instr.groovy.ASTTransformer$visit.callCurrent(Unknown Source)
	at com.atlassian.clover.instr.groovy.ASTTransformer.visit(ASTTransformer.groovy:95)
	at org.codehaus.groovy.transform.ASTTransformationVisitor$3.call(ASTTransformationVisitor.java:303)
	at org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:820)


{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxh3:",11829,,,,,52175,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmitb:",74798,,,,,,,,,,,"1|hwiijb:",52329,466041600,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqg5r:",76496,,,,,,,,,,,,,,,,,,,,,,,,,,52175,,"1|hwihlz:",52182,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Statements in if statements without braces aren't instrumented,CLOV-855,101258,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,05/Feb/2010 6:45 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,16/Feb/2010 6:05 AM,,,,,,3.0,3.0 M2,,Groovy,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxfr:",11823,,,,,52168,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmitz:",74801,,,,,,,,,,,"1|hwiihr:",52322,466300800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqg4n:",76491,,,,,,,,,,,,,,,,,,,,,,,,,,52168,,"1|hwihkf:",52175,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Coverage Data not being reloaded after a flush in CloverReporter,CLOV-854,101167,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,04/Feb/2010 5:58 AM,15/Feb/2010 10:24 PM,15/Nov/2024 6:09 PM,15/Feb/2010 10:24 PM,,,,,,3.0,3.0 M2,,Reporting,,,,,,,0,,,,,,,,,"Although a flush is occurring, the coverage data is not being read from disk afterwards.
This means no report can be generated, instead the following warning is logged:

{code}
[clover-html-report] Loading coverage database from: '/Users/niick/projects/CLOV-trunk/grails/testcases/petclinic/build/clover/db/clover.db'
<flushing happens here>
[clover-html-report] No coverage recordings found. No report will be generated.
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxfj:",11822,,,,,52203,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiu7:",74802,,,,,,,,,,,"1|hwiipb:",52357,466387200,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqg93:",76511,,,,,,,,,,,,,,,,,,,,,,,,,,52203,,"1|hwihrz:",52210,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement branch coverage for safe navigations foo?.bar?.baz,CLOV-853,101145,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,04/Feb/2010 3:44 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,16/Feb/2010 6:06 AM,,,,,,3.0,3.0 M2,,Groovy,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxf3:",11820,,,,,52160,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiuf:",74803,,,,,,,,,,,"1|hwiifz:",52314,466387200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqg3j:",76486,,,,,,,,,,,,,,,,,,,,,,,,,,52160,,"1|hwihin:",52167,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix complexity values for case & try statements, field initialiser ""methods"" and branchs wrt embedded binary expressions",CLOV-852,101143,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,04/Feb/2010 3:30 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,16/Feb/2010 6:05 AM,,,,,,3.0,3.0 M2,,Groovy,,,,,,,0,,,,,,,,,,,,";05/Feb/2010 4:57 AM;mstudman;10800",";05/Feb/2010 7:30 AM;mstudman;9360",";15/Feb/2010 6:04 AM;mstudman;18000",,0,38160,,,0,38160,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxen:",11818,,,,,52169,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiun:",74804,,,,,,,,,,,"1|hwiihz:",52323,466387200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqg4v:",76492,,,,,,,,,,,,,,,,,,,,,,,,,,52169,,"1|hwihkn:",52176,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Grails Test fail due to Clover Instrumentation,CLOV-851,101095,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,npellow,npellow,03/Feb/2010 5:46 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,16/Feb/2010 6:06 AM,,,,,,3.0,3.0 M2,,Groovy,,,,,,,0,,,,,,,,,"The following groovy test fails when instrumented with Clover:
This is from the PetStore sample app

{code}
package org.grails.samples

class OwnerControllerTests extends grails.test.ControllerUnitTestCase {

  void testAddGET() {
    def controller = newInstance()

    controller.request.method = 'GET'
    def model = controller.add()

    assertNotNull model.ownerBean
    assertTrue model.ownerBean instanceof Owner
  }

  void testAddInvalidOwner() {
    def controller = newInstance()
    mockDomain(Owner)
    controller.request.method = 'POST'

    controller.add()

    assertEquals ""add"", renderArgs.view
    assertNotNull renderArgs.model.ownerBean
  }

  void testValidOwner() {
    def controller = newInstance()
    mockDomain(Owner)

    controller.params.owner = [firstName: 'fred',
            lastName: 'flintstone',
            address: 'rocky street',
            city: 'dinoville',
            telephone: '347239873']

    controller.add()

    assertEquals ""show"", redirectArgs.action
  }

  void testFindNoResults() {
    def controller = newInstance()
    mockDomain(Owner)
    controller.request.method = 'POST'

    def model = controller.find.call()
    assertEquals 'owners.not.found', model?.message
  }

  void testFindOneResult() {
    def controller = newInstance()

    mockDomain(Owner, [new Owner(id: 10L, lastName: ""flintstone"")])

    controller.request.method = 'POST'
    controller.params.lastName = 'flintstone'
    controller.find.call()


    assertEquals ""show"", redirectArgs.action
    assertEquals 10L, redirectArgs.id
  }

  void testFindManyResults() {
    mockDomain(Owner, [new Owner(id: 10L, lastName: ""flintstone""), new Owner(id: 12L, lastName: ""flintstone"")])

    def controller = newInstance()
    controller.request.method = 'POST'
    controller.params.lastName = 'flintstone'
    controller.find.call()


    assertEquals ""selection"", renderArgs.view
    assertNotNull renderArgs.model.owners
    assertEquals 2, renderArgs.model.owners.size()
  }

}
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Feb/2010 4:58 AM;npellow;OwnerControllerTests.groovy.after.clovered;https://jira.atlassian.com/secure/attachment/36471/OwnerControllerTests.groovy.after.clovered","08/Feb/2010 4:58 AM;npellow;OwnerControllerTests.groovy.before.clovered;https://jira.atlassian.com/secure/attachment/36472/OwnerControllerTests.groovy.before.clovered","03/Feb/2010 11:45 PM;npellow;stack.txt;https://jira.atlassian.com/secure/attachment/36439/stack.txt",,,,,,,,,,,,,,true,,"1|hwbxef:",11817,,,,,52165,,,,,,Unknown,,,,,2010-02-11 00:25:34.35,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiuv:",74805,,,,,,,,,,,"1|hwiih3:",52319,465782400,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwof67:",64306,,,,,,,,,,,,,,,,,,,,,,,,,,52165,,"1|hwihjr:",52172,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"03/Feb/2010 11:45 PM;npellow;The actual stack trace from the unit test that fails.;;;","08/Feb/2010 4:58 AM;npellow;Attaching the AST both before and after instrumentation.;;;","11/Feb/2010 12:25 AM;mstudman;This turned out to be a problem caused by the test instrumentation strategy - I was wrapping the test statements in a new block but the use of constants e.g. def a = 1 somehow got upset with this (my working theory is that a previous compiler phase bound the constants to fields in the enclosing class but by then wrapping these in a closure a later compiler phase expected the constant on the closure class.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Recorder class names for Groovy source are not always Idents,CLOV-850,101082,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,03/Feb/2010 4:34 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,16/Feb/2010 6:05 AM,,,,,,3.0,3.0 M2,,Groovy,,,,,,,0,,,,,,,,,1Foo.groovy with class Foo will create a recorder class 1Foo$__CLR3_0_0... which is not legal. Similarly Foo-bar.groovy -> Foo-bar$__CLR3_0_0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxdj:",11813,,,,,52167,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiv3:",74806,,,,,,,,,,,"1|hwiihj:",52321,466473600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqg4f:",76490,,,,,,,,,,,,,,,,,,,,,,,,,,52167,,"1|hwihk7:",52174,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IOException when tmp dir does not exist,CLOV-849,101063,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,03/Feb/2010 3:35 AM,09/Feb/2010 11:13 PM,15/Nov/2024 6:09 PM,09/Feb/2010 11:13 PM,,,,,,3.0,3.0 M2,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxcv:",11810,,,,,52475,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmivb:",74807,,,,,,,,,,,"1|hwikdj:",52629,466473600,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqhsf:",76762,,,,,,,,,,,,,,,,,,,,,,,,,,52475,,"1|hwijg7:",52482,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Field initialisers have no coverage,CLOV-848,101050,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,npellow,npellow,02/Feb/2010 11:50 PM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,16/Feb/2010 6:06 AM,,,,,,3.0,3.0 M2,,Groovy,,,,,,,0,,,,,,,,,"fields with closures are not being instrumented:

e.g.

def bar = {
  println ""hi""
}

will have no instrumentation on the bar method.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxc7:",11807,,,,,52159,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmivj:",74808,,,,,,,,,,,"1|hwiifr:",52313,466473600,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqg3b:",76485,,,,,,,,,,,,,,,,,,,,,,,,,,52159,,"1|hwihif:",52166,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix AIOOBE in WITH.CLOVER when rendering some of our Groovy code,CLOV-845,100955,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,01/Feb/2010 6:52 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,16/Feb/2010 6:06 AM,,,,,,3.0,3.0 M2,,,,,,,,,0,,,,,,,,,E.g. https://bamboo.extranet.atlassian.com/browse/CCD-WCLV-644/log,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxbr:",11805,,,,,52161,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiw7:",74811,,,,,,,,,,,"1|hwiig7:",52315,466041600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqg3r:",76487,,,,,,,,,,,,,,,,,,,,,,,,,,52161,,"1|hwihiv:",52168,,,,,,,,,,,,,,,,,,,,,,4,,,,,,,"08/Feb/2010 7:35 AM;mstudman;At first glance this seems to be due to trailing blank lines being evicted from the line array.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Fix randomly breaking test CloverDatatabaseTest.testUpdateIdentityMerge,CLOV-839,100469,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Cannot Reproduce,mstudman,mstudman,mstudman,21/Jan/2010 8:25 PM,22/Jan/2014 10:41 AM,15/Nov/2024 6:09 PM,27/Apr/2012 8:31 AM,3.0,,,,,won't fix,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbusn:",11395,,,,,52954,,,,,,Unknown,,,,,2012-04-27 08:31:32.692,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmix3:",74815,,,,,,,,,,,"1|hwin7j:",53108,396144000,true,,,,,,,,,,mparfianowicz(mparfianowicz),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwqjn3:",77067,,,,,,,,,,,,,,,,,,,,,,,,,,52954,,"1|hwima7:",52961,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"27/Apr/2012 8:31 AM;mparfianowicz;Test passes. Closing as not valid anymore.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Clover for IDEA offers to ""upgrade"" me to an older release",CLOV-836,100373,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,,tmoore,tmoore,19/Jan/2010 11:57 PM,22/Jan/2014 12:04 PM,15/Nov/2024 6:09 PM,26/Jan/2010 4:48 PM,2.6.3.1,,,,,2.6.3.1,,,CIJ Plugin,,,,,,,0,,,,,,,,,"I just upgraded to IDEA 9.0.1 and installed Clover 2.6.3.1. When I restarted IDEA, I got a blinking clover icon in the bottom status bar. When I clicked it, I was prompted to ""upgrade"" to 2.6.3.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jan/2010 11:57 PM;tmoore;upgrade-to-older.jpg;https://jira.atlassian.com/secure/attachment/36232/upgrade-to-older.jpg",,,,,,,,,,,,,,,,true,,"1|hwbxbz:",11806,,,,,52907,,,,,,Unknown,,,,,2010-01-26 16:48:34.465,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmixj:",74817,,,,,,,,,,,"1|hwimxb:",53061,467164800,true,,,,,,,,,,sginter(sginter),tmoore(tmoore),,,,,,,,,,,,,,,,,,"1|hwqji7:",77045,,,,,,,,,,,,,,,,,,,,,,,,,,52907,,"1|hwilzz:",52914,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"26/Jan/2010 4:48 PM;sginter;Latest version info updated to 2.6.3.1

Thanks for reporting this!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Started IntelliJ 9 Ultimate, had to restart because plugin was just installed. Did nothing else besided that the previously opened Maven multi-module project was opened.",CLOV-833,100121,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,,b9a1ae07e4e8,b9a1ae07e4e8,13/Jan/2010 11:28 AM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,13/Jan/2010 1:05 PM,,,,,,won't fix,,,CIJ Plugin,,,,,,,0,Clover_for_IDEA,IDEA,IntelliJ,maven,plugin,,,,"com/intellij/util/ui/treetable/TreeTableTree: com/intellij/util/ui/treetable/TreeTableTree
java.lang.NoClassDefFoundError: com/intellij/util/ui/treetable/TreeTableTree
	at com.cenqua.clover.idea.CloverToolWindow.getCoveragePane(CloverToolWindow.java:180)
	at com.cenqua.clover.idea.CloverToolWindow.initComponents(CloverToolWindow.java:111)
	at com.cenqua.clover.idea.CloverToolWindow.<init>(CloverToolWindow.java:67)
	at com.cenqua.clover.idea.CloverToolWindow.getInstance(CloverToolWindow.java:57)
	at com.cenqua.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:113)
	at com.cenqua.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:73)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:748)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:200)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:175)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$100(StartupManagerImpl.java:39)
	at com.intellij.ide.startup.impl.StartupManagerImpl$2.run(StartupManagerImpl.java:144)
	at com.intellij.openapi.project.DumbServiceImpl.a(DumbServiceImpl.java:167)
	at com.intellij.openapi.project.DumbServiceImpl.access$1000(DumbServiceImpl.java:49)
	at com.intellij.openapi.project.DumbServiceImpl$IndexUpdateRunnable$1$2.run(DumbServiceImpl.java:289)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)
	at com.intellij.ide.IdeEventQueue.f(IdeEventQueue.java:621)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:511)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:372)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)
Caused by: java.lang.ClassNotFoundException: com.intellij.util.ui.treetable.TreeTableTree
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:70)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:248)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:316)
	... 25 more

","Java version=1.6.0_17, Java vendor=Sun Microsystems Inc., OS name=Windows Server 2008 R2, OS architecture=x86, IDEA build number=IU-93.13
Plugin release=2.6.3-v20091123140000",,,,,,,,,,,,,,,,,,,,,,,CLOV-601,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw8f:",11628,,,,,77834,,,,,,Unknown,,,,,2010-01-13 13:05:56.515,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmixz:",74819,,,,,,,,,,,"1|hwmslr:",77948,468288000,true,,,,,,,,,,b9a1ae07e4e8(koozz),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwqxvb:",80744,,,,,,,,,,,,,,,,,,,,,,,,,,77834,,"1|hwmrwf:",77837,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"13/Jan/2010 1:05 PM;mstudman;A duplicate of http://jira.atlassian.com/browse/CLOV-601

Jetbrains broke some of their APIs in the 9.0 final version which broke our plugin. This will be fixed in 9.0.1. The latest version of Clover-for-IDEA (off their plugin repository) will happily work with the 9.0.1 EAP builds. Until 9.0.1 is formally released this is the only way to use Clover-for-IDEA on IDEA 9.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Instrumentation code for static test methods is invalid,CLOV-832,100071,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,12/Jan/2010 2:16 PM,15/May/2012 2:04 PM,15/Nov/2024 6:09 PM,15/May/2012 2:04 PM,2.6,,,,,3.0,,,,,,,,,,0,,,,,,,,,"{code}
\{try\{__CLR2_6_355e55eg33f5jfo.R.globalSliceStart(BackendTimeoutValueTestCase.class,6678);__CLR2_6_355e55eg33f5jfo.R.inc(6678);
{code}

should be

{code}
\{try\{__CLR2_6_355e55eg33f5jfo.R.globalSliceStart(BackendTimeoutValueTestCase.class.getName(),6678);__CLR2_6_355e55eg33f5jfo.R.inc(6678);
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbtwf:",11250,,,,,56387,,,,,,Unknown,,,,,2012-05-15 14:03:36.957,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiy7:",74820,,,,,,,,,,,"1|hwj7ef:",56536,394588800,true,,,,,,,,,,mparfianowicz(mparfianowicz),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwqrpz:",79274,,,,,,,,,,,,,,,,,,,,,,,,,,56387,,"1|hwj6i7:",56394,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"15/May/2012 2:03 PM;mparfianowicz;Already implemented in rev 51317 on 12.01.2012. Delivered in Clover 3.0.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
On launch of IntelliJ IDEA 9 there is a plugin error involving Clover,CLOV-830,99422,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Duplicate,sginter,2a73e794c7f3,2a73e794c7f3,22/Dec/2009 6:15 PM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,23/Dec/2009 9:17 AM,2.6.3,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/intellij/util/ui/treetable/TreeTableTree: com/intellij/util/ui/treetable/TreeTableTree
java.lang.NoClassDefFoundError: com/intellij/util/ui/treetable/TreeTableTree
	at com.cenqua.clover.idea.CloverToolWindow.getCoveragePane(CloverToolWindow.java:180)
	at com.cenqua.clover.idea.CloverToolWindow.initComponents(CloverToolWindow.java:111)
	at com.cenqua.clover.idea.CloverToolWindow.<init>(CloverToolWindow.java:67)
	at com.cenqua.clover.idea.CloverToolWindow.getInstance(CloverToolWindow.java:57)
	at com.cenqua.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:113)
	at com.cenqua.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:73)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:748)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:200)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:175)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$100(StartupManagerImpl.java:39)
	at com.intellij.ide.startup.impl.StartupManagerImpl$2.run(StartupManagerImpl.java:144)
	at com.intellij.openapi.project.DumbServiceImpl.a(DumbServiceImpl.java:167)
	at com.intellij.openapi.project.DumbServiceImpl.access$1000(DumbServiceImpl.java:49)
	at com.intellij.openapi.project.DumbServiceImpl$IndexUpdateRunnable$1$2.run(DumbServiceImpl.java:289)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:461)
	at com.intellij.ide.IdeEventQueue.f(IdeEventQueue.java:621)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:511)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:372)
	at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:269)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:190)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:184)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:176)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:110)

","Java version=1.5.0_22, Java vendor=Apple Inc., OS name=Mac OS X, OS architecture=i386, IDEA build number=IU-93.13
Plugin release=2.6.3-v20091123140000",,,,,,,,,,,,,,,,,,,,,,,CLOV-601,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxbb:",11803,,,,,77267,,,,,,,,,,,2009-12-23 09:17:13.886,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiyn:",74822,,,,,,,,,,,"1|hwmpm7:",77381,470102400,true,,,,,,,,,,2a73e794c7f3(jss),mstudman(mstudman),sginter(sginter),,,,,,,,,,,,,,,,,"1|hwqw4f:",80295,,,,,,,,,,,,,,,,,,,,,,,,,,77267,,"1|hwmowv:",77270,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Dec/2009 9:17 AM;mstudman;Closing as a duplicate. Please track this issue at http://jira.atlassian.com/browse/CLOV-601;;;","23/Dec/2009 9:17 AM;mstudman;Closing as a duplicate. Please track this issue at http://jira.atlassian.com/browse/CLOV-601;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Copy and pasting the license is not robust,CLOV-829,99381,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,sginter,721bf92a4ae3,721bf92a4ae3,21/Dec/2009 9:34 PM,21/May/2012 10:07 AM,15/Nov/2024 6:09 PM,26/Jan/2010 4:46 PM,2.6.3,,,,,3.0,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Error during dispatching of java.awt.event.MouseEvent[MOUSE_RELEASED,(405,229),absolute(815,441),button=1,modifiers=Button1,clickCount=1] on dialog0: Could not find any valid decoders in [clover.com.atlassian.extras.decoder.v2.Version2LicenseDecoder@1bc887a, clover.com.atlassian.extras.decoder.v1.Version1LicenseDecoder@a432b0] for license string <Eclipse >
clover.com.atlassian.extras.decoder.api.LicenseDecoderNotFoundException: Could not find any valid decoders in [clover.com.atlassian.extras.decoder.v2.Version2LicenseDecoder@1bc887a, clover.com.atlassian.extras.decoder.v1.Version1LicenseDecoder@a432b0] for license string <Eclipse >
	at clover.com.atlassian.extras.decoder.api.DelegatingLicenseDecoder.decode(DelegatingLicenseDecoder.java:47)
	at clover.com.atlassian.extras.core.DefaultLicenseManager.decodeLicense(DefaultLicenseManager.java:63)
	at clover.com.atlassian.extras.core.DefaultLicenseManager.getLicense(DefaultLicenseManager.java:48)
	at com.cenqua.clover.CloverLicense.<init>(CloverLicense.java:96)
	at com.cenqua.clover.idea.config.LicenseConfigPanel.verifyLicense(LicenseConfigPanel.java:240)
	at com.cenqua.clover.idea.config.LicenseConfigPanel.actionPerformed(LicenseConfigPanel.java:215)
	at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)
	at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)
	at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)
	at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)
	at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)
	at java.awt.Component.processMouseEvent(Component.java:6263)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3255)
	at java.awt.Component.processEvent(Component.java:6028)
	at java.awt.Container.processEvent(Container.java:2041)
	at java.awt.Component.dispatchEventImpl(Component.java:4630)
	at java.awt.Container.dispatchEventImpl(Container.java:2099)
	at java.awt.Component.dispatchEvent(Component.java:4460)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4574)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4238)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4168)
	at java.awt.Container.dispatchEventImpl(Container.java:2085)
	at java.awt.Window.dispatchEventImpl(Window.java:2475)
	at java.awt.Component.dispatchEvent(Component.java:4460)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)
	at com.intellij.ide.IdeEventQueue.f(IdeEventQueue.java:621)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:507)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:372)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:178)
	at java.awt.Dialog$1.run(Dialog.java:1045)
	at java.awt.Dialog$3.run(Dialog.java:1097)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.awt.Dialog.show(Dialog.java:1095)
","Java version=1.6.0_17, Java vendor=Sun Microsystems Inc., OS name=Windows 7, OS architecture=x86, IDEA build number=IU-93.13
Plugin release=2.6.3-v20091123140000",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbtxb:",11254,,,,,52908,,,,,,,,,,,2010-01-26 16:37:13.07,,,,,,,,,,,,,,,,,,,,,,,,"2|hwc4yf:",12127,,,,,,,,,,,"1|hwimxj:",53062,467164800,true,,,,,,,,,,721bf92a4ae3(ben@lshift.net),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwofof:",64394,,,,,,,,,,,,,,,,,,,,,,,,,,52908,,"1|hwim07:",52915,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Jan/2010 4:37 PM;sginter;Decreasing priority to Major as an easy workaround is available: Please don't paste invalid licenses ;-)

I recommend upgrading to IDEA 9.0.1 and Clover for IDEA 2.6.3.1 - your configuration won't work, unfortunatelly.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Plugin crashes as soon as IDEA has finished indexing upon start,CLOV-828,99380,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,,721bf92a4ae3,721bf92a4ae3,21/Dec/2009 9:27 PM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,21/Dec/2009 9:41 PM,,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/intellij/util/ui/treetable/TreeTableTree: com/intellij/util/ui/treetable/TreeTableTree
java.lang.NoClassDefFoundError: com/intellij/util/ui/treetable/TreeTableTree
	at com.cenqua.clover.idea.CloverToolWindow.getCoveragePane(CloverToolWindow.java:180)
	at com.cenqua.clover.idea.CloverToolWindow.initComponents(CloverToolWindow.java:111)
	at com.cenqua.clover.idea.CloverToolWindow.<init>(CloverToolWindow.java:67)
	at com.cenqua.clover.idea.CloverToolWindow.getInstance(CloverToolWindow.java:57)
	at com.cenqua.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:113)
	at com.cenqua.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:73)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:748)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:200)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:175)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$100(StartupManagerImpl.java:39)
	at com.intellij.ide.startup.impl.StartupManagerImpl$2.run(StartupManagerImpl.java:144)
	at com.intellij.openapi.project.DumbServiceImpl.a(DumbServiceImpl.java:167)
	at com.intellij.openapi.project.DumbServiceImpl.access$1000(DumbServiceImpl.java:49)
	at com.intellij.openapi.project.DumbServiceImpl$IndexUpdateRunnable$1$2.run(DumbServiceImpl.java:289)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)
	at com.intellij.ide.IdeEventQueue.f(IdeEventQueue.java:621)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:511)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:372)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)
Caused by: java.lang.ClassNotFoundException: com.intellij.util.ui.treetable.TreeTableTree
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:70)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:248)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:316)
	... 25 more

","Java version=1.6.0_17, Java vendor=Sun Microsystems Inc., OS name=Windows 7, OS architecture=x86, IDEA build number=IU-93.13
Plugin release=2.6.3-v20091123140000",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw87:",11627,,,,,77835,,,,,,,,,,,2009-12-21 21:41:08.973,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiyv:",74823,,,,,,,,,,,"1|hwmslz:",77949,470188800,true,,,,,,,,,,721bf92a4ae3(ben@lshift.net),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwqrx3:",79327,,,,,,,,,,,,,,,,,,,,,,,,,,77835,,"1|hwmrwn:",77838,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Dec/2009 9:41 PM;mstudman;Duplicate of http://jira.atlassian.com/browse/CLOV-821;;;","21/Dec/2009 9:44 PM;mstudman;Thanks for reporting this. I've added a link to the original JIRA that yours is duplicating. Please track progress there.

At present, we can't support 9.0 and are awaiting 9.0.1 (due this week according to our sources) which fixes some last-minute breakages by Jetbrains that affect Clover.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Clover support for Intellij 9,CLOV-827,99345,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,,a37c215c2fd6,a37c215c2fd6,18/Dec/2009 9:50 PM,26/Jan/2010 5:01 PM,15/Nov/2024 6:09 PM,26/Jan/2010 5:01 PM,2.6.3,,,,,2.6.3.1,,,CIJ Plugin,,,,,,,1,,,,,,,,,"com/intellij/util/ui/treetable/TreeTableTree: com/intellij/util/ui/treetable/TreeTableTree
java.lang.NoClassDefFoundError: com/intellij/util/ui/treetable/TreeTableTree
	at com.cenqua.clover.idea.CloverToolWindow.getCoveragePane(CloverToolWindow.java:180)
	at com.cenqua.clover.idea.CloverToolWindow.initComponents(CloverToolWindow.java:111)
	at com.cenqua.clover.idea.CloverToolWindow.<init>(CloverToolWindow.java:67)
	at com.cenqua.clover.idea.CloverToolWindow.getInstance(CloverToolWindow.java:57)
	at com.cenqua.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:113)
	at com.cenqua.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:73)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:748)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:200)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:175)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$100(StartupManagerImpl.java:39)
	at com.intellij.ide.startup.impl.StartupManagerImpl$2.run(StartupManagerImpl.java:144)
	at com.intellij.openapi.project.DumbServiceImpl.a(DumbServiceImpl.java:167)
	at com.intellij.openapi.project.DumbServiceImpl.access$1000(DumbServiceImpl.java:49)
	at com.intellij.openapi.project.DumbServiceImpl$IndexUpdateRunnable$1$2.run(DumbServiceImpl.java:289)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:633)
	at com.intellij.ide.IdeEventQueue.f(IdeEventQueue.java:621)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:511)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:372)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)
Caused by: java.lang.ClassNotFoundException: com.intellij.util.ui.treetable.TreeTableTree
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:70)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:250)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:398)
	... 25 more

Original exception: com.intellij.util.ui.treetable.TreeTableTree
java.lang.ClassNotFoundException: com.intellij.util.ui.treetable.TreeTableTree
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:70)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:250)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:398)
	at com.cenqua.clover.idea.CloverToolWindow.getCoveragePane(CloverToolWindow.java:180)
	at com.cenqua.clover.idea.CloverToolWindow.initComponents(CloverToolWindow.java:111)
	at com.cenqua.clover.idea.CloverToolWindow.<init>(CloverToolWindow.java:67)
	at com.cenqua.clover.idea.CloverToolWindow.getInstance(CloverToolWindow.java:57)
	at com.cenqua.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:113)
	at com.cenqua.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:73)","Java version=1.6.0_17, Java vendor=Apple Inc., OS name=Mac OS X, OS architecture=i386, IDEA build number=IU-93.13
Plugin release=2.6.3-v20091123140000",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx4f:",11772,,,,,52906,,,,,,,,,,,2010-01-26 17:01:15.523,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmiz3:",74824,,,,,,,,,,,"1|hwimx3:",53060,467164800,true,,,,,,,,,,a37c215c2fd6(gus4000),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwqjhz:",77044,,,,,,,,,,,,,,,,,,,,,,,,,,52906,,"1|hwilzr:",52913,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Jan/2010 5:01 PM;sginter;Duplicate of CLOV-601

Please use IDEA 9.0.1 and Clover for IDEA 2.6.3.1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
clover2:instrument doesn't work with ServiceMix,CLOV-826,99332,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,andrew.myers,andrew.myers,18/Dec/2009 5:07 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,2.6.3,,,,,open-source,,,Maven plugin,,,,,,,1,,,,,,,,,"If you are using [ServiceMix|http://servicemix.apache.org/home.html] running {mvn clover2:instrument install clover2:aggregate clover2:clover}} fails with the following error: 

{noformat}[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Failed to inject dependencies

Embedded error: java.io.IOException: File /Users/..omitted../wsdl-first-cxfbc-su-3.3.r1-clover.zip does not exist{noformat}

If you use clover2:setup instead it will work. 

I don't know if the problem is with clover as such, but basically what happens is that when the build is running ServiceMix generates a bunch of files for each module e.g. {{wsdl-first-cxfbc-su-3.3.r1.jar, wsdl-first-cxfbc-su-3.3.r1.pom, wsdl-first-cxfbc-su-3.3.r1.zip}}. When you include clover2:instrument in the build, the jar above gets created with a -clover extension (wsdl-first-cxfbc-su-3.3.r1-clover.jar), but the zip files get the usual name. 

So it looks like the way we fork the lifcycle is just incompatible with ServiceMix. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvxz:",11581,,,,,56388,,,,,,Unknown,,,,,2012-09-04 11:47:41.161,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmizb:",74825,,,,,,,,,,,"1|hwj7en:",56537,470534400,true,,,,,,,,,,andrew.myers(andrew.myers),,,,,,,,,,,,,,,,,,,"1|hwfkfr:",82327,,,,,,,,,,,,,,,,,,,,,,,,,,56388,,"1|hwj6if:",56395,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover Plugin does not work with IDEA9 (officially released version),CLOV-821,98915,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Duplicate,sginter,8d9e30a3b840,8d9e30a3b840,09/Dec/2009 2:56 PM,23/Dec/2009 9:16 AM,15/Nov/2024 6:09 PM,23/Dec/2009 9:16 AM,,,,,,2.6.3.1,,,CIJ Plugin,,,,,,,1,,,,,,,,,"com/intellij/util/ui/treetable/TreeTableTree: com/intellij/util/ui/treetable/TreeTableTree
java.lang.NoClassDefFoundError: com/intellij/util/ui/treetable/TreeTableTree
	at com.cenqua.clover.idea.CloverToolWindow.getCoveragePane(CloverToolWindow.java:180)
	at com.cenqua.clover.idea.CloverToolWindow.initComponents(CloverToolWindow.java:111)
	at com.cenqua.clover.idea.CloverToolWindow.<init>(CloverToolWindow.java:67)
	at com.cenqua.clover.idea.CloverToolWindow.getInstance(CloverToolWindow.java:57)
	at com.cenqua.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:113)
	at com.cenqua.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:73)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:748)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:200)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:175)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$100(StartupManagerImpl.java:39)
	at com.intellij.ide.startup.impl.StartupManagerImpl$2.run(StartupManagerImpl.java:144)
	at com.intellij.openapi.project.DumbServiceImpl.a(DumbServiceImpl.java:167)
	at com.intellij.openapi.project.DumbServiceImpl.access$1000(DumbServiceImpl.java:49)
	at com.intellij.openapi.project.DumbServiceImpl$IndexUpdateRunnable$1$2.run(DumbServiceImpl.java:289)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:633)
	at com.intellij.ide.IdeEventQueue.f(IdeEventQueue.java:621)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:511)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:372)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)
Caused by: java.lang.ClassNotFoundException: com.intellij.util.ui.treetable.TreeTableTree
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:70)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:250)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:398)
	... 25 more

","Java version=1.6.0_17, Java vendor=Apple Inc., OS name=Mac OS X, OS architecture=x86_64, IDEA build number=IU-93.13
Plugin release=2.6.3-v20091123140000",,,,,,,,,,,,,,,,,,,,,,,CLOV-601,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx1z:",11761,,,,,77269,,,,,,,,,,,2009-12-09 22:49:05.864,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmizz:",74828,,,,,,,,,,,"1|hwmpmn:",77383,470102400,true,,,,,,,,,,8d9e30a3b840(armhold),mstudman(mstudman),npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,"1|hwqxgv:",80654,,,,,,,,,,,,,,,,,,,,,,,,,,77269,,"1|hwmoxb:",77272,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Dec/2009 10:49 PM;npellow;Hi George, 

Thanks for reporting this. We will try and get a new version of Clover out as soon as possible with a fix for this.
Sorry for the inconvenience in the meantime.

Cheers,
Nick;;;","23/Dec/2009 9:16 AM;mstudman;Closing as a duplicate. Please track this issue at http://jira.atlassian.com/browse/CLOV-601;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Clover does not provide any coverage info in IDEA IU-92.105,CLOV-820,98818,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,sginter,,,08/Dec/2009 6:02 AM,23/Dec/2009 9:16 AM,15/Nov/2024 6:09 PM,23/Dec/2009 9:16 AM,,,,,,2.6.3.1,,,CIJ Plugin,,,,,,,0,,,,,,,,,"com/intellij/util/ui/treetable/TreeTableTree: com/intellij/util/ui/treetable/TreeTableTree
java.lang.NoClassDefFoundError: com/intellij/util/ui/treetable/TreeTableTree
	at com.cenqua.clover.idea.CloverToolWindow.getCoveragePane(CloverToolWindow.java:180)
	at com.cenqua.clover.idea.CloverToolWindow.initComponents(CloverToolWindow.java:111)
	at com.cenqua.clover.idea.CloverToolWindow.<init>(CloverToolWindow.java:67)
	at com.cenqua.clover.idea.CloverToolWindow.getInstance(CloverToolWindow.java:57)
	at com.cenqua.clover.idea.ProjectPlugin.projectPostStartup(ProjectPlugin.java:113)
	at com.cenqua.clover.idea.ProjectPlugin$1.run(ProjectPlugin.java:73)
	at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:748)
	at com.intellij.ide.startup.impl.StartupManagerImpl$4.run(StartupManagerImpl.java:200)
	at com.intellij.ide.startup.impl.StartupManagerImpl.a(StartupManagerImpl.java:175)
	at com.intellij.ide.startup.impl.StartupManagerImpl.access$100(StartupManagerImpl.java:39)
	at com.intellij.ide.startup.impl.StartupManagerImpl$2.run(StartupManagerImpl.java:144)
	at com.intellij.openapi.project.DumbServiceImpl.a(DumbServiceImpl.java:167)
	at com.intellij.openapi.project.DumbServiceImpl.access$1000(DumbServiceImpl.java:49)
	at com.intellij.openapi.project.DumbServiceImpl$IndexUpdateRunnable$1$2.run(DumbServiceImpl.java:289)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:633)
	at com.intellij.ide.IdeEventQueue.f(IdeEventQueue.java:621)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:511)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:372)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)
Caused by: java.lang.ClassNotFoundException: com.intellij.util.ui.treetable.TreeTableTree
	at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:70)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:254)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:399)
	... 25 more

","Java version=1.6.0_15, Java vendor=Apple Inc., OS name=Mac OS X, OS architecture=i386, IDEA build number=IU-92.105
Plugin release=2.6.3-v20091123140000",,,,,,,,,,,,,,,,,,,,,,,CLOV-601,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx1j:",11759,,,,,77270,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj07:",74829,,,,,,,,,,,"1|hwmpmv:",77384,470102400,true,,,,,,,,,,mstudman(mstudman),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwqo1b:",78273,,,,,,,,,,,,,,,,,,,,,,,,,,77270,,"1|hwmoxj:",77273,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Dec/2009 9:16 AM;mstudman;Closing as a duplicate. Please track this issue at http://jira.atlassian.com/browse/CLOV-601;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Fix the documentation of clover2:clean mojo,CLOV-819,98299,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,sginter,sginter,sginter,26/Nov/2009 12:33 PM,13/Jan/2010 12:49 PM,15/Nov/2024 6:09 PM,13/Jan/2010 12:46 PM,2.6.3,,,,,2.6.3.1,3.0,3.0 M1,Documentation,Maven plugin,Test Optimization,,,,,0,,,,,,,,,"Documentation improperly states that the snapshot is not deleted.
It is.

See [CLV-5324|https://support.atlassian.com/browse/CLV-5324]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx1b:",11758,,,,,77271,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj0f:",74830,,,,,,,,,,,"1|hwmpn3:",77385,472435200,true,,,,,,,,,,sginter(sginter),,,,,,,,,,,,,,,,,,,"1|hwqo0f:",78267,,,,,,,,,,,,,,,,,,,,,,,,,,77271,,"1|hwmoxr:",77274,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Filtered reports, where source has moved from its original location, will be empty. Non filtered will not.",CLOV-813,97566,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,17/Nov/2009 8:28 PM,14/Dec/2009 4:20 PM,15/Nov/2024 6:09 PM,14/Dec/2009 4:20 PM,2.6.2,,,,,2.6.3,,,Ant Tasks,,,,,,,0,,,,,,,,,,,,";17/Nov/2009 8:32 PM;mstudman;14400",,,,0,14400,,,0,14400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwxb:",11740,,,,,77272,,,,,,Unknown,,,,,2009-12-14 16:20:01.079,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj1b:",74834,,,,,,,,,,,"1|hwmpnb:",77386,470880000,true,,,,,,,,,,mstudman(mstudman),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwqtbj:",79729,,,,,,,,,,,,,,,,,,,,,,,,,,77272,,"1|hwmoxz:",77275,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"17/Nov/2009 8:30 PM;mstudman;We need to take our queue from the supplied fileset in that case.

This occurs (even with a sourceset supplied) because filtering is presently done based on the original instrumentation path, not on the ""resolved"" (ie remapped using the sourceset) path.;;;","14/Dec/2009 4:20 PM;sginter;It was included and shipped with 2.6.3;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"When containers are shutting down, the Clover shutdown hook may encounter NCDFEs on final flush",CLOV-812,97442,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,sginter,mstudman,mstudman,16/Nov/2009 10:41 PM,20/Nov/2009 3:31 PM,15/Nov/2024 6:09 PM,20/Nov/2009 3:31 PM,,,,,,2.6.3,,,Instrumentation,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-815,,,,,,,,,,,,,,,,,,"16/Nov/2009 10:41 PM;mstudman;TestShutdownThread.zip;https://jira.atlassian.com/secure/attachment/35391/TestShutdownThread.zip",,,,,,,,,,,,,,,,true,,"1|hwbwwf:",11736,,,,,77273,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj1j:",74835,,,,,,,,,,,"1|hwmpnj:",77387,473212800,true,,,,,,,,,,mstudman(mstudman),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwqr67:",79124,,,,,,,,,,,,,,,,,,,,,,,,,,77273,,"1|hwmoy7:",77276,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Clover fails to parse code that invokes a constructor using a type argument e.g. ""MyBar myBar = new <Foo>MyBar();""",CLOV-811,97432,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,16/Nov/2009 7:16 PM,20/Nov/2009 4:10 PM,15/Nov/2024 6:09 PM,20/Nov/2009 2:55 PM,,,,,,2.6.3,,,,,,,,,,0,,,,,,,,,,,,";16/Nov/2009 7:55 PM;mstudman;5400",,,,0,5400,,,0,5400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwvr:",11733,,,,,91048,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj1r:",74836,,,,,,,,,,,"1|hwoson:",91159,473212800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqrfb:",79190,,,,,,,,,,,,,,,,,,,,,,,,,,91050,,"1|hworzr:",91050,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
<clover-check/> reports on added simple enum classes without methods ie public enum Foo { BAR },CLOV-810,97378,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mstudman,mstudman,16/Nov/2009 12:22 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,open-source,,,Ant Tasks,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbujb:",11353,,,,,27517,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj1z:",74837,,,,,,,,,,,"1|hwep7b:",28585,473299200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwfke7:",57903,,,,,,,,,,,,,,,,,,,,,,,,,,27517,,"1|hweio7:",27533,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
FileNotFoundExceptions when initstring is more than one path deep,CLOV-809,97281,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,12/Nov/2009 9:36 PM,17/Nov/2009 11:11 PM,15/Nov/2024 6:09 PM,12/Nov/2009 9:37 PM,,,,,,2.6.3,3.0,3.0 M1,CEP Plugin,,,,,,,0,,,,,,,,,"java.io.FileNotFoundException: C:\work\java\common\eclipse\.clover\coverage.db.tmp (The system cannot find the path specified)
	at java.io.RandomAccessFile.open(Native Method)
	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:212)
	at com.atlassian.clover.registry.format.FreshRegFile.saveImpl(FreshRegFile.java:60)
	at com.atlassian.clover.registry.format.FreshRegFile.saveImpl(FreshRegFile.java:18)
	at com.atlassian.clover.registry.format.RegFile.save(RegFile.java:38)
	at com.cenqua.clover.registry.Clover2Registry.overwriteSaveToFile(Clover2Registry.java:227)
	at com.cenqua.clover.registry.Clover2Registry.overwriteSaveToFile(Clover2Registry.java:203)
	at com.cenqua.clover.registry.Clover2Registry.appendSaveToFile(Clover2Registry.java:236)
	at com.cenqua.clover.instr.Instrumenter.endInstrumentation(Instrumenter.java:286)
	at com.cenqua.clover.eclipse.projects.builder.BaseInstrumenter.finish(BaseInstrumenter.java:84)
	at com.cenqua.clover.eclipse.projects.builder.BuildCoordinator.instrument(BuildCoordinator.java:195)
	at com.cenqua.clover.eclipse.projects.builder.BuildCoordinator.onEndOfBuild(BuildCoordinator.java:100)
	at com.cenqua.clover.eclipse.projects.builder.PostJavaCloverBuilder.build(PostJavaCloverBuilder.java:26)
	at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:627)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:170)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:201)
	at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:253)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:256)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:309)
	at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:341)
	at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:140)
	at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:238)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwuv:",11729,,,,,90235,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj27:",74838,,,,,,,,,,,"1|hwonvz:",90346,473558400,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqjpr:",77088,,,,,,,,,,,,,,,,,,,,,,,,,,90237,,"1|hwon73:",90237,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Copying groovy files before instrumentation collapses directory structure,CLOV-807,97175,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,npellow,npellow,11/Nov/2009 6:04 AM,03/Dec/2012 11:45 AM,15/Nov/2024 6:09 PM,25/Jan/2010 8:00 PM,,,,,,3.0,3.0 M1,,Groovy,,,,,,,0,,,,,,,,,"Currently the .groovy files are copied to a tmp dir before the ASTTransformer is added to the classpath.
The directory structure is however not preserved when copied.

Or, can we get away with not copying .groovy files before instrumentation occurs?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwuf:",11727,,,,,52915,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj2n:",74840,,,,,,,,,,,"1|hwimz3:",53069,473731200,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqjj3:",77049,,,,,,,,,,,,,,,,,,,,,,,,,,52915,,"1|hwim1r:",52922,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enabling Clover on a project sometimes fails if .clover already exists,CLOV-804,96786,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,04/Nov/2009 3:13 PM,17/Nov/2009 11:10 PM,15/Nov/2024 6:09 PM,04/Nov/2009 3:38 PM,2.6.2,,,,,2.6.3,3.0,3.0 M1,CEP Plugin,,,,,,,0,,,,,,,,,"org.eclipse.core.internal.resources.ResourceException: Resource '/j-bccommon/.clover' already exists.
	at org.eclipse.core.internal.resources.Resource.checkDoesNotExist(Resource.java:298)
	at org.eclipse.core.internal.resources.Resource.checkDoesNotExist(Resource.java:285)
	at org.eclipse.core.internal.resources.Folder.assertCreateRequirements(Folder.java:29)
	at org.eclipse.core.internal.resources.Folder.create(Folder.java:88)
	at com.cenqua.clover.eclipse.projects.builder.PathUtils.makeDerivedFolder(PathUtils.java:57)
	at com.cenqua.clover.eclipse.projects.builder.PathUtils.makeDerivedFoldersFor(PathUtils.java:35)
	at com.cenqua.clover.eclipse.projects.CloverProject.ensureWorkingDirCreated(CloverProject.java:194)
	at com.cenqua.clover.eclipse.projects.CloverProject.setProject(CloverProject.java:177)
	at org.eclipse.core.internal.resources.NatureManager.createNature(NatureManager.java:232)
	at org.eclipse.core.internal.resources.Project.getNature(Project.java:377)
	at com.cenqua.clover.eclipse.projects.CloverProject.isAppliedTo(CloverProject.java:213)
	at com.cenqua.clover.eclipse.projects.CloverProject.getFor(CloverProject.java:282)
	at com.cenqua.clover.eclipse.views.nodes.WorkspaceToCloveredProjRelationship.getChildren(WorkspaceToCloveredProjRelationship.java:25)
	at com.cenqua.clover.eclipse.views.nodes.NodeHierarchyBuilder.getChildren(NodeHierarchyBuilder.java:11)
	at com.cenqua.clover.eclipse.views.CloveredWorkspaceProvider.getChildren(CloveredWorkspaceProvider.java:44)
	at org.eclipse.ui.model.BaseWorkbenchContentProvider.getElements(BaseWorkbenchContentProvider.java:73)",,,";04/Nov/2009 3:38 PM;mstudman;1800",,,,0,1800,,,0,1800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwu7:",11726,,,,,79862,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj3b:",74843,,,,,,,,,,,"1|hwn4lb:",79976,474336000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqtw7:",79858,,,,,,,,,,,,,,,,,,,,,,,,,,79864,,"1|hwn3wf:",79867,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invalid thread access in CEP,CLOV-803,96784,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,04/Nov/2009 2:59 PM,10/Nov/2009 10:31 PM,15/Nov/2024 6:09 PM,04/Nov/2009 3:38 PM,2.6.2,,,,,2.6.3,3.0,3.0 M1,CEP Plugin,,,,,,,0,,,,,,,,,"org.eclipse.swt.SWTException: Invalid thread access
	at org.eclipse.swt.SWT.error(SWT.java:3884)
	at org.eclipse.swt.SWT.error(SWT.java:3799)
	at org.eclipse.swt.SWT.error(SWT.java:3770)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:463)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:355)
	at org.eclipse.swt.widgets.Tree.setRedraw(Tree.java:4715)
	at org.eclipse.jface.viewers.AbstractTreeViewer.labelProviderChanged(AbstractTreeViewer.java:2116)
	at org.eclipse.jface.viewers.ContentViewer.handleLabelProviderChanged(ContentViewer.java:193)
	at org.eclipse.jface.viewers.StructuredViewer.handleLabelProviderChanged(StructuredViewer.java:1142)
	at org.eclipse.jdt.internal.ui.javaeditor.JavaOutlinePage$JavaOutlineViewer.handleLabelProviderChanged(JavaOutlinePage.java:426)
	at org.eclipse.jface.viewers.ContentViewer$1.labelProviderChanged(ContentViewer.java:97)
	at org.eclipse.jface.viewers.BaseLabelProvider$1.run(BaseLabelProvider.java:74)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.runtime.Platform.run(Platform.java:888)
	at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48)
	at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175)
	at org.eclipse.jface.viewers.BaseLabelProvider.fireLabelProviderChanged(BaseLabelProvider.java:72)
	at org.eclipse.jface.viewers.DecoratingStyledCellLabelProvider$1.labelProviderChanged(DecoratingStyledCellLabelProvider.java:77)
	at org.eclipse.ui.internal.decorators.DecoratorManager$2.run(DecoratorManager.java:448)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.ui.internal.decorators.DecoratorManager.fireListeners(DecoratorManager.java:446)
	at org.eclipse.ui.internal.decorators.DecoratorManager.update(DecoratorManager.java:1101)
	at com.cenqua.clover.eclipse.exclusion.ExclusionLabelDecorator.decorationChanged(ExclusionLabelDecorator.java:64)
	at com.cenqua.clover.eclipse.exclusion.DecorationPreferenceChangeListener.preferenceChange(DecorationPreferenceChangeListener.java:16)
	at org.eclipse.core.internal.preferences.EclipsePreferences$2.run(EclipsePreferences.java:753)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
	at org.eclipse.core.internal.preferences.EclipsePreferences.firePreferenceEvent(EclipsePreferences.java:756)
	at org.eclipse.core.internal.preferences.EclipsePreferences.put(EclipsePreferences.java:769)
	at org.eclipse.core.internal.preferences.PreferencesService$1.visit(PreferencesService.java:174)
	at org.eclipse.core.internal.preferences.EclipsePreferences.accept(EclipsePreferences.java:105)
	at org.eclipse.core.internal.preferences.PreferencesService.applyPreferences(PreferencesService.java:195)
	at org.eclipse.core.internal.resources.ProjectPreferences.read(ProjectPreferences.java:233)
	at org.eclipse.core.internal.resources.ProjectPreferences.updatePreferences(ProjectPreferences.java:299)
	at org.eclipse.core.internal.resources.File.updateMetadataFiles(File.java:405)
	at org.eclipse.core.internal.localstore.RefreshLocalVisitor.visit(RefreshLocalVisitor.java:294)
	at org.eclipse.core.internal.localstore.UnifiedTree.accept(UnifiedTree.java:106)
	at org.eclipse.core.internal.localstore.FileSystemResourceManager.refreshResource(FileSystemResourceManager.java:784)
	at org.eclipse.core.internal.localstore.FileSystemResourceManager.refresh(FileSystemResourceManager.java:768)
	at org.eclipse.core.internal.resources.Resource.refreshLocal(Resource.java:1528)
	at org.eclipse.core.internal.refresh.RefreshJob.runInWorkspace(RefreshJob.java:166)
	at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)",,,";05/Nov/2009 7:31 PM;mstudman;3600",,,3600,227700,3600,100%,3600,227700,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwtj:",11723,,,,,90234,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj3j:",74844,,,,,,,,,,,"1|hwonvr:",90345,474336000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqu4f:",79906,,,,,,,,,,,,,,,,,,,,,,,,,,90236,,"1|hwon6v:",90236,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE on CloverDatabase.resolve() in certain circumstances,CLOV-800,96711,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,03/Nov/2009 3:14 PM,17/Nov/2009 11:09 PM,15/Nov/2024 6:09 PM,03/Nov/2009 3:23 PM,2.6.1,2.6.2,,,,2.6.3,3.0 M1,,Database,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwsf:",11718,,,,,91047,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj3z:",74846,,,,,,,,,,,"1|hwosof:",91158,474422400,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqqhr:",78947,,,,,,,,,,,,,,,,,,,,,,,,,,91049,,"1|hworzj:",91049,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Either fix merged dbs so they can be used for test optimisation or warn the user they can't,CLOV-797,96571,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mstudman,mstudman,30/Oct/2009 6:35 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,long term roadmap,,,Test Optimization,,,,,,,0,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbuif:",11349,,,,,27534,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj47:",74847,,,,,,,,,,,"1|hwepb3:",28602,474681600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwfkwv:",57920,,,,,,,,,,,,,,,,,,,,,,,,,,27534,,"1|hweirz:",27550,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
clover.pertest.coverage=diff is broken,CLOV-795,96518,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,29/Oct/2009 9:23 PM,17/Nov/2009 11:09 PM,15/Nov/2024 6:09 PM,12/Nov/2009 9:31 PM,,,,,,2.6.3,3.0,3.0 M1,Database,,,,,,,0,,,,,,,,,Will only record per-test coverage if an element had no hits prior to the test starting.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwrr:",11715,,,,,91046,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj4f:",74848,,,,,,,,,,,"1|hwoso7:",91157,474768000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqle7:",77479,,,,,,,,,,,,,,,,,,,,,,,,,,91048,,"1|hworzb:",91048,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TreeMap on Dashboard includes Test Code. treemap.html does not.,CLOV-793,96055,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,22/Oct/2009 5:44 AM,17/Nov/2009 11:22 PM,15/Nov/2024 6:09 PM,23/Oct/2009 12:32 AM,,,,,,2.6.3,3.0,3.0 M1,Reporting,,,,,,,0,,,,,,,,,"The treemap that appears on the clover dashboard also includes code from the test model.
Test code should not be included in the treemap.",,,";22/Oct/2009 5:56 AM;npellow;1800","Verified this with easymock project.;23/Oct/2009 12:32 AM;npellow;3600",,3600,0,5400,150%,3600,0,5400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwr3:",11712,,,,,91045,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj4v:",74850,,,,,,,,,,,"1|hwosnz:",91156,475459200,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqqr3:",79016,,,,,,,,,,,,,,,,,,,,,,,,,,91047,,"1|hworz3:",91047,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix embedded crowd build to work with maven+clover plugin,CLOV-784,95939,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,20/Oct/2009 3:50 AM,01/Feb/2010 2:41 AM,15/Nov/2024 6:09 PM,01/Feb/2010 2:33 AM,,,,,,3.0,3.0 M2,,Maven plugin,,,,,,,0,,,,,,,,,"The embedded crowd build was failing with clover turned on.

The problem was that when 'clean verify' was run before the clover goals, the clover.jar was no longer on the test time classpath.
This caused two tests to fail in the embedded-crowd-ofbiz module.

Adding a clover dependency with scope 'provided' seems to have fixed this.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwnj:",11696,,,,,52760,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj5z:",74855,,,,,,,,,,,"1|hwim13:",52914,475632000,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqix3:",76950,,,,,,,,,,,,,,,,,,,,,,,,,,52760,,"1|hwil3r:",52767,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover tries to allocate very large bytebuffers which may cause an OOME,CLOV-770,95480,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mstudman,mstudman,mstudman,13/Oct/2009 2:58 PM,08/May/2012 1:20 PM,15/Nov/2024 6:09 PM,08/May/2012 1:20 PM,2.6,,,,,2.6.2,,,Database,,,,,,,0,,,,,,,,,,,,";13/Oct/2009 3:00 PM;mstudman;10800",,,,0,10800,,,0,10800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwgv:",11666,,,,,56393,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj8n:",74867,,,,,,,,,,,"1|hwj7fr:",56542,476236800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqtaf:",79724,,,,,,,,,,,,,,,,,,,,,,,,,,56393,,"1|hwj6jj:",56400,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE in TestCaseInfo when generating reports,CLOV-764,95400,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,12/Oct/2009 9:58 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,12/Oct/2009 9:59 AM,2.6,,,,,2.6.2,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwfz:",11662,,,,,91038,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj9z:",74873,,,,,,,,,,,"1|hwosmf:",91149,476323200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqref:",79182,,,,,,,,,,,,,,,,,,,,,,,,,,91040,,"1|hworxj:",91040,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Introduce $10 Starter license of Clover,CLOV-756,95274,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Duplicate,,ben@atlassian.com,ben@atlassian.com,08/Oct/2009 8:58 PM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,08/Oct/2009 9:35 PM,,,,,,won't fix,,,,,,,,,,0,,,,,,,,,This issue is a duplicate of CLOV-752. Please vote for and comment on http://jira.atlassian.com/browse/CLOV-752 if you'd like to see Atlassian introduce a $10 starter license of Clover.,,,,,,,,,,,,,,,,,,,,,,,,CLOV-752,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxan:",11800,,,,,91035,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjbr:",74881,,,,,,,,,,,"1|hwoslr:",91146,476582400,true,,,,,,,,,,ben@atlassian.com(ben@atlassian.com),,,,,,,,,,,,,,,,,,,"1|hwqmfb:",77751,,,,,,,,,,,,,,,,,,,,,,,,,,91037,,"1|hworwv:",91037,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/Oct/2009 9:35 PM;ben@atlassian.com;Duplicated http://jira.atlassian.com/browse/CLOV-752;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Log4J warnings logged if log4j on the classpath,CLOV-754,95231,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,08/Oct/2009 12:46 AM,14/Oct/2009 5:12 AM,15/Nov/2024 6:09 PM,14/Oct/2009 5:11 AM,2.6,,,,,2.6.2,,,,,,,,,,0,,,,,,,,,see also: http://forums.atlassian.com/thread.jspa?threadID=37589&tstart=0,,,,,,,,,,,,,,,,,,,,,,,,,,,,EXTRAS-38,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwcf:",11646,,,,,91033,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjc7:",74883,,,,,,,,,,,"1|hwoslb:",91144,476668800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwr3q7:",82099,,,,,,,,,,,,,,,,,,,,,,,,,,91035,,"1|hworwf:",91035,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The Clover jarjard version of Log4J is always initialised from licensing code,CLOV-750,95080,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,npellow,mstudman,mstudman,06/Oct/2009 1:59 PM,12/Oct/2009 4:18 AM,15/Nov/2024 6:09 PM,12/Oct/2009 4:18 AM,2.6,,,,,2.6.2,,,,,,,,,,0,,,,,,,,,"http://forums.atlassian.com/thread.jspa?messageID=257319873&#257319873

https://atlaseye.atlassian.com/browse/clover/trunk/core/src/com/cenqua/clover/CloverLicense.java?r=43335&content=true#l150

I'm not sure why it is this way and don't want to touch it. Nick, please take a look at this.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwbb:",11641,,,,,91032,,,,,,Unknown,,,,,2009-10-12 04:18:10.067,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjcv:",74886,,,,,,,,,,,"1|hwosl3:",91143,476323200,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqmtj:",77865,,,,,,,,,,,,,,,,,,,,,,,,,,91034,,"1|hworw7:",91034,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"12/Oct/2009 4:18 AM;npellow;see: CLOV-754;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
NPE in projectClosed(),CLOV-749,94963,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,sginter,sginter,sginter,05/Oct/2009 2:40 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,12/Oct/2009 2:53 PM,2.6,,,,,2.6.2,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Apparently when project is closed before it's postStartupActivities are executed.

null
java.lang.NullPointerException
	at com.cenqua.clover.idea.ProjectPlugin.projectClosed(ProjectPlugin.java:158)
	at com.intellij.openapi.project.impl.ProjectImpl.d(ProjectImpl.java:80)
	at com.intellij.openapi.project.impl.ProjectImpl.access$400(ProjectImpl.java:29)
	at com.intellij.openapi.project.impl.ProjectImpl$MyProjectManagerListener.projectClosed(ProjectImpl.java:0)
	at com.intellij.openapi.project.impl.ProjectManagerImpl$2.projectClosed(ProjectManagerImpl.java:14)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.e(ProjectManagerImpl.java:108)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.a(ProjectManagerImpl.java:79)
	at com.intellij.openapi.project.impl.ProjectManagerImpl.closeProject(ProjectManagerImpl.java:257)
	at com.intellij.ide.impl.ProjectUtil.closeProject(ProjectUtil.java:47)
	at com.intellij.openapi.project.impl.ProjectManagerImpl$10.run(ProjectManagerImpl.java:11)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:16)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)
	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:35)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:99)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:217)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwav:",11639,,,,,77276,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjd3:",74887,,,,,,,,,,,"1|hwmpo7:",77390,476928000,true,,,,,,,,,,sginter(sginter),,,,,,,,,,,,,,,,,,,"1|hwqkwv:",77370,,,,,,,,,,,,,,,,,,,,,,,,,,77276,,"1|hwmoyv:",77279,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover hangs on Windows XP in Ant at various stages,CLOV-746,94928,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,02/Oct/2009 1:54 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,12/Oct/2009 10:09 AM,2.6,,,,,2.6.2,,,,,,,,,,0,,,,,,,,,,,,";03/Oct/2009 2:42 PM;mstudman;57600",,,,0,57600,,,0,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw9j:",11633,,,,,91029,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjdr:",74890,,,,,,,,,,,"1|hwoskf:",91140,477187200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqlp3:",77555,,,,,,,,,,,,,,,,,,,,,,,,,,91031,,"1|hworvj:",91031,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HTML reports not working in IE-6,CLOV-744,94679,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,28/Sep/2009 10:57 PM,30/Sep/2009 5:40 AM,15/Nov/2024 6:09 PM,30/Sep/2009 5:38 AM,,,,,,2.6.1,,,Reporting,,,,,,,0,,,,,,,,,"The new HTML treemap on the dashboard prevents the dashboard from loading in IE-6

bq. ""Internet Explorer cannot open the Internet site index.html. Operation aborted.""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw8v:",11630,,,,,91028,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmje7:",74892,,,,,,,,,,,"1|hwosk7:",91139,477360000,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqt7r:",79712,,,,,,,,,,,,,,,,,,,,,,,,,,91030,,"1|hworvb:",91030,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"28/Sep/2009 11:24 PM;npellow;This could be due to the inline <script/> tag on the dashboard.;;;","30/Sep/2009 5:38 AM;npellow;This has been confirmed to work both internally and by the customer;;;",,,,,,,,,,,,,,,,,,,,,,,,,
List out of bounds in Hudson clover plugin,CLOV-736,94058,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,18/Sep/2009 8:07 AM,23/Sep/2009 7:44 AM,15/Nov/2024 6:09 PM,23/Sep/2009 6:59 AM,2.6,,,,,2.6.1,,,,,,,,,,0,,,,,,,,,"When a Job has no targets defined, the clover hudson plugin fails.

The clover.fullclean target should only get called if there are no other targets, otherwise the default will not be invoked by Ant.
Also - clover.fullclean should be an option for the plugin.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw6n:",11620,,,,,91023,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjfr:",74899,,,,,,,,,,,"1|hwosj3:",91134,477964800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqt9b:",79719,,,,,,,,,,,,,,,,,,,,,,,,,,91025,,"1|hworu7:",91025,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"23/Sep/2009 6:59 AM;npellow;This has been fixed in version 2.2 of the Clover-Hudson plugin.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Preserve stack names in synthetic test method names.,CLOV-735,94021,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,npellow,npellow,npellow,18/Sep/2009 4:30 AM,22/Jan/2014 10:24 AM,15/Nov/2024 6:09 PM,12/Oct/2009 3:02 AM,2.6,,,,,won't fix,,,Instrumentation,,,,,,,0,,,,,,,,,"If a unit test expects a method name in the stack to exist at a certain location, the test will fail if instrumented by Clover due to the synthetic test method.

e.g. see: http://code.google.com/p/mockito/source/browse/trunk/test/org/mockitoutil/ExtraMatchers.java

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw67:",11618,,,,,91022,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjfz:",74900,,,,,,,,,,,"1|hwosiv:",91133,476323200,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwogpj:",64605,,,,,,,,,,,,,,,,,,,,,,,,,,91024,,"1|hwortz:",91024,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"30/Sep/2009 5:27 AM;npellow;preparing for 2.6.1 release;;;","12/Oct/2009 3:02 AM;npellow;Unfortunately, there is no nice way for Clover to avoid this problem.
Tests that assert on stack traces, should be re-written to handle running with Clover.
e.g. instead of asserting that the stack contains an entry at a specific location, the test could search up the stack for the entry.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"[SOLVED] After upgrade 2.5.0 -> 2.6.0: ""ant clover.all"" fails with ""cannot find symbol, 'symbol: method getNullRecorder()', 'location: class com_cenqua_clover.Clover'""",CLOV-733,93886,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,,8a9a75104292,8a9a75104292,16/Sep/2009 9:18 AM,17/Sep/2009 12:31 AM,15/Nov/2024 6:09 PM,17/Sep/2009 12:31 AM,2.6,,,,,2.6,,,Instrumentation,,,,,,,0,,,,,,,,,"We run clover simply by running ""ant clover.all"".  The only settings we have in our build.xml are these lines:

    <property name=""clover.jar"" value=""${lib.dir}/clover/clover-2.6.0.jar""/>
    <property name=""clover.dest"" value=""${project.dir}/build/clover-report""/>
    <taskdef resource=""cloverlib.xml"" classpath=""${clover.jar}""/>
    <clover-env/>

With clover-2.4.0 and 2.5.0 this worked pretty well.  But now I replaced the clover JAR file with the 2.6.0 version, and instrumentation fails.  Here's the output:

Buildfile: build.xml
[clover-env] Loading clover.xml: jar:file:/lab/gupro/ist/ukoisthome/jgralab/lib/clover/clover-2.6.0.jar!/clover.xml

clover.clean:
[clover-clean] Clover Version 2.6.0, built on September 09 2009 (build-771)
[clover-clean] Loaded from: /lab/gupro/ist/ukoisthome/jgralab/lib/clover/clover-2.6.0.jar
[clover-clean] Clover: Open Source License registered to JGraLab.

with.clover:
[clover-setup] Clover Version 2.6.0, built on September 09 2009 (build-771)
[clover-setup] Loaded from: /lab/gupro/ist/ukoisthome/jgralab/lib/clover/clover-2.6.0.jar
[clover-setup] Clover: Open Source License registered to JGraLab.
[clover-setup] Clover is enabled with initstring '/lab/gupro/ist/ukoisthome/jgralab/.clover/clover2_6_0.db'

clover.all:
[clover-env] Loading clover.xml: jar:file:/lab/gupro/ist/ukoisthome/jgralab/lib/clover/clover-2.6.0.jar!/clover.xml

cleanall:

cleanall:
     [echo] ../common/build.xml clean all - deleting all generated files
   [delete] Deleting directory /lab/gupro/ist/ukoisthome/jgralab/build
     [echo] clean all finished

jgralab:

compile:
     [echo] ../common/build.xml compile - compiling sources
    [mkdir] Created dir: /lab/gupro/ist/ukoisthome/jgralab/build/classes
    [javac] Since compiler setting isn't classic or modern,ignoring fork setting.
    [javac] Compiling 156 source files to /lab/gupro/ist/ukoisthome/jgralab/build/classes
   [clover] Clover Version 2.6.0, built on September 09 2009 (build-771)
   [clover] Loaded from: /lab/gupro/ist/ukoisthome/jgralab/lib/clover/clover-2.6.0.jar
   [clover] Clover: Open Source License registered to JGraLab.
   [clover] Fork is set to true and will be respected (ignore any warnings from Ant).
   [clover] Creating new database at '/lab/gupro/ist/ukoisthome/jgralab/.clover/clover2_6_0.db'.
   [clover] Processing files at 1.6 source level.
   [clover] Clover all over. Instrumented 156 files (10 packages).
   [clover] Elapsed time = 5,067 secs. (30,787 files/sec, 7.012,631 srclines/sec)
    [javac] Since compiler setting isn't classic or modern,ignoring fork setting.
    [javac] /tmp/clover37640.tmp/de/uni_koblenz/jgralab/codegenerator/CodeGenerator.java:43: cannot find symbol
    [javac] symbol  : method getNullRecorder()
    [javac] location: class com_cenqua_clover.Clover
    [javac] public abstract class CodeGenerator {public static class __CLR2_6_04zf4zffznulodb{public static final com_cenqua_clover.CoverageRecorder R;static{com_cenqua_clover.CoverageRecorder _R=null;try{if(20090909092616283L!=com_cenqua_clover.CloverVersionInfo.getBuildStamp()){com_cenqua_clover.Clover.l(""[CLOVER] WARNING: The Clover version used in instrumentation does not match the runtime version. You need to run instrumented classes against the same version of Clover that you instrumented with."");com_cenqua_clover.Clover.l(""[CLOVER] WARNING: Instr=2.6.0#20090909092616283,Runtime=""+com_cenqua_clover.CloverVersionInfo.getReleaseNum() + ""#""+com_cenqua_clover.CloverVersionInfo.getBuildStamp());}_R=com_cenqua_clover.Clover.getNullRecorder();_R=com_cenqua_clover.Clover.getRecorder(new char[]{47,108,97,98,47,103,117,112,114,111,47,105,115,116,47,117,107,111,105,115,116,104,111,109,101,47,106,103,114,97,108,97,98,47,46,99,108,111,118,101,114,47,99,108,111,118,101,114,50,95,54,95,48,46,100,98},null,1253091962017L,0L,6620);}catch(java.lang.SecurityException e){java.lang.System.err.println(""[CLOVER] FATAL ERROR: Clover could not be initialised because it has insufficient security privileges. Please consult the Clover documentation on the security policy file changes required. (""+e.getClass()+"":""+e.getMessage()+"")"");}catch(java.lang.NoClassDefFoundError e){java.lang.System.err.println(""[CLOVER] FATAL ERROR: Clover could not be initialised. Are you sure you have Clover in the runtime classpath? (""+e.getClass()+"":""+e.getMessage()+"")"");}catch(java.lang.Throwable t){java.lang.System.err.println(""[CLOVER] FATAL ERROR: Clover could not be initialised because of an unexpected error. (""+t.getClass()+"":""+t.getMessage()+"")"");}R=_R;}}

Hundreds of similar errors complaining about the missing getNullRecorder() method follow for all classes that should be instrumented.

I ensured that there's only the new clover-2.6.0.jar in the CLASSPATH, and I also deleted the myProject/.clover/ directory and made clean, so that there are no old class files around.
","GNU/Linux 2.6.31
Java(TM) SE Runtime Environment (build 1.6.0-b105)
Java HotSpot(TM) Client VM (build 1.6.0-b105, mixed mode, sharing)
ant 1.7.0",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw5b:",11614,,,,,91021,,,,,,Unknown,,,,,2009-09-17 00:31:27.943,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjgf:",74902,,,,,,,,,,,"1|hwosin:",91132,478483200,true,,,,,,,,,,8a9a75104292(thorn),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwoezb:",64270,,,,,,,,,,,,,,,,,,,,,,,,,,91023,,"1|hwortr:",91023,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"16/Sep/2009 9:29 AM;8a9a75104292;Ah, I'm sorry. I deleted the clover-2.5.0.jar, but my shell script running ant does an ""svn update"" before in the project, and thus it was back again when clover ran.

I'm closing the issue.;;;","16/Sep/2009 9:31 AM;8a9a75104292;Seems like I cannot close it, so please do if for me.;;;","17/Sep/2009 12:31 AM;npellow;Thanks, Tassilo.
Good to hear you fixed the issue. Closing this ticket now.
Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,,,,,
"recordTestResults=""false"" causes compile errors",CLOV-728,93610,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mstudman,mstudman,mstudman,11/Sep/2009 3:37 PM,13/Sep/2009 11:58 PM,15/Nov/2024 6:09 PM,13/Sep/2009 11:58 PM,2.6,,,,,2.6.1,,,Instrumentation,,,,,,,0,,,,,,,,,"globalSliceEnd(String,String,int) no longer exists on CoverageRecorder

See https://support.atlassian.com/browse/CLV-5266",,,";13/Sep/2009 11:55 PM;mstudman;3600",,,,0,3600,,,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbuen:",11332,,,,,91019,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjhb:",74906,,,,,,,,,,,"1|hwosi7:",91130,479001600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqt8n:",79716,,,,,,,,,,,,,,,,,,,,,,,,,,91021,,"1|hwortb:",91021,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
site.xml and feature.xml don't reference Eclipse 3.5 RAD 7.5 support,CLOV-720,93390,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,09/Sep/2009 8:40 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,09/Sep/2009 8:43 AM,2.6,,,,,2.6.1,,,CEP Plugin,,,,,,,0,,,,,,,,,,,,";10/Sep/2009 11:28 AM;mstudman;1800",,,,0,1800,,,0,1800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbuev:",11333,,,,,91013,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjiv:",74913,,,,,,,,,,,"1|hwosgv:",91124,479174400,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqs2v:",79368,,,,,,,,,,,,,,,,,,,,,,,,,,91015,,"1|hworrz:",91015,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Run Explore fails if a test method's source has been removed,CLOV-718,93256,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,08/Sep/2009 5:58 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,08/Sep/2009 6:00 PM,2.6 M3,,,,,2.6,,,CEP Plugin,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxaf:",11799,,,,,91012,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjjb:",74915,,,,,,,,,,,"1|hwosgn:",91123,479260800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqt7b:",79710,,,,,,,,,,,,,,,,,,,,,,,,,,91014,,"1|hworrr:",91014,,,,,,,,,,,,,,,,,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
StreamCorruptedException if a different jdk is used for report generation  ,CLOV-717,93048,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,mstudman,npellow,npellow,07/Sep/2009 5:39 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,08/Sep/2009 3:33 PM,2.6 M3,,,,,2.6,,,Instrumentation,,,,,,,0,,,,,,,,,"When the Clover registry is generated with a different jdk as used for reading when generating a report, 
an 
{{java.io.StreamCorruptedException: unexpected end of block data}}
exception is thrown. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxa7:",11798,,,,,77277,,,,,,Unknown,,,,,2009-09-07 13:28:50.466,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjjj:",74916,,,,,,,,,,,"1|hwmpof:",77391,479347200,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,"1|hwr4k7:",82350,,,,,,,,,,,,,,,,,,,,,,,,,,77277,,"1|hwmoz3:",77280,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"07/Sep/2009 1:28 PM;sginter;And I just marked CIJ-239 as cannot reproduce...

Maybe the log there would be helpful;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Restore progress listener functionality when loading the registry,CLOV-716,92998,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mparfianowicz,mstudman,mstudman,06/Sep/2009 9:47 PM,15/Jul/2015 11:54 AM,15/Nov/2024 6:09 PM,15/Jul/2015 11:54 AM,2.6,2.6 M3,,,,won't fix,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvw7:",11573,,,,,56397,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjjr:",74917,,,,,,,,,,,"1|hwj7gn:",56546,479347200,true,,,,,,,,,,mparfianowicz(mparfianowicz),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwqt8f:",79715,,,,,,,,,,,,,,,,,,,,,,,,,,56397,,"1|hwj6kf:",56404,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE when historical is passed a format element of type XML,CLOV-714,92722,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,02/Sep/2009 8:45 AM,03/Sep/2009 12:17 AM,15/Nov/2024 6:09 PM,03/Sep/2009 12:16 AM,,,,,,2.6,2.6 M3,,,,,,,,,0,,,,,,,,,http://forums.atlassian.com/thread.jspa?messageID=257316874,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx8f:",11790,,,,,91011,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjjz:",74918,,,,,,,,,,,"1|hwosgf:",91122,479692800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqt87:",79714,,,,,,,,,,,,,,,,,,,,,,,,,,91013,,"1|hworrj:",91013,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"03/Sep/2009 12:14 AM;npellow;The following error message is now reported to the user if they attempt to generate a historical report that is not of type: HTML or PDF.

com.cenqua.clover.CloverException: Report format XML|JSON is not supported by historical reports.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"""Failed to lazily load instrumentation session"" when loading old format database is confusing",CLOV-711,92614,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,sginter,,,01/Sep/2009 12:04 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,08/Sep/2009 3:11 PM,2.6 M3,,,,,2.6,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Failed to lazily load instrumentation session: Failed to lazily load instrumentation session
com.atlassian.clover.registry.format.LazyLoadingRegistryException: Failed to lazily load instrumentation session
	at com.atlassian.clover.registry.format.RegContents$LazyInstrSessionSegmentIterator.next(RegContents.java:73)
	at com.atlassian.clover.registry.format.RegContents$LazyInstrSessionSegmentIterator.next(RegContents.java:48)
	at com.cenqua.clover.registry.Clover2Registry$1.consume(Clover2Registry.java:94)
	at com.atlassian.clover.registry.format.UpdatableRegFile.readContents(UpdatableRegFile.java:48)
	at com.cenqua.clover.registry.Clover2Registry.fromFile(Clover2Registry.java:89)
	at com.cenqua.clover.registry.Clover2Registry.fromFile(Clover2Registry.java:76)
	at com.cenqua.clover.registry.Clover2Registry.createOrLoad(Clover2Registry.java:186)
	at com.cenqua.clover.idea.build.CloverCompiler.getInstrumenter(CloverCompiler.java:364)
	at com.cenqua.clover.idea.build.CloverCompiler.validateConfiguration(CloverCompiler.java:282)
	at com.intellij.compiler.impl.CompileDriver.a(CompileDriver.java:109)
	at com.intellij.compiler.impl.CompileDriver.make(CompileDriver.java:840)
	at com.intellij.compiler.CompilerManagerImpl.make(CompilerManagerImpl.java:47)
	at com.intellij.execution.CompileStepBeforeRun$2.run(CompileStepBeforeRun.java:12)
	at com.intellij.openapi.application.impl.LaterInvocator$1.run(LaterInvocator.java:2)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:16)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)
	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:35)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:99)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:217)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)
Caused by: java.io.InvalidClassException: com.cenqua.clover.registry.BaseClassInfo local class incompatible; stream classdesc serialVersionUID = -8072171900253180308, local class serialVersionUID = 1
	at com.atlassian.clover.registry.format.MinimizedObjectInputStream.readClassDescriptor(MinimizedObjectInputStream.java:30)
	at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1565)
	at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1496)
	at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1583)
	at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1496)
	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1732)
	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1329)
	at java.io.ObjectInputStream.readObject(ObjectInputStream.java:351)
	at java.util.HashMap.readObject(HashMap.java:1030)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)","Java version=1.6.0_14, Java vendor=Sun Microsystems Inc., OS name=Linux, OS architecture=amd64, IDEA build number=9886
Plugin release=2.6.0.v20090819162454-dev",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx7b:",11785,,,,,77279,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjkn:",74921,,,,,,,,,,,"1|hwmpov:",77393,479865600,true,,,,,,,,,,sginter(sginter),,,,,,,,,,,,,,,,,,,"1|hwqt7j:",79711,,,,,,,,,,,,,,,,,,,,,,,,,,77279,,"1|hwmozj:",77282,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover plugin still active when 'disabled'.,CLOV-707,92582,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,sginter,npellow,npellow,01/Sep/2009 4:28 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,08/Sep/2009 3:12 PM,,,,,,2.6,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Even though the Clover is disabled, (via the About panel)
!http://img.skitch.com/20090901-dj2d3ucc37spix55htf84gryem.jpg!

I can still see the Module clover icons

!http://img.skitch.com/20090901-mquqphcqfmx8epbepdgkdun5kx.jpg!

And the Clover plugin still appears to validate the configuration before tests get run, causing a lengthy pause. see also: CLOV-706.
!http://img.skitch.com/20090901-j287812jihrq229x7bdt5xsce8.jpg!

Is it possible for the Clover plugin to update the Model when a configuration is modified only, and not on the fly as tests get run?

At the very least, if not enabled - the Clover plugin should not be invoked, or do _no heavy lifting_ when a user wants to run their tests or compile their code.
It seems that at the moment just by having the Clover plugin installed in IntelliJ will cause pauses in the UI for projects with many modules.
",,,,,,,,,,,0,5400,,,,,,,CLOV-706,,,,,,,CLOV-706,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx6f:",11781,,,,,77281,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjlb:",74924,,,,,,,,,,,"1|hwmppb:",77395,479865600,true,,,,,,,,,,npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwqqyv:",79075,,,,,,,,,,,,,,,,,,,,,,,,,,77281,,"1|hwmozz:",77284,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix warning from GSON library,CLOV-702,91989,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,npellow,npellow,24/Aug/2009 7:33 AM,27/Aug/2009 2:02 AM,15/Nov/2024 6:09 PM,27/Aug/2009 2:02 AM,,,,,,2.6,2.6 M3,,,,,,,,,0,,,,,,,,,"The following seems to occur when clover is repackaged:
{code}
Aug 24, 2009 5:30:22 PM clover.com.google.gson.ParameterizedTypeHandlerMap register
24-Aug-2009 17:30:22	WARNING: Overriding the existing type handler for interface java.util.Collection
{code}

",,,";27/Aug/2009 2:02 AM;npellow;14400",,,,0,14400,,,0,14400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx4n:",11773,,,,,91009,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjm7:",74928,,,,,,,,,,,"1|hwosfz:",91120,480297600,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqs33:",79369,,,,,,,,,,,,,,,,,,,,,,,,,,91011,,"1|hworr3:",91011,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"27/Aug/2009 2:02 AM;npellow;Retrotranslation should keep class literals.

http://code.google.com/p/google-gson/issues/detail?id=151&sort=-id;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Test Columns are empty (or -1) in project.js when generated via a JSON report  ,CLOV-701,91964,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,npellow,npellow,24/Aug/2009 1:45 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,2.6 M1,,,,,someday,,,Reporting,,,,,,,0,,,,,,,,,"When a JSON report is generated, the test fields:
""ErroneousTests"":0,""FailingTests"":0,""FilteredElements"":0.42738318,""PassingTests"":0,""PcErroneousTests"":-1,""PcFailingTests"":-1,""PcPassingTests"":-1,""TestExecutionTime"":0,""Tests"":0,

are all -1 or 0 in the project.js.
e.g.
https://bamboo.extranet.atlassian.com/browse/CCD-WCLV-488/artifact/Clover-HTML/project.js

The test data is definitely available in the HTML report.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvv3:",11568,,,,,56399,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjmf:",74929,,,,,,,,,,,"1|hwj7h3:",56548,480556800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hxfit3:",236289,,,,,,,,,,,,,,,,,,,,,,,,,2.0,56399,,"1|hwj6kv:",56406,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update copyright dates in About dialog,CLOV-698,91699,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,sginter,sginter,sginter,19/Aug/2009 2:18 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,08/Sep/2009 3:09 PM,,,,,,2.6,,,CIJ Plugin,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx2v:",11765,,,,,77283,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjmn:",74930,,,,,,,,,,,"1|hwmppr:",77397,480988800,true,,,,,,,,,,sginter(sginter),,,,,,,,,,,,,,,,,,,"1|hwqwsf:",80492,,,,,,,,,,,,,,,,,,,,,,,,,,77283,,"1|hwmp0f:",77286,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Coverage Explorer should not display classes that no longer exist or are excluded,CLOV-695,91696,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,sginter,sginter,19/Aug/2009 1:40 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,open-source,,,CEP Plugin,,,,,,,0,,,,,,,,,"Clover database can contain historical FileInfo's that should no longer be displayed because the files have been deleted or excluded.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbubr:",11319,,,,,27535,,,,,,Unknown,,,,,2009-08-28 02:18:49.317,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjn3:",74932,,,,,,,,,,,"1|hwepbb:",28603,477360000,true,,,,,,,,,,npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwfkjr:",57921,,,,,,,,,,,,,,,,,,,,,,,,,,27535,,"1|hweis7:",27551,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"28/Aug/2009 2:18 AM;npellow;Hi Slawek, 
Will you still have time to look at this before September 4?
If not, please move out of the 2.6.0 release.
Cheers,
Nick;;;","08/Sep/2009 1:18 AM;npellow;Moving to 2.6.1.;;;","30/Sep/2009 5:27 AM;npellow;preparing for 2.6.1 release;;;",,,,,,,,,,,,,,,,,,,,,,,,
"the <format bw=""true""> option is no longer supported in HTML reports",CLOV-689,91385,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,bhumphreys,bhumphreys,14/Aug/2009 2:48 AM,16/Aug/2009 11:02 PM,15/Nov/2024 6:09 PM,16/Aug/2009 11:02 PM,2.6 M1,,,,,2.6 M2,,,,,,,,,,0,,,,,,,,,"This is supposed to do non-syntax-highlighted source reporting, like the docs say. but it looks like has been removed (or maybe was never there in the first place?). Only seems to work for PDFReports.

We either remove it from the doco, or add it back to the reports ;-)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx0f:",11754,,,,,91003,,,,,,Unknown,,,,,2009-08-16 23:02:24.969,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjof:",74938,,,,,,,,,,,"1|hwosen:",91114,481161600,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqkh3:",77245,,,,,,,,,,,,,,,,,,,,,,,,,,91005,,"1|hworpr:",91005,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"16/Aug/2009 11:02 PM;npellow;The doco has been updated.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
field based instrumentation (as opposed to class based) no longer works,CLOV-688,91370,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,,bhumphreys,bhumphreys,13/Aug/2009 11:10 PM,12/Oct/2009 5:13 AM,15/Nov/2024 6:09 PM,12/Oct/2009 5:13 AM,2.6 M1,,,,,2.6.3,,,,,,,,,,0,,,,,,,,,"we pretty much only use so-called ""class based"" instrumentation - where an inner class is used to add the recorder member to classes. The legacy option, ""field"" instrumentation, no longer works (instrumentation introduces a compile-time error). Consider removing, or fixing. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbuaf:",11313,,,,,91002,,,,,,Unknown,,,,,2009-09-30 05:27:22.293,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjon:",74939,,,,,,,,,,,"1|hwosef:",91113,477360000,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqt6n:",79707,,,,,,,,,,,,,,,,,,,,,,,,,,91004,,"1|hworpj:",91004,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"30/Sep/2009 5:27 AM;npellow;preparing for 2.6.1 release;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to use clover2:setup to produce final artifacts ,CLOV-687,91345,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,6cad095e5207,6cad095e5207,13/Aug/2009 10:21 AM,14/Aug/2009 9:40 AM,15/Nov/2024 6:09 PM,14/Aug/2009 9:29 AM,2.5,,,,,2.6 M2,,,,,,,,,,0,,,,,,,,,"Hi,

I would like to use clover to generate war files with all its dependencies instrumented. I mean 
war1 composed by jar1-clover, jar2-clover etc...

So I tried to use the clover2:setup goal starting from your multimodule project sample on the svn repository. 
I changed the instrument goal by the setup goal

However the jars deployed on my local repository (and used for the building of the war) are not the clovered jars as I thought it should. 

Could you tell me if my comprehension of clover2:setup is wrong or not ? This goal should swap the sources to the instrumented sources so that all next tasks will use instrumented code ?
If I'm right, it should install the instrumented jar on my repository however it don't work.

I've attached a sample project for that. 

Try the following command : 

{code}
mvn clean install -Dmaven.test.skip -o
{code}

You'll see that installed jars are not the clovered jars.

Here is the configuration of the plugin :

{code:xml}
    <build>
        <plugins>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<configuration>
					<fork>false</fork>
					<source>1.5</source>
					<target>1.5</target>
				</configuration>
			</plugin>            
            <plugin>
                <groupId>com.atlassian.maven.plugins</groupId>
                <artifactId>maven-clover2-plugin</artifactId>
				<version>2.5.0</version>
                <configuration>
                    <flushPolicy>threaded</flushPolicy>
                    <flushInterval>100</flushInterval>
                     <licenseLocation>${clover.licenseLocation}</licenseLocation>
                </configuration>
                <executions>
                    <execution>
                        <id>main</id>
                        <phase>verify</phase>
                        <goals>
                            <goal>setup</goal>
                            <goal>aggregate</goal>
                            <goal>check</goal>
                            <goal>log</goal>
                        </goals>
                    </execution>
                    <execution>
                        <id>site</id>
                        <phase>pre-site</phase>
                        <goals>
                            <goal>instrument</goal>
                            <goal>aggregate</goal>

                            <!-- We save a history point in order to have data to generate a historical report -->
                            <goal>save-history</goal>

                        </goals>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
{code}

Could you tell me how to make it works ?

",,,";14/Aug/2009 9:39 AM;npellow;7200",,,,0,7200,,,0,7200,,,,,,,,,,,,,,CLOV-686,CLOV-685,,,,,,,,,"13/Aug/2009 10:21 AM;6cad095e5207;cloverMp.zip;https://jira.atlassian.com/secure/attachment/33308/cloverMp.zip",,,,,,,,,,,,,,,,true,,"1|hwbwzb:",11749,,,,,91001,,,,,,Unknown,,,,,2009-08-14 07:12:35.369,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjov:",74940,,,,,,,,,,,"1|hwose7:",91112,481420800,true,,,,,,,,,,6cad095e5207(lassiege),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqwjb:",80428,,,,,,,,,,,,,,,,,,,,,,,,,,91003,,"1|hworpb:",91003,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"14/Aug/2009 7:12 AM;npellow;Hi hugo, 

Your assumption as to how the setup goal works is correct. However, you have bound the setup goal to the verify phase. This will mean no source files get instrumented, since the verify phase occurs well after all source is compiled, and tests are run. For more information on how maven works, please have a look at the [lifecycle reference|http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference] .

Try simply removing the <phase>verify</phase> element from the execution, since each clover goal is bound to a sensible default phase.

Cheers,
Nick;;;","14/Aug/2009 9:06 AM;6cad095e5207;Exact, you're right, the binding to the verify phase was not relevant. I removed the <phase>verify</phase> and it works now. 
You can resolve this issue. ;;;","14/Aug/2009 9:29 AM;npellow;Good to hear that it worked for you too.
Maven is quite tricky to get it to do exactly what you want it to do at times.

Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,,,,,
Unable to use clover in multi module project in maven 2.1.0 and option -am -pl,CLOV-685,91338,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,6cad095e5207,6cad095e5207,13/Aug/2009 9:03 AM,14/Oct/2009 8:57 PM,15/Nov/2024 6:09 PM,14/Oct/2009 8:57 PM,2.5,,,,,2.6.2,,,,,,,,,,0,,,,,,,,,"I tried to use clover with multi module project with maven 2.1.0

However I have a problem because the clover database is not correctly aggregated with all the project. I attached the zip file of a dummy project as a test case. This is inspired by the multi module project you use in your repository.

There is 4 jars project :

jar1
jar2
groupOfJars1 > jar3
groupOfJars1 > jar4

and one war depending on all jars. 

My goal is to create a war with instrumented code so that I can provide a war ""code coverage ready"" to our QA. 

If I try this command :

{code}
mvn clean clover2:setup clover2:aggregate -Dmaven.test.skip -o

....

[INFO] Scanning for projects...
[INFO] Reactor build order:
[INFO]   Maven Clover Plugin Multiproject Sample
[INFO]   Maven Clover Plugin Multiproject Sample - JAR 1
[INFO]   Maven Clover Plugin Multiproject Sample - JAR 2
[INFO]   Maven Clover Plugin Multiproject Sample - JAR 3
[INFO]   Maven Clover Plugin Multiproject Sample - JAR 4
[INFO]   Maven Clover Plugin Multiproject Group Of Jar - PARENT 1

....

[INFO] Building Maven Clover Plugin Multiproject Sample
[INFO]    task-segment: [clover2:aggregate] (aggregator-style)
[INFO] ------------------------------------------------------------------------
[INFO] [clover2:aggregate]
[INFO] No 'maven.clover.licenseLocation' configured. Using default evaluation license.
Merging database 1 of 4: D:\Developpement\checkout\cloverMPExported\cloverMp\groupOfJars1\jar4\target\clover\clover.db
Merging database 2 of 4: D:\Developpement\checkout\cloverMPExported\cloverMp\groupOfJars1\jar3\target\clover\clover.db
Merging database 3 of 4: D:\Developpement\checkout\cloverMPExported\cloverMp\jar2\target\clover\clover.db
Merging database 4 of 4: D:\Developpement\checkout\cloverMPExported\cloverMp\jar1\target\clover\clover.db
Writing merged database registry
Merge complete

[INFO]   Maven Clover Plugin Multiproject Sample - WAR 1
{code}

The merge is ok. 


However in my real life project, I would like to use this command instead :

{code}
mvn clean clover2:setup clover2:aggregate -Dmaven.test.skip -o -am -pl war1
{code}

Because I have many wars created in my reactor and I don't want to have a clover database with all the jars even the unused jars for war1.

and the result is :

{code}
[INFO] Scanning for projects...
[INFO] Reactor build order:
[INFO]   Maven Clover Plugin Multiproject Sample
[INFO]   Maven Clover Plugin Multiproject Sample - JAR 1
[INFO]   Maven Clover Plugin Multiproject Sample - JAR 2
[INFO]   Maven Clover Plugin Multiproject Sample - JAR 3
[INFO]   Maven Clover Plugin Multiproject Sample - JAR 4
[INFO]   Maven Clover Plugin Multiproject Sample - WAR 1

.... 

[INFO] Building Maven Clover Plugin Multiproject Sample
[INFO]    task-segment: [clover2:aggregate] (aggregator-style)
[INFO] ------------------------------------------------------------------------
[INFO] [clover2:aggregate]
[INFO] No 'maven.clover.licenseLocation' configured. Using default evaluation license.
Merging database 1 of 2: D:\Developpement\checkout\cloverMPExported\cloverMp\jar2\target\clover\clover.db
Merging database 2 of 2: D:\Developpement\checkout\cloverMPExported\cloverMp\jar1\target\clover\clover.db
Writing merged database registry
Merge complete
{code}


This time, the merge is not ok as I don't have the jar3 and jar4 merged with the others. 

If I modify the pom.xml

{code:xml}
    <modules>
        <module>jar1</module>
        <module>jar2</module>
		<module>groupOfJars1</module>
        <module>war1</module>
    </modules>
{code}

to

{code:xml}
    <modules>
        <module>jar1</module>
        <module>jar2</module>
		<module>groupOfJars1/jar3</module>
		<module>groupOfJars1/jar4</module>
        <module>war1</module>
    </modules>
{code}

it works again, but it is not equivalent for me. 


",,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-687,CLOV-686,,,,,,,"13/Aug/2009 9:03 AM;6cad095e5207;cloverMp.zip;https://jira.atlassian.com/secure/attachment/33303/cloverMp.zip",,,,,,,,,,,,,,,,true,,"1|hwbvfz:",11500,,,,,91000,,,,,,Unknown,,,,,2009-08-14 07:24:06.737,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjpb:",74942,,,,,,,,,,,"1|hwosdz:",91111,481420800,true,,,,,,,,,,6cad095e5207(lassiege),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqwm7:",80448,,,,,,,,,,,,,,,,,,,,,,,,,,91002,,"1|hworp3:",91002,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"14/Aug/2009 7:24 AM;npellow;Hi Hugo, 

bq. My goal is to create a war with instrumented code so that I can provide a war ""code coverage ready"" to our QA.

Clover databases only need to be aggregated for reporting. A clover database that has been merged is 'read only'.

You should try using the [singleCloverDatabase|http://docs.atlassian.com/maven-clover2-plugin/2.5.1/instrumentInternal-mojo.html#singleCloverDatabase] configuration option instead of aggregating. This option will create a clover.db in the first module in the reactor and all other modules will use that same file, thereby eliminating altogether the need to merge or aggregate databases.

You must then present QA with a .war file, and a single clover.db file.
They then give you all the clover coverage data files back, which you use for generating a report for.
More information on managing the clover database can be found here: http://confluence.atlassian.com/display/CLOVER/Managing+the+Coverage+Database

Cheers,
Nick;;;","14/Aug/2009 10:32 AM;6cad095e5207;Hi,

It works correctly now with the option singleCloverDatabase. I've tested for one of my artifact and the clover database seems to be ok (and readable). 
I just have to produce the report now but it should be ok. 

Thanks a lot,
;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"Duplicate ""Run Optimized"" option in IntelliJ Plugin",CLOV-675,90802,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,sginter,kellingburg,kellingburg,06/Aug/2009 1:24 AM,13/Aug/2009 9:03 AM,15/Nov/2024 6:09 PM,13/Aug/2009 9:03 AM,2.6 M1,,,,,2.6 M2,,,CIJ Plugin,,,,,,,0,,,,,,,,,"When I right click inside a unit test, I get two ""Run Optimized"" options with the same text and icons in the context menu - they appear to be duplicates. See attached screenshot.

If they're the same option, it should only be shown once.

If they're different options, is there a way to make sure the labels are different?","  	
« Hide
IDEA 8.1.3
Clover IntelliJ Plugin clover-idea-2.6.0-M1-v20090716170000.jar
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Aug/2009 1:24 AM;kellingburg;duplicateOption.jpg;https://jira.atlassian.com/secure/attachment/33109/duplicateOption.jpg",,,,,,,,,,,,,,,,true,,"1|hwbwrz:",11716,,,,,77285,,,,,,Unknown,,,,,2009-08-06 01:33:33.298,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjrb:",74951,,,,,,,,,,,"1|hwmpq7:",77399,482112000,true,,,,,,,,,,kellingburg(kellingburg),npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,"1|hwqzwv:",81238,,,,,,,,,,,,,,,,,,,,,,,,,,77285,,"1|hwmp0v:",77288,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"06/Aug/2009 1:33 AM;npellow;I've seen this occur as well and thought it was caused by the repackaged version of the clover plugin I have to use to run clover on clover.
Kate - can you please confirm that you have only a single clover jar in your ~/Library/Application\ Support/IntelliJIDEA80/ dir.
If you have two in there, please delete one and restart.
If you have only one in there, please restart.
Then let us know if the problem persists.
Cheers,
Nick;;;","06/Aug/2009 1:49 AM;kellingburg;Yup, I only have one clover jar in that directory (clover-idea-2.6.0-M1-v20090716170000.jar). The previous clover.jar that was in the directory (clover-idea-2.5.1.jar) is in the trash).

I restarted IDEA, and had only one project open (I had two projects opened when I took that screenshot), and still got the duplicate option. 

I emptied my trash and restarted IDEA and had only one project open. I still get the duplicate option.

I ran all the unit tests in that class (I'm a little unsure as to how test optimisation works and thought this might affect it), and I still have the duplicate option.

I'm a little hesitant to delete my coverage db because Ernest is getting out of memory errors when he tries to run Clover for this project and I'd hate to lose my coverage data but I can do that if you think it would help.;;;","06/Aug/2009 1:59 AM;npellow;Thanks Kate. That is a confirmed bug.
Deleting the coverage data is not required.

;;;",,,,,,,,,,,,,,,,,,,,,,,,
Auto-update screen in IDEA plugin still shows information about The Connector,CLOV-673,90744,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,sginter,npellow,npellow,05/Aug/2009 8:50 AM,05/Aug/2009 10:14 AM,15/Nov/2024 6:09 PM,05/Aug/2009 10:14 AM,,,,,,2.6,2.6 M2,,CIJ Plugin,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hwbukn:",11359,,,,,77286,,,,,,,,,,,2009-08-05 10:14:47.899,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjrr:",74953,,,,,,,,,,,"1|hwmpqf:",77400,482198400,true,,,,,,,,,,npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwogqf:",64609,,,,,,,,,,,,,,,,,,,,,,,,,,77286,,"1|hwmp13:",77289,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Aug/2009 10:14 AM;sginter;Fixed the descriptor on update.atlassian.com
To avoid in the future - edit the _idea7/etc/stableVersionInfo.xml_ in the sources and follow the instruction on [EAC|https://extranet.atlassian.com/display/CLOVER/Clover+Release+Procedure#CloverReleaseProcedure-ReleasingCloverforIDEA%28Clover2%29] instead of editing the descriptor in-place.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Errors in Bamboo build after upgrading from Clover 2.4.0 to 2.5.1,CLOV-672,90669,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Answered,,bccbd399478a,bccbd399478a,04/Aug/2009 9:28 PM,22/Jan/2014 10:39 AM,15/Nov/2024 6:09 PM,27/Jan/2010 4:02 PM,2.5.1,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"One of my modules with (luckily) only a few unit tests started giving this error on every unit test:

java.lang.NoSuchFieldError: E
	at com.vcommerce.storefront.rightnow.RightNowLocatorTester.setUp(RightNowLocatorTester.java:19)

The line number appears to always be the Junit setUp() method.

In addition, two unit tests in the same test case throw this:

java.lang.NoSuchMethodError: com_cenqua_clover.CoverageRecorder.globalSliceStart(Ljava/lang/Class;I)V
	at com.vcommerce.storefront.integrations.webloyalty.WLEncryptionTester.testEncryption(WLEncryptionTester.java:20)

I can't find any differences between this module's build.xml and the other 10 that work fine.  The only modification I've made to the build.xml along with the upgrade was to add:

  <taskdef resource=""cloverjunitlib.xml"" classpath=""${clover.jar}""/>

... as recommended for Ant 1.7.


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx53:",11775,,,,,52858,,,,,,Unknown,,,,,2009-08-04 22:06:10.581,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjrz:",74954,,,,,,,,,,,"1|hwimmf:",53012,467078400,true,,,,,,,,,,bccbd399478a(clang@vcommerce.com),mstudman(mstudman),sginter(sginter),,,,,,,,,,,,,,,,,"1|hwpkdj:",71226,,,,,,,,,,,,,,,,,,,,,,,,,,52858,,"1|hwilp3:",52865,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"04/Aug/2009 10:06 PM;mstudman;These errors indicate that somehow somewhere your old build is using an old version of clover.jar or you are using a jar that was instrumented with an old version of Clover and needs to be rebuilt.;;;","04/Aug/2009 10:11 PM;mstudman;Just FYI, jira.atlassian.com is not a proper support channel in that our effort to monitor problems is best effort but no guarantees. We have strict SLAs for issues raised on support.atlassian.com, however, and that is probably the best place to log these sorts of issues if you want a consistently quick response (I happen to have been JIRA wrangling tonight hence why I'm monitoring this area so closely).;;;","04/Aug/2009 10:11 PM;bccbd399478a;Shouldn't you be asleep? :)

Does that apply to the ""NoSuchFieldError: E"" as well, or just the NoSuchMethodError?

I'll keep digging, but that was my first suspicion and I'll be damned if I can find either an old version of Clover or any old jars.
;;;","04/Aug/2009 10:14 PM;mstudman;Yes, I should be :) The price of working on the other side of the world to your team! :(

It also does apply to the NoSuchFieldError E.;;;","05/Aug/2009 1:32 AM;bccbd399478a;Ha - I can relate to telecommuting, I too work completely remotely and end up staying up all night. :)

I actually opened a new ticket in order to give someone else the opportunity to step up. :)

You were correct, one of my build files had a very old flaw that didn't properly clean a directory. That resolved this entirely. I'll post my (hopefully) last problem in the original ticket.

Thanks!
;;;","27/Jan/2010 4:02 PM;sginter;It seems to have been resolved long time ago, closing.;;;",,,,,,,,,,,,,,,,,,,,,
"clover-html-report doesn't support the ""showUniqueCoverage"" attribute",CLOV-670,90665,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,bccbd399478a,bccbd399478a,04/Aug/2009 4:43 PM,21/May/2012 11:14 AM,15/Nov/2024 6:09 PM,11/Aug/2009 10:37 PM,2.5.1,,,,,2.6,2.6 M2,,Ant Tasks,Reporting,,,,,,0,,,,,,,,,"We're finding Clover is taking a substantial percentage of our 3.5 hour build time. In browsing for ways to optimize this, we stumbled upon:

http://confluence.atlassian.com/display/CLOVER/Clover+Performance+Tuning

Which led us to:

http://confluence.atlassian.com/display/CLOVER/clover-html-report

Unfortunately, despite upgrading to Clover 2.5.1, when trying to use the showUniqueCoverage attribute in our ant build.xml, we receive the following error:

04-Aug-2009 09:24:49  	BUILD FAILED
04-Aug-2009 09:24:49 	/usr/local/bamboo-home/xml-data/build-dir/PLT-TRUNK/build/build.xml:46: The following error occurred while executing this line:
04-Aug-2009 09:24:49 	/usr/local/bamboo-home/xml-data/build-dir/PLT-TRUNK/vc-common/build/build.xml:74: clover-html-report doesn't support the ""showUniqueCoverage"" attribute

Build.xml portion:

  <target name=""autobuild"" depends=""clean, with.clover, test"">
    <clover-html-report title=""Platform - Common"" outdir=""${output.coverage.reports}/common"" showUniqueCoverage=""false""/>
    <clover-clean keepdb=""true""/>
  </target>
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwqn:",11710,,,,,90995,,,,,,1,,,,,2009-08-04 17:14:57.111,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjs7:",74955,,,,,,,,,,,"1|hwoscv:",91106,482198400,true,,,,,,,,,,bccbd399478a(clang@vcommerce.com),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwqopb:",78462,,,,,,,,,,,,,,,,,,,,,,,,,,90997,,"1|hwornz:",90997,,,,,,,,,,,,,,,,,,,,,,3,,,,,,,"04/Aug/2009 5:14 PM;mstudman;That seems to be an omission on our part. As a workaround, could you please use the clover-report / currrent elements instead which are functionally equivalent to clover-html-report? clover-report/current certainly does support the showUniqueCoverage attribute.;;;","04/Aug/2009 5:17 PM;mstudman;So for your build portion above, it should be something like:

{code}
<clover-report>
   <current outfile=""${output.coverage.reports}/common"" title=""Platform - Common"" showUniqueCoverage=""false"">
      <format type=""html""/>
   </current>
</clover-report>
{code}

;;;","04/Aug/2009 5:20 PM;mstudman;I also note that you keep your database around after reporting.
{code}
<clover-clean keepdb=""true""/>
{code}

If you use this Clover database in your build at a later point but don't reuse across builds, fine. If you keep this database around / reuse between builds, I would recommend against this and may be the source of some performance problems. The database is very much a disposable artefact.;;;","04/Aug/2009 7:15 PM;bccbd399478a;Rather than uglifying our dozen or so build.xmls, is it possible to get a bug fix release that will enable this attribute for clover-html-report ?

I'll also try nuking the database between builds. I think that's a leftover we probably don't need.

Thanks.
;;;","04/Aug/2009 8:12 PM;mstudman;Most definitely. The only problem is this JIRA area doesn't allow attachments > 10mb. I've created a support issue for you with the dev build attached. Let me know when you've grabbed the attachment and I'll close that support issue.

https://support.atlassian.com/browse/CLV-5248;;;","04/Aug/2009 8:21 PM;bccbd399478a;I have the jar - it'll be 60-90 minutes before I can test it.
;;;","04/Aug/2009 8:26 PM;mstudman;No rush on testing it. As I'm in GMT I'll probably be asleep by the time you test it!;;;","05/Aug/2009 1:36 AM;bccbd399478a;The new build worked great. Upgrading to 2.5 seemed to be the biggest performance boost without eliminating unique coverage, my builds are cut in half.

I have one lingering problem, though - at the end of the build, in my primary build.xml, I get this error:

BUILD FAILED
/usr/local/bamboo-home/xml-data/build-dir/PLT-TRUNK/build/build.xml:99: Error writing new clover db at /usr/local/bamboo-home/xml-data/build-dir/PLT-TRUNK/output/merged-clover.db

I don't see anything indicating *why* it failed ...

Relevant build.xml chunk:

    <echo message=""Generating Coverage Stats...""/>
    <clover-merge initString=""${output.path}/merged-clover.db"">
      <cloverdbset dir=""${platform.home}"">
            <include name=""**/clover*.db""/>
      </cloverdbset>
    </clover-merge>                      

    <clover-report initString=""${output.path}/merged-clover.db"">
      <current outfile=""${output.path}/merged-clover-stats.xml"" alwaysreport=""true"" summary=""true"">
        <format type=""xml""/>
      </current>
    </clover-report>

I don't see any obvious problems with permissions or anything, but again the error message is a tad vague ...

Thanks - oh, and I did read the remark about support.atlassian.com v. jira.atlassian.com. I guess I never realized the difference. I'll try to remember that next time.


;;;",,,,,,,,,,,,,,,,,,,
Spelling error in tooltip in Clover IntelliJ plugin,CLOV-667,90542,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,sginter,kellingburg,kellingburg,03/Aug/2009 1:13 AM,05/Aug/2009 10:20 AM,15/Nov/2024 6:09 PM,05/Aug/2009 10:20 AM,2.6 M1,,,,,2.6,2.6 M2,,CIJ Plugin,,,,,,,0,,,,,,,,,"See attached screenshot: ""elxcluded""","IDEA 8.1.3
Clover IntelliJ Plugin clover-idea-2.6.0-M1-v20090716170000.jar",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Aug/2009 1:13 AM;kellingburg;spellingError.jpg;https://jira.atlassian.com/secure/attachment/33016/spellingError.jpg",,,,,,,,,,,,,,,,true,,"1|hwbulb:",11362,,,,,77287,,,,,,Unknown,,,,,2009-08-05 10:20:03.2,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjsn:",74957,,,,,,,,,,,"1|hwmpqn:",77401,482198400,true,,,,,,,,,,kellingburg(kellingburg),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwogpz:",64607,,,,,,,,,,,,,,,,,,,,,,,,,,77287,,"1|hwmp1b:",77290,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"05/Aug/2009 10:20 AM;sginter;Well spotted, thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover Test Optimization broken for Tests which inherit from a common base class (that is instrumented with clover),CLOV-641,88716,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,20/Jul/2009 7:43 AM,21/May/2012 11:48 AM,15/Nov/2024 6:09 PM,11/Aug/2009 9:53 AM,2.5,2.5.1,,,,2.6 M2,,,Test Optimization,,,,,,,0,,,,,,,,,"This is a regression in clover 2.5.0 . Clover 2.4.2 does not have this same problem.

The attached project reproduces this problem for both Ant and Maven2.
Both SubATest and SubBTest inherit from AbstractTest. The clover.snapshot that is generated after a test run contains only information about one of them. Which one is purely random. Which means that the problem eventually disappears when run enough times for each sub testMethod to be added to the snapshot.",,,"* tracking down the bug was rather arduous ;21/Jul/2009 3:56 AM;npellow;28800",";02/Aug/2009 7:24 AM;npellow;3600","review etc;11/Aug/2009 9:54 AM;npellow;3600",,0,36000,,,0,36000,,,,CLOV-640,,,,,,,,,,,,,,,,,,,,"20/Jul/2009 7:43 AM;npellow;module-c.tar.gz;https://jira.atlassian.com/secure/attachment/32823/module-c.tar.gz",,,,,,,,,,,,,,,,true,,"1|hwbupj:",11381,,,,,90986,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjwn:",74975,,,,,,,,,,,"1|hwosav:",91097,483580800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqm5r:",77696,,,,,,,,,,,,,,,,,,,,,,,,,,90988,,"1|hworlz:",90988,,,,,,,,,,,,,,,,,,,,,,4,,,,,,,"20/Jul/2009 7:54 AM;npellow;It looks like the key used in the testLookup Map in the Snapshot is not unique enough.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
java.lang.NoSuchMethodError on Idea7,CLOV-639,88626,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,sginter,sginter,sginter,16/Jul/2009 3:02 PM,16/Jul/2009 3:26 PM,15/Nov/2024 6:09 PM,16/Jul/2009 3:26 PM,2.6 M1,,,,,2.6 M1,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Error during dispatching of java.awt.event.MouseEvent[MOUSE_CLICKED,(1751,1164),absolute(1747,1160),button=1,modifiers=Button1,clickCount=1] on frame0: com.intellij.ui.HyperlinkLabel: method <init>()V not found
java.lang.NoSuchMethodError: com.intellij.ui.HyperlinkLabel: method <init>()V not found
	at com.cenqua.clover.idea.autoupdater.NewVersionDialog.<init>(NewVersionDialog.java:30)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.popNotificationDialog(NewVersionNotifier.java:60)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.popNotificationDialog(NewVersionNotifier.java:55)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier.access$000(NewVersionNotifier.java:17)
	at com.cenqua.clover.idea.autoupdater.NewVersionNotifier$1.mouseClicked(NewVersionNotifier.java:80)
	at java.awt.Component.processMouseEvent(Component.java:6044)
	at javax.swing.JComponent.processMouseEvent(JComponent.java:3265)
	at java.awt.Component.processEvent(Component.java:5806)
	at java.awt.Container.processEvent(Container.java:2058)
	at java.awt.Component.dispatchEventImpl(Component.java:4413)
	at java.awt.Container.dispatchEventImpl(Container.java:2116)
	at java.awt.Component.dispatchEvent(Component.java:4243)
	at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4322)
	at java.awt.LightweightDispatcher.processMouseEvent(Container.java:3995)
	at java.awt.LightweightDispatcher.dispatchEvent(Container.java:3916)
	at java.awt.Container.dispatchEventImpl(Container.java:2102)
	at java.awt.Window.dispatchEventImpl(Window.java:2440)
	at java.awt.Component.dispatchEvent(Component.java:4243)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)
	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:146)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:118)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:87)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:273)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:183)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:173)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:168)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:160)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:121)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwbj:",11642,,,,,77290,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjx3:",74977,,,,,,,,,,,"1|hwmprb:",77404,483926400,true,,,,,,,,,,sginter(sginter),,,,,,,,,,,,,,,,,,,"1|hwqksn:",77343,,,,,,,,,,,,,,,,,,,,,,,,,,77290,,"1|hwmp1z:",77293,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE when running tests after changing excludes,CLOV-629,88315,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,sginter,,,10/Jul/2009 1:27 PM,15/Jul/2009 12:17 PM,15/Nov/2024 6:09 PM,15/Jul/2009 12:17 PM,2.6 M1,,,,,2.6 M1,,,CIJ Plugin,,,,,,,0,,,,,,,,,"null
java.lang.NullPointerException
	at com.cenqua.clover.idea.testexplorer.TestRunExplorerTreeBuilder.indexPerPackage(TestRunExplorerTreeBuilder.java:64)
	at com.cenqua.clover.idea.testexplorer.TestRunExplorerTreeBuilder.addPackageFragments(TestRunExplorerTreeBuilder.java:157)
	at com.cenqua.clover.idea.testexplorer.TestRunExplorerTreeBuilder.populate(TestRunExplorerTreeBuilder.java:246)
	at com.cenqua.clover.idea.testexplorer.TestRunExplorerTreeBuilder.populate(TestRunExplorerTreeBuilder.java:213)
	at com.cenqua.clover.idea.testexplorer.TestRunBrowserPanel.update(TestRunBrowserPanel.java:85)
	at com.cenqua.clover.idea.testexplorer.TestRunExplorerToolWindow.doUpdate(TestRunExplorerToolWindow.java:260)
	at com.cenqua.clover.idea.testexplorer.TestRunExplorerToolWindow.access$100(TestRunExplorerToolWindow.java:61)
	at com.cenqua.clover.idea.testexplorer.TestRunExplorerToolWindow$2.run(TestRunExplorerToolWindow.java:124)
	at com.intellij.openapi.application.impl.LaterInvocator$FlushQueue.run(LaterInvocator.java:16)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:597)
	at com.intellij.ide.IdeEventQueue.c(IdeEventQueue.java:35)
	at com.intellij.ide.IdeEventQueue.b(IdeEventQueue.java:99)
	at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:217)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)

","Java version=1.6.0_13, Java vendor=Sun Microsystems Inc., OS name=Linux, OS architecture=amd64, IDEA build number=9833
Plugin release=2.5.2.v20090703171011-dev",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw9z:",11635,,,,,77292,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjy7:",74982,,,,,,,,,,,"1|hwmprr:",77406,484444800,true,,,,,,,,,,sginter(sginter),,,,,,,,,,,,,,,,,,,"1|hwqwpb:",80469,,,,,,,,,,,,,,,,,,,,,,,,,,77292,,"1|hwmp2f:",77295,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ant 1.6 confuses AndSpec and OrSpec for AndSelector and OrSelector,CLOV-628,88186,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,08/Jul/2009 5:14 PM,25/Aug/2009 5:22 AM,15/Nov/2024 6:09 PM,14/Jul/2009 9:36 PM,,,,,,2.6,,,,,,,,,,0,,,,,,,,,Works in 1.7,,,";08/Jul/2009 5:28 PM;mstudman;1800",,,,0,1800,,,0,1800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwjj:",11678,,,,,81611,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjyf:",74983,,,,,,,,,,,"1|hwnehj:",81722,484012800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqt0f:",79677,,,,,,,,,,,,,,,,,,,,,,,,,,81613,,"1|hwndtb:",81616,,,,,,,,,,,,,,,,,,,,,,3,,,,,,,"14/Jul/2009 9:36 PM;mstudman;Minor work. No issuing review.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Forked Eclipse reports don't respect the trial license,CLOV-620,87781,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,29/Jun/2009 9:50 PM,25/Aug/2009 5:22 AM,15/Nov/2024 6:09 PM,13/Jul/2009 7:57 PM,2.5.1,,,,,2.6,,,CEP Plugin,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwgn:",11665,,,,,90980,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjzz:",74990,,,,,,,,,,,"1|hwos9j:",91091,485308800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqkgv:",77244,,,,,,,,,,,,,,,,,,,,,,,,,,90982,,"1|hworkn:",90982,,,,,,,,,,,,,,,,,,,,,,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Optimization forgets the failed tests from previous runs if a single optimized test is run,CLOV-618,87647,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,sginter,sginter,sginter,25/Jun/2009 11:35 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,04/Sep/2009 2:59 PM,,,,,,2.6,2.6 M2,,CEP Plugin,Test Optimization,,,,,,0,,,,,,,,,"Scenario:
- run 'All tests', testA passes but testB fails
- run 'All tests' again, just (failing) testB is run
- touch testA and run it using test optimization button
- run 'All tests' - nothing is run, as if testB hasn't failed last time.

The test failure info should be more persistent in the snapshot - keep it there until this very test is run successfully",,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbulz:",11365,,,,,77295,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmk0f:",74992,,,,,,,,,,,"1|hwmpsf:",77409,484444800,true,,,,,,,,,,sginter(sginter),,,,,,,,,,,,,,,,,,,"1|hwqt13:",79680,,,,,,,,,,,,,,,,,,,,,,,,,,77295,,"1|hwmp33:",77298,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"10/Jul/2009 2:31 PM;sginter;This happens when the span is set to 1s or similar. The DB loaded after the run has info about last run only, and that is the reason why the previously failed test is forgotten.
When the span is set to default value, all historical test statuses are available, so once the test fails it will be treated as failed until the DB is cleaned - which is also not what we want.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Integrate with GAEJ, GWT, Android",CLOV-575,86706,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,mparfianowicz,mstudman,mstudman,09/Jun/2009 4:05 PM,13/Aug/2019 7:17 AM,15/Nov/2024 6:09 PM,15/Jul/2015 10:22 AM,,,,,,won't fix,,,CEP Plugin,,,,,,,0,,,,,,,,,"Obviously for the 2.6 timeframe, only one of these may be possible.",,,,,,,,,,288000,288000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvgf:",11502,,,,,56415,,,,,,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmk6n:",75020,,,,,,,,,,,"1|hwj7kn:",56564,487123200,true,,,,,,,,,,mparfianowicz(mparfianowicz),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwq7vj:",75097,,,,,,,,,,,,,,,,,,,,,,,,,,56415,,"1|hwj6of:",56422,,,,,,,,,,,,,,,,,,,,,,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fully Support Eclipse 3.5,CLOV-578,86696,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,sginter,mstudman,mstudman,09/Jun/2009 2:57 PM,10/Dec/2009 12:46 PM,15/Nov/2024 6:09 PM,10/Dec/2009 12:46 PM,,,,,,2.6.3.1,,,CEP Plugin,,,,,,,0,,,,,,,,,,,,";02/Jul/2009 11:10 PM;mstudman;14400",";14/Jul/2009 9:29 PM;mstudman;10800",,288000,0,25200,8%,345600,57600,25200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbu3z:",11284,,,,,77308,,,,,,Unknown,,,,,2009-08-28 02:22:32.716,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmk67:",75018,,,,,,,,,,,"1|hwmpvb:",77422,471225600,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,"1|hwqqbj:",78903,,,,,,,,,,,,,,,,,,,,,,,,,,77308,,"1|hwmp5z:",77311,,,,,,,,,,,,,,,,,,,,,,5,,,,,,,"17/Jun/2009 12:00 PM;mstudman;Unknown duration. Investigation required.;;;","28/Aug/2009 2:22 AM;npellow;Does this have a reasonable chance of being looked at prior to sept. 4?
If not, please remove from the 2.6 release.;;;","30/Sep/2009 5:27 AM;npellow;preparing for 2.6.1 release;;;","10/Dec/2009 12:46 PM;sginter;No more 3.5 specific issues found so far;;;",,,,,,,,,,,,,,,,,,,,,,,
Enabling Clover with Rebuild Immediately policy causes coverage.db no longer valid errors,CLOV-1696,86294,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,kellingburg,kellingburg,02/Jun/2009 1:11 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,2.5,,,,,someday,,,CIJ Plugin,,,,,,,0,,,,,,,,,"I disabled Clover to run tomcat. Then, I re-enabled Clover with Rebuild policy ""Rebuild Immediately"". I ran some unit tests and got an error kind of like this:

WARN: CLOVER: Clover database: '/Users/kellingburg/atlassian/projects/atlassian/pacs/trunk/.clover/coverage.db' is no longer valid. Required size: 857, actual size: 0
WARN: CLOVER: No coverage data will be gathered.

I then disabled Clover (to see if I could duplicate the error), renabled with the same settings, and ran some unit tests, and got this actual error:

WARN: CLOVER: Clover database: '/Users/kellingburg/atlassian/projects/atlassian/pacs/trunk/.clover/coverage.db' is no longer valid. Required size: 857, actual size: 796
WARN: CLOVER: No coverage data will be gathered.

(The second error is a copy and paste from my console, the first is from memory as I remember distinctly the ""actual size 0"" part of it). In fact, the second error ends with a stacktrace:

WARN: CLOVER: Clover database: '/Users/kellingburg/atlassian/projects/atlassian/pacs/trunk/.clover/coverage.db' is no longer valid. Required size: 857, actual size: 796
WARN: CLOVER: No coverage data will be gathered.
WARN: CLOVER: Clover database: '/Users/kellingburg/atlassian/projects/atlassian/pacs/trunk/.clover/coverage.db' is no longer valid. Required size: 848, actual size: 796
WARN: CLOVER: No coverage data will be gathered.
WARN: CLOVER: Clover database: '/Users/kellingburg/atlassian/projects/atlassian/pacs/trunk/.clover/coverage.db' is no longer valid. Required size: 1300, actual size: 796
WARN: CLOVER: No coverage data will be gathered.
WARN: CLOVER: Clover database: '/Users/kellingburg/atlassian/projects/atlassian/pacs/trunk/.clover/coverage.db' is no longer valid. Required size: 1378, actual size: 796
WARN: CLOVER: No coverage data will be gathered.

java.lang.ArrayIndexOutOfBoundsException: 814
	at com_cenqua_clover.CoverageRecorder.inc(CoverageRecorder.java:410)
	at com.atlassian.plugins.domain.model.vendor.SupportOrganisation.getSupportDetails(SupportOrganisation.java:58)
	at com.atlassian.plugins.domain.model.vendor.SupportOrganisationTest.testBeforeMarshal_ExpandedTrue(SupportOrganisationTest.java:15)

I can't remember if the first one did or not.

I'm running IDEA 8.1.2 build 9852. Attached is a screenshot of my Clover settings.

I'm raising this as a bug because the behaviour I expected was for my unit tests to run as per normal and the coverage data become available. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/2009 1:11 AM;kellingburg;Settings.jpg;https://jira.atlassian.com/secure/attachment/31977/Settings.jpg",,,,,,,,,,,,,,,,,,"1|hwby5r:",12068,,,,,50125,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmn53:",75500,,,,,,,,,,,"1|hwi6gn:",50279,487728000,true,,,,,,,,,,kellingburg(kellingburg),,,,,,,,,,,,,,,,,,,"1|hwq8f3:",75191,,,,,,,,,,,,,,,,,,,,,,,,,,50125,,"1|hwi5jb:",50132,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GDI objects leak,CLOV-723,85933,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,4cf38e4cf4c1,4cf38e4cf4c1,26/May/2009 10:32 AM,09/Sep/2009 3:19 PM,15/Nov/2024 6:09 PM,16/Jun/2009 8:50 AM,2.5.1,,,,,2.6,,,,,,,,,,0,,,,,,,,,"Steps taken:
1. Installed the plugin, added Clover to two projects: one containing a test, another one I wanted to measure the coverage for.
2. I've run a single JUnit test class with ""Run With Clover | As JUnit""
3. The test ran fine,  TestRunExplorer, CoverageExplorer, TestContributions were populated correctly.
4. But the Eclipse process in OS seemed to take more and more GDI objects (as reported by taskmgr.exe). This led to first Eclipse being not responsive, then even all the other applications having problems to render them correctly. The GDI objects number kept on growing until it reached 10000, which was enough for my computer.

Note that the GDI objects number keeps on rising without a single click in Eclipse after selecting the ""CoverageExplorer"" view (about new 8-12 GDI objects each second). Without EclipseForClover no such a problem is observed when running tests.
Reverting the changes in "".classpath"" and "".project"" and restarting Eclipse restores the proper behaviour.
","Eclipse: Version: 3.4.2 Build id: M20090211-1700
OS: Windows XP Pro

{code}
java version ""1.6.0_13""
Java(TM) SE Runtime Environment (build 1.6.0_13-b03)
Java HotSpot(TM) Client VM (build 11.3-b02, mixed mode, sharing)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxbj:",11804,,,,,91015,,,,,,Unknown,,,,,2009-05-26 16:19:50.875,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmjif:",74911,,,,,,,,,,,"1|hwoshb:",91126,484704000,true,,,,,,,,,,4cf38e4cf4c1(grzegorz.oledzki),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwqkon:",77298,,,,,,,,,,,,,,,,,,,,,,,,,,91017,,"1|hworsf:",91017,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"26/May/2009 4:19 PM;mstudman;Hi Grzegorz ,

I apologise that you are encountering this problem.

I can certainly see some GDI resource leaks but I can't see this 8-12 / second behaviour you describe. Could you please turn off the ""Look for updated coverage every..."" setting (and click Apply) and then see if the constant GDI resource leak continues? I'm wondering if it's related to the scan Clover does every 2s (by default) for new coverage data.

!http://img.skitch.com/20090526-qcuiashcbhwd73wjq912rsek8x.png!

Thanks.

Michael ;;;","27/May/2009 5:27 PM;mstudman;Hi Grzegorz,

I believe I may have found the core of the problem and this will be addressed in Clover 2.5.1 released tomorrow (Thursday 28th). Please let us know if it addresses the problem for you.

Michael.;;;","16/Jun/2009 8:49 AM;mstudman;Actually implemented in 2.5.X;;;","07/Jul/2009 1:02 PM;4cf38e4cf4c1;Sorry, Michael, for not responding. I didn't get any e-mail notification. 
Thanks for fixing!;;;",,,,,,,,,,,,,,,,,,,,,,,
"Coverage HTML report ""help"" strings not properly encoded/escaped; causes IE error on almost every page",CLOV-533,85346,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,1279dd9ac894,1279dd9ac894,18/May/2009 11:39 PM,19/May/2009 2:10 AM,15/Nov/2024 6:09 PM,19/May/2009 2:10 AM,2.4.2,2.5,,,,2.5.1,,,Reporting,,,,,,,0,html,javascript-error,reporting,,,,,,"The ""help"" strings for column headers are not properly escaped/encoded for use in embedded HTML/Javascript.
If a column header whose help string causes a parsing error, *every* page navigation causes an IE script error popup (see attached screenshot), making the Clover report nearly unusable for IE users.  Firefox browsers may report the parsing error but will at least continue gracefully.

This issue can be reproduced 100% of the time:
1. Generate an HTML coverage report that includes the column for percent uncovered contribution.
2. Navigate to any source file report page or package coverage summary using Internet Explorer.
3. Activate the help function by clicking ""SHOW HELP"" (this may or may not be necessary, depending on the browser)
4. An unescaped single-quote character will cause script parsing to fail (see below) with an error dialog (IE) or an error writing to the Error Console window (Firefox).

This issue was first found on Clover 2.4.2 and still occurs using 2.5.0.

Problem HTML:
<span class=""headerTitle""><label  onkeyup=""return 'The amount of code that was not hit during testing as a percentage of the project's total';""  >% Uncovered Contribution</label></span>

As reported by the error console in Firefox 3.6a:
Error: uncaught exception: [Exception... ""Illegal value""  nsresult: ""0x80070057 (NS_ERROR_ILLEGAL_VALUE)""  location: ""JS frame :: file:///c:/documents%20and%20settings/wprice/desktop/forecaster/coverage_report/forecaster/help.js :: visitAllHelpElements :: line 75""  data: no]

Error: missing ; before statement
Source File:
Line: 0, Column: 7
Source Code:
return 'The amount of code that was not hit during testing as a percentage of the project's total';","[clover-setup] Clover Version 2.5.0, built on May 11 2009 (build-755)
[clover-setup] Loaded from: /opt/clover/clover-ant-2.5.0/lib/clover.jar
[clover-setup] Clover: Commercial License registered to PROS Revenue Managment.


Linux 2.6.9-78.0.1.ELsmp #1 SMP Tue Jul 22 18:11:48 EDT 2008 i686 

Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_11-b03)
Java HotSpot(TM) Server VM (build 1.5.0_11-b03, mixed mode)

Java(TM) SE Runtime Environment (build 1.6.0_11-b03)
Java HotSpot(TM) Server VM (build 11.0-b16, mixed mode)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/2009 11:39 PM;1279dd9ac894;clover-ie-error.png;https://jira.atlassian.com/secure/attachment/31688/clover-ie-error.png",,,,,,,,,,,,,,,,true,,"1|hwqu9z:",103228,,,,,90961,,,,,,Unknown,,,,,2009-05-18 23:56:57.478,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkfb:",75059,,,,,,,,,,,"1|hwos5b:",91072,488937600,true,,,,,,,,,,npellow(npellow),1279dd9ac894(wrprice),,,,,,,,,,,,,,,,,,"1|hwqzpr:",81198,,,,,,,,,,,,,,,,,,,,,,,,,,90963,,"1|hworgf:",90963,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"18/May/2009 11:56 PM;npellow;Thanks for reporting this, William.

The apostrophe in ""project's"" in that help text must be causing this.
This should be a simple fix, so we will push out a 2.5.1 release very soon - either at the end of this week, or early next week.
If you wish to have a dev build before then, please let me know and I can attach it here.

Cheers,
Nick;;;","19/May/2009 2:10 AM;npellow;This has been fixed and tested in FireFox and Safari.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Clover gives scary warnings when corrupted per-test coverage files are found,CLOV-532,85343,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,18/May/2009 9:22 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,18/May/2009 9:32 PM,2.5,,,,,2.5.1,,,Reporting,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqu9r:",103227,,,,,90960,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkfj:",75060,,,,,,,,,,,"1|hwos53:",91071,488937600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqkgn:",77243,,,,,,,,,,,,,,,,,,,,,,,,,,90962,,"1|hworg7:",90962,,,,,,,,,,,,,,,,,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover should prompt to rebuild a project if its flush or initstring settings change,CLOV-573,85117,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,jjaroczynski,mstudman,mstudman,13/May/2009 7:24 PM,19/Oct/2012 10:44 AM,15/Nov/2024 6:09 PM,19/Oct/2012 10:44 AM,,,,,,3.1.8,,,CEP Plugin,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvev:",11495,,,,,56416,,,,,,1,,,,,2012-08-27 15:02:10.973,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmk73:",75022,,,,,,,,,,,"1|hwj7kv:",56565,489369600,true,,,,,,,,,,jjaroczynski(jjaroczynski),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwqovz:",78513,,,,,,,,,,,,,,,,,,,,"Version 3.1.7, Sprint 1",Version 3.1.8,,,,1.0,56416,,"1|hwj6on:",56423,,,,,,,,,,,,,,,,,,,,,,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"No instrumentation Done, Always get two Tests run.",CLOV-1084,84862,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,npellow,npellow,08/May/2009 4:24 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,2.5,3.2.0,3.3.0,4.0.0,,long term roadmap,,,CIJ Plugin,,,,,,,0,,,,,,,,,"Although 0 instr. was done, I still see two tests run.

{code}
2009-05-08 14:19:48,851 [8933804]   INFO - a.clover.core_v2.5.0-build-dev - Updating existing database at '/Users/niick/work/CLOV-trunk/.clover/coverage.db'. 
2009-05-08 14:19:49,638 [8934591]   INFO - a.clover.core_v2.5.0-build-dev - Processing files at 1.5 source level. 
2009-05-08 14:19:52,664 [8937617]   INFO - a.clover.core_v2.5.0-build-dev - Clover all over. Instrumented 0 files (0 packages). 
2009-05-08 14:19:52,664 [8937617]   INFO - a.clover.core_v2.5.0-build-dev - Elapsed time = 3.026 secs. (0 files/sec, 0 srclines/sec) 
2009-05-08 14:19:52,664 [8937617]   INFO - over.idea.build.CloverCompiler - completed Instrumentation. 
2009-05-08 14:19:53,738 [8938691]   INFO - a.clover.core_v2.5.0-build-dev - Clover estimates having saved around 41 seconds on this optimized test run. The full test run takes approx. 41 seconds 
2009-05-08 14:19:53,738 [8938691]   INFO - a.clover.core_v2.5.0-build-dev - Clover included 2 test classes in this run (total # test classes : 84) 
2009-05-08 14:19:54,689 [8939642]   INFO -        CloverProgressIndicator - Creating database 
2009-05-08 14:19:54,690 [8939643]   INFO -        CloverProgressIndicator - Loading registry file 
2009-05-08 14:19:56,686 [8941639]   INFO -        CloverProgressIndicator - Building Index 
2009-05-08 14:19:56,686 [8941639]   INFO -        CloverProgressIndicator - Loading coverage data 
2009-05-08 14:19:56,758 [8941711]   INFO -        CloverProgressIndicator - Reading per-test data 
2009-05-08 14:19:56,995 [8941948]   INFO -        CloverProgressIndicator - Resolving coverage data 
2009-05-08 14:19:57,345 [8942298]   INFO -        CloverProgressIndicator - Creating tree 
2009-05-08 14:19:57,480 [8942433]   INFO -        CloverProgressIndicator - Tree model ready 

{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hwby4v:",12051,,,,,50130,,,,,,Unknown,,,,,2009-05-08 07:49:03.92,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmn5j:",75512,,,,,,,,,,,"1|hwi6h3:",50284,385344000,true,,,,,,,,,,mparfianowicz(mparfianowicz),npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,"1|hwfkwn:",64255,,,,,,,,,,,,,,,,,,,,"Version 3.1.7, Sprint 1",Version 3.1.8,,,,1.0,50130,,"1|hwi5jr:",50137,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/May/2009 7:49 AM;sginter;Do you see those tests in Test Run explorer and as Test Classes in Coverage Explorer?
If not, Clover does not recognize them as test classes and just lets them through.

Other option is if there are old recordings indicating that those tests touch classes they no longer do (because code paths changed).
They should be optimized out after cleaning the snapshot.;;;","11/May/2009 2:42 AM;npellow;No. I don't see those in the Test Run Explorer. The classes in question are:
InMemPerTestCoverageTest and SamplingPerTestCoverageTest, which should be detected as Tests by Clover's DefaultTestDetector.
(I added dummy testTest() methods to both just to be sure).;;;","11/May/2009 2:43 AM;npellow;If it helps at all, I see: 
{code}
2 test classes found in package ''
{code}
in the  Junit Test Runner output panel.;;;","11/May/2009 2:45 AM;npellow;And, the test is marked as a Test in the Coverage Explorer:
!http://img.skitch.com/20090511-ehnp6g62fyxbyxj4u7ypn1rkig.png!;;;","30/Aug/2012 2:32 PM;mparfianowicz;*Problem:*

Optimization snapshot is not updated with a new list of test methods when certain test case class is modified.


*Steps to reproduce:*
  - build project
  - run optimized (1st time - will  run all tests)
  - run optimized (2nd time - will run no tests as there are no code changes)
  - add one test method to a test case
  - run optimized (modified test case is executed)
  - run optimized (again and again, the test case with extra test method is still being ran, although there were no new code changes)

Note: the same happens in case when some test method is removed.

*Background reason:*

A snapshot file is not being recreated after compilation (we cannot create it from scratch, because we'd loose information from previous test run, which is needed for test optimization). As a consequence Clover compares old list of test methods with existing ones, sees a difference (added/removed method) and adds such test class for execution during optimized run. 

*Workaround available:*

Remove snapshot file when new test methods are added or removed (should be documented on CAC). 


*Possible solution:*

Synchronize data in snapshot file with a database, keeping information about test execution (pass/fail, execution time etc). We must cover: methods, classes, packages, files. 
;;;","30/Aug/2012 2:37 PM;mparfianowicz;The problem with a 'possible solution' is that our Snapshot structure is optimized for adding/updating data only (hashsets) and it actually contains a mixture of data for methods, classes, packages and files. See the  com.cenqua.clover.test.optimization.Snapshot.updatePerTestInfo() and Snapshot.testLookup hashmap. ;;;","30/Aug/2012 4:22 PM;mparfianowicz;Problem described on https://confluence.atlassian.com/display/CLOVER/7.+Test+Optimization+for+IDEA;;;",,,,,,,,,,,,,,,,,,,,
"""Have you enabled Clover on this project?"" balloon appears after instrumentation",CLOV-598,84853,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Obsolete,sginter,npellow,npellow,08/May/2009 2:01 AM,22/Jan/2014 10:52 AM,15/Nov/2024 6:09 PM,27/Jan/2010 4:18 PM,,,,,,won't fix,,,CIJ Plugin,,,,,,,0,,,,,,,,,"I am using the jarjar.jar on the Clover project itself.

I just did a full rebuild with the latest version of the plugin from BEAC:

I got the Green Balloon: ""Have you enabled Clover on this project?"" after hitting 'Run Optimized"" after a full instrumentation.

In the logs, you can see an instrumentation has occurred:

{code}
2009-05-08 11:56:21,881 [ 326834]   INFO - over.idea.build.CloverCompiler - Instrumenting file:///Users/niick/work/CLOV-trunk/eclipse/com.cenqua.clover.core/src/com/cenqua/clover/eclipse/projects/settings/source/test/TestSourceFilteringComposite.java 
2009-05-08 11:56:21,891 [ 326844]   INFO - over.idea.build.CloverCompiler - Instrumenting file:///Users/niick/work/CLOV-trunk/eclipse/com.cenqua.clover.core/src/com/cenqua/clover/eclipse/views/WorkingSetNodeFilter.java 
2009-05-08 11:56:21,893 [ 326846]   INFO - over.idea.build.CloverCompiler - Instrumenting file:///Users/niick/work/CLOV-trunk/eclipse/com.cenqua.clover.core/src/com/cenqua/clover/eclipse/views/testcontributions/LineTestContributionsWidget.java 
2009-05-08 11:56:21,899 [ 326852]   INFO - over.idea.build.CloverCompiler - Instrumenting file:///Users/niick/work/CLOV-trunk/eclipse/com.cenqua.clover.core/src/com/cenqua/clover/eclipse/SwtUtils.java 
2009-05-08 11:56:30,977 [ 335930]   INFO - over.idea.build.CloverCompiler - Instrumenting file:///Users/niick/work/CLOV-trunk/buildutil/src/cloverutil/encode/TemplateEncoder.java 
2009-05-08 11:56:30,981 [ 335934]   INFO - over.idea.build.CloverCompiler - Instrumenting file:///Users/niick/work/CLOV-trunk/buildutil/src/cloverutil/asm/WriteRethrowMethod.java 
2009-05-08 11:56:37,234 [ 342187]   INFO - a.clover.core_v2.5.0-build-dev - Clover all over. Instrumented 1276 files (115 packages). 
2009-05-08 11:56:37,234 [ 342187]   INFO - a.clover.core_v2.5.0-build-dev - 451 test methods detected. 
2009-05-08 11:56:37,234 [ 342187]   INFO - a.clover.core_v2.5.0-build-dev - Elapsed time = 61.128 secs. (20.874 files/sec, 2,721.486 srclines/sec) 
2009-05-08 11:56:37,234 [ 342187]   INFO - over.idea.build.CloverCompiler - completed Instrumentation. 
2009-05-08 11:57:26,687 [ 391640]   INFO - a.clover.core_v2.5.0-build-dev - Updating existing database at '/Users/niick/work/CLOV-trunk/.clover/coverage.db'. 
2009-05-08 11:57:27,512 [ 392465]   INFO - a.clover.core_v2.5.0-build-dev - Processing files at 1.5 source level. 
2009-05-08 11:57:30,578 [ 395531]   INFO - a.clover.core_v2.5.0-build-dev - Clover all over. Instrumented 0 files (0 packages). 
2009-05-08 11:57:30,578 [ 395531]   INFO - a.clover.core_v2.5.0-build-dev - Elapsed time = 3.067 secs. (0 files/sec, 0 srclines/sec) 
2009-05-08 11:57:30,578 [ 395531]   INFO - over.idea.build.CloverCompiler - completed Instrumentation. 
2009-05-08 11:57:30,747 [ 395700]   INFO - a.clover.core_v2.5.0-build-dev - Clover coverage database not found for project 'Clover-TRUNK'

Have you enabled Build with Clover on this project? 

{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hwbx47:",11771,,,,,52856,,,,,,Unknown,,,,,2009-05-08 07:44:42.212,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmk3b:",75005,,,,,,,,,,,"1|hwimlz:",53010,467078400,true,,,,,,,,,,npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwqj9j:",77006,,,,,,,,,,,,,,,,,,,,,,,,,,52856,,"1|hwilon:",52863,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"08/May/2009 7:44 AM;sginter;This most probably means that Clover didn't have enough time to load the database after it has been created.
Was Coverage Explorer displaying any data when you saw the balloon?;;;","10/May/2009 10:27 PM;npellow;I don't think so.
This is a reproducible problem however. ie. I saw it twice in a row.;;;","14/May/2009 12:46 PM;sginter;What settings do you have for View -> Refresh policy?
Does it reproduce when you have it set to Automatic? (it should still work if you don't have Auto, but this might be a clue)

Do you see the Coverage Explorer contents?

Also, does it happen on jarjar-ed or vanilla version?
If this is jarjar, could you test with the latest build? (fixing config problems on jarjar);;;","14/May/2009 10:39 PM;npellow;bq. What settings do you have for View -> Refresh policy?
Automatic after compilation or process finishes.

bq. Does it reproduce when you have it set to Automatic? (it should still work if you don't have Auto, but this might be a clue)
Yes

bq. Do you see the Coverage Explorer contents?
No. Even though I have Auto-refresh set, I can not see the coverage (or lack thereof) after a rebuild with clover. So could also bug with autorefresh - not happening after compilation?

bq. Also, does it happen on jarjar-ed or vanilla version?
from above:
bq. I am using the jarjar.jar on the Clover project itself.

bq. If this is jarjar, could you test with the latest build? (fixing config problems on jarjar)
Ok. However were you not able to reproduce this locally?;;;","15/May/2009 8:28 AM;sginter;I couldn't reproduce it locally, but I was using a normal (not jarjar) version of Clover.
I also tried the newest jarjar, but I don't do it regularly.

Something similar does happen if I have the 'normal' version installed and then switch to jarjar.
Clover is totally lost with coveragedb format, you need to do a full rebuild.;;;","27/Jan/2010 4:18 PM;sginter;this part of functionality has changed significantly;;;",,,,,,,,,,,,,,,,,,,,,
Message in Balloon after clean snapshot is bogus,CLOV-1085,84746,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,pslade@atlassian.com,pslade@atlassian.com,06/May/2009 6:19 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,2.5,,,,,long term roadmap,,,Test Optimization,,,,,,,0,,,,,,,,,"# Clean shapshot
# First Optimised test run the balloon message is ok (see CIJ-272 re my thoughts on it)
# Second optmised test run has some odd figures in it relating to expected savings and total test run time.

",,,,,,,,,,,,,,,,,CLOV-435,,,,,,,,,,,,,,,,,,,"07/May/2012 11:32 AM;mparfianowicz;clover_balloon_after_clean_snapshot.png;https://jira.atlassian.com/secure/attachment/63722/clover_balloon_after_clean_snapshot.png",,,,,,,,,,,,,,,,,,"1|hwby3b:",12033,,,,,50157,,,,,,Unknown,,,,,2009-05-07 08:00:14.145,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmn5r:",75514,,,,,,,,,,,"1|hwi6if:",50311,395280000,true,,,,,,,,,,mparfianowicz(mparfianowicz),pslade@atlassian.com(pslade@atlassian.com),sginter(sginter),,,,,,,,,,,,,,,,,"1|hwq8gf:",75221,,,,,,,,,,,,,,,,,,,,"Version 3.1.7, Sprint 1",,,,,2.0,50157,,"1|hwi5l3:",50164,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"07/May/2009 8:00 AM;sginter;Remove saved time info from the balloon until CLOV-435 fixes the statistics calculation;;;","07/May/2012 11:31 AM;mparfianowicz;Lowering priority as workaround was implemented.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
ternary expressions don't count towards complexity,CLOV-526,84651,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,bhumphreys,bhumphreys,05/May/2009 2:02 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,11/May/2009 1:48 AM,2.4.3,,,,,2.5,,,,,,,,,,0,,,,,,,,,reported by Erik on FishEye team.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqu9b:",103225,,,,,90958,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkg7:",75063,,,,,,,,,,,"1|hwos4n:",91069,490147200,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqsxr:",79665,,,,,,,,,,,,,,,,,,,,,,,,,,90960,,"1|hworfr:",90960,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Compilation error occurs if a parameterized test has params called p or t.,CLOV-525,84555,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,02/May/2009 6:11 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,04/May/2009 12:45 AM,,,,,,2.5,,,Instrumentation,,,,,,,0,,,,,,,,,"These variables need to be namespaced somehow by Clover to prevent clashes with local variables etc...
e.g. the following method,
{code}
  @Test(dataProvider = ""test1"")
  public void verifyNames(Object p) {
    // do nothing
  }
{code}

fails with this javac error:
{code}
p is already defined in verifyNames(java.lang.Object)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqu93:",103224,,,,,90957,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkgf:",75064,,,,,,,,,,,"1|hwos4f:",91068,490406400,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqsxz:",79666,,,,,,,,,,,,,,,,,,,,,,,,,,90959,,"1|hworfj:",90959,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Optimization does not work when I have tests in different project than classes tested,CLOV-572,84116,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,sginter,sginter,24/Apr/2009 1:33 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,3.2.0,3.3.0,4.0.0,,,long term roadmap,,,CEP Plugin,,,,,,,1,,,,,,,,,"Test Optimization does not merge coverage databases from referenced projects.
As the result, it does not notice files being changed in those projects and does not run tests.",,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvdz:",11491,,,,,36395,,,,,,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmk7b:",75023,,,,,,,,,,,"1|hwfyen:",36727,486432000,true,,,,,,,,,,sginter(sginter),,,,,,,,,,,,,,,,,,,"1|hwfkvb:",63861,,,,,,,,,,,,,,,,,,,,,,,,,,36395,,"1|hwfwef:",36405,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,4,,,,,,,"17/Jun/2009 12:19 PM;sginter;Optimizer will need to be modified to use several Clover2Registries for inclusion calculation.
Eclipse will need to be able to provide those registries - probably by analysing project dependencies.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Project properties dialog expands to much when there are many source roots,CLOV-1717,84002,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mstudman,mstudman,23/Apr/2009 12:04 AM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,,,,,,someday,,,CEP Plugin,,,,,,,0,,,,,,,,,"See JIRA for an example:

!http://img.skitch.com/20090422-pbj6hx2qkej3126hdkp2kxhmqk.jpg!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwby0f:",11966,,,,,50148,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmn9b:",75789,,,,,,,,,,,"1|hwi6hz:",50302,491184000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwq8fz:",75212,,,,,,,,,,,,,,,,,,,,,,,,,,50148,,"1|hwi5kn:",50155,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Excluding Clover from instrumenting specific modules causes IDEA to hang.,CLOV-1689,83997,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,npellow,npellow,22/Apr/2009 11:04 PM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,,,,,,long term roadmap,,,CIJ Plugin,,,,,,,0,,,,,,,,,"I wanted to only include a single module in confluence for instrumentation, so I disabled all but the main module via Project Properties -> Clover -> Don't instrument this module.

The UI froze, and the following messages were written to the idea.log

{code}
2009-04-23 08:52:11,205 [65650878]   INFO - a.clover.core_v2.5.0-build-dev - Creating new database at '/Users/niick/work/CONF-trunk/.clover/coverage.db'. 
2009-04-23 08:52:11,205 [65650878]   INFO - a.clover.core_v2.5.0-build-dev - Processing files at 1.5 source level. 
2009-04-23 08:52:39,846 [65679519]   INFO - a.clover.core_v2.5.0-build-dev - Creating new database at '/Users/niick/work/CONF-trunk/.clover/coverage.db'. 
2009-04-23 08:52:39,846 [65679519]   INFO - a.clover.core_v2.5.0-build-dev - Processing files at 1.5 source level. 
2009-04-23 08:53:16,173 [65715846]   INFO - a.clover.core_v2.5.0-build-dev - Creating new database at '/Users/niick/work/CONF-trunk/.clover/coverage.db'. 
2009-04-23 08:53:16,173 [65715846]   INFO - a.clover.core_v2.5.0-build-dev - Processing files at 1.5 source level. 
2009-04-23 08:53:58,943 [65758616]   INFO - a.clover.core_v2.5.0-build-dev - Creating new database at '/Users/niick/work/CONF-trunk/.clover/coverage.db'. 
2009-04-23 08:53:58,943 [65758616]   INFO - a.clover.core_v2.5.0-build-dev - Processing files at 1.5 source level. 

2009-04-23 08:54:52,138 [65811811]   INFO - a.clover.core_v2.5.0-build-dev - Creating new database at '/Users/niick/work/CONF-trunk/.clover/coverage.db'. 
2009-04-23 08:54:52,138 [65811811]   INFO - a.clover.core_v2.5.0-build-dev - Processing files at 1.5 source level. 
2009-04-23 08:55:59,003 [65878676]   INFO - a.clover.core_v2.5.0-build-dev - Creating new database at '/Users/niick/work/CONF-trunk/.clover/coverage.db'. 
2009-04-23 08:55:59,003 [65878676]   INFO - a.clover.core_v2.5.0-build-dev - Processing files at 1.5 source level. 
2009-04-23 08:57:16,770 [65956443]   INFO - a.clover.core_v2.5.0-build-dev - Creating new database at '/Users/niick/work/CONF-trunk/.clover/coverage.db'. 
2009-04-23 08:57:16,770 [65956443]   INFO - a.clover.core_v2.5.0-build-dev - Processing files at 1.5 source level. 
2009-04-23 08:59:10,522 [66070195]   INFO - a.clover.core_v2.5.0-build-dev - Creating new database at '/Users/niick/work/CONF-trunk/.clover/coverage.db'. 
2009-04-23 08:59:10,522 [66070195]   INFO - a.clover.core_v2.5.0-build-dev - Processing files at 1.5 source level. 
{code}


It doesn't look right that it is creating a new coverage.db in the same directory each time.
I think it is doing on per-module that I disabled Clover from.",Testing on Confluence unit tests,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Apr/2009 11:14 PM;npellow;remkae-2.png;https://jira.atlassian.com/secure/attachment/31327/remkae-2.png",,,,,,,,,,,,,,,,,,"1|hwby2v:",12030,,,,,50160,,,,,,Unknown,,,,,2009-04-23 07:54:54.579,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmn67:",75522,,,,,,,,,,,"1|hwi6iv:",50314,491184000,true,,,,,,,,,,npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwq8gv:",75224,,,,,,,,,,,,,,,,,,,,,,,,,,50160,,"1|hwi5lj:",50167,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,4,,,,,,,"22/Apr/2009 11:14 PM;npellow;After the UI started responding again, this dialog appeared multiple times.

(have a look at the back shadow?)

I just realised also, that my machine was quite exhausted for RAM, so might try restarting IDEA.

However,creating the registry in multiple times in the same location seems wrong.
Likely to be a logging error in core. Will look at this.;;;","23/Apr/2009 7:54 AM;sginter;Every time you disabled a module Clover rebuilt the project - this is more or less expected except that it might ask you first and let you decide to skip. (it asked me when I tried to reproduce)
Do you have ""Ask"" selected in settings | Clover | Compilation | Rebuild policy?

Idea has a nice functionality of not showing some dialogs until the modal one currently open is closed. They say it's a feature.
This might be a reason why you haven't got the make notification sooner.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"Make ""Run with Clover As"" button disabled for non-Clover enabled projects",CLOV-1716,83996,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,,mstudman,mstudman,22/Apr/2009 10:02 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,,,,,,long term roadmap,,,CEP Plugin,,,,,,,0,,,,,,,,,"One of these icons is not like the other...

!http://img.skitch.com/20090422-rt9yqnxyj1sp7syqaxgxq6dqaf.jpg!",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwby07:",11965,,,,,111707,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmn9j:",75791,,,,,,,,,,,"1|hws16n:",111790,491184000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqse7:",79497,,,,,,,,,,,,,,,,,,,,,,,,,,111742,,"1|hws0yv:",111758,,,Severity 3 - Minor,,,,,,,,,,,,,,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SamplingPerTestCoverage loses some per test coverage if split over multiple .s files,CLOV-515,83887,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mstudman,mstudman,mstudman,21/Apr/2009 1:51 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,21/Apr/2009 1:52 PM,2.5,,,,,2.5,,,Database,,,,,,,0,,,,,,,,,"This can happen if all app source is compiled, then all test source is compiled. There will be two .s files and whichever is read last will ""win"" while the losing .s file will be forgotten.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqu7z:",103219,,,,,90951,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkhz:",75071,,,,,,,,,,,"1|hwos33:",91062,491356800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwr1hj:",81614,,,,,,,,,,,,,,,,,,,,,,,,,,90953,,"1|hwore7:",90953,,,,,,,,,,,,,,,,,,,,,,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Instrumentaiton of type-parameterized test methods fail,CLOV-504,83664,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,16/Apr/2009 5:45 PM,21/Apr/2009 9:45 AM,15/Nov/2024 6:09 PM,21/Apr/2009 9:45 AM,,,,,,2.5,,,Instrumentation,,,,,,,0,,,,,,,,,"public <T> void testFoo() { ... } fails as the synthetic test method doesn't carry the parameterized type through.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqu7j:",103217,,,,,90948,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkk7:",75081,,,,,,,,,,,"1|hwos2f:",91059,491788800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqu3z:",79904,,,,,,,,,,,,,,,,,,,,,,,,,,90950,,"1|hwordj:",90950,,,,,,,,,,,,,,,,,,,,,,4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Hit counts that are greater than the maximum value of an integer need to be accounted for,CLOV-493,83131,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,pkamal,pkamal,07/Apr/2009 4:28 AM,07/May/2009 4:13 AM,15/Nov/2024 6:09 PM,07/May/2009 4:13 AM,2.4.3,,,,,2.5,,,Database,,,,,,,0,,,,,,,,,"{quote}
when statements in java code are executed
more than maximum value of integer number(2^31 - 1 = 2147483647). Under such
condition, coverage data overflows and represented as negative number. This
causes following behavior:

1) Statements and branches that have negative coverage data are not counted 
as executed by clover 2.4.2. On the other hand, these are counted as executed 
by clover 1.3.14. It makes a difference both of statement coverage and branch 
coverage.

2) Branches that have negative coverage data, clover 2.4.2 indicates sum of 
conditionals that evaluated to ""true"" and ""false"" on HTML report. On the 
other hand, clover 1.3.14 indicates statement coverage on HTML data under 
same condition. It makes a difference between them on HTML report.

That is why we need clover 1.x compatible option for clover 2.x HTML report 
output.
{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqu6n:",103213,,,,,90942,,,,,,Unknown,,,,,2009-04-28 05:22:34.165,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkm7:",75090,,,,,,,,,,,"1|hwos13:",91053,490665600,true,,,,,,,,,,npellow(npellow),pkamal(pkamal),,,,,,,,,,,,,,,,,,"1|hwqsw7:",79658,,,,,,,,,,,,,,,,,,,,,,,,,,90944,,"1|hworc7:",90944,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"28/Apr/2009 5:22 AM;npellow;Unfortunately, the fix for this will not make it into Clover 2.5.0 .
We will however endeavor to have this fixed in a point release soon after 2.5.0 is released in May.

Cheers,
Nick;;;","29/Apr/2009 8:29 AM;npellow;Moving this here, in case we get time to fix.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Arguments aren't passed between test methods and synthetic Clover test methods resulting in compilation failures.,CLOV-471,82434,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,bhumphreys,mstudman,mstudman,24/Mar/2009 11:37 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,11/Oct/2010 2:34 AM,2.4.3,,,,,2.5,,,Instrumentation,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxjz:",11842,,,,,45951,,,,,,3,,,,,2009-03-24 11:48:27.838,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkqn:",75110,,,,,,,,,,,"1|hwhhnb:",46105,465696000,true,,,,,,,,,,bhumphreys(bhumphreys),glionetti(glionetti),mstudman(mstudman),,,,,,,,,,,,,,,,,"1|hwpk0v:",71163,,,,,,,,,,,,,,,,,,,,,,,,,,45951,,"1|hwhgpz:",45958,,,,,,,,,,,,,,,,,,,,,,5,,,,,,,"24/Mar/2009 11:38 AM;mstudman;Forum post: http://forums.atlassian.com/thread.jspa?threadID=32858&tstart=0;;;","24/Mar/2009 11:48 AM;bhumphreys;This bug was introduced by work to loosen the heuristics for test detection (CLOV-398), which, amongst other things, flagged methods as tests if annotated so, regardless of the number of arguments.  The refactor failed to account for passing arguments to the synthetic test method.
;;;","11/Feb/2010 10:20 PM;glionetti;For testing purposes;;;",,,,,,,,,,,,,,,,,,,,,,,,
Setting special instrumentation output dir to a source dir deletes all source!,CLOV-1083,82381,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,mstudman,mstudman,23/Mar/2009 11:55 PM,30/Aug/2012 3:45 PM,15/Nov/2024 6:09 PM,19/Jul/2012 9:14 AM,2.4.3,,,,,3.1.7,,,CEP Plugin,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbxwv:",11902,,,,,111338,,,,,,1,,,,,2012-07-05 10:20:53.75,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmnaf:",75821,,,,,,,,,,,"1|hwrz2n:",111421,395280000,true,,,,,,,,,,mparfianowicz(mparfianowicz),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwqu1r:",79890,,,,,,,,,,,,,,,,,,,,Version 3.1.8,,,,,1.0,111373,,"1|hwryuv:",111389,,,,,,,,,,,,,,,,,,,,,,5,,,,,,,"07/May/2012 12:07 PM;mstudman;This may be fixed already. Best to test it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
AIOOBE during database load,CLOV-467,82315,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,mstudman,mstudman,mstudman,21/Mar/2009 1:37 AM,23/Mar/2009 3:08 AM,15/Nov/2024 6:09 PM,23/Mar/2009 3:08 AM,,,,,,2.5,,,,,,,,,,0,,,,,,,,,"Forum issue: http://forums.atlassian.com/thread.jspa?threadID=32831&tstart=0

Bamboo failure: http://bamboo.developer.atlassian.com/browse/ATLASSIANPLUGINS-COV-298/log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqu3z:",103201,,,,,90929,,,,,,Unknown,,,,,2009-03-23 03:08:54.774,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkrj:",75114,,,,,,,,,,,"1|hwory7:",91040,493862400,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqsvj:",79655,,,,,,,,,,,,,,,,,,,,,,,,,,90931,,"1|hwor9b:",90931,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"23/Mar/2009 3:08 AM;npellow;http://jira.atlassian.com/browse/CLOV-460;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
When Clover2Registry.enterFile() is called the (BaseProjectInfo)model.fileLookup should be invalidated,CLOV-466,82311,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,sginter,sginter,20/Mar/2009 2:23 PM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,2.4.3,,,,,long term roadmap,,,Database,,,,,,,0,,,,,,,,,"Following procedure fails:
1. Create a registry
2. do registry.getModel().findFile(""path"")
3. compile the file using the same registry (leading to enterFile() and new FileInfo being created)
4. registry.getModel().findFile(""path"") returns the same instance as in point 2, not the new instance created in 3

Workaround which I used:
do registry.store();registry = C2R.fromInitString(registry.getInitString(), ""reloaded""), which clears the cache.

Low priority ATM as this affected a unit test only, but will kick us in the nuts once we start reusing the registry.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvb3:",11478,,,,,56445,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkrr:",75115,,,,,,,,,,,"1|hwj7rb:",56594,494121600,true,,,,,,,,,,sginter(sginter),,,,,,,,,,,,,,,,,,,"1|hwfkxr:",79653,,,,,,,,,,,,,,,,,,,,,,,,,,56445,,"1|hwj6v3:",56452,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
License doesn't pick up from pom.xml file,CLOV-465,82230,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,npellow,mgchong,mgchong,19/Mar/2009 7:54 AM,22/Jan/2014 10:24 AM,15/Nov/2024 6:09 PM,23/Mar/2009 5:47 AM,2.4.3,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"Currently, we can specifying license location in the pom.xml file. 
For example:
{noformat}
<configuration>
   <license><![CDATA[YOURLICENSESTRINGHERE]]></license>
</configuration>
{noformat}
and
{noformat}
<configuration>
    <licenseLocation>/path/to/clover.license</licenseLocation>
</configuration>
{noformat}

See [Troubleshooting License problems|http://confluence.atlassian.com/display/CLOVER/Troubleshooting+License+problems]. However, it doesn't work in the latest clover version 2.4.3. Even if you specified the license in the pom.xml, it would pick up the default evaluation license. This works fine in Clover version 2.3.2.

As a workaround, you can try using the _-Dmaven.clover.licenseLocation_ parameter at the command line e.g -Dmaven.clover.licenseLocation=/path/to/clover.license. This should work.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx3z:",11770,,,,,90928,,,,,,Unknown,,,,,2009-03-22 22:10:27.798,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkrz:",75116,,,,,,,,,,,"1|hworxz:",91039,493862400,true,,,,,,,,,,mgchong(mgchong),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwr25r:",81773,,,,,,,,,,,,,,,,,,,,,,,,,,90930,,"1|hwor93:",90930,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"23/Mar/2009 5:47 AM;mgchong;This is actually a clover-maven2-plugin problem. Hence, I have created the bug report specific to maven 2 plugin at:

* http://developer.atlassian.com/jira/browse/CLMVN-101

Regards,
MG;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
AIOOBE when loading coverage data,CLOV-460,81774,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Cannot Reproduce,mstudman,npellow,npellow,11/Mar/2009 4:43 AM,22/Jan/2014 10:41 AM,15/Nov/2024 6:09 PM,02/Jun/2009 3:17 PM,2.4.3,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"The following has been reported using  version 2.4.3 of clover on developer.bamboo.atlassian.com .
[Full Build Log|http://bamboo.developer.atlassian.com/build/viewBuildLog.action?buildKey=ATLASSIANPLUGINS-COV&buildNumber=283] .
I can't seem to reproduce this locally.

{code}
r-2009 06:27:06	[INFO] ------------------------------------------------------------------------
10-Mar-2009 06:27:06	[INFO] Building Atlassian Plugins - Parent POM
10-Mar-2009 06:27:06	[INFO]    task-segment: [clover2:aggregate] (aggregator-style)
10-Mar-2009 06:27:06	[INFO] ------------------------------------------------------------------------
10-Mar-2009 06:27:06	[INFO] [clover2:aggregate]
10-Mar-2009 06:27:06	[INFO] No 'maven.clover.licenseLocation' configured. Using default evaluation license.
10-Mar-2009 06:27:14	Merging database 1 of 14
10-Mar-2009 06:27:14	Merging database 2 of 14
10-Mar-2009 06:27:15	Merging database 3 of 14
10-Mar-2009 06:27:15	Merging database 4 of 14
10-Mar-2009 06:27:15	Merging database 5 of 14
10-Mar-2009 06:27:15	[INFO] Error writing new clover db '/opt/j2ee/domains/developer.atlassian.com/bamboo/webapps/atlassian-bamboo/data/bamboohome-PRE-CNT-20080623.59005.RESTORED/xml-data/build-dir/ATLASSIANPLUGINS-COV/target/clover/cloverMerge.db
10-Mar-2009 06:27:15	java.lang.ArrayIndexOutOfBoundsException: 0
10-Mar-2009 06:27:15	        at com.cenqua.clover.CoverageRecordingTranscript$FromStream.addTo(CoverageRecordingTranscript.java:40)
10-Mar-2009 06:27:15	        at com.cenqua.clover.CoverageDataCollator$1.visitFileInfo(CoverageDataCollator.java:102)
10-Mar-2009 06:27:15	        at com.cenqua.clover.registry.BasePackageInfo.visitFiles(BasePackageInfo.java:153)
10-Mar-2009 06:27:15	        at com.cenqua.clover.registry.BaseProjectInfo.visitFiles(BaseProjectInfo.java:184)
10-Mar-2009 06:27:15	        at com.cenqua.clover.CoverageDataCollator.collateRecordingFiles(CoverageDataCollator.java:98)
10-Mar-2009 06:27:15	        at com.cenqua.clover.CoverageDataCollator.loadCoverageData(CoverageDataCollator.java:44)
10-Mar-2009 06:27:15	        at com.cenqua.clover.CloverDatabase.loadCoverageData(CloverDatabase.java:110)
10-Mar-2009 06:27:15	        at com.cenqua.clover.CloverDatabase.loadCoverageData(CloverDatabase.java:105)
10-Mar-2009 06:27:15	        at com.cenqua.clover.CloverDatabase.merge(CloverDatabase.java:282)
10-Mar-2009 06:27:15	        at com.cenqua.clover.CloverMerge.mainImpl(CloverMerge.java:34)
10-Mar-2009 06:27:15	        at com.atlassian.maven.plugin.clover.CloverAggregateMojo.mergeCloverDatabases(CloverAggregateMojo.java:260)
10-Mar-2009 06:27:15	        at com.atlassian.maven.plugin.clover.CloverAggregateMojo.execute(CloverAggregateMojo.java:79)
10-Mar-2009 06:27:15	        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:451)
10-Mar-2009 06:27:15	        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:558)
10-Mar-2009 06:27:15	        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandaloneGoal(DefaultLifecycleExecutor.java:512)
10-Mar-2009 06:27:15	        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:482)
10-Mar-2009 06:27:15	        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:330)
10-Mar-2009 06:27:15	        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:227)
10-Mar-2009 06:27:15	        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:142)
10-Mar-2009 06:27:15	        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:336)
10-Mar-2009 06:27:15	        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:129)
10-Mar-2009 06:27:15	        at org.apache.maven.cli.MavenCli.main(MavenCli.java:287)
10-Mar-2009 06:27:15	        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
10-Mar-2009 06:27:15	        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
10-Mar-2009 06:27:15	        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
10-Mar-2009 06:27:15	        at java.lang.reflect.Method.invoke(Method.java:585)
10-Mar-2009 06:27:15	        at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
10-Mar-2009 06:27:15	        at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
10-Mar-2009 06:27:15	        at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)
10-Mar-2009 06:27:15	        at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
10-Mar-2009 06:27:15	[INFO] ------------------------------------------------------------------------
10-Mar-2009 06:27:15	[ERROR] BUILD ERROR
10-Mar-2009 06:27:15	[INFO] ------------------------------------------------------------------------
10-Mar-2009 06:27:15	[INFO] Clover has failed to merge the children module databases
10-Mar-2009 06:27:15	[INFO] ------------------------------------------------------------------------
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvav:",11477,,,,,90925,,,,,,3,,,,,2009-06-02 15:17:25.279,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkt3:",75121,,,,,,,,,,,"1|hworxb:",91036,487728000,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqstj:",79645,,,,,,,,,,,,,,,,,,,,,,,,,,90927,,"1|hwor8f:",90927,,,,,,,,,,,,,,,,,,,,,,3,,,,,,,"07/Apr/2009 7:47 AM;npellow;Moving this into 2.6 because this has not occurred since this issue was raised, so I doubt we''ll be able to reproduce and fix in time for 2.5.;;;","02/Jun/2009 3:17 PM;mstudman;Hasn't popped up again. Will reopen if it does.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Movers section not linked if first current element is non-HTML,CLOV-453,81567,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,07/Mar/2009 2:01 AM,04/May/2009 5:24 AM,15/Nov/2024 6:09 PM,04/May/2009 5:19 AM,2.4.2,,,,,2.5,,,Reporting,,,,,,,0,,,,,,,,,"Clover should link to the first current HTML configured element, not just the first current config.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqu2n:",103195,,,,,90919,,,,,,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkun:",75128,,,,,,,,,,,"1|hworvz:",91030,495244800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqn67:",77986,,,,,,,,,,,,,,,,,,,,,,,,,,90921,,"1|hwor73:",90921,,,,,,,,,,,,,,,,,,,,,,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ContextStore inner class is Serializable but doesn't have SUID,CLOV-449,81349,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,02/Mar/2009 3:48 PM,29/Nov/2012 7:49 AM,15/Nov/2024 6:09 PM,08/Mar/2009 10:14 PM,2.4.2,,,,,2.4.3,,,,,,,,,,0,,,,,,,,,"Innocuous base class changes cause the SUID to change, harming compatibility.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqu2f:",103194,,,,,90917,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkvb:",75131,,,,,,,,,,,"1|hworvj:",91028,495676800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqprr:",78765,,,,,,,,,,,,,,,,,,,,,,,,,,90919,,"1|hwor6n:",90919,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Space in ""Source Directive"" context filter causes numerous context log warnings.",CLOV-448,81348,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,02/Mar/2009 3:47 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,08/Mar/2009 10:14 PM,2.4.2,,,,,2.4.3,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqu27:",103193,,,,,90916,,,,,,Unknown,,,,,2009-03-03 00:05:30.565,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkvj:",75132,,,,,,,,,,,"1|hworvb:",91027,495590400,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqjp3:",77085,,,,,,,,,,,,,,,,,,,,,,,,,,90918,,"1|hwor6f:",90918,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"03/Mar/2009 12:05 AM;npellow;is there an example of such log warnings?;;;","03/Mar/2009 12:08 AM;mstudman;I have many thousands for you in Eclipse (which I now realise I didn't mention in this JIRA hence why you may have never seen this log message before). This harmless log message (basically ""Source"" context and ""Directive"" contexts unknown, ignored) completely clutters Eclipse logs and make support more difficult than it should be.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Built in contexts are lost across a merge,CLOV-446,81336,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,npellow,npellow,02/Mar/2009 6:36 AM,02/Mar/2009 7:05 AM,15/Nov/2024 6:09 PM,02/Mar/2009 7:05 AM,,,,,,2.4.3,,,Database,Reporting,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwihen:",50815,,,,,26860,,,,,,Unknown,,,,,2009-03-02 06:42:14.155,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkvz:",75134,,,,,,,,,,,"1|hwekzr:",27873,495676800,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwnav3:",57315,,,,,,,,,,,,,,,,,,,,,,,,,,26860,,"1|hweesv:",26876,,,,,,,,,,,,,,,,,,,,,,Unknown,,,,,,,"02/Mar/2009 7:05 AM;npellow;fixed and merged to 2.4.x;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Null Pointer exception thrown if initString points to a directory, not a file.",CLOV-428,80301,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,pkamal,pkamal,10/Feb/2009 2:17 AM,29/Apr/2009 4:52 AM,15/Nov/2024 6:09 PM,29/Apr/2009 4:52 AM,2.4.2,,,,,2.5,,,Instrumentation,,,,,,,0,,,,,,,,,"The following error is thrown:

{noformat}
java.lang.NullPointerException
	at com.cenqua.clover.instr.Instrumenter.startInstrumentation(Instrumenter.java:82)
	at com.cenqua.clover.instr.Instrumenter.startInstrumentation(Instrumenter.java:70)
	at org.apache.tools.ant.taskdefs.CloverCompilerAdapter.setJavac(CloverCompilerAdapter.java:336)
	at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1062)
	at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:882)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:357)
	at org.apache.tools.ant.Target.performTasks(Target.java:385)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)
{noformat}

This is most likely thrown because the initString of the clover.db points to a directory rather than a file, or the user does have read permissions to the file. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqu0n:",103186,,,,,90908,,,,,,2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkyv:",75147,,,,,,,,,,,"1|hwortj:",91019,497404800,true,,,,,,,,,,npellow(npellow),pkamal(pkamal),,,,,,,,,,,,,,,,,,"1|hwr1y7:",81707,,,,,,,,,,,,,,,,,,,,,,,,,,90910,,"1|hwor4n:",90910,,,,,,,,,,,,,,,,,,,,,,3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
invalid XHTML produced in agg-pkgs.html,CLOV-424,80157,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,05/Feb/2009 5:13 AM,26/Feb/2009 12:59 AM,15/Nov/2024 6:09 PM,26/Feb/2009 12:59 AM,,,,,,2.4.3,,,,,,,,,,0,,,,,,,,,The license warning error contains invalid XHTML. The anchor tag has an empty target attribute.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtzz:",103183,,,,,90905,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmkzz:",75151,,,,,,,,,,,"1|hworsv:",91016,497836800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqowf:",78515,,,,,,,,,,,,,,,,,,,,,,,,,,90907,,"1|hwor3z:",90907,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Feb/2009 5:14 AM;npellow;I removed the target attributes from the a tags;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"""Added"" section in Clover reports only shows classes with highest coverage",CLOV-422,80104,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,32356a7aaa27,32356a7aaa27,04/Feb/2009 3:05 PM,26/Feb/2009 12:55 AM,15/Nov/2024 6:09 PM,26/Feb/2009 12:55 AM,2.3.2,,,,,2.4.3,,,Reporting,,,,,,,0,,,,,,,,,"The documentation for the report says that the added section will show the top 5 gainers and the top 5 losers. However, at least to me, it seems to show the top 10 gainers. I am most interested in the top 5 losers, because we are trying to ensure that new code is delivered with an adequate level of coverage. 

As an example: we generate three reports with a range of 30 (differences today, differences in the past week, and differences in the past month). In my daily report I see a class that was added with only 9.5%. However, in the monthly report, the lowest coverage that I see is 80%. It seems to me that the 9.5% class should be in the bottom (or there should be 15 other classes with even lower coverage). The monthly report appears to be showing the top 30 results, not the top 15 and bottom 15.

I've attached two screenshots to show you what I mean. movers-1.jpg shows my daily added classes, and movers-30.jpg shows the same day's report for a 30 day period. 

Let me know what you think of this issue. Am I reading this wrong, or do I have the wrong way of interpreting the data? If this is a real problem, let me know if this has already been fixed (we are still on 2.3.2), or if I can provide you with any more information.",Windows XP,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Feb/2009 3:32 PM;32356a7aaa27;added-backwards-order.jpg;https://jira.atlassian.com/secure/attachment/30308/added-backwards-order.jpg","17/Feb/2009 4:18 AM;npellow;clover.jar;https://jira.atlassian.com/secure/attachment/30422/clover.jar","04/Feb/2009 3:05 PM;32356a7aaa27;movers-1-day.jpg;https://jira.atlassian.com/secure/attachment/30262/movers-1-day.jpg","04/Feb/2009 3:05 PM;32356a7aaa27;movers-30-days.jpg;https://jira.atlassian.com/secure/attachment/30263/movers-30-days.jpg",,,,,,,,,,,,,true,,"1|hwqtzj:",103181,,,,,90903,,,,,,,,,,,2009-02-05 00:41:49.136,,,,,,,,,,,,,,,,,,,,,,,,"2|hwml0f:",75153,,,,,,,,,,,"1|hworsf:",91014,496627200,true,,,,,,,,,,32356a7aaa27(andy.armstrong),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqx2f:",80568,,,,,,,,,,,,,,,,,,,,,,,,,,90905,,"1|hwor3j:",90905,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Feb/2009 12:41 AM;npellow;To answer the question you had regarding the added table always being above the movers - unfortunately this is currently hard-coded to be placed above the movers in the report, and ignores the order it is defined in the XML. I will make mention of this in the doco.


;;;","05/Feb/2009 12:58 AM;npellow;Hi Andy, 

This does indeed look like a bug! You are right that the bottom 5 added classes are more interesting than the top. We should indeed be showing both. I will schedule this to be fixed in the upcoming 2.5 release and get you to maybe try a development build when it's been implemented.

Cheers,
Nick;;;","05/Feb/2009 5:16 AM;npellow;I have made the changes for this.
Andy - if you could you please verify that this is functioning correctly for your project, I will close this ticket.
I will upload a development build for you shortly.
Cheers - Nick.;;;","05/Feb/2009 6:26 AM;npellow;a dev build of clover with a fix for this bug.;;;","07/Feb/2009 3:35 PM;32356a7aaa27;Hi Nick,

Thanks for the speedy fix. It does indeed now show both gainers and losers which is excellent! Strangely, though, the order seems to be random. Two of the reports we generated went from best to worst (i.e. 0% at the bottom), while one of them had 0% at the top. I would much prefer to always have 100% at the top, but either way I would want it to be consistent.

I've attached a screenshot of the order from 0-100% which looks odd because movers on the same page uses the opposite order.

Do you see this as a bug too? Let me know if you want me to try out a new patch.

Thanks,

 - Andy
;;;","09/Feb/2009 1:39 AM;npellow;Hi Andy, 

Thanks for the feedback. I have made some minor changes so that the added section will now:

1) have highest N added classes first, sorted descending
2) have lowest N added classes second, sorted ascending

If the number of added classes is the same as the 'range', then the added classes will be sorted descending.

Please let me know what you think,
Cheers,
Nick;;;","16/Feb/2009 8:54 PM;32356a7aaa27;Hi Nick,

The latest patch is now working great for us, so thanks again for the speedy response. One minor comment: there are a few classes shown in the middle of the report with (-) for their increase in coverage. Are these classes that were introduced with no elements? I think I'd prefer to lose them entirely from this report, since they don't affect the overall coverage in any way.

Thanks,

 - Andy
;;;","17/Feb/2009 4:15 AM;npellow;HI Andy,

Again, thanks for the feedback. Indeed, empty classes/interfaces should be filtered from the Added list in the historical report.
I have made the change and will upload a development build shortly.

Cheers,
Nick;;;","17/Feb/2009 4:18 AM;npellow;Copy this clover.jar over the top of the existing clover.jar and do a full clean build, ensuring you delete all instrumented classes and all clover database files.

Cheers,
Nick;;;","18/Feb/2009 5:49 AM;32356a7aaa27;I did this, and my build failed with a NullPointerException. Any ideas?

{noformat}
\\rdlserv\tools\lib\ccase\dxsi\cruisecontrol\configs\build-Pantero.xml:216: The following error occurred while executing this line:
D:\views\dx_8.4_int_nt_bld_coverage\vobs_dx\si\build\shared-imports.xml:269: The following error occurred while executing this line:
jar:file:/C:/Documents%20and%20Settings/dxbld/.ant/lib/clover.jar!/cloverlib.xml:6: java.lang.NullPointerException
	at org.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:539)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:388)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
	at org.apache.tools.ant.Main.runBuild(Main.java:673)
	at org.apache.tools.ant.Main.startAnt(Main.java:188)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Caused by: D:\views\dx_8.4_int_nt_bld_coverage\vobs_dx\si\build\shared-imports.xml:269: The following error occurred while executing this line:
jar:file:/C:/Documents%20and%20Settings/dxbld/.ant/lib/clover.jar!/cloverlib.xml:6: java.lang.NullPointerException
	at org.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:539)
	at org.apache.tools.ant.taskdefs.Definer.loadAntlib(Definer.java:332)
	at org.apache.tools.ant.taskdefs.Definer.execute(Definer.java:236)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
	... 10 more
Caused by: jar:file:/C:/Documents%20and%20Settings/dxbld/.ant/lib/clover.jar!/cloverlib.xml:6: java.lang.NullPointerException
	at org.apache.tools.ant.Task.perform(Task.java:373)
	at org.apache.tools.ant.taskdefs.Definer.loadAntlib(Definer.java:330)
	... 17 more
Caused by: java.lang.NullPointerException
	at java.util.jar.JarFile.initializeVerifier(JarFile.java:316)
	at java.util.jar.JarFile.getInputStream(JarFile.java:390)
	at sun.misc.URLClassPath$JarLoader$1.getInputStream(URLClassPath.java:620)
	at sun.misc.Resource.cachedInputStream(Resource.java:58)
	at sun.misc.Resource.getByteBuffer(Resource.java:113)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:249)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:56)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:195)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
	at org.apache.tools.ant.AntClassLoader.findBaseClass(AntClassLoader.java:1180)
	at org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:956)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:242)
	at org.apache.tools.ant.taskdefs.Definer.addDefinition(Definer.java:457)
	at org.apache.tools.ant.taskdefs.Definer.execute(Definer.java:183)
	at org.apache.tools.ant.taskdefs.Antlib.execute(Antlib.java:160)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	... 18 more
--- Nested Exception ---
D:\views\dx_8.4_int_nt_bld_coverage\vobs_dx\si\build\shared-imports.xml:269: The following error occurred while executing this line:
jar:file:/C:/Documents%20and%20Settings/dxbld/.ant/lib/clover.jar!/cloverlib.xml:6: java.lang.NullPointerException
	at org.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:539)
	at org.apache.tools.ant.taskdefs.Definer.loadAntlib(Definer.java:332)
	at org.apache.tools.ant.taskdefs.Definer.execute(Definer.java:236)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
	at org.apache.tools.ant.Main.runBuild(Main.java:673)
	at org.apache.tools.ant.Main.startAnt(Main.java:188)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Caused by: jar:file:/C:/Documents%20and%20Settings/dxbld/.ant/lib/clover.jar!/cloverlib.xml:6: java.lang.NullPointerException
	at org.apache.tools.ant.Task.perform(Task.java:373)
	at org.apache.tools.ant.taskdefs.Definer.loadAntlib(Definer.java:330)
	... 17 more
Caused by: java.lang.NullPointerException
	at java.util.jar.JarFile.initializeVerifier(JarFile.java:316)
	at java.util.jar.JarFile.getInputStream(JarFile.java:390)
	at sun.misc.URLClassPath$JarLoader$1.getInputStream(URLClassPath.java:620)
	at sun.misc.Resource.cachedInputStream(Resource.java:58)
	at sun.misc.Resource.getByteBuffer(Resource.java:113)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:249)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:56)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:195)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
	at org.apache.tools.ant.AntClassLoader.findBaseClass(AntClassLoader.java:1180)
	at org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:956)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:242)
	at org.apache.tools.ant.taskdefs.Definer.addDefinition(Definer.java:457)
	at org.apache.tools.ant.taskdefs.Definer.execute(Definer.java:183)
	at org.apache.tools.ant.taskdefs.Antlib.execute(Antlib.java:160)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	... 18 more
--- Nested Exception ---
jar:file:/C:/Documents%20and%20Settings/dxbld/.ant/lib/clover.jar!/cloverlib.xml:6: java.lang.NullPointerException
	at org.apache.tools.ant.Task.perform(Task.java:373)
	at org.apache.tools.ant.taskdefs.Definer.loadAntlib(Definer.java:330)
	at org.apache.tools.ant.taskdefs.Definer.execute(Definer.java:236)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
	at org.apache.tools.ant.Main.runBuild(Main.java:673)
	at org.apache.tools.ant.Main.startAnt(Main.java:188)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Caused by: java.lang.NullPointerException
	at java.util.jar.JarFile.initializeVerifier(JarFile.java:316)
	at java.util.jar.JarFile.getInputStream(JarFile.java:390)
	at sun.misc.URLClassPath$JarLoader$1.getInputStream(URLClassPath.java:620)
	at sun.misc.Resource.cachedInputStream(Resource.java:58)
	at sun.misc.Resource.getByteBuffer(Resource.java:113)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:249)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:56)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:195)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
	at org.apache.tools.ant.AntClassLoader.findBaseClass(AntClassLoader.java:1180)
	at org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:956)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:242)
	at org.apache.tools.ant.taskdefs.Definer.addDefinition(Definer.java:457)
	at org.apache.tools.ant.taskdefs.Definer.execute(Definer.java:183)
	at org.apache.tools.ant.taskdefs.Antlib.execute(Antlib.java:160)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	... 18 more
--- Nested Exception ---
java.lang.NullPointerException
	at java.util.jar.JarFile.initializeVerifier(JarFile.java:316)
	at java.util.jar.JarFile.getInputStream(JarFile.java:390)
	at sun.misc.URLClassPath$JarLoader$1.getInputStream(URLClassPath.java:620)
	at sun.misc.Resource.cachedInputStream(Resource.java:58)
	at sun.misc.Resource.getByteBuffer(Resource.java:113)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:249)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:56)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:195)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
	at org.apache.tools.ant.AntClassLoader.findBaseClass(AntClassLoader.java:1180)
	at org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:956)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:251)
	at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:242)
	at org.apache.tools.ant.taskdefs.Definer.addDefinition(Definer.java:457)
	at org.apache.tools.ant.taskdefs.Definer.execute(Definer.java:183)
	at org.apache.tools.ant.taskdefs.Antlib.execute(Antlib.java:160)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.taskdefs.Definer.loadAntlib(Definer.java:330)
	at org.apache.tools.ant.taskdefs.Definer.execute(Definer.java:236)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
	at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
	at org.apache.tools.ant.Main.runBuild(Main.java:673)
	at org.apache.tools.ant.Main.startAnt(Main.java:188)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
{noformat};;;","18/Feb/2009 5:14 PM;32356a7aaa27;Never mind, that seemed to be a bizarre transient error. I tried building again and everything looks great now. Sorry for the false alarm, and feel free to mark this issue as fixed. I look forward to getting 2.5 so I can stop running my builds on a patch.

Thanks for all your help.

 - Andy;;;","18/Feb/2009 9:44 PM;npellow;Hi Andy, 

That error is certainly a little odd - no idea what could have caused that.

Anyway, I'm glad to hear you are happy with the build. We may even do a 2.4.3 release next week containing this fix.

Thanks for the feedback and your time testing this.

Cheers,
Nick;;;",,,,,,,,,,,,,,,
Change geti() instrumentation calls to inc() where the coverage result is not used.,CLOV-419,79914,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Obsolete,mstudman,mstudman,mstudman,02/Feb/2009 2:11 PM,22/Jan/2014 10:50 AM,15/Nov/2024 6:09 PM,17/Feb/2009 2:48 PM,2.4.2,,,,,won't fix,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtz3:",103179,,,,,90901,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwml13:",75156,,,,,,,,,,,"1|hworrz:",91012,498096000,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqwen:",80381,,,,,,,,,,,,,,,,,,,,,,,,,,90903,,"1|hwor33:",90903,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
improve error message when instrumentation fails if package name contains 'enum',CLOV-416,79643,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,npellow,npellow,npellow,27/Jan/2009 11:17 PM,22/Jan/2014 10:24 AM,15/Nov/2024 6:09 PM,03/Mar/2009 3:08 AM,,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"The following error is produced:

{code}
[INFO] /Users/niick/work/commons-lang/src/java/org/apache/commons/lang/enum/EnumUtils.java:17:1:unexpected token: package
[INFO] Instrumentation error
com.cenqua.clover.CloverException: /Users/niick/work/commons-lang/src/java/org/apache/commons/lang/enum/EnumUtils.java:17:1:unexpected token: package

{code}

when clover instruments:
{code}
package org.apache.commons.lang.enum;

{code}

Possibly improve the error message here.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtyv:",103178,,,,,90900,,,,,,,,,,,2009-03-03 03:08:10.82,,,,,,,,,,,,,,,,,,,,,,,,"2|hwml1r:",75159,,,,,,,,,,,"1|hworrr:",91011,495590400,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwogzj:",64667,,,,,,,,,,,,,,,,,,,,,,,,,,90902,,"1|hwor2v:",90902,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Mar/2009 3:08 AM;bhumphreys;Clover reports the language level being used for instrumentation. Customers need to check the language level to ensure correct behaviour from Clover.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Inner classes of test classes should not be flagged as app classes,CLOV-412,79112,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Obsolete,mstudman,mstudman,mstudman,14/Jan/2009 9:54 PM,22/Jan/2014 10:52 AM,15/Nov/2024 6:09 PM,21/Apr/2009 9:43 AM,2.4.2,,,,,won't fix,,,,,,,,,,0,,,,,,,,,This is probably an issue in core but seldom seen because most people specify test source dirs and app source dirs. Becomes a problem in CEP because it doesn't discriminate between the two.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbx3j:",11768,,,,,90898,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwml2n:",75163,,,,,,,,,,,"1|hworrb:",91009,491356800,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqp1b:",78555,,,,,,,,,,,,,,,,,,,,,,,,,,90900,,"1|hwor2f:",90900,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Apr/2009 9:43 AM;mstudman;Users can now select test source in CEP.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Instrumenter emits invalid code for type-parameterized methods in conditions,CLOV-402,78566,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,npellow,mstudman,mstudman,05/Jan/2009 11:49 PM,22/Jan/2014 10:14 AM,15/Nov/2024 6:09 PM,04/Sep/2012 11:18 AM,2.4.2,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"Sample code:

{noformat}
import java.io.Serializable;

public class TestFoo implements Serializable {
    public static <A extends Serializable> A getIt() {
        return null;
    }

    public static void main(String[] args) {
        if (TestFoo.<TestFoo>getIt() == null) {
            
        }
    }
}
{noformat}

...becomes...

{noformat}
/* $$ This file has been instrumented by Clover 2.4.2#20090104121734873 $$ */
public class TestFoo implements Serializable {
    static class __CLR2_4_299fpls6wqm {
        public static com_cenqua_clover.CoverageRecorder R;

        static {
            try {
                if (20090104121734873L != com_cenqua_clover.CloverVersionInfo.getBuildStamp()) {
                    com_cenqua_clover.Clover.l(""[CLOVER] WARNING: The Clover version used in instrumentation does not match the runtime version. You need to run instrumented classes against the same version of Clover that you instrumented with."");
                    com_cenqua_clover.Clover.l(""[CLOVER] WARNING: Instr=2.4.2#20090104121734873,Runtime="" + com_cenqua_clover.CloverVersionInfo.getReleaseNum() + ""#"" + com_cenqua_clover.CloverVersionInfo.getBuildStamp());
                }
                R = com_cenqua_clover.Clover.getRecorder(new char[]{99, 108, 111, 118, 101, 114, 100, 98, 47, 99, 108, 111, 118, 101, 114, 46, 100, 98}, 1231199160859L, 0L, 9);
            } catch (java.lang.Throwable t) {
                java.lang.System.err.println(""[CLOVER] FATAL ERROR: Clover could not be initialised. Are you sure you have Clover in the runtime classpath? ("" + t.getClass() + "":"" + t.getMessage() + "")"");
            }
        }
    }

    public static <A extends Serializable> A getIt() {
        __CLR2_4_299fpls6wqm.R.geti(9);
        __CLR2_4_299fpls6wqm.R.geti(10);
        return null;
    }

    public static void main(String[] args) {
        __CLR2_4_299fpls6wqm.R.geti(11);
        __CLR2_4_299fpls6wqm.R.geti(12);
        if ((((TestFoo.<TestFoo>getIt() == null) && (__CLR2_4_299fpls6wqm.R.iget(13) != 0 | true)) || (__CLR2_4_299fpls6wqm.R.iget(14) == 0 & false))) {
            {

            }
        }
    }
}
{noformat}
",,,,,,,,,,,,,,,,,,,,,CLOV-1035,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbv5b:",11452,,,,,56465,,,,,,,,,,,2009-01-06 01:19:52.59,,,,,,,,,,,,,,,,,,,,,,,,"2|hwml4n:",75172,,,,,,,,,,,"1|hwj7vr:",56614,500428800,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwoez3:",64269,,,,,,,,,,,,,,,,,,,,,,,,,,56465,,"1|hwj6zj:",56472,1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jan/2009 11:50 PM;mstudman;Compiler error as follows:

{quote}

    [javac] /tmp/clover63754.tmp/TestFoo.java:7: illegal start of expression
    [javac]         __CLR2_4_299fpls6wqm.R.geti(12);if ((((TestFoo.<TestFoo>getIt() == null)&&(__CLR2_4_299fpls6wqm.R.iget(13)!=0|true))||(__CLR2_4_299fpls6wqm.R.iget(14)==0&false))) {{
    [javac]                                                        ^
    [javac] /tmp/clover63754.tmp/TestFoo.java:10: < expected
    [javac]     }}
    [javac]      ^
    [javac] 2 errors
{quote};;;","06/Jan/2009 1:19 AM;npellow;Actually, this is a bug in the java compiler: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6608961 . Please vote for this bug!
We may need to look at providing an option for not wrapping conditionals in parens?
Or at least not wrapping generic methods during instrumentation.

The following statement will not compile under javac, even if Clover is disabled:

{code}
(TestFoo.<TestFoo>getIt()).toString();
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,
Test re-ordering not working for *.class patternsets,CLOV-399,78476,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,npellow,npellow,30/Dec/2008 11:10 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,02/Mar/2009 5:03 PM,2.4.2,,,,,2.4.3,,,Ant Tasks,,,,,,,0,,,,,,,,,"If .class files are used to match test classes in the junit batchtest element, then test reordering does not take place.

bq. mstudman: CloverTestSnapshot.calculateDurationOf() needs to be updated to handle .class paths, i believe
bq. mstudman: so currently it doesn't handle them (estimated duration == 0) but then adds the estimate cost of setup/teardown. the result, both ClassATest and ClassBTest appear to take the same length of time hence the non-optimised ordering



",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-400,,CLOV-390,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtxr:",103173,,,,,90893,,,,,,,,,,,2009-01-01 15:02:47.391,,,,,,,,,,,,,,,,,,,,,,,,"2|hwml5b:",75175,,,,,,,,,,,"1|hworq7:",91004,500860800,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),4919ac060c18(stefan.hansel@tolina.com),,,,,,,,,,,,,,,,,"1|hwqsq7:",79630,,,,,,,,,,,,,,,,,,,,,,,,,,90895,,"1|hwor1b:",90895,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jan/2009 3:02 PM;4919ac060c18;I took the sample from support CLV-5048 and changed the buildfiles to use java-files instead of class-files (see below).
Test reordering still doesn't work if I change both source-files, so I assume, that this problem not only relates to *.class patternsets.

I did the following 
1) run buildfile  (all tests are run)
2) run buildfile  (no test is run)
3) change classA + class B
4) run buildfile (all tests are run, no reordering takes place)

---------------------
change call to junit from CLV-5048
----------------------
		<junit fork=""yes"" timeout=""300000"" maxmemory=""500m"">
			<classpath id=""classpath.run.test"">
				<pathelement path=""classes"" />
				<pathelement path=""junitclasses"" />
				<pathelement path=""lib/clover.jar"" />
			</classpath>

			<formatter type=""brief"" usefile=""false"" />
			<formatter type=""xml"" />

			<batchtest todir=""junitresult"" failureproperty=""testsFailed"">
			<clover-optimized-testset snapshotfile=""clover.snapshot"" fullrunevery=""100""> 
					<fileset dir=""src/junit"" includes=""**/*Test.java"" />
				</clover-optimized-testset> 
			</batchtest>
		</junit>
---------------------;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
TestNG test methods that take an argument are not included in the Test Coverage report,CLOV-398,78360,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,ahempel,ahempel,24/Dec/2008 12:04 AM,08/Mar/2009 10:23 PM,15/Nov/2024 6:09 PM,08/Mar/2009 10:22 PM,2.4.2,,,,,2.4.3,,,Reporting,,,,,,,1,,,,,,,,,"I have a TestNG test class.  When I instrument it and run it with Clover, the resulting Test Coverage report shows a total of 3 tests, despite the fact that the class has 5 public methods annotated with @Test.  2 of these take an argument, supplied with a DataProvider, and I suspect that it is these that are not being counted.

Viewing the code in IntelliJ IDEA shows that all 5 tests did, in fact, execute.


","Maven 2.0.9, IntelliJ 8.0.1, Mac OS X 10.5.6, Apple Java 6",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtxj:",103172,,,,,90892,,,,,,,,,,,2009-02-10 23:24:12.115,,,,,,,,,,,,,,,,,,,,,,,,"2|hwml5j:",75176,,,,,,,,,,,"1|hworpz:",91003,497318400,true,,,,,,,,,,ahempel(ahempel),b7ebb2958fd0(brandony),bhumphreys(bhumphreys),,,,,,,,,,,,,,,,,"1|hwog1b:",64462,,,,,,,,,,,,,,,,,,,,,,,,,,90894,,"1|hwor13:",90894,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Feb/2009 11:24 PM;b7ebb2958fd0;I have run into this same problem.  Here is a very simple example that re-produces the problem:

{noformat} 
public class SomeTestClass {
  @Test
  public void thisTestWillShowUp() {
   }

   @Test(dataProvider=""provider"")
   public void thisTestWillNotShowUp(int x) {
   }

   @Test(dataProvider=""provider"")
   public void thisTestWillAlsoNotShowUp(int y) {
   }

   @DataProvider(name=""provider"")
   public Object[][] provider() {
      return new Object[][] {{1},{2}};
   }
}
{noformat} ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Test optimization doesn't put affected tests first when not minimizing tests,CLOV-392,77899,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,10/Dec/2008 11:01 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,02/Mar/2009 5:04 PM,2.4.2,,,,,2.4.3,,,Ant Tasks,,,,,,,0,,,,,,,,,,,,";15/Dec/2008 11:26 AM;mstudman;3600",,,3600,0,3600,100%,3600,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtwn:",103168,,,,,90888,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwml6n:",75181,,,,,,,,,,,"1|hworp3:",90999,502675200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqwzz:",80549,,,,,,,,,,,,,,,,,,,,,,,,,,90890,,"1|hwor07:",90890,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test optimisation does not work well with class-based filesets,CLOV-390,77671,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mstudman,mstudman,mstudman,06/Dec/2008 6:03 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,17/Feb/2009 2:47 PM,2.4.2,,,,,2.4.3,,,Ant Tasks,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-399,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtwf:",103167,,,,,90886,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwml73:",75183,,,,,,,,,,,"1|hworon:",90997,503107200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqw3r:",80292,,,,,,,,,,,,,,,,,,,,,,,,,,90888,,"1|hwoqzr:",90888,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Instrumented tests can not be run using the default JUNIT4.4 Test Runner,CLOV-385,77228,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,npellow,npellow,27/Nov/2008 5:07 AM,02/Dec/2008 12:52 AM,15/Nov/2024 6:09 PM,02/Dec/2008 12:52 AM,2.4,,,,,2.4.2,,,,,,,,,,0,,,,,,,,,"This is caused by the public inner class clover adds during instrumentation.

This affects Maven2 users using the surefire test runner.
It also affects anyone using junit directly via the command line.

See: http://forums.atlassian.com/thread.jspa?messageID=257294525&#257294525 for more information and full stack-trace",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtvr:",103164,,,,,90882,,,,,,,,,,,2008-11-28 03:20:47.873,,,,,,,,,,,,,,,,,,,,,,,,"2|hwml87:",75188,,,,,,,,,,,"1|hwornr:",90993,503452800,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqnz3:",78258,,,,,,,,,,,,,,,,,,,,,,,,,,90884,,"1|hwoqyv:",90884,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/2008 3:20 AM;bhumphreys;can't win either way:

The scope of the instrumentation inner was changed from package to public in response to a problem with AOP/DynamicInvocation in JBoss3:

original forum post:
http://209.85.173.132/search?q=cache:WBjxboaom3wJ:www.cenqua.com/forums/message.jspa%3FmessageID%3D13207+Clover+IllegalAccessError+JBoss&hl=en&ct=clnk&cd=1&client=safari

original bug report:
http://edgy/jira/browse/CCD-230

change:
https://extranet.atlassian.com/crucible/browse/CLOV/trunk/core/src/com/cenqua/clover/instr/RecorderInstrEmitter.java?r1=11652&r2=11976

 ;;;","02/Dec/2008 12:52 AM;npellow;The work around has been to make the inner Clover class public for non-tests and private for test classes.
This should hopefully keep jboss users and junit4.4 users happy.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Surefire classpath is incorrect when depending on a jar and a test-jar from the same maven module,CLOV-379,76920,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,97ee5f961203,97ee5f961203,20/Nov/2008 1:34 PM,13/Aug/2019 6:53 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:53 AM,2.3.2,,,,,open-source,,,Maven plugin,,,,,,,0,,,,,,,,,"We have two different applications that have the same symptom. Their test cases work properly when executed without clover, but when we run them with clover, they fail because classes or resource files are missing from the classpath.

When running the builds with clover, the test cases are executed multiple times. Only the last time they run they fail. When checking the maven debug output (using the -X option), I found that the last time the test cases are run, a JAR file is missing from the classpath. With both applications it is a jar file from a maven module for which we both depend on the jar and test-jar types of the module. 

For example we have the following in the pom.xml file:

        <dependency>
            <groupId>${parent.groupId}</groupId>
            <artifactId>server-data-access</artifactId>
            <version>${version}</version>
            <type>test-jar</type>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>${parent.groupId}</groupId>
            <artifactId>server-data-access</artifactId>
            <version>${version}</version>
        </dependency>

And for some reason, when the test cases are executed for the last time, the following second dependency is not included in the list of jars in the classpath.

I have attached the pom.xml files from the module for which the test cases fail (server-web.pom), the pom.xml files from its parents, the pom.xml file for the module that generates both a jar and a test-jar (server-data-access.pom) and the log file that I get when running maven with the -X option.

This is the classpath when the test cases fail (notice that  /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-data-access/target/server-data-access-1.0.2-SNAPSHOT.jar is missing):
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-web/target/test-classes
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-web/target/classes
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/xerces/xercesImpl/2.9.1/xercesImpl-2.9.1.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/xml-apis/xml-apis/1.3.04/xml-apis-1.3.04.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-model/target/server-model-1.0.2-SNAPSHOT.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/commons-lang/commons-lang/2.1/commons-lang-2.1.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-actions/target/server-actions-1.0.2-SNAPSHOT.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/commons-logging/commons-logging/1.0.4/commons-logging-1.0.4.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/log4j/log4j/1.2.13/log4j-1.2.13.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/bml/util/8.19.0/util-8.19.0.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/bml/tk-util/8.19.0/tk-util-8.19.0.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/jboss/netty/netty/3.0.0.GA/netty-3.0.0.GA.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/springframework/spring/2.5.6/spring-2.5.6.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-core/target/server-core-1.0.2-SNAPSHOT.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-data-access/target/server-data-access-1.0.2-SNAPSHOT-tests.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/hibernate/hibernate/3.2.6.ga/hibernate-3.2.6.ga.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/net/sf/ehcache/ehcache/1.2.3/ehcache-1.2.3.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/commons-collections/commons-collections/2.1.1/commons-collections-2.1.1.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/javax/transaction/jta/1.0.1B/jta-1.0.1B.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/asm/asm-attrs/1.5.3/asm-attrs-1.5.3.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/antlr/antlr/2.7.6/antlr-2.7.6.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/cglib/cglib/2.1_3/cglib-2.1_3.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/asm/asm/1.5.3/asm-1.5.3.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/hibernate/hibernate-annotations/3.3.0.ga/hibernate-annotations-3.3.0.ga.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/javax/persistence/persistence-api/1.0/persistence-api-1.0.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/hibernate/hibernate-commons-annotations/3.3.0.ga/hibernate-commons-annotations-3.3.0.ga.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/hibernate/hibernate-validator/3.0.0.ga/hibernate-validator-3.0.0.ga.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/hibernate/hibernate-search/3.0.0.GA/hibernate-search-3.0.0.GA.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/apache/lucene/lucene-core/2.2.0/lucene-core-2.2.0.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/javax/servlet/servlet-api/2.3/servlet-api-2.3.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/drools/drools-core/4.0.7/drools-core-4.0.7.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/mvel/mvel/1.3.1-java1.4/mvel-1.3.1-java1.4.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/commons-io/commons-io/1.4/commons-io-1.4.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/javax/j2ee/1.3/j2ee-1.3.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/com/sun/xml/bind/jaxb-impl/2.1.3/jaxb-impl-2.1.3.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/javax/xml/bind/jaxb-api/2.1/jaxb-api-2.1.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/javax/xml/stream/stax-api/1.0-2/stax-api-1.0-2.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/javax/activation/activation/1.1/activation-1.1.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/common/common-configuration/1.0.25/common-configuration-1.0.25.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/opensymphony/oscache/2.1.1/oscache-2.1.1.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/bml/bml-core/8.20.0-SNAPSHOT/bml-core-8.20.0-SNAPSHOT.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/bml/cache/8.20.0-SNAPSHOT/cache-8.20.0-SNAPSHOT.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/common/common-spring-util/1.0.25/common-spring-util-1.0.25.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/esper/esper/2.2.0/esper-2.2.0.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/antlr/antlr-runtime/3.0.1/antlr-runtime-3.0.1.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/org/antlr/stringtemplate/3.1-b1/stringtemplate-3.1-b1.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/quartz/quartz/1.5.2/quartz-1.5.2.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/com/mockrunner/mockrunner/0.3.1/mockrunner-0.3.1.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/common/common-abstract-unit-tests/1.0.25/common-abstract-unit-tests-1.0.25-tests.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/bml/unittest/8.20.0-SNAPSHOT/unittest-8.20.0-SNAPSHOT.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-data-access/target/server-data-access-1.0.2-SNAPSHOT-tests.jar
build	20-Nov-2008 08:47:57	[DEBUG]   /opt/bamboo/.m2/repository/com/oracle/oracle_jdbc/10.2.0.2.0/oracle_jdbc-10.2.0.2.0.jar

This is the classpath for when it succeeds:
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-web/target/test-classes
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-web/target/classes
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/xerces/xercesImpl/2.9.1/xercesImpl-2.9.1.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/xml-apis/xml-apis/1.3.04/xml-apis-1.3.04.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-model/target/server-model-1.0.2-SNAPSHOT.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/commons-lang/commons-lang/2.1/commons-lang-2.1.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-actions/target/server-actions-1.0.2-SNAPSHOT.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/commons-logging/commons-logging/1.0.4/commons-logging-1.0.4.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/log4j/log4j/1.2.13/log4j-1.2.13.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/bml/util/8.19.0/util-8.19.0.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/bml/tk-util/8.19.0/tk-util-8.19.0.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/jboss/netty/netty/3.0.0.GA/netty-3.0.0.GA.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/springframework/spring/2.5.6/spring-2.5.6.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-core/target/server-core-1.0.2-SNAPSHOT.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-data-access/target/server-data-access-1.0.2-SNAPSHOT.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/hibernate/hibernate/3.2.6.ga/hibernate-3.2.6.ga.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/net/sf/ehcache/ehcache/1.2.3/ehcache-1.2.3.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/commons-collections/commons-collections/2.1.1/commons-collections-2.1.1.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/javax/transaction/jta/1.0.1B/jta-1.0.1B.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/asm/asm-attrs/1.5.3/asm-attrs-1.5.3.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/antlr/antlr/2.7.6/antlr-2.7.6.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/cglib/cglib/2.1_3/cglib-2.1_3.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/asm/asm/1.5.3/asm-1.5.3.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/hibernate/hibernate-annotations/3.3.0.ga/hibernate-annotations-3.3.0.ga.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/javax/persistence/persistence-api/1.0/persistence-api-1.0.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/hibernate/hibernate-commons-annotations/3.3.0.ga/hibernate-commons-annotations-3.3.0.ga.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/hibernate/hibernate-validator/3.0.0.ga/hibernate-validator-3.0.0.ga.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/hibernate/hibernate-search/3.0.0.GA/hibernate-search-3.0.0.GA.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/apache/lucene/lucene-core/2.2.0/lucene-core-2.2.0.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/javax/servlet/servlet-api/2.3/servlet-api-2.3.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/drools/drools-core/4.0.7/drools-core-4.0.7.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/mvel/mvel/1.3.1-java1.4/mvel-1.3.1-java1.4.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/commons-io/commons-io/1.4/commons-io-1.4.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/javax/j2ee/1.3/j2ee-1.3.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/com/sun/xml/bind/jaxb-impl/2.1.3/jaxb-impl-2.1.3.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/javax/xml/bind/jaxb-api/2.1/jaxb-api-2.1.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/javax/xml/stream/stax-api/1.0-2/stax-api-1.0-2.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/javax/activation/activation/1.1/activation-1.1.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/common/common-configuration/1.0.25/common-configuration-1.0.25.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/opensymphony/oscache/2.1.1/oscache-2.1.1.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/bml/bml-core/8.20.0-SNAPSHOT/bml-core-8.20.0-SNAPSHOT.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/bml/cache/8.20.0-SNAPSHOT/cache-8.20.0-SNAPSHOT.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/common/common-spring-util/1.0.25/common-spring-util-1.0.25.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/esper/esper/2.2.0/esper-2.2.0.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/antlr/antlr-runtime/3.0.1/antlr-runtime-3.0.1.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/org/antlr/stringtemplate/3.1-b1/stringtemplate-3.1-b1.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/quartz/quartz/1.5.2/quartz-1.5.2.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/com/mockrunner/mockrunner/0.3.1/mockrunner-0.3.1.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/common/common-abstract-unit-tests/1.0.25/common-abstract-unit-tests-1.0.25-tests.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/com/i4commerce/bml/unittest/8.20.0-SNAPSHOT/unittest-8.20.0-SNAPSHOT.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/Bamboo/xml-data/build-dir/MONITORING-NIGHTLY/monitoring-server/server-data-access/target/server-data-access-1.0.2-SNAPSHOT-tests.jar
build	20-Nov-2008 08:45:07	[DEBUG]   /opt/bamboo/.m2/repository/com/oracle/oracle_jdbc/10.2.0.2.0/oracle_jdbc-10.2.0.2.0.jar","OS: Linux build01 2.6.24-19-server #1 SMP Wed Jun 18 14:44:47 UTC 2008 x86_64 GNU/Linux
JDK: Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_15-b04)
        Java HotSpot(TM) 64-Bit Server VM (build 1.5.0_15-b04, mixed mode)
Maven: Maven version: 2.0.9
             Java version: 1.5.0_15
             OS name: ""linux"" version: ""2.6.24-19-server"" arch: ""amd64"" Family: ""unix""
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Nov/2008 1:53 PM;97ee5f961203;MONITORING-NIGHTLY-18.log.zip;https://jira.atlassian.com/secure/attachment/29375/MONITORING-NIGHTLY-18.log.zip","02/Dec/2008 2:14 PM;97ee5f961203;clovertest-mvn.log.gz;https://jira.atlassian.com/secure/attachment/29550/clovertest-mvn.log.gz","02/Dec/2008 2:14 PM;97ee5f961203;clovertest.tar.gz;https://jira.atlassian.com/secure/attachment/29551/clovertest.tar.gz","20/Nov/2008 1:34 PM;97ee5f961203;maven-build-2.1.1.pom;https://jira.atlassian.com/secure/attachment/29374/maven-build-2.1.1.pom","20/Nov/2008 1:34 PM;97ee5f961203;monitoring-server.pom;https://jira.atlassian.com/secure/attachment/29372/monitoring-server.pom","20/Nov/2008 1:34 PM;97ee5f961203;monitoring.pom;https://jira.atlassian.com/secure/attachment/29373/monitoring.pom","20/Nov/2008 1:34 PM;97ee5f961203;server-data-access.pom;https://jira.atlassian.com/secure/attachment/29371/server-data-access.pom","20/Nov/2008 1:34 PM;97ee5f961203;server-web.pom;https://jira.atlassian.com/secure/attachment/29370/server-web.pom",,,,,,,,,true,,"1|hwbv4v:",11450,,,,,56468,,,,,,,,,,,2008-11-21 03:26:41.05,,,,,,,,,,,,,,,,,,,,,,,,"2|hwml93:",75192,,,,,,,,,,,"1|hwj7wf:",56617,501120000,true,,,,,,,,,,npellow(npellow),97ee5f961203(sigurd@knippenberg.com),,,,,,,,,,,,,,,,,,"1|hwfkdr:",10702,,,,,,,,,,,,,,,,,,,,,,,,,2.0,56468,,"1|hwj707:",56475,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Nov/2008 3:26 AM;npellow;Hi Sigurd, 

This looks rather odd.

* Could you please run mvn -X, just on the single module for which the test is failing - this will hopefully make the problem easier to spot.
* If you swap the order of the two dependencies, does anything change?
* In debug mode, clover logs the dependencies with the heading: ""before changes"" and ""after changes"", before compilation.
* Could you please try upgrading to the latest release of the maven-clover2-plugin: 2.4.1
* Maven 2.0.9 and Clover 2.4.1 fixes a bug where dependencies were being re-ordered - this may not be related
* The dependency resolution code is all done in: http://svn.atlassian.com/fisheye/browse/public/contrib/clover/maven-clover-plugin/trunk/src/main/java/com/atlassian/maven/plugin/clover/CloverInstrumentInternalMojo.java?r=24941 .
* are you able to provide a small, cut-down project which reproduces this bug?

Cheers,
Nick



;;;","02/Dec/2008 2:14 PM;97ee5f961203;I created a small project with to Maven modules that reproduces the problem. I created it as similar as possible to our current Maven pom file setup.

It has two modules, cloverissue-dependency which creates a jar and a test-jar and cloverissue-test which has a dependency on both.

When you run the following command, the test cases fail: mvn clean install clover2:instrument clover2:aggregate clover2:clover site -Dcoverage -Ditest deploy

The following test case failures are reported:

-------------------------------------------------------------------------------
Test set: org.example.MyContainerTest
-------------------------------------------------------------------------------
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.034 sec <<< FAILURE!
testSomething(org.example.MyContainerTest)  Time elapsed: 0.007 sec  <<< FAILURE!
junit.framework.AssertionFailedError: the main file was not found
        at junit.framework.Assert.fail(Assert.java:47)
        at junit.framework.Assert.assertTrue(Assert.java:20)
        at junit.framework.Assert.assertNotNull(Assert.java:220)
        at org.example.MyContainerTest.testSomething(MyContainerTest.java:13)

-------------------------------------------------------------------------------
Test set: org.example.MyTest
-------------------------------------------------------------------------------
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.008 sec <<< FAILURE!
testSomething(org.example.MyTest)  Time elapsed: 0.003 sec  <<< FAILURE!
junit.framework.AssertionFailedError: the main file was not found
        at junit.framework.Assert.fail(Assert.java:47)
        at junit.framework.Assert.assertTrue(Assert.java:20)
        at junit.framework.Assert.assertNotNull(Assert.java:220)
        at org.example.MyTest.testSomething(MyTest.java:13)

Curiously, it doesn't fail when you don't specify the deploy argument.

I upgraded the test project to 2.4.1 but that did not fix the issue. 

Since I have a reproducible project, I did not rerun the original project with the changes you asked. If you still need me to do that, please let me know.

I attached the output of the -X command (this time I ran it on my workstation, which is a Mac OS X 10.5.5). I also attached the test project.;;;","23/Dec/2008 1:16 PM;97ee5f961203;Can you let us know a timeframe that someone will look into this issue? We had to remove all our test-jar dependencies so that our builds could work with clover and ended up having to copy a number of properties files and java classes across multiple maven modules to get it to work. I want to remove the code duplication before things get changed to the point it takes a lot of effort to convert everything back to the way it used to be.

Is there something we can adjust in our pom files to avoid this issue?;;;","29/Dec/2008 6:37 AM;npellow;Hi Sigurd, 

Thanks for attaching a sample project here. Please not that clovertest-test/pom.xml is referring to "" <version>1.0.0-SNAPHOST</version>"" instead of ""        <version>1.0.0-SNAPSHOT</version>"" in the parent element.

 Unfortunately, I can not reproduce the problem you are having.

I have attached the output of the command line I was running.
I tried with mvn 2.0.8 and 2.0.9 and clover 2.4.1 and 2.4.2 .

Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,,,,
Line coverage data is inconsistent,CLOV-1086,76771,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mparfianowicz,evzijst,evzijst,18/Nov/2008 4:51 AM,09/Nov/2012 2:11 PM,15/Nov/2024 6:09 PM,10/Aug/2012 9:40 AM,2.4,,,,,3.1.7,,,CEP Plugin,CIJ Plugin,Reporting,,,,,0,,,,,,,,,"I'm running 2.4.1 on IDEA 7 and get inconsistent line and branch coverage in the editor: every line that is hit by the a test always gets ""1"" as the hitcount.
",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1130,,,,,,,,,,"27/Jul/2012 1:38 PM;mparfianowicz;clov-1086-sources.zip;https://jira.atlassian.com/secure/attachment/69073/clov-1086-sources.zip","27/Jul/2012 12:06 PM;mparfianowicz;eclipse-bugfixes.jpg;https://jira.atlassian.com/secure/attachment/69064/eclipse-bugfixes.jpg","26/Jul/2012 1:09 PM;mparfianowicz;eclipse-exclude-failed.jpg;https://jira.atlassian.com/secure/attachment/69010/eclipse-exclude-failed.jpg","26/Jul/2012 1:09 PM;mparfianowicz;eclipse-include-failed.jpg;https://jira.atlassian.com/secure/attachment/69011/eclipse-include-failed.jpg","26/Jul/2012 1:09 PM;mparfianowicz;eclipse-new-option.jpg;https://jira.atlassian.com/secure/attachment/69012/eclipse-new-option.jpg","27/Jul/2012 1:33 PM;mparfianowicz;html-fixes.jpg;https://jira.atlassian.com/secure/attachment/69071/html-fixes.jpg","27/Jul/2012 1:33 PM;mparfianowicz;html-fixes2.jpg;https://jira.atlassian.com/secure/attachment/69072/html-fixes2.jpg","27/Jul/2012 12:12 PM;mparfianowicz;intellij-bugfixes.jpg;https://jira.atlassian.com/secure/attachment/69065/intellij-bugfixes.jpg","26/Jul/2012 1:09 PM;mparfianowicz;intellij-exclude-failed.jpg;https://jira.atlassian.com/secure/attachment/69013/intellij-exclude-failed.jpg","26/Jul/2012 1:09 PM;mparfianowicz;intellij-include-failed.jpg;https://jira.atlassian.com/secure/attachment/69014/intellij-include-failed.jpg","26/Jul/2012 1:09 PM;mparfianowicz;intellij-new-option.jpg;https://jira.atlassian.com/secure/attachment/69015/intellij-new-option.jpg","18/Nov/2008 4:53 AM;evzijst;jackrabbit-scm-plugin - [_Users_ervzijst_Documents_workspace_jcr-scm-plugin] - [jackrabbit-scm-plugi.._src_main_java_com_atlassian_crucible_example_scm_JCRChangelogBrowser.java - IntelliJ IDEA 7.0.4-1-1.jpg;https://jira.atlassian.com/secure/attachment/29303/jackrabbit-scm-plugin+-+%5B_Users_ervzijst_Documents_workspace_jcr-scm-plugin%5D+-+%5Bjackrabbit-scm-plugi.._src_main_java_com_atlassian_crucible_example_scm_JCRChangelogBrowser.java+-+IntelliJ+IDEA+7.0.4-1-1.jpg",,,,,,,"1|hwby4n:",12049,,,,,50162,,,,,,,,,,,2008-11-20 09:37:52.241,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmn7b:",75575,,,,,,,,,,,"1|hwi6j3:",50316,388022400,true,,,,,,,,,,evzijst(evzijst),mparfianowicz(mparfianowicz),sginter(sginter),,,,,,,,,,,,,,,,,"1|hwogyn:",64663,,,,,,,,,,,,,,,,,,,,"Version 3.1.7, Sprint 1",Version 3.1.8,,,,2.0,50162,,"1|hwi5lr:",50169,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Nov/2008 4:53 AM;evzijst;Screenshot that show inconsistent line count: the if statement is reported to have been executed only once, but at the same time it's green, indicating both branches have been executed.;;;","20/Nov/2008 9:37 AM;sginter;True, there is something wrong.
Erik, do you know whether the method was actually run once or twice+? (that would help find the root cause).

As far as I remember, Clover guarantees only that a touched code would not have the hit count = 0 - the reported hit count may be lower due to unsynchronized operation on the array.
Could this be the case here?;;;","20/Nov/2008 10:24 AM;sginter;I'm unable to reproduce this so far.
Could you point me to the project itself?
Or just send it to me zipped?;;;","20/Nov/2008 1:13 PM;evzijst;Hi Slawek, the code was hit more than once (I'm guessing 20 times or so) and is very simple single-threaded code.

The test is part of a ([public crucible plugin|http://confluence.atlassian.com/display/CRUCIBLE/Example+Crucible+SCM+Plugin+for+JSR-170+(Apache+JackRabbit)]) and the code for that particular test is here:
[http://svn.atlassian.com/fisheye/browse/public/atlassian/crucible/plugins/examples/jcr-scm-plugin/trunk/src/test/java/com/atlassian/crucible/example/scm/VersionCollectingNodeVisitorTest.java?r=25278]

The code that was tested by that test (and was in the screenshot) is here:
[http://svn.atlassian.com/fisheye/browse/public/atlassian/crucible/plugins/examples/jcr-scm-plugin/trunk/src/main/java/com/atlassian/crucible/example/scm/JCRChangelogBrowser.java?r=25293#l150]
;;;","26/Jul/2012 1:09 PM;mparfianowicz;Stuff implemented so far:

1) IntelliJ IDEA
 - number of hit counts is now correct (i.e. can be greater than 1)
 - added new ""include failed test coverage"" option in report wizard for HTML report

2) Eclipse
 - added button ""Include passed only"" button in Coverage Explorer
 
3) HTML report
 - number if hit counts is now correct
;;;","26/Jul/2012 1:17 PM;mparfianowicz;Open topic. If ""exclusion of failed test coverage"" is enabled how Clover shall behave for failed test in following contexts:
 - counting hits        -> should always return 0 (works this way in intellj/eclipse, html shows non-zero value)
 - background colouring -> should always colour in red (currently yellow for intellij, red for eclipse, green for html)
 - showing test cases in Test Runs view or Tests tab in html report -> yes (currently failed methods are shown)
 - showing test contributions in popup box (html/eclipse/intellij)  -> yes (currently failed methods are shown)
;;;","27/Jul/2012 12:06 PM;mparfianowicz;Eclipse - how it works after bug fixing + improvements [^eclipse-bugfixes.jpg];;;","27/Jul/2012 12:12 PM;mparfianowicz;Intellij [^intellij-bugfixes.jpg];;;","27/Jul/2012 1:33 PM;mparfianowicz;And the HTML report:
 * with failed test coverage [^html-fixes.jpg]
 * without failed test coverage [^html-fixes2.jpg];;;","27/Jul/2012 1:38 PM;mparfianowicz;Code sample used.;;;","27/Jul/2012 1:39 PM;mparfianowicz;@[~mstudman] could you have a look at these screenshots?;;;","30/Jul/2012 6:13 AM;mparfianowicz;A follow-up for HTML report is CLOV-1130;;;",,,,,,,,,,,,,,,
Curious ClassCastException in Coverage Explorer,CLOV-785,76237,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,06/Nov/2008 3:44 PM,17/Nov/2009 11:09 PM,15/Nov/2024 6:09 PM,17/Nov/2009 11:09 PM,,,,,,2.6.3,,,CEP Plugin,,,,,,,0,,,,,,,,,"java.lang.ClassCastException: com.cenqua.clover.eclipse.views.nodes.LeafPackageFragmentNode cannot be cast to org.eclipse.jdt.core.IJavaElement
at org.eclipse.jdt.internal.ui.JavaTaskListAdapter.getAffectedResource(JavaTaskListAdapter.java:28)
at org.eclipse.ui.views.markers.internal.MarkerView.focusSelectionChanged(MarkerView.java:1131)
at org.eclipse.ui.views.markers.internal.MarkerView$2.selectionChanged(MarkerView.java:482)
at org.eclipse.ui.internal.AbstractSelectionService.fireSelection(AbstractSelectionService.java:156)
at org.eclipse.ui.internal.AbstractSelectionService$1.selectionChanged(AbstractSelectionService.java:62)
at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)
at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)
at org.eclipse.core.runtime.Platform.run(Platform.java:843)
at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)
at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:149)
at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160)
at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1976)
at org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1128)
at org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1154)
at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:213)
at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:207)
at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:374)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1930)",,,";20/Oct/2009 6:14 PM;mstudman;7200",,,,0,7200,,,0,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwnr:",11697,,,,,91042,,,,,,,,,,,2009-08-11 17:00:08.348,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmj5r:",74854,,,,,,,,,,,"1|hwosnb:",91153,475545600,true,,,,,,,,,,779027a9e510(lacho),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwqtan:",79725,,,,,,,,,,,,,,,,,,,,,,,,,,91044,,"1|hworyf:",91044,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Aug/2009 5:00 PM;779027a9e510;Hi Michael,

i'm also facing this Exception. Any idea on how to avoid that?;;;","11/Aug/2009 8:38 PM;mstudman;Hi,

Just wondering where you are seeing it / how it manifests itself? I mostly only see this in the logs / the error log window if open but have once encountered a popup.

Michael.;;;","12/Aug/2009 8:31 AM;779027a9e510;I'm also seeing it in the logs.

I've clicked on one of the project-names in the coverage explorer. After that, the errorlogs-view pops to front and i was unable to return to the coverage explorer. Any click on it adds a new entry to the error-log and pops that log to front. The only way to recover from that is restarting eclipse.;;;","20/Oct/2009 6:15 PM;mstudman;Sorry Dirk, never saw your follow-up comment. I believe I've fixed this. Get in touch at support.atlassian.com is you'd like a development build before we push out 2.6.3;;;",,,,,,,,,,,,,,,,,,,,,,,
<clover-snapshot/> should ignore span for all but initial snapshot generations,CLOV-369,76201,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,05/Nov/2008 9:13 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,05/Nov/2008 9:14 PM,,,,,,2.4.2,,,Ant Tasks,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtu7:",103157,,,,,90873,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlb3:",75201,,,,,,,,,,,"1|hworlr:",90984,505699200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqrbb:",79161,,,,,,,,,,,,,,,,,,,,,,,,,,90875,,"1|hwoqwv:",90875,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tests not getting optimized on windows,CLOV-368,76184,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,05/Nov/2008 5:59 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,06/Nov/2008 1:04 AM,,,,,,2.4,,,,,,,,,,0,,,,,,,,,This was caused by the path separators not being normalized to / .,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqttz:",103156,,,,,90872,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlbb:",75202,,,,,,,,,,,"1|hworlj:",90983,505785600,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqztj:",81222,,,,,,,,,,,,,,,,,,,,,,,,,,90874,,"1|hwoqwn:",90874,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
2 x build optimization tests tend to fail randomly ,CLOV-367,76175,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,05/Nov/2008 1:17 AM,03/Mar/2009 4:06 AM,15/Nov/2024 6:09 PM,26/Feb/2009 12:33 AM,,,,,,2.5,,,,,,,,,,0,,,,,,,,,http://troy.sydney.atlassian.com/bamboo/build/viewBuildResults.action?buildKey=CCD-DEF&buildNumber=1367,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqttr:",103155,,,,,90871,,,,,,,,,,,2009-02-26 00:33:16.472,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlbj:",75203,,,,,,,,,,,"1|hworlb:",90982,496022400,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqrbr:",79163,,,,,,,,,,,,,,,,,,,,,,,,,,90873,,"1|hwoqwf:",90873,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Feb/2009 12:33 AM;npellow;These seem to be fixed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Optimization Ant tasks should allow failfast behaviour without test minimisation,CLOV-365,75974,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,mstudman,mstudman,mstudman,30/Oct/2008 3:29 PM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,20/Nov/2008 12:19 PM,,,,,,2.4,,,Ant Tasks,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqttj:",103154,,,,,90870,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlbz:",75205,,,,,,,,,,,"1|hworl3:",90981,504489600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqss7:",79639,,,,,,,,,,,,,,,,,,,,,,,,,,90872,,"1|hwoqw7:",90872,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Nov/2008 12:19 PM;mstudman;This was already implemented for 2.4;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Compilation error with Clover for ANT but Eclipse Clover plugin does not,CLOV-355,75716,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,tcheah,tcheah,24/Oct/2008 7:42 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,2.3.2,,,,,long term roadmap,,,Instrumentation,,,,,,,1,,,,,,,,,"The attached example works if one is instrumenting using the Eclipse Clover plugin.
However, it failed when building the project with Ant. The example of the build error:
{noformat}
build:
    [javac] Compiling 1 source file to <path>/workspace/TestProject/build
   [clover] Clover Version 2.3.2, built on July 15 2008 (build-732)
   [clover] Loaded from: <path>/clover-ant-2.3.2/lib/clover.jar
   [clover] Creating new database at '<path>/workspace/TestProject/.clover/clover2_3_2.db'.
   [clover] Processing files at 1.6 source level.
   [clover] Clover all over. Instrumented 1 file (1 package).
    [javac] /tmp/clover21186.tmp/CloverConstInitTest.java:17: variable l_lStart might not have been initialized
    [javac]                     __CLR2_3_200fmewemkh.R.E[10]++;System.out.println(""l_lStart is definitely initialized here..., diff is "" + (l_lEnd - l_lStart) + "" ms"");
    [javac]                                                                                                                                          ^
    [javac] 1 error

BUILD FAILED
<path>/workspace/TestProject/build.xml:22: Compile failed; see the compiler error output for details.
{noformat} ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/2008 7:42 AM;tcheah;clover-const-init-test.zip;https://jira.atlassian.com/secure/attachment/28926/clover-const-init-test.zip",,,,,,,,,,,,,,,,true,,"1|hwbv3z:",11446,,,,,56473,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmldz:",75214,,,,,,,,,,,"1|hwj7xj:",56622,506822400,true,,,,,,,,,,tcheah(tcheah),,,,,,,,,,,,,,,,,,,"1|hwfky7:",80753,,,,,,,,,,,,,,,,,,,,,,,,,,56473,,"1|hwj71b:",56480,1.0,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Plugin re-ordering classpath,CLOV-353,75616,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,c5c1328d76d9,c5c1328d76d9,23/Oct/2008 12:05 AM,26/Oct/2008 4:13 AM,15/Nov/2024 6:09 PM,26/Oct/2008 4:13 AM,2.3.2,,,,,2.4,,,Maven plugin,,,,,,,0,,,,,,,,,"As of maven 2.0.9 they introduced deterministic ordering of dependencies on the classpath, however when the clover plugin rebuilds the test classpath that ordering is changed.  And furthermore, since you change the order of the direct dependencies, when the transitive dependencies are resolved again some of the versions may change.  Most likely, rather than creating a regular HashSet when building the dependency list, you should be using a LinkedHashSet to maintain the ordering from maven. 

Attached is a simple project and pom that demostrates the issue. If you run mvn clean site -X the classpath for clover generation is reordered and ends up with commons-collections-2.1.1 as opposed to 3.2 from the regular surefire testing.  Obviously, this leaves open the possibility that test may fail during clover generation when they succeed during the initial maven testing.  I have a project that I stripped down for the example where I believe that is what is happening.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/2008 2:34 AM;npellow;clover-2.3.3-SNAPSHOT.jar;https://jira.atlassian.com/secure/attachment/28918/clover-2.3.3-SNAPSHOT.jar","23/Oct/2008 12:05 AM;c5c1328d76d9;clover-issue.zip;https://jira.atlassian.com/secure/attachment/28887/clover-issue.zip",,,,,,,,,,,,,,,true,,"1|hwqtrz:",103147,,,,,90863,,,,,,,,,,,2008-10-23 00:22:46.038,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlef:",75216,,,,,,,,,,,"1|hworjj:",90974,506649600,true,,,,,,,,,,c5c1328d76d9(bgraves),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwoft3:",64416,,,,,,,,,,,,,,,,,,,,,,,,,,90865,,"1|hwoqun:",90865,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Oct/2008 12:09 AM;c5c1328d76d9;added some additional details to description;;;","23/Oct/2008 12:22 AM;npellow;Hi Brett, 

Excellent suggestion. I will assign this to the upcoming 2.4 release. The change should be small.
I've created http://developer.atlassian.com/jira/browse/CLMVN-83 to track this against the maven-clover2-plugin.

Cheers,
Nick;;;","23/Oct/2008 2:28 AM;npellow;Hi Brett, 

Unfortunately, the suggested change wont work - since even with maven 2.0.9 the set returned from MavenProject.getDependenciesArtifacts() is a java.util.HashSet . I'm not sure how maven handles the order of its dependencies internally, however if order is important (which it looks like it is) then a Set seems to be a bad choice for the Collection there.

I have committed the change non-the-less, but could not confirm it fixes your problem. I still see commons-collections 2.1.1 used with clover ({{mvn clover2:instrument -X}}), while 3.2 is used normally {{mvn clean test -X}}.

I will try contacting the maven developer list to see if there is a work around for this.

Cheers,
Nick;;;","23/Oct/2008 2:45 AM;npellow;My post to the maven dev list: http://www.nabble.com/preserving-order-of-dependencies-td20123426.html;;;","23/Oct/2008 2:47 AM;npellow;A possible hacky fix for this would be another config option for the maven-clover2-plugin which disables the auto-addition of the clover artifact to the classpath. This would mean, you would need to manually add it as a dependency.;;;","23/Oct/2008 7:51 PM;c5c1328d76d9;Are you sure you tested it with maven 2.0.9?  In researching this, the same issue was logged against cobertura [1] and the patch provided on the bug to fix the issue is identical to the code you checked in.  I've applied that patch to their plugin and it does indeed fix the problem, unless there's something else in the clover plugin that re-orders those dependencies somewhere else.

[1] http://jira.codehaus.org/browse/MCOBERTURA-88;;;","24/Oct/2008 2:30 AM;npellow;Hi Brett, 

Thanks for persisting with this! You were right - the clover plugin calls setDependencyArtifacts in two locations.

I have made the second change and tested this with both maven 2.0.8 and maven 2.0.9. AFAICT, commons-collections-3.2 gets used both with and without clover. Previsously, 2.1.1 got used with Clover.

If you feel up to it, it would be excellent to have you confirm that this also works for you.
You should be able to simply do:
{code}
svn co https://svn.atlassian.com/svn/public/contrib/clover/maven-clover-plugin/trunk maven-clover2-plugin
mvn clean install
{code}
and then use the clover version 2.3.3-SNAPSHOT in your pom.xml.

I will upload the clover artifact to this issue, which you may need to manually install since it has not yet been deployed.

Best Regards,
Nick Pellow

;;;","24/Oct/2008 2:34 AM;npellow;You may need to manually install this jar file into your local repo as the maven-clover2-plugin in trunk depends on clover-2.3.3-SNAPSHOT.;;;","24/Oct/2008 3:00 PM;c5c1328d76d9;Fix confirmed.  The 2.3.3 snapshot version fixes my issues and all my tests are behaving the same during maven test and clover testing.   Is there a timeline when this will actually be released?

Thanks,
Brett;;;","26/Oct/2008 4:10 AM;npellow;Hi Brett, 

That is great news. Thank you very much for taking the time to confirm this fix works.
The next release will be Clover 2.4.0. This is due for public release on November 5.
Sorry for the inconvenience until then.

Cheers,
Nick ;;;","26/Oct/2008 4:13 AM;npellow;Since Maven 2.0.9, Linked Hash Sets are used for dependency ordering to ensure consistent resolution of artifacts.
The maven-clover2-plugin, also now uses Linked Hash Sets to ensure the same.;;;",,,,,,,,,,,,,,,,
IO exception not being printed,CLOV-340,74560,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,pkamal,pkamal,30/Sep/2008 2:01 AM,17/Feb/2009 12:43 AM,15/Nov/2024 6:09 PM,17/Feb/2009 12:42 AM,2.3.2,,,,,2.4,,,Ant Tasks,,,,,,,0,,,,,,,,,"In {{com_cenqua_clover.CoverageRecorder}} the IO exception is not printed if hit:

{code:sql}
catch (IOException e) {
                Logger.getInstance().error(""IO Exception flushing sliced coverage for recorder "" + recName);
            }
{code}

Making it difficult to work out what has happened. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtq7:",103139,,,,,90855,,,,,,,,,,,2009-02-16 23:23:13.495,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlgv:",75227,,,,,,,,,,,"1|hworhr:",90966,496800000,true,,,,,,,,,,npellow(npellow),pkamal(pkamal),,,,,,,,,,,,,,,,,,"1|hwqw33:",80289,,,,,,,,,,,,,,,,,,,,,,,,,,90857,,"1|hwoqsv:",90857,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Feb/2009 11:23 PM;npellow;partha, did this reveal anything? can we close this issue?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Relax test detection logic - class is a potential test class if either the class name or superclass name contains ""test""",CLOV-334,74449,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,sginter,sginter,25/Sep/2008 10:22 AM,29/Oct/2008 2:27 AM,15/Nov/2024 6:09 PM,29/Oct/2008 2:27 AM,2.3.2,,,,,2.4,,,,,,,,,,0,,,,,,,,,"The class below should be recognized as a test class:
{code}
import junit.framework.TestCase;

public class DifferentName extends TestCase {
    
    public void testMethodName() {
    }

}
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-1693,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwox3b:",90426,,,,,77314,,,,,,,,,,,2008-10-27 05:29:58.888,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlhb:",75229,,,,,,,,,,,"1|hwmpwn:",77428,506563200,true,,,,,,,,,,npellow(npellow),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwqxdr:",80634,,,,,,,,,,,,,,,,,,,,,,,,,,77314,,"1|hwmp7b:",77317,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Oct/2008 5:29 AM;npellow;Such a class as above will now be automatically detected as a test class by Clover.
A similar such class which extends another class that extends TestCase may however not be detected correctly. If this is the case, it is recommended you rename the test class to include ""test"" in the title, or manually configure clover's test case detection.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
maven-clover2-plugin incorrectly overwrites non-clover test-jar,CLOV-331,74383,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Won't Fix,mparfianowicz,tcheah,tcheah,24/Sep/2008 5:06 AM,25/Apr/2015 9:13 PM,15/Nov/2024 6:09 PM,25/Apr/2015 9:13 PM,,,,,,won't fix,,,,,,,,,,4,,,,,,,,,"This issue was originally reported in http://forums.atlassian.com/thread.jspa?threadID=27490&tstart=0.
The following result is seen when performing ""mvn clean install clover2:instrument clover2:clover"":
\\ \\ 
{noformat}
[INFO] Installing <Target_Path>\my-artifact-1.0.0-SNAPSHOT-tests.jar to <Repository_Path>\my-artifact\1.0.0-SNAPSHOT\my-artifact-1.0.0-SNAPSHOT-tests.jar
[INFO] Installing <Target_Path>\clover\my-artifact-1.0.0-SNAPSHOT-clover-tests.jar to <Repository_Path>\my-artifact\1.0.0-SNAPSHOT\my-artifact-1.0.0-SNAPSHOT-tests.jar
{noformat}

The Clover test jar overwrites the non-Clover test jar that is copied to the repository earlier.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbvqv:",11549,,,,,30926,,,,,,,,,,,2009-04-10 17:26:21.331,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlhz:",75232,,,,,,,,,,,"1|hwf5x3:",31548,301622400,true,,,,,,,,,,7986ac413f78(relphie),mparfianowicz(mparfianowicz),npellow(npellow),39fe30b9ee39(tb019024),tcheah(tcheah),,,,,,,,,,,,,,,"1|hwnqkn:",60017,,,,,,,,,,,,,,,,,,,,,,,,,,30926,,"1|hwf24n:",30938,4.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Apr/2009 5:26 PM;7986ac413f78;Is a fix in the work for this?  I too have been affected by this issue.;;;","03/Jun/2009 12:11 AM;npellow;Unfortunately, Maven does not support artifacts that have multiple classifiers. 
In this case, there is a -test classifier on the artifact, and then Clover adds its own -clover classifier.

If the <Target_Path>\my-artifact-1.0.0-SNAPSHOT-tests.jar, were not a classified artifact, then this problem would not exist.

The work around is to put any tests that need to be shared across projects (ie installed) in a separate module, and not have maven use a -classifier on them.
Before doing this however, you should consider the need to install a -test.jar into a maven repository at all.

If you can use the tests that are already compiled in the reactor, this issue should also go away. One way to do this is to use the [dependency:unpack-dependencies|http://maven.apache.org/plugins/maven-dependency-plugin/unpack-dependencies-mojo.html] goal, on the maven-dependency-plugin. It will copy a dependency from the maven reactor to a given location. If it is not in the reactor, then the dependency is looked for in a repository. The same goes for copy-dependencies.

Another solution is to tell Clover to not instrument your test sources. This will mean however that no test results nor per-test coverage will be available in the Clover HTML reports. This can be set using the [includeTestSourceRoots|http://docs.atlassian.com/maven-clover2-plugin/2.5.0/instrumentInternal-mojo.html#includesTestSourceRoots] configuration.
;;;","10/Aug/2011 6:48 PM;39fe30b9ee39;So, just to be clear, Clover does not and will not support artifacts that have a classifier?;;;","11/Aug/2011 10:45 AM;npellow;Hi Thomas, 

Maven doesn't support doubly classified artifacts.

You can use clover2:setup however, instead of clover2:instrument.
clover2:setup will not add the clover classifier, so it should work with classified artifacts.

ie: clover2:setup test clover2:clover.


Cheers,
Nick;;;","11/Aug/2011 2:09 PM;39fe30b9ee39;Switching from clover2:instrument to clover2:setup works for my situation because it avoids installing the artifacts to the local repo. Thanks for your help.;;;","25/Apr/2015 9:12 PM;mparfianowicz;Update: the repository pollution protection feature introduced in Clover-for-Maven 4.0.4 can partially protect against multiple classifiers (CLOV-1632). ;;;",,,,,,,,,,,,,,,,,,,,,
NPE thrown from getJSONSrcFileLines under certain conditions,CLOV-329,74270,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Cannot Reproduce,npellow,npellow,npellow,22/Sep/2008 6:01 AM,22/Jan/2014 10:41 AM,15/Nov/2024 6:09 PM,26/Oct/2008 5:43 AM,,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"One user has reported seeing a NullPointerException thrown from getJSONSrcFileLines under a certain circumstance.

We are currently unable to reproduce, to provide a fix.



",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtpj:",103136,,,,,90851,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlif:",75234,,,,,,,,,,,"1|hworgv:",90962,509587200,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqpy7:",78806,,,,,,,,,,,,,,,,,,,,,,,,,,90853,,"1|hwoqrz:",90853,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
clover2:check fails when the historydir does not exist.,CLOV-326,74119,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,17/Sep/2008 10:56 PM,19/Sep/2008 12:05 AM,15/Nov/2024 6:09 PM,19/Sep/2008 12:05 AM,,,,,,2.4,,,Maven plugin,,,,,,,1,,,,,,,,,the clover2:check goal should not be skipped if there is no historydir.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtov:",103133,,,,,90848,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlj3:",75237,,,,,,,,,,,"1|hworg7:",90959,509846400,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqqqn:",79014,,,,,,,,,,,,,,,,,,,,,,,,,,90850,,"1|hwoqrb:",90850,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Sep/2008 12:05 AM;npellow;This was entirely implemented in the maven-clover2-plugin: http://developer.atlassian.com/jira/browse/CLMVN-76;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
hrefs corrupt when generating historic files in subdir on windows,CLOV-324,73969,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,4919ac060c18,4919ac060c18,13/Sep/2008 10:31 PM,15/Sep/2008 7:31 AM,15/Nov/2024 6:09 PM,15/Sep/2008 7:31 AM,2.3.2,,,,,2.4,,,Reporting,,,,,,,0,,,,,,,,,"We generate one current and multiple historical-reports which are linked to each other.
Historical reports are created in a subfolder, so the final folder structure of the reports looks sort of like this:

reportdir/historical1/historical.html
reportdir/historical2/historical.html
reportdir/index.html  
reportdir/all-pkgs.html 
[...]

hrefs of links in these files contain windows-backslashes instead of simple slashes - this makes problems when putting the files on a server.
I found wrong hrefs at least at the following places:
1) all-pkgs.html: link to historical.html - backslash should be a slash
{code}<a target=""classPane"" href=""historical1\historical.html"">{code}

2) historical.html: links to sources: backslash should be deleted here
{code}<a target=""classPane""  href=""..\/de/tolina/SomeClass.html""  title=""de.tolina.SomeClass"">{code}","clover for ant, windows xp",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Sep/2008 7:24 AM;4919ac060c18;ecblank.gif;https://jira.atlassian.com/secure/attachment/28400/ecblank.gif","15/Sep/2008 7:24 AM;4919ac060c18;graycol.gif;https://jira.atlassian.com/secure/attachment/28398/graycol.gif","15/Sep/2008 7:24 AM;4919ac060c18;pic24703.gif;https://jira.atlassian.com/secure/attachment/28399/pic24703.gif",,,,,,,,,,,,,,true,,"1|hwowwf:",90388,,,,,77232,,,,,,,,,,,2008-09-14 23:57:03.413,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmljb:",75238,,,,,,,,,,,"1|hwmpfz:",77346,510192000,true,,,,,,,,,,npellow(npellow),4919ac060c18(stefan.hansel@tolina.com),,,,,,,,,,,,,,,,,,"1|hwofsv:",64415,,,,,,,,,,,,,,,,,,,,,,,,,,77232,,"1|hwmoqn:",77235,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Sep/2008 11:57 PM;npellow;Hi Stefan, 

Thank you for reporting this. I can see how that is happening and have assigned this to the upcoming 2.4 release of Clover.
Sorry for the inconvenience. Please let me know if you would like a development build with this fix in it to try.

Cheers,
Nick.

;;;","15/Sep/2008 5:19 AM;npellow;Hi Stefan, 

I have implemented these fixes. All links in HTML reports will now use ""/"" for path separators, and not the system dependent File.separator char.

Cheers,
Nick;;;","15/Sep/2008 7:24 AM;4919ac060c18;

Nick,

we 'fixed' this by having some more ant-targets after the report-task that just 'repair' the html-files. So there is no need for a special build for us.

Kind regards,

Stefan Hansel





                                                                                                                                              
             ""Nick Pellow [Atlassian] (JIRA)"" <jira@atlassian.com>                                                                            
                                                                                                                                              
             15.09.2008 01:57                                                                                                                                          An
                                                                              stefan.hansel@tolina.com                                        
                                                                                                                                                                    Kopie
                                                                                                                                              
                                                                                                                                                                    Thema
                                                                              [JIRA] Updated: (CLOV-324) hrefs corrupt when generating historic files in subdir on
                                                                              windows                                                         
                                                                                                                                              
                                                                                                                                              
                                                                                                                                              
                                                                                                                                              
                                                                                                                                              
                                                                                                                                              





     [ http://jira.atlassian.com/browse/CLOV-324?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Nick Pellow [Atlassian] updated CLOV-324:
-----------------------------------------

    Fix Version/s: 2.4

Hi Stefan,

Thank you for reporting this. I can see how that is happening and have assigned this to the upcoming 2.4 release of Clover.
Sorry for the inconvenience. Please let me know if you would like a development build with this fix in it to try.

Cheers,
Nick.




--
This message is automatically generated by JIRA.
-
If you think it was sent incorrectly contact one of the administrators: http://jira.atlassian.com/secure/Administrators.jspa
-
For more information on JIRA, see: http://www.atlassian.com/software/jira


;;;","15/Sep/2008 7:31 AM;npellow;Thanks Stefan.

Good to hear you managed a work-around for now and this didn't impact you too much.
The upcoming release will fix this.

Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,,,,
movers in pdf report corrupt,CLOV-323,73967,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,4919ac060c18,4919ac060c18,13/Sep/2008 10:58 AM,15/Sep/2008 8:16 AM,15/Nov/2024 6:09 PM,15/Sep/2008 6:25 AM,2.3.2,,,,,2.4,,,Reporting,,,,,,,0,,,,,,,,,"We just migrated form clover 2.1 to 2.3.

Attached you will find a movers pdf report. As you can see all bars are totally wrong.
This report was created with the following snippet of configuration (this worked without problems in 2.1).

<historical outfile=""${reports.html}/${build.date}/Code Coverage/movers1M.pdf"" title=""Movers: letzter Monat"" historyDir=""${clover.historyDir}"">
	<format type=""pdf"" />
	<movers range=""50"" threshold=""2"" interval=""1mo"" />
</historical>

","ant-task on win-xp, clover server edition",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Sep/2008 7:26 AM;4919ac060c18;ecblank.gif;https://jira.atlassian.com/secure/attachment/28403/ecblank.gif","15/Sep/2008 7:26 AM;4919ac060c18;graycol.gif;https://jira.atlassian.com/secure/attachment/28401/graycol.gif","13/Sep/2008 10:58 AM;4919ac060c18;movers1M.pdf;https://jira.atlassian.com/secure/attachment/28378/movers1M.pdf","15/Sep/2008 7:26 AM;4919ac060c18;pic13234.gif;https://jira.atlassian.com/secure/attachment/28402/pic13234.gif",,,,,,,,,,,,,true,,"1|hwqton:",103132,,,,,90847,,,,,,,,,,,2008-09-15 05:26:49.351,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmljj:",75239,,,,,,,,,,,"1|hworfz:",90958,510192000,true,,,,,,,,,,npellow(npellow),4919ac060c18(stefan.hansel@tolina.com),,,,,,,,,,,,,,,,,,"1|hwqqx3:",79065,,,,,,,,,,,,,,,,,,,,,,,,,,90849,,"1|hwoqr3:",90849,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Sep/2008 5:26 AM;npellow;Hi Stefan, 

That sure looks like a bug. 
I have assigned this issue to be fixed for the 2.4 release of clover. I can get you a development build to try as soon as it has been fixed however.

Cheers,
Nick;;;","15/Sep/2008 6:25 AM;npellow;I have managed to fix this. 
It was unfortunately introduced when the movers section of the HTML reports were reworked.

Please let me know if you would like a development build with this, and CLOV-324 included.

Cheers,
Nick;;;","15/Sep/2008 7:26 AM;4919ac060c18;

Hi Nick,

thanks for investigating this ... we switched to HTML-reports for now, since pdfs are not needed any more.
If you have a special build somewhen, of course I can give it a short try to verify the fix.

Kind regards,

Stefan.




                                                                                                                                              
             ""Nick Pellow [Atlassian] (JIRA)"" <jira@atlassian.com>                                                                            
                                                                                                                                              
             15.09.2008 07:28                                                                                                                                          An
                                                                              stefan.hansel@tolina.com                                        
                                                                                                                                                                    Kopie
                                                                                                                                              
                                                                                                                                                                    Thema
                                                                              [JIRA] Updated: (CLOV-323) movers in pdf report corrupt         
                                                                                                                                              
                                                                                                                                              
                                                                                                                                              
                                                                                                                                              
                                                                                                                                              
                                                                                                                                              





     [ http://jira.atlassian.com/browse/CLOV-323?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel ]

Nick Pellow [Atlassian] updated CLOV-323:
-----------------------------------------

    Fix Version/s: 2.4

Hi Stefan,

That sure looks like a bug.
I have assigned this issue to be fixed for the 2.4 release of clover. I can get you a development build to try as soon as it has been fixed however.

Cheers,
Nick


--
This message is automatically generated by JIRA.
-
If you think it was sent incorrectly contact one of the administrators: http://jira.atlassian.com/secure/Administrators.jspa
-
For more information on JIRA, see: http://www.atlassian.com/software/jira


;;;","15/Sep/2008 7:35 AM;npellow;Cheers Stefan, 

Thanks for the offer for testing. I've confirmed that this has been fixed, so if it is no longer an issue for you, I will close this task.

Nick.;;;","15/Sep/2008 8:16 AM;4919ac060c18;
That was fast ;-) ... since we switched to HTML it is indeed no issue for us currently.
;;;",,,,,,,,,,,,,,,,,,,,,,
PDFReport fails when no coverage data available.,CLOV-322,73716,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,08/Sep/2008 6:00 AM,08/Sep/2008 6:01 AM,15/Nov/2024 6:09 PM,08/Sep/2008 6:01 AM,,,,,,2.4,,,,,,,,,,0,,,,,,,,,"see: http://developer.atlassian.com/jira/browse/CLMVN-72

{code}
code]
[INFO] ------------------------------------------------------------------------
[ERROR] FATAL ERROR
[INFO] ------------------------------------------------------------------------
[INFO] ExceptionConverter: java.lang.RuntimeException: 1 annotations had invalid placement pages.
[INFO] ------------------------------------------------------------------------
[INFO] Trace
/tmp/plexus-resources1304268035tmp:20: ExceptionConverter: java.lang.RuntimeException: 1 annotations had invalid placement pages.
at org.apache.tools.ant.Task.perform(Task.java:373)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)
at org.apache.tools.ant.Project.executeTarget(Project.java:1185)
at com.atlassian.maven.plugin.clover.CloverReportMojo.createReport(CloverReportMojo.java:343)
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtof:",103131,,,,,90846,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmljr:",75240,,,,,,,,,,,"1|hworfr:",90957,510796800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqson:",79623,,,,,,,,,,,,,,,,,,,,,,,,,,90848,,"1|hwoqqv:",90848,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Sep/2008 6:01 AM;npellow;This was caused by some incorrect of elements being added to the document object of the pdf library being used. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
clover jar contains clover.xml twice,CLOV-316,73286,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,npellow,39a0ddf54942,39a0ddf54942,27/Aug/2008 7:51 AM,23/Oct/2008 8:59 AM,15/Nov/2024 6:09 PM,09/Sep/2008 4:33 AM,2.3.2,,,,,2.4,,,,,,,,,,0,,,,,,,,,"The clover 2.3.2 jar (from http://mirrors.ibiblio.org/pub/mirrors/maven2/com/cenqua/clover/clover/2.3.2/) contains clover.xml twice.

> jar vft clover-2.3.2.jar |grep clover.xml
  3599 Tue Jul 15 15:53:04 CEST 2008 clover.xml
  3599 Tue Jul 15 16:21:04 CEST 2008 clover.xml

This can cause problems, such as when the maven build includes JAR signing for the install lifecycle (and clover instrumentation):
jarsigner: unable to sign jar: java.util.zip.ZipException: duplicate entry: clover.xml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwl7in:",68234,,,,,53109,,,,,,,,,,,2008-10-23 07:59:56.26,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmll3:",75246,,,,,,,,,,,"1|hwio4n:",53263,506908800,true,,,,,,,,,,fe20404e3ffa(sg.ashish),39a0ddf54942(marcel.may),npellow(npellow),,,,,,,,,,,,,,,,,"1|hwqm67:",77699,,,,,,,,,,,,,,,,,,,,,,,,,,53109,,"1|hwin7b:",53116,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Oct/2008 7:59 AM;fe20404e3ffa;I am using ant to sign the jar and getting the same error for Clover 2.3.3.

jarsigner: unable to sign jar: java.util.zip.ZipException: duplicate entry: clov
er.xml

Where can i download the new release 2.4 for Ant?;;;","23/Oct/2008 8:59 AM;npellow;2.4 is not out yet.
There is a 2.3.3 snapshot for internal atlassian usage at: https://maven.atlassian.com/public/com/cenqua/clover/clover/2.3.3-ATL1/
This is however not an official release - but should still work.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"Clover check rounds percentages thus when the build should fail when less than 100% coverage, a coverage of 99.5% will pass",CLOV-315,73218,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,pkamal,pkamal,26/Aug/2008 6:28 AM,05/Sep/2008 2:09 AM,15/Nov/2024 6:09 PM,05/Sep/2008 2:09 AM,,,,,,2.4,,,Ant Tasks,,,,,,,0,,,,,,,,,"Produced from case https://support.atlassian.com/browse/CLV-4929. 

If you have the following:
{noformat}
 <target name=""check.coverage"" depends=""with.clover"">
    <clover-check haltonfailure=""true"">
        <package name=""com.acme.killerapp.core"" target=""100%""/>
        <package name=""com.acme.killerapp.ai"" target=""100%""/>
    </clover-check>
  </target>
{noformat}

Then even if com.acme.killerapp.ai has a coverage of 99.5% it will Pass. 

Log Message
{noformat}
[clover-check] New coverage = 100%; Old coverage = 100%
[clover-check] New coverage = 99,5%; Old coverage = 100%
[clover-check] Coverage check PASSED
{noformat}

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtnj:",103127,,,,,90842,,,,,,,,,,,2008-09-02 05:46:50.741,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmllb:",75247,,,,,,,,,,,"1|hworev:",90953,511315200,true,,,,,,,,,,bhumphreys(bhumphreys),pkamal(pkamal),,,,,,,,,,,,,,,,,,"1|hwqyk7:",80960,,,,,,,,,,,,,,,,,,,,,,,,,,90844,,"1|hwoqpz:",90844,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Sep/2008 5:46 AM;bhumphreys;actually the bug is in the rendering of the clover-check log messages. Clover-check will use the same accuracy specified in the target percentage supplied by the user. If a user specifies ""100%"" and the actual coverage is 99.5%, it will be rounded up to 100% and will pass. If the user specifies ""100.0%"", then an actual result of 99.5% will not be rounded to 99.5% and clover-check will fail.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Umbrella: Reduce memory footprint of HTML report generation to avoid OOMEs,CLOV-313,72970,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,wkwong,wkwong,20/Aug/2008 3:04 AM,08/Sep/2009 2:23 AM,15/Nov/2024 6:09 PM,08/Sep/2009 2:23 AM,,,,,,2.6,,,,,,,,,,0,perf,,,,,,,,,,,,,,,,,,129600,0,129600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbuuf:",11403,,,,,90841,,,,,,2,,,,,2009-04-14 21:15:29.757,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmllr:",75249,,,,,,,,,,,"1|hworen:",90952,491875200,true,,,,,,,,,,mstudman(mstudman),wkwong(wkwong),,,,,,,,,,,,,,,,,,"1|hwqspj:",79627,,,,,,,,,,,,,,,,,,,,,,,,,,90843,,"1|hwoqpr:",90843,1.0,,,,,,,,,,,,,,,,,,,,,3,,,,,,,"14/Apr/2009 9:15 PM;mstudman;Moving this to 2.6 although there has been a large amount of memory improvement work done in 2.5;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Merging databases can fail under JDK 1.4,CLOV-311,72894,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,bhumphreys,bhumphreys,18/Aug/2008 7:25 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,25/Aug/2008 7:08 AM,2.3.2,,,,,2.4,,,Database,,,,,,,0,,,,,,,,,"Database merge has a subtle JDK 1.5 dependency, relating to context merges.  ",JDK 1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtnb:",103126,,,,,90840,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmllz:",75250,,,,,,,,,,,"1|hworef:",90951,512611200,true,,,,,,,,,,bhumphreys(bhumphreys),,,,,,,,,,,,,,,,,,,"1|hwqns7:",78212,,,,,,,,,,,,,,,,,,,,,,,,,,90842,,"1|hwoqpj:",90842,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Plugin Ignoring Dependency Exclusions building surefire.test.class.path ,CLOV-310,72879,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Unsolved Mysteries,npellow,f18625d9893d,f18625d9893d,18/Aug/2008 2:58 AM,22/Jan/2014 10:35 AM,15/Nov/2024 6:09 PM,26/Oct/2008 5:46 AM,2.3.2,,,,,won't fix,,,Maven plugin,,,,,,,1,,,,,,,,,"My tests were working fine when not using Clover. As soon as I added the clover goals to Maven (clover2:instrument clover2:aggregate clover2:clover) my tests started to fail. I looked at the surefire.test.class.path property and it had all of the jars I had excluded. All of the dependencies and transitive dependencies of org.apache.cxf cxf-bundle showed up in the surefire classpath. When NOT using Clover the surefire classpath did NOT have these jars included in it.

<dependency>
<groupId>mygroup</groupId>
<artifactId>myartifact</artifactId>
<version>${project.version}</version>
<exclusions>
<exclusion>
<groupId>org.apache.cxf</groupId>
<artifactId>cxf-bundle</artifactId>
</exclusion>
</exclusions>
</dependency> 


I might have tracked down the bug...in CloverInstrumentInternalMojo.java.

It looks like the dependencies are grabbed from the project to build the compile classpath without regard for exclusions...

Set set = new HashSet( getProject().getDependencyArtifacts() );

private void addCloverDependencyToCompileClasspath()
throws MojoExecutionException
{
Artifact cloverArtifact = findCloverArtifact( this.pluginArtifacts );
if ( cloverArtifact == null )
{
throw new MojoExecutionException(
""Couldn't find com.cenqua.clover:clover artifact in plugin dependencies"" );
}

cloverArtifact = artifactFactory.createArtifact( cloverArtifact.getGroupId(), cloverArtifact.getArtifactId(),
cloverArtifact.getVersion(), Artifact.SCOPE_COMPILE, cloverArtifact.getType() );

// TODO: use addArtifacts when it's implemented, see http://jira.codehaus.org/browse/MNG-2197
Set set = new HashSet( getProject().getDependencyArtifacts() );
set.add( cloverArtifact );
getProject().setDependencyArtifacts( set );
} ","jdk 1.5, Maven 2.0.9",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtn3:",103125,,,,,90839,,,,,,,,,,,2008-10-20 03:40:13.458,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlm7:",75251,,,,,,,,,,,"1|hwore7:",90950,506649600,true,,,,,,,,,,95addb80cba9(dbarri),f18625d9893d(fgarsombke),npellow(npellow),,,,,,,,,,,,,,,,,"1|hwqjof:",77082,,,,,,,,,,,,,,,,,,,,,,,,,,90841,,"1|hwoqpb:",90841,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/2008 3:40 AM;95addb80cba9;Hi,

I see that this has Priority: Minor.
Can we change it to blocker please? I already have a commercial Clover licence but I can't use it because Clover fails on my build now. I can't seem to be able to use it at all because of this bug.

Thanks,
David;;;","20/Oct/2008 5:12 AM;npellow;Hi David, Franz.

I would like to get started on this issue - however need some more information to try and reproduce the problem you are seeing.

Could you please provide your pom.xml, or the relevant snippets of your pom.xml . Specifically, I would like to see

* the dependency you have defined which has <exclusions/>
* your maven-surefire-plugin definition, if any
* your maven-compiler-plugin definition, if any.

As I understand this problem:

* your project has a dependency on artifact-A
* you have excluded one of artifact-A's dependencies (as you require a different version than is defined by artifact-A?)
* clover adds  {{getProject().getDependencyArtifacts()}} (which does NOT respect artifact exclusions) to the compile time classpath
* your build fails, due to a version clash of the dependency you excluded.

Are these assumptions correct?

Cheers,
Nick;;;","21/Oct/2008 1:08 AM;npellow;fyi - I've asked the maven list about work arounds or fixes for this issue. The thread is here: http://www.nabble.com/getDependencyArtifacts-not-respecting-%3Cexclusions%3E-p20063925.html .;;;","21/Oct/2008 4:54 AM;npellow;Hi Franz, 

After some further investigation -  I can not reproduce the problem you are seeing.
I set up a sample project, which added org.apache.ant:ant:1.7.1 as a dependency excluding the ant-launcher artifact: 
{code:xml}        <dependency>
            <groupId>org.apache.ant</groupId>
            <artifactId>ant</artifactId>
            <version>1.7.1</version>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.ant</groupId>
                    <artifactId>ant-launcher</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
{code}

When I then run {{mvn clover2:instrument}}, the classPath for the maven-surefire-plugin (I also checked the maven-compiler-plugin) doesn't include ant-launcher.

{code}
[DEBUG] Configuring mojo 'org.apache.maven.plugins:maven-surefire-plugin:2.4.3:test' -->
[DEBUG]   (f) basedir = /work/mvnclvr/src/it/optmized/module-a
[DEBUG]   (f) childDelegation = false
[DEBUG]   (f) classesDirectory = /work/mvnclvr/src/it/optmized/module-a/target/clover/classes
[DEBUG]   (f) classpathElements = [/work/mvnclvr/src/it/optmized/module-a/target/clover/test-classes, /work/mvnclvr/src/it/optmized/module-a/target/clover/classes, /.m2/repository/com/cenqua/clover/clover/2.3.3-SNAPSHOT/clover-2.3.3-SNAPSHOT.jar, /.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar, /.m2/repository/org/apache/ant/ant/1.7.1/ant-1.7.1.jar]
{code}

Could you please provide the output when  you run maven with the -X command and/or supply a small example pom.xml which will reproduce the problem you are having.

Best Regards,
Nick Pellow;;;","21/Oct/2008 2:55 PM;f18625d9893d;Nick -

I will generate this and send it off. 

Thanks for helping.

Franz;;;","21/Oct/2008 7:14 PM;f18625d9893d;Well...after trying for about an hour the classpaths (clover/non-clover) match up. 

My environment has changed a lot since I posted this so I don't know how it is miraculously fixed :)

Maybe David can provide an example.

Sorry.

Franz;;;","21/Oct/2008 7:14 PM;f18625d9893d;Well...after trying for about an hour the classpaths (clover/non-clover) match up.

My environment has changed a lot since I posted this so I don't know how it is miraculously fixed :)

Maybe David can provide an example.

Sorry.

Franz;;;","26/Oct/2008 5:46 AM;npellow;I have no doubt that this was indeed a problem - however will close for now, until we can get reproduce this consistently. 

Possibly an upgrade from maven 2.0.8 to maven 2.0.9 fixed this problem.;;;",,,,,,,,,,,,,,,,,,,
Code found in the test directory is showing up in the Classes list in the top view dashboard (aggregated view),CLOV-307,72699,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,pkamal,pkamal,13/Aug/2008 4:16 AM,29/Sep/2008 10:54 AM,15/Nov/2024 6:09 PM,29/Sep/2008 10:54 AM,2.3.2,,,,,2.4,,,Maven plugin,,,,,,,0,,,,,,,,,"Attached is maven project that displays the issue. 

The test class helper shows up in the classes list in aggregated view and not test list. However in the module service it shows up correctly in the test view and not the classes view.

See screenshots. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Aug/2008 4:16 AM;pkamal;Aggregated.JPG;https://jira.atlassian.com/secure/attachment/26791/Aggregated.JPG","13/Aug/2008 4:16 AM;pkamal;module.JPG;https://jira.atlassian.com/secure/attachment/26790/module.JPG","13/Aug/2008 4:16 AM;pkamal;testhelpers.tar.gz;https://jira.atlassian.com/secure/attachment/26789/testhelpers.tar.gz",,,,,,,,,,,,,,true,,"1|hwqtmv:",103124,,,,,90838,,,,,,,,,,,2008-08-14 01:00:39.179,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlmf:",75252,,,,,,,,,,,"1|hwordz:",90949,512956800,true,,,,,,,,,,npellow(npellow),pkamal(pkamal),,,,,,,,,,,,,,,,,,"1|hwqs27:",79365,,,,,,,,,,,,,,,,,,,,,,,,,,90840,,"1|hwoqp3:",90840,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Aug/2008 1:00 AM;npellow;I will hopefully be committing a fix for this shortly, against the maven-clover2-project.
The issue in that project is: http://developer.atlassian.com/jira/browse/CLMVN-68;;;","14/Aug/2008 1:09 AM;npellow;I have committed a fix for this in the plugin. The problem was that the top level project, was only using its own test directory when reporting.
I have changed this to a fileset with a pattern of **/src/test/java/** . 

The easiest way to install this patch, is to check the source out from svn and run `mvn clean install`.
ie
{code}
svn co http://svn.atlassian.com/svn/public/contrib/clover/maven-clover-plugin/trunk maven-clover2-plugin
cd maven-clover2-plugin
mvn clean install
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,
Repository metadata does not correctly indicate latest release,CLOV-305,72610,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,jdumay,stephenjpack,stephenjpack,12/Aug/2008 3:25 PM,13/Nov/2008 11:22 PM,15/Nov/2024 6:09 PM,13/Nov/2008 11:22 PM,2.4,,,,,2.4.2,,,Maven plugin,,,,,,,0,,,,,,,,,"The metadata in central [1] correctly indicates the <latest> version, but that 2.3.1 is the newest release.  I assume the <release> value should be bumped.

It's not a huge problem, but the fact that newer versions are numbered as a release but not so indicated seems to confuse some plugins: I have a project that is definitely building with Clover 2.4.1, but the Project Plugins report incorrectly indicates 2.3.1 was used.

Note that this only occurs when the <version> is not specified in the POM for maven-clover2-plugin.  Running ""mvn clean verify site"" on the attached project demonstrates the issue -- note I did not include the clover.license.

[1] http://repo1.maven.org/maven2/com/atlassian/maven/plugins/maven-clover2-plugin/maven-metadata.xml",maven 2.0.9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Nov/2008 8:03 PM;stephenjpack;Proj.ZIP;https://jira.atlassian.com/secure/attachment/29199/Proj.ZIP","13/Nov/2008 1:00 AM;jdumay;build-output-and-log.zip;https://jira.atlassian.com/secure/attachment/29242/build-output-and-log.zip",,,,,,,,,,,,,,,true,,"1|hwqtmn:",103123,,,,,90837,,,,,,,,,,,2008-08-13 01:19:45.167,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlmv:",75254,,,,,,,,,,,"1|hwordr:",90948,505008000,true,,,,,,,,,,jdumay(jdumay),npellow(npellow),stephenjpack(stephenjpack),,,,,,,,,,,,,,,,,"1|hwqjsv:",77104,,,,,,,,,,,,,,,,,,,,,,,,,,90839,,"1|hwoqov:",90839,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Aug/2008 1:19 AM;npellow;Stephen, 

Thank you very much for pointing this out. I am not sure what has gone on there.
We will do our best to have this rectified as soon as possible.

Cheers,
Nick;;;","13/Aug/2008 1:20 AM;npellow;Hi James, 

Could you please have a look at what is happening to the meta-data on repo1 for the maven-clover2-plugin.

Cheers,
Nick;;;","10/Nov/2008 8:03 PM;stephenjpack;*This remains an issue w/ the 2.4 & 2.4.1 releases
*Adding example project
*Clarifying situation;;;","11/Nov/2008 1:11 AM;jdumay;Hey Stephen,
I ran the project site generation and the project plugin report says that it uses clover 2.4.1.

Ill get some time allocated to look at this shortly.

Cheers
James ;;;","13/Nov/2008 1:00 AM;jdumay;Hey Stephen,
This is my output of running ""mvn clean verify site"" on your example project. Does this match yours? Could you zip up your build log and output and send to me ?

Cheers
James;;;","13/Nov/2008 3:00 AM;jdumay;Hey Stephen,
Seems I forgot to set -DupdateReleaseInfo when I deployed to our maven repo1 syncing repo. I've updated the metadata and it should be available to you within a few hours.

-DupdateReleaseInfo updates the <release> tag in the maven-metadata.xml. The previous release was 2.3.1, so thats why you were seeing it instead of the 2.4.1.

Cheers
James;;;","13/Nov/2008 3:01 PM;stephenjpack;Thanks!  I've verified the change has been reflected and corrects the issue.;;;","13/Nov/2008 11:22 PM;npellow;Thanks for reporting and verifying this issue, Stephen.

James - thanks for picking this up.

Cheers,
Nick ;;;",,,,,,,,,,,,,,,,,,,
unable to use clover 1 license file with clover2 maven plugin,CLOV-304,72332,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,09a7095a09d0,09a7095a09d0,07/Aug/2008 4:36 AM,16/Feb/2009 9:57 PM,15/Nov/2024 6:09 PM,16/Feb/2009 9:57 PM,2.3.2,,,,,2.5,,,Maven plugin,,,,,,,0,,,,,,,,,"I opened an issue at http://jira.atlassian.com/browse/CLOV-303 . It was closed stating that I should use the new clover2 plugin. However when I try that it tells me that my license is no good (it's only for clover 0.x/1.x). Is there a way to make clover 2 plugin work with that license, or is my company being forced to buy a new license since we use maven?","jdk 1.5, maven 2.0.9, vista ultimate",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Aug/2008 2:42 PM;09a7095a09d0;clover.txt;https://jira.atlassian.com/secure/attachment/26758/clover.txt",,,,,,,,,,,,,,,,true,,"1|hwqtmf:",103122,,,,,90836,,,,,,,,,,,2008-08-08 02:37:16.898,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmln3:",75255,,,,,,,,,,,"1|hwordj:",90947,496800000,true,,,,,,,,,,09a7095a09d0(kallin),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwr0jr:",81369,,,,,,,,,,,,,,,,,,,,,,,,,,90838,,"1|hwoqon:",90838,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Aug/2008 2:37 AM;npellow;Hi Kallin, 

Your clover1 license will not work with the Clover2 plugin, nor should you be required to buy a new license just for switching from Ant to maven.

Could you please try specifying a [licenseLocation element|http://maven.apache.org/plugins/maven-clover-plugin/2.4/usage.html#Specifying%20a%20custom%20license%20file] directly in your pom.xml.

ie:
{code}
<plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-clover-plugin</artifactId>
        <configuration>
          <licenseLocation>${basedir}/src/test/clover/myclover.license</licenseLocation>
        </configuration>
   ...
</plugin>
{code}

Unfortunately, the Clover1 plugin for Maven2 is quite old, and is therefore no longer tested with each Maven release. It is however open source and the source code is available at: http://maven.apache.org/plugins/maven-clover-plugin/2.4/source-repository.html

I would recommend an upgrade to the maven-clover2-plugin however, since there are many new features (such as per-test coverage, tag clouds, new charts, integrated test result reporting) available and it is the most compatible version with the latest version of maven2. The latest version of the actual maven-clover2-plugin allows the license to be embedded directly in your pom.xml.

Either way, please let me know how you go with the above suggestion. If this does not work for you, could you please attach your pom.xml either here, or open a new support case at http://support.atlassian.com .

Cheers,
Nick.;;;","11/Aug/2008 2:42 PM;09a7095a09d0;output of running clover:instrument.;;;","11/Aug/2008 2:45 PM;09a7095a09d0;I was able to get it to pick up the license file, but it has problems compiling. Lots of duplicate class errors since it includes instrumented sources and non-instrumented sources together.
I don't know why that last one is being included. 

[DEBUG] Source roots:
[DEBUG]  module\target\clover\src
[DEBUG]  module\target\clover\generated-sources\groovy-stubs\main
[DEBUG]  module\src\main\java;;;","11/Aug/2008 10:32 PM;npellow;Hi Kallin, 

I'm not sure what is going on there. Could you please have a look at: http://maven.apache.org/plugins/maven-clover-plugin/2.4/usage.html#Controlling%20files%20to%20instrument and try including only module/src/main/java .

Feel free to also consult the source code for the plugin at http://maven.apache.org/plugins/maven-clover-plugin/2.4/source-repository.html .

Cheers,
Nick;;;","13/Aug/2008 3:35 PM;09a7095a09d0;I believe the right source is being instrumented. The problem is when it goes to compile it compiles instrumented source and non-instrumented source.

I tried to look at the source but it is not available there any longer.

Do you have any further suggestions? My company uses fisheye and crucible in addition to clover, and are considering bamboo and confluence as well. I've been impressed by the Atlassian products on the whole, so I would find it surprising if something we purchased from you is incompatible with a pretty standard build tool.;;;","14/Aug/2008 1:46 AM;npellow;Hi Kallin, 

This does indeed seem very odd and I'm hoping there will be a simple explanation. Are you able to strip back the project a little, for example by not running the generated sources and see if the problem still occurs. There is a sample project in the tutorial in the download at: http://www.atlassian.com/software/clover/downloads/binary/clover-ant-2.3.2.zip Can you reproduce this behaviour there?

I've just noticed that the source code for the old plugin has actually been removed from trunk in the apache repository.
You can however check it from revision 574419, which is when the [import to the Atlassian repository was performed|http://svn.atlassian.com/fisheye/changelog/public/contrib/clover/maven-clover-plugin/branches?cs=10069].

So to get the source for the maven-clover-plugin, you will need to do the following:
{code}
svn co http://svn.apache.org/repos/asf/maven/plugins/trunk/maven-clover-plugin@574419 maven-clover-plugin
{code}

The maven-clover2-plugin is free to use for 30 days. Could you please let me know if you see the same issue when you run the latest version of the plugin on your project.

Our support engineers will raise a support ticket for you to have a look at this. Could you please attach your pom.xml, and any further information there.

Best Regards,
Nick Pellow;;;","16/Feb/2009 9:57 PM;npellow;Hi Kallen, 

If this is still an issue for you with the latest SNAPSHOT of the plugin, please let me know, and re-open this case.

Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,
unable to load license file with maven clover plugin,CLOV-303,72299,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,npellow,09a7095a09d0,09a7095a09d0,06/Aug/2008 7:37 PM,22/Jan/2014 12:01 PM,15/Nov/2024 6:09 PM,07/Aug/2008 1:59 AM,2.4,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"My company has a license for clover like follows:
Product: Clover
License: Server License, 0.x, 1.x
Issued: Mon May 29 2006 07:45:20 CDT
Expiry: Never
Maintenance Expiry: Never

It was working with our ant build but now we have moved to Maven. I cannot get my maven build to pick up the license however. 
I put the license in the directory I'm running clover:clover from with and it always looks to a JAR in my repository for the file. I've attached the output the following command:

mvn clover:clover -Dmaven.clover.license.path=clover.license -X


","jdk 1.5, vista ultimate, maven 2.0.9.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Aug/2008 7:37 PM;09a7095a09d0;clover.txt;https://jira.atlassian.com/secure/attachment/26721/clover.txt",,,,,,,,,,,,,,,,true,,"1|hwbwb3:",11640,,,,,90835,,,,,,,,,,,2008-08-07 01:59:40.007,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlnb:",75256,,,,,,,,,,,"1|hwordb:",90946,513561600,true,,,,,,,,,,09a7095a09d0(kallin),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqtuf:",79843,,,,,,,,,,,,,,,,,,,,,,,,,,90837,,"1|hwoqof:",90837,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Aug/2008 1:59 AM;npellow;Hi Kallin,

There were some issues with the old Clover1 plugin for Maven and the old plugin is no longer fully supported under Maven 2.0.9.

I would highly recommend you [upgrade|http://confluence.atlassian.com/display/CLOVER/Clover-for-Maven+2+Upgrade+Guide] to the maven-clover2-plugin. The license file may even be embedded directly in the pom.xml.

If you have any issues with the upgrade, please don't hesitate to raise them either against the maven-clover2-plugin project: http://developer.atlassian.com/jira/browse/CLMVN or via http://support.atlassian.com .

Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Column format of 'bar' is generating short bars,CLOV-297,71647,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,32356a7aaa27,32356a7aaa27,24/Jul/2008 9:41 PM,28/Jul/2008 1:33 AM,15/Nov/2024 6:09 PM,28/Jul/2008 1:33 AM,2.3.2,,,,,2.4,,,Reporting,,,,,,,0,,,,,,,,,"I started trying to customize the columns for my Clover report, but I wanted to continue to have the total coverage shown as a bar. However, when I use the following report I find that I get a short bar instead of the full size bar.

		<clover-report>
			<current title=""DataXtend SI Coverage"" outfile=""${target.coverage}"">
				<format type=""html"" orderBy=""ElementsUncoveredAsc""/>
				<columns>
					<totalClasses format=""raw"" scope=""package""/>
					<ncLineCount format=""raw""/>
					<uncoveredElements format=""raw""/>
					<totalPercentageCovered format=""bar""/>
				</columns>
			</current>
		</clover-report>

I looked at the HTML that is generated and it is clearly putting a 'width: 40px' into the bar, rather than the 'width: 200px' that the default column rendering uses. I tried using 'shortbar' instead but that behaves the same as 'bar'.

For the record, here is a snippet of the HTML generated. I'm also surprised at the '$style' in the class names here which looks like a Velocity template rendering problem, but maybe this is some HTML trick that I'm unaware of.

      <td class=""graphPercent  $style"" align=""right"">

          <span class=""sortValue"">0.613381</span>
          61.3%
</td>
<td class=""graphBar "" align=""center"">
<span class=""sortValue"">0.613381</span>
<div>
    <div style=""width: 40px; font-size:0px;""></div>
    <div title=""38.7% Not Covered""  style=""min-width: 40px;""  class=""barNegative $customBarNegative"">
       <div title=""61.3% Covered"" class=""barPositive $customBarPositive"" style=""width: 61.3%""></div>
    </div>

</div>
      </td>

This is quite a serious problem for us, in that I can't use my custom columns until the issue has been fixed. I don't think my users would be happy with these shorter bars.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtlj:",103118,,,,,90830,,,,,,,,,,,2008-07-28 01:32:08.552,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlon:",75262,,,,,,,,,,,"1|hworc7:",90941,514425600,true,,,,,,,,,,32356a7aaa27(andy.armstrong),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqovr:",78512,,,,,,,,,,,,,,,,,,,,,,,,,,90832,,"1|hwoqnb:",90832,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Jul/2008 1:32 AM;npellow;Hi Andy, 

Thank you for bringing this to our attention. Unfortunately, there was an error in our documentation, which I have now fixed.

* 'bar' and 'shortbar' are both 40px
* 'longbar' is 200px

http://confluence.atlassian.com/display/CLOVER/clover-report#clover-report-The%3Ccolumns%3EElement

Sorry for the inconvenience and I hope your users will be happy with their new customised reports.

Cheers,
Nick;;;","28/Jul/2008 1:33 AM;npellow;This was a documentation bug. 
Please just reopen this issue if there is anything else needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Clover instruments the tests in a separate space but does not override the working directory,CLOV-291,70980,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Duplicate,npellow,9873f8f6f5f0,9873f8f6f5f0,11/Jul/2008 7:45 AM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,14/Aug/2008 2:14 AM,2.3.1,,,,,won't fix,,,Maven plugin,,,,,,,0,,,,,,,,,"I have an IT test suite that does the following

* In the pre-integration-test phase, a Tomcat 5.5 is started with the war generated during the package phase
* In the post-integration test, a remote API is tested against the running service
* In the post-integration-test phase, tomcat is stopped

The URLs of the service needs to be injected. We need to have the ability to run it against another remote service with a maven profile so It can't be hardcoded in the code. 

In src/test/resources/configuration/default-test-config.properties I have this

{noformat}
service.base.url=http://localhost:${cargo.http.port}/${project.build.finalName}
{noformat}

This file is filtered by Maven according to the properties set in my pom (and or a custom profile) in target/test-classes/configuration/default-test-config.properties

The surefire plugin sets the working directory to the directory of the project so I can rely on that

{noformat}
DEBUG] Configuring mojo 'org.apache.maven.plugins:maven-surefire-plugin:2.4.2:test' -->
[DEBUG]   (f) basedir = /data/workspaces/main/platform/components/babel/babel-service

[DEBUG] Setting system property [user.dir]=[/data/workspaces/main/platform/components/babel/babel-service]
{noformat}

But with the clover instrumentation, the place of the files have changed behind my back. I can't see any solution to fix this.","Windows XP - Maven 2.0.8, JDK5, Cargo plugin 0.3.1, Surefire plugin 2.4.2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwan:",11638,,,,,90826,,,,,,,,,,,2008-08-08 03:52:36.124,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlpz:",75268,,,,,,,,,,,"1|hworbb:",90937,512956800,true,,,,,,,,,,npellow(npellow),9873f8f6f5f0(stephane.nicoll@gmail.com),,,,,,,,,,,,,,,,,,"1|hwqzf3:",81142,,,,,,,,,,,,,,,,,,,,,,,,,,90828,,"1|hwoqmf:",90828,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Aug/2008 3:52 AM;npellow;Hi Stephane,

I am not sure what may be happening there either.
When you say the place of the files have changed behind your back, what is the new location?

The source code for the maven-clover2-plugin is available by doing:
{code}
svn co https://svn.atlassian.com/svn/public/contrib/clover/maven-clover-plugin/trunk maven-clover2-plugin
{code}
which may provide some clues as to what clover is doing.

Are you able to provide a small sample project which reproduces this issue?

Cheers,
Nick



;;;","14/Aug/2008 2:11 AM;npellow;Hi Stephane, 

This looks like a problem specific to the maven-clover2-plugin. I will close this issue here, and recreate it at http://developer.atlassian.com/jira/browse/CLMVN .

What may be happening, is that when your web service is being deployed, it is done so using the clover classifier. So the service.base.url property needs to somehow incorporate a classifier as well.

At a future date, we hope to remove the forked lifecycle/classification of clovered artifacts to try and prevent these sorts of errors in maven.

Cheers,
Nick.;;;","14/Aug/2008 2:14 AM;npellow;moved this too: http://developer.atlassian.com/jira/browse/CLMVN-69;;;","14/Aug/2008 6:09 AM;9873f8f6f5f0;No that's not that the problem. It's also an issue but I found a workaround on the clover mailing list.

Here's the problem: surefire ensures that the tests are run with a working directory equals to to the project's directory (that is the directory containing the pom.xml of the project). Due to that, it's ""safe"" to compute the ""baseDir"" based on the user.dir system property if none is provided as a parameter. This works fine for our ITs that needs a properties file filtered by Maven (the one described in this issue).

Now, clover runs in target/clover/test-classes which breaks this mechanism. When the IT starts with the instrumentation, the file could not be found and the tests could not start.;;;","14/Aug/2008 6:19 AM;npellow;Hi Stephane, 

I see. Thank you very much for getting back to us.
As I mentioned earlier, I think it would benefit the plugin by not running in a forked lifecycle with a clover classifier, so that the tests get run from the same directory whether clover is enabled or not.
ie, instead of being run from  target/clover/test-classes, they get run from  target/test-classes like normal tests do.

Thanks again for explaining this.

Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,,,
Missing rendered source files from HTML report,CLOV-287,70249,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,25/Jun/2008 6:43 AM,14/Jul/2008 8:47 AM,15/Nov/2024 6:09 PM,14/Jul/2008 8:46 AM,2.3.1,,,,,2.3.2,,,Reporting,,,,,,,1,,,,,,,,,"Under some circumstances, it appears Clover 2.3.1 (not 2.2.1) neglects to render certain source files.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtkv:",103115,,,,,90825,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlqv:",75272,,,,,,,,,,,"1|hworb3:",90936,515635200,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwr1d3:",81584,,,,,,,,,,,,,,,,,,,,,,,,,,90827,,"1|hwoqm7:",90827,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jul/2008 8:47 AM;npellow;Extra logging has been added and the original reporter of this issue (via support.atlassian.com) reported the issue to longer affect him.
Closing this for now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
CoverateRecording may not read all coverage data,CLOV-285,70171,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,23/Jun/2008 10:19 PM,05/Sep/2008 2:29 AM,15/Nov/2024 6:09 PM,05/Sep/2008 2:29 AM,2.3.1,,,,,2.4,,,,,,,,,,0,,,,,,,,,Only one call to DataInputStream.read() is made in the offending place but this won't always return all the data you expect.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtkn:",103114,,,,,90824,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlrb:",75274,,,,,,,,,,,"1|hworav:",90935,517363200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqqpr:",79009,,,,,,,,,,,,,,,,,,,,,,,,,,90826,,"1|hwoqlz:",90826,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BasePackageInfo exposes intermediate calculation of path field,CLOV-284,70155,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,23/Jun/2008 11:31 AM,01/Jul/2008 12:49 AM,15/Nov/2024 6:09 PM,23/Jun/2008 11:37 AM,2.3.1,,,,,2.3.2,,,Database,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtkf:",103113,,,,,90823,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlrj:",75275,,,,,,,,,,,"1|hworan:",90934,517449600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqnpz:",78201,,,,,,,,,,,,,,,,,,,,,,,,,,90825,,"1|hwoqlr:",90825,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Source missing if test methods are empty,CLOV-281,69700,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,bhumphreys,npellow,npellow,12/Jun/2008 6:29 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,02/Jul/2008 6:07 AM,,,,,,2.3.2,,,Reporting,,,,,,,0,,,,,,,,,"If a test has a single method which is empty:
{code}
public void testXXX() {}
{code}

then no test source will be rendered for that source file.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtjz:",103111,,,,,90820,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmls7:",75278,,,,,,,,,,,"1|hwor9z:",90931,518400000,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqsnr:",79619,,,,,,,,,,,,,,,,,,,,,,,,,,90822,,"1|hwoql3:",90822,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
file element in XML report should use the fully qualified name,CLOV-280,69547,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,10/Jun/2008 12:55 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,25/Jun/2008 11:19 AM,,,,,,2.3.2,,,Reporting,,,,,,,0,,,,,,,,,"Clover 1.2 reported:
{code}
<file name=""\full\path\to\srcdir\com\test\JavaFile.java"">
{code}
while Clover 2.2 reports:
{code}
<file name=""ContactInfo.java"">
{code}


",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtjr:",103110,,,,,90819,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlsf:",75279,,,,,,,,,,,"1|hwor9r:",90930,518572800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwr1hr:",81615,,,,,,,,,,,,,,,,,,,,,,,,,,90821,,"1|hwoqkv:",90821,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/2008 6:44 AM;npellow;I will add a new attribute  - 'path',  for the full path to the file, since the name may be useful on its own as well.

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Invalid POM for clover 2.3.1,CLOV-268,68903,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,npellow,39a0ddf54942,39a0ddf54942,26/May/2008 11:11 AM,01/Jul/2008 12:47 AM,15/Nov/2024 6:09 PM,01/Jul/2008 12:47 AM,2.3.1,,,,,2.3.2,,,Ant Tasks,,,,,,,0,,,,,,,,,"There is an empty 'build.resources.resource.directory' entry in the POM:
...
      <resource>
        <targetPath>jars</targetPath>
        <directory></directory> <!-- empty!!! -->
        <includes>
          <include>clover-2.3.1.jar</include>
        </includes>
      </resource>
    </resources>
...

Maven complains about it:

[WARNING] POM for 'com.cenqua.clover:clover:pom:2.3.1:provided' is invalid. It will be ignored for artifact resolution. Reason: Failed to validate POM for project com.cenqua.clover:clover at Artifact [com.cenqua.clover:clover:pom:2.3.1:provided]
[DEBUG] Reason: Failed to validate POM for project com.cenqua.clover:clover at Artifact [com.cenqua.clover:clover:pom:2.3.1:provided]
[DEBUG] 
Validation Errors:
[DEBUG] 'build.resources.resource.directory' is missing.

Maybe a '.' value for the directory will work?","maven 2.0.9, java 1.5.0_13",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwi8dr:",49191,,,,,23891,,,,,,,,,,,2008-05-26 23:52:56.07,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlun:",75289,,,,,,,,,,,"1|hwe4rb:",25081,516758400,true,,,,,,,,,,jdumay(jdumay),39a0ddf54942(marcel.may),npellow(npellow),,,,,,,,,,,,,,,,,"1|hwkrxz:",40359,,,,,,,,,,,,,,,,,,,,,,,,,,23891,,"1|hwdxhb:",23907,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/May/2008 11:52 PM;npellow;Hi Marcel, 

Could you please provide me with a link to the pom you are referring to?

Cheers,
Nick;;;","27/May/2008 9:28 AM;39a0ddf54942;Hi Nick!

Ah, I see there are different POMs on different repos. By default, our mvn proxy queries ibiblio/central first before trying other repos like the Atlassian one. 

Broken POM:
http://mirrors.ibiblio.org/pub/mirrors/maven2/com/cenqua/clover/clover/2.3.1/clover-2.3.1.pom

Good POM:
http://repository.atlassian.com/maven2/com/cenqua/clover/clover/2.3.1/clover-2.3.1.pom

Hm, I wonder if the Ibiblio POM could get replaced since it is invalid. Usually, there's a policy of not modifying published artifacts. Obviously, a broken POM getting fixed can not break a build. Though once fetched it would not get replaced.

I guess the best thing would be to wait for 2.3.2 and close this issue:-)
Sorry for the trouble.

Cheers,
Marcel
;;;","28/May/2008 12:27 AM;npellow;Hi Marcel!

Thank you very much for pointing this out. I was not aware that we had 2 different poms on two different repositories for the same artifact. This is obviously not ideal and is something we are trying to rectify at the moment.

The current pom deployed at http://mirrors.ibiblio.org/pub/mirrors/maven2/com/cenqua/clover/clover/2.3.1/clover-2.3.1.pom was intended for the Maven1 repo, *not* for Maven2. I am not sure why the modelVersion is set to 4.0.0, the project.xml which we supplied has modelVersion 3.

Hopefully this will be fixed shortly.

Cheers,
Nick.;;;","05/Jun/2008 6:52 AM;npellow;Hi James, 

As discussed, this is a related to the maven1 pom in maven's maven2 repo.

Cheers,
Nick;;;","05/Jun/2008 7:31 AM;jdumay;Ive opened an issue with the Maven project to get this sorted out

See
http://jira.codehaus.org/browse/MAVENUPLOAD-2015

Thanks
James;;;","06/Jun/2008 2:22 AM;npellow;Hi Marcel, 

This was fixed overnight. I can now install the clover-maven2-plugin from maven central:

{code}
[INFO] Preparing clover2:instrument
Downloading: http://repo1.maven.org/maven2/com/cenqua/clover/clover/2.3.1/clover-2.3.1.pom
756b downloaded
Downloading: http://repo1.maven.org/maven2/com/cenqua/clover/clover/2.3.1/clover-2.3.1.jar
8110K downloaded
[INFO] [clover2:instrumentInternal]
{code}

Please let me know how you go.
Cheers,
Nick;;;","01/Jul/2008 12:47 AM;npellow;assigning to the 2.3.1 release;;;",,,,,,,,,,,,,,,,,,,,
parameterized tests not being correctly handled ,CLOV-263,68610,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,npellow,npellow,22/May/2008 7:15 AM,04/Sep/2012 11:20 AM,15/Nov/2024 6:09 PM,16/Jul/2008 1:31 AM,,,,,,2.3.2,,,Database,,,,,,,0,,,,,,,,,"Clover currently reports a single test result for parameterized testsMethods which have been run multiple times - with varying parameters.



",junit4.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/May/2008 7:01 AM;npellow;junit_parameterized.tar.gz;https://jira.atlassian.com/secure/attachment/25714/junit_parameterized.tar.gz",,,,,,,,,,,,,,,,true,,"1|hwqtin:",103105,,,,,90814,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmluv:",75290,,,,,,,,,,,"1|hwor8n:",90925,519868800,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqsnb:",79617,,,,,,,,,,,,,,,,,,,,,,,,,,90816,,"1|hwoqjr:",90816,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/May/2008 7:01 AM;npellow;A sample project to reproduce this project.
It expects clover in your home directory.
Unarchive and run:
ant clover.all

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
clover-report doesn't run under jdk 1.4 if a unit test fails,CLOV-262,68580,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,22/May/2008 1:58 AM,22/May/2008 5:08 AM,15/Nov/2024 6:09 PM,22/May/2008 4:10 AM,2.3,,,,,2.3.1,,,Reporting,,,,,,,0,,,,,,,,,"If a unit test fails, then clover-report crashes if run under jdk 1.4",jdk 1.4 only. this does not affect jdk 1.5 builds,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtif:",103104,,,,,90813,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlv3:",75291,,,,,,,,,,,"1|hwor8f:",90924,520214400,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqsmv:",79615,,,,,,,,,,,,,,,,,,,,,,,,,,90815,,"1|hwoqjj:",90815,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/May/2008 5:08 AM;npellow;The build now uses the rt.jar from jdk 1.4.2 as the bootclasspath for javac.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Method truncateEnd threw exception for reference $renderUtil in template html_res/src-file.vm at 90,204",CLOV-259,68128,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,12/May/2008 11:44 PM,24/Nov/2008 3:31 AM,15/Nov/2024 6:09 PM,24/Nov/2008 3:31 AM,,,,,,2.4.2,,,Reporting,,,,,,,1,,,,,,,,,"This happens during the rendering of the stack trace navigator.

see also: http://forums.atlassian.com/thread.jspa?messageID=257280305&#257280305",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqthz:",103102,,,,,90811,,,,,,,,,,,2008-11-07 19:23:10.75,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlvj:",75293,,,,,,,,,,,"1|hwor7z:",90922,505267200,true,,,,,,,,,,npellow(npellow),a7582f728872(shaun.e),1279dd9ac894(wrprice),,,,,,,,,,,,,,,,,"1|hwr147:",81522,,,,,,,,,,,,,,,,,,,,,,,,,,90813,,"1|hwoqj3:",90813,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Nov/2008 7:23 PM;1279dd9ac894;Can this issue be reopened?  I occasionally see this error in our product's builds.  Unfortunately, I don't know how to reproduce, either, but I suspect it might happen only when one or more tests have failed (just a hunch).  Stacktrace follows:

[clover-report] Clover Version 2.3.2, built on July 15 2008 (build-732)
[clover-report] Loaded from: /opt/clover/clover-ant-2.3.2/lib/clover.jar
[clover-report] Clover: Commercial License registered to PROS Revenue Management.
[clover-report] Loading coverage database from: '/scratch/local/build/prosbuild/pricingmanager/pm-3-13-0-bld102/cloverdb_pricingmanager/test_coverage.db'
[clover-report] Loading historical coverage data from: '/PROSbuilds/pricingmanager/clover/clover_history_data'
[clover-report] Loading historical coverage data from: '/PROSbuilds/pricingmanager/clover/clover_history_data'
[clover-report] Processed 2286 test case results from 367 results files.
[clover-report] Writing report to '/PROSbuilds/pricingmanager/clover/coverage_report/pricingmanager'
[clover-report] [Velocity] Method truncateEnd threw exception for reference $renderUtil in template html_res/src-file.vm at  [88,204]
[clover-report] Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]
[clover-report] clover.org.apache.velocity.exception.MethodInvocationException: Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]clover.org.apache.velocity.exception.MethodInvocationException: Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:286)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTReference.execute(ASTReference.java:203)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTReference.render(ASTReference.java:294)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:74)
[clover-report] 	at clover.org.apache.velocity.runtime.directive.Foreach.render(Foreach.java:448)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTDirective.render(ASTDirective.java:170)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:74)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:88)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:318)
[clover-report] 	at clover.org.apache.velocity.Template.merge(Template.java:254)
[clover-report] 	at clover.org.apache.velocity.app.VelocityEngine.mergeTemplate(VelocityEngine.java:508)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlReportUtil.mergeTemplateToFile(HtmlReportUtil.java:67)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlReportUtil.mergeTemplateToFile(HtmlReportUtil.java:83)
[clover-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:136)
[clover-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:104)
[clover-report] 	at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:88)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.helpers.ThreadHelpers$1.run(ThreadHelpers.java:34)
[clover-report] 	at java.lang.Thread.run(Thread.java:595)
[clover-report] Caused by: java.lang.NullPointerException
[clover-report] 	at com.cenqua.clover.util.Formatting.restrictLength(Formatting.java:73)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlRenderingSupport.truncateEnd(HtmlRenderingSupport.java:344)
[clover-report] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[clover-report] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[clover-report] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[clover-report] 	at java.lang.reflect.Method.invoke(Method.java:585)
[clover-report] 	at clover.org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.invoke(UberspectImpl.java:295)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:245)
[clover-report] 	... 20 more
[clover-report] [Velocity] Method truncateEnd threw exception for reference $renderUtil in template html_res/src-file.vm at  [88,204]
[clover-report] Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]
[clover-report] clover.org.apache.velocity.exception.MethodInvocationException: Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]clover.org.apache.velocity.exception.MethodInvocationException: Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:286)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTReference.execute(ASTReference.java:203)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTReference.render(ASTReference.java:294)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:74)
[clover-report] 	at clover.org.apache.velocity.runtime.directive.Foreach.render(Foreach.java:448)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTDirective.render(ASTDirective.java:170)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:74)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:88)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:318)
[clover-report] 	at clover.org.apache.velocity.Template.merge(Template.java:254)
[clover-report] 	at clover.org.apache.velocity.app.VelocityEngine.mergeTemplate(VelocityEngine.java:508)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlReportUtil.mergeTemplateToFile(HtmlReportUtil.java:67)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlReportUtil.mergeTemplateToFile(HtmlReportUtil.java:83)
[clover-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:136)
[clover-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:104)
[clover-report] 	at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:88)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.helpers.ThreadHelpers$1.run(ThreadHelpers.java:34)
[clover-report] 	at java.lang.Thread.run(Thread.java:595)
[clover-report] Caused by: java.lang.NullPointerException
[clover-report] 	at com.cenqua.clover.util.Formatting.restrictLength(Formatting.java:73)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlRenderingSupport.truncateEnd(HtmlRenderingSupport.java:344)
[clover-report] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[clover-report] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[clover-report] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[clover-report] 	at java.lang.reflect.Method.invoke(Method.java:585)
[clover-report] 	at clover.org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.invoke(UberspectImpl.java:295)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:245)
[clover-report] 	... 20 more
[clover-report] [Velocity] Method truncateEnd threw exception for reference $renderUtil in template html_res/src-file.vm at  [88,204]
[clover-report] Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]
[clover-report] clover.org.apache.velocity.exception.MethodInvocationException: Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]clover.org.apache.velocity.exception.MethodInvocationException: Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:286)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTReference.execute(ASTReference.java:203)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTReference.render(ASTReference.java:294)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:74)
[clover-report] 	at clover.org.apache.velocity.runtime.directive.Foreach.render(Foreach.java:448)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTDirective.render(ASTDirective.java:170)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:74)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:88)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:318)
[clover-report] 	at clover.org.apache.velocity.Template.merge(Template.java:254)
[clover-report] 	at clover.org.apache.velocity.app.VelocityEngine.mergeTemplate(VelocityEngine.java:508)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlReportUtil.mergeTemplateToFile(HtmlReportUtil.java:67)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlReportUtil.mergeTemplateToFile(HtmlReportUtil.java:83)
[clover-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:136)
[clover-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:104)
[clover-report] 	at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:88)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.helpers.ThreadHelpers$1.run(ThreadHelpers.java:34)
[clover-report] 	at java.lang.Thread.run(Thread.java:595)
[clover-report] Caused by: java.lang.NullPointerException
[clover-report] 	at com.cenqua.clover.util.Formatting.restrictLength(Formatting.java:73)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlRenderingSupport.truncateEnd(HtmlRenderingSupport.java:344)
[clover-report] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[clover-report] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[clover-report] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[clover-report] 	at java.lang.reflect.Method.invoke(Method.java:585)
[clover-report] 	at clover.org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.invoke(UberspectImpl.java:295)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:245)
[clover-report] 	... 20 more
[clover-report] [Velocity] Method truncateEnd threw exception for reference $renderUtil in template html_res/src-file.vm at  [88,204]
[clover-report] Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]
[clover-report] clover.org.apache.velocity.exception.MethodInvocationException: Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]clover.org.apache.velocity.exception.MethodInvocationException: Invocation of method 'truncateEnd' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception java.lang.NullPointerException @ html_res/src-file.vm[88,217]
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:286)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTReference.execute(ASTReference.java:203)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTReference.render(ASTReference.java:294)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:74)
[clover-report] 	at clover.org.apache.velocity.runtime.directive.Foreach.render(Foreach.java:448)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTDirective.render(ASTDirective.java:170)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTBlock.render(ASTBlock.java:74)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTIfStatement.render(ASTIfStatement.java:88)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.SimpleNode.render(SimpleNode.java:318)
[clover-report] 	at clover.org.apache.velocity.Template.merge(Template.java:254)
[clover-report] 	at clover.org.apache.velocity.app.VelocityEngine.mergeTemplate(VelocityEngine.java:508)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlReportUtil.mergeTemplateToFile(HtmlReportUtil.java:67)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlReportUtil.mergeTemplateToFile(HtmlReportUtil.java:83)
[clover-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.render(RenderFileAction.java:136)
[clover-report] 	at com.cenqua.clover.reporters.html.RenderFileAction.call(RenderFileAction.java:104)
[clover-report] 	at com.cenqua.clover.util.CloverExecutors$LoggingCallable.call(CloverExecutors.java:88)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
[clover-report] 	at clover.edu.emory.mathcs.backport.java.util.concurrent.helpers.ThreadHelpers$1.run(ThreadHelpers.java:34)
[clover-report] 	at java.lang.Thread.run(Thread.java:595)
[clover-report] Caused by: java.lang.NullPointerException
[clover-report] 	at com.cenqua.clover.util.Formatting.restrictLength(Formatting.java:73)
[clover-report] 	at com.cenqua.clover.reporters.html.HtmlRenderingSupport.truncateEnd(HtmlRenderingSupport.java:344)
[clover-report] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
[clover-report] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
[clover-report] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
[clover-report] 	at java.lang.reflect.Method.invoke(Method.java:585)
[clover-report] 	at clover.org.apache.velocity.util.introspection.UberspectImpl$VelMethodImpl.invoke(UberspectImpl.java:295)
[clover-report] 	at clover.org.apache.velocity.runtime.parser.node.ASTMethod.execute(ASTMethod.java:245)
[clover-report] 	... 20 more
[clover-report] Done. Processed 176 packages in 93833ms (533ms per package).
[clover-report] Writing historical report to '/PROSbuilds/pricingmanager/clover/clover_history_reports/html/pricingmanager_historical.html'
[clover-report] Read 995 history points.
[clover-report] using movers interval of 31 minutes
[clover-report] using movers interval of 31 minutes
[clover-report] Done.
[clover-report] Read 995 history points.
[clover-report] using movers interval of 31 minutes
[clover-report] using movers interval of 31 minutes
;;;","07/Nov/2008 11:42 PM;a7582f728872;Testing. Looks okay;;;","10/Nov/2008 12:28 AM;npellow;Hi William, 

Not sure exactly what is causing this sporadic bug, however I have added a defensive check for the NPE and will upload a patched build for you here if you wish.
Otherwise, we will be releasing 2.4.2 - hopefully soon with this patch.

Please let me know what's best for you,
Cheers,
Nick;;;","10/Nov/2008 4:17 PM;1279dd9ac894;Hi Nick,

I think we'll try picking up 2.4.2 when it's out so we can try out the new filteredElements feature in the coverage reports.;;;","10/Nov/2008 11:39 PM;npellow;Hi William, 

2.4.0 is already out if you wish to start using the filteredElements column already.

Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,,,
Work around for jdk14 backward incompatabilty with jarjar,CLOV-256,68056,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,09/May/2008 6:29 AM,27/May/2008 6:13 AM,15/Nov/2024 6:09 PM,27/May/2008 6:13 AM,,,,,,2.3.1,,,,,,,,,,0,,,,,,,,,"see also: CLOV-245
and: http://code.google.com/p/jarjar/issues/detail?id=13

The build needs to change to work around this issue",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqthj:",103100,,,,,90809,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlw7:",75296,,,,,,,,,,,"1|hwor7j:",90920,521337600,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqslz:",79606,,,,,,,,,,,,,,,,,,,,,,,,,,90811,,"1|hwoqin:",90811,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tests arent reported if they fail during setUp(),CLOV-255,68006,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,npellow,gcrain,gcrain,08/May/2008 7:11 AM,22/Jan/2014 10:24 AM,15/Nov/2024 6:09 PM,03/Jun/2009 4:23 AM,,,,,,won't fix,,,Instrumentation,,,,,,,0,,,,,,,,,"they are counted as not being executed at all, and are shown greyed out with (-) as the % success in the results tab. 

example http://troy/bamboo/download/FE-TRUNK/artifacts/build-36/Clover-HTML/clover/com/cenqua/fisheye/perforce/test-BasicSlurpTest.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwt3:",11721,,,,,90808,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlwf:",75297,,,,,,,,,,,"1|hwor7b:",90919,521424000,true,,,,,,,,,,gcrain(gcrain),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqslr:",79605,,,,,,,,,,,,,,,,,,,,,,,,,,90810,,"1|hwoqif:",90810,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"By default, inner classes of test classes should be considered test classes themselves ",CLOV-253,67964,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,mstudman,mstudman,08/May/2008 12:14 AM,05/Sep/2008 2:13 AM,15/Nov/2024 6:09 PM,05/Sep/2008 2:13 AM,2.2.1,,,,,2.4,,,Instrumentation,,,,,,,0,,,,,,,,,This behavior is assumed if testsources is set but not otherwise. Seems back to front to me.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqthb:",103099,,,,,90807,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlwn:",75298,,,,,,,,,,,"1|hwor73:",90918,521424000,true,,,,,,,,,,bhumphreys(bhumphreys),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwr4av:",82263,,,,,,,,,,,,,,,,,,,,,,,,,,90809,,"1|hwoqi7:",90809,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE when <format> tag is not declared in <historical> tag,CLOV-249,67847,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,gcrain,gcrain,05/May/2008 6:57 AM,09/May/2008 1:13 AM,15/Nov/2024 6:09 PM,09/May/2008 1:13 AM,,,,,,2.3,,,,,,,,,,0,,,,,,,,,"Caused by: java.lang.NullPointerException
        at com.cenqua.clover.tasks.CloverReportTask.cloverExecute(CloverReportTask.java:368)
        at com.cenqua.clover.tasks.AbstractCloverTask.execute(AbstractCloverTask.java:46)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
        at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:105)

with 
	    <historical outfile=""${clover.dest}"" historydir=""${clover.history}"" title=""PMD Historical"">
	    </historical>",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtgn:",103096,,,,,90804,,,,,,,,,,,2008-05-05 07:23:17.398,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlxj:",75302,,,,,,,,,,,"1|hwor6f:",90915,521683200,true,,,,,,,,,,gcrain(gcrain),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqsl3:",79602,,,,,,,,,,,,,,,,,,,,,,,,,,90806,,"1|hwoqhj:",90806,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/2008 7:23 AM;npellow;The default format should be used.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover Maven 2 plugin doesn't work with Maven 2.0.9,CLOV-246,67514,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,matt@atlassian.com,matt@atlassian.com,29/Apr/2008 5:08 AM,08/Aug/2008 4:12 AM,15/Nov/2024 6:09 PM,08/Aug/2008 4:12 AM,2.2.1,,,,,2.4,,,Maven plugin,,,,,,,0,,,,,,,,,"The latest version of the Maven plugin, 3.7, doesn't seem to work with Maven 2.0.9.

See this build on the Confluence Bamboo server, which failed with 2.0.9:

https://bamboo.extranet.atlassian.com/browse/CONFFUNC-ITCOVERAGE-68/log

The problem is this:

{noformat}
[INFO] [resources:resources]
[INFO] Using default encoding to copy filtered resources.
[INFO] [antrun:run {execution: default}]
[INFO] Executing tasks
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Error executing ant tasks

Embedded error: Replace: source file /opt/j2ee/domains/bamboo.atlassian.com/confluence/webapps/atlassian-bamboo/data/current/xml-data/build-dir/CONFFUNC-ITCOVERAGE/confluence/target/classes/com/atlassian/confluence/default.properties doesn't exist
[INFO] ------------------------------------------------------------------------
[INFO] For more information, run Maven with the -e switch
[INFO] ------------------------------------------------------------------------
{noformat}

Where it seems that the resources it can't find are actually in target/classes/clover/, rather than target/classes/.

It works properly with 2.0.8, if you see the other builds.

Geoff mentioned that you guys might have already raised this with Maven, but I think it still needs to be tracked here for people who might look for an issue in Clover (like I did). 
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtg7:",103094,,,,,90802,,,,,,,,,,,2008-04-29 06:53:32.21,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmly7:",75305,,,,,,,,,,,"1|hwor5z:",90913,513475200,true,,,,,,,,,,matt@atlassian.com(matt@atlassian.com),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqjo7:",77081,,,,,,,,,,,,,,,,,,,,,,,,,,90804,,"1|hwoqh3:",90804,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Apr/2008 6:53 AM;npellow;It looks like this [bug in Maven|http://jira.codehaus.org/browse/MNG-3530] has been assigned to version 2.0.10 to be fixed.

I'm not sure we'll be providing a work around in the plugin for the next release of the plugin.;;;","29/Apr/2008 7:35 AM;npellow;I've also created an issue for this in the Clover Maven Plugin project: http://developer.atlassian.com/jira/browse/CLMVN-43;;;","08/Aug/2008 4:12 AM;npellow;http://jira.codehaus.org/browse/MNG-3530 has been fixed and will be available once maven 2.0.10 is released.
;;;",,,,,,,,,,,,,,,,,,,,,,,,
Clover erroneously instruments explicit outer.super() calls from inner classes,CLOV-243,67238,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,bhumphreys,bhumphreys,23/Apr/2008 12:56 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,2.2.1,,,,,open-source,,,Instrumentation,,,,,,,0,,,,,,,,,"reported here: http://forums.atlassian.com/thread.jspa?threadID=25061&tstart=0

michaels example to reproduce: http://pastie.caboo.se/185186",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbv0n:",11431,,,,,45950,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlyf:",75306,,,,,,,,,,,"1|hwhhn3:",46104,522633600,true,,,,,,,,,,bhumphreys(bhumphreys),,,,,,,,,,,,,,,,,,,"1|hwfkjz:",71162,,,,,,,,,,,,,,,,,,,,,,,,,,45950,,"1|hwhgpr:",45957,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Apr/2008 2:32 AM;bhumphreys;INVESTIGATION:
the problem exists because the explicitConstructorInvocation production fails to match this specialized form of invocation (setting the enclosing outer instance on an inner class via a super() on the outer instance returned by a method call on the outer).

unfortunately there doesn't appear to be much of a quick fix for this, because the postFixExpression production is too greedy, and would need rewriting, to prevent it matching explicit ctor  invocations (it shouldn't really, but currently does, so that it can also match epxressions of the form field.super.field).

WORKAROUND:
A trivial workaround is to enclose the problematic part of the expression in parentheses, to force matching by the primaryExpression production instead. So

this.getModel().super();

becomes:

(this.getModel()).super();



;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Reporting after a merge where one project has a test failure results in NPE,CLOV-242,67232,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,mparfianowicz,mstudman,mstudman,22/Apr/2008 9:18 PM,08/Oct/2012 1:11 PM,15/Nov/2024 6:09 PM,23/Apr/2008 11:48 PM,2.2.1,,,,,2.3,,,,,,,,,,0,,,,,,,,,"In Eclipse, I chose two projects to merge and then report. One project had test failures. The merge succeeds but the report fails with: 

ERROR: Velocity.Method linkifyStackTrace threw exception for reference $renderUtil in template html_res/test-class-summary.vm at  [64,108]
ERROR: A problem was encountered while rendering the report: Invocation of method 'linkifyStackTrace' in  class com.cenqua.clover.reporters.html.HtmlRenderingSupport threw exception class java.lang.NullPointerException : null

Perhaps the stack traces aren't copied over during a merge? I don't have time to track this down right now.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtfz:",103093,,,,,90801,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlyn:",75307,,,,,,,,,,,"1|hwor5r:",90912,522720000,true,,,,,,,,,,mparfianowicz(mparfianowicz),mstudman(mstudman),,,,,,,,,,,,,,,,,,"1|hwqskf:",79599,,,,,,,,,,,,,,,,,,,,,,,,,,90803,,"1|hwoqgv:",90803,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Apr/2008 10:23 PM;mstudman;This seems to only occur for obfuscated builds of Eclipse. Possibly the same for Ant but yet to verify.;;;","23/Apr/2008 1:26 PM;mstudman;a null StackTraceInfo is passed in - this is returned from TestCaseInfo.getStackTrace() immediately prior to calling linkifyStackTrace();;;",,,,,,,,,,,,,,,,,,,,,,,,,
"Showing ""F"" failure list for a given line doesn't seem work on FF 3.0b5",CLOV-241,67231,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Not a bug,npellow,mstudman,mstudman,22/Apr/2008 9:05 PM,22/Jan/2014 10:38 AM,15/Nov/2024 6:09 PM,01/Jul/2008 12:45 AM,2.2.1,,,,,won't fix,,,Reporting,,,,,,,0,,,,,,,,,"The last line quoted below fails with ""Error: Permission denied to get property Window.OLo2Ref
Source File: file:///Users/michaelstudman/Desktop/clover-workspace/pmd-3.8/report/html/overlibmws.js
Line: 151""

/*
 PUBLIC FUNCTIONS
*/
// Loads defaults then args into runtime variables.
function overlib(){
...
if(OLndt&&!OLtimerid)OLndt=0;if(over)cClick();if(parent!=self){if(parent.OLo2Ref){parent.OLeval(parent.OLo2Ref);
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqqzr:",102661,,,,,90216,,,,,,,,,,,2008-04-23 00:44:23.563,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlyv:",75308,,,,,,,,,,,"1|hwonrz:",90327,517449600,true,,,,,,,,,,bhumphreys(bhumphreys),mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,"1|hwqsjj:",79595,,,,,,,,,,,,,,,,,,,,,,,,,,90218,,"1|hwon33:",90218,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Apr/2008 12:44 AM;npellow;FF3 ? Maybe wait until this goes final?;;;","23/Apr/2008 1:13 AM;mstudman;We're on the final beta now (apparently) and have been for a few weeks. I suspect the final release is a matter of days away. Entirely your call.;;;","27/May/2008 6:16 AM;bhumphreys;FF3RC1 no gutter or help popups appear to work. Makes this a priority.;;;","23/Jun/2008 12:46 AM;bhumphreys;FF3 Final appears to resolve all popup issues;;;",,,,,,,,,,,,,,,,,,,,,,,
"Using the ""package"" attribute of the ""current"" report task results in ""current doesn't support the 'package' attribute"" exception",CLOV-240,67103,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,wkwong,wkwong,21/Apr/2008 2:23 AM,22/Jan/2014 12:01 PM,15/Nov/2024 6:09 PM,21/Apr/2008 7:57 AM,2.2.1,,,,,2.2.1,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwsv:",11720,,,,,90800,,,,,,,,,,,2008-04-21 03:46:20.913,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlz3:",75309,,,,,,,,,,,"1|hwor5j:",90911,522892800,true,,,,,,,,,,npellow(npellow),wkwong(wkwong),,,,,,,,,,,,,,,,,,"1|hwqm3b:",77677,,,,,,,,,,,,,,,,,,,,,,,,,,90802,,"1|hwoqgn:",90802,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Apr/2008 3:46 AM;npellow;This is a bug in the doco. Will update this now.


The package attribute on the current report is no longer supported.

Please simply use a nested [fileset element|http://confluence.atlassian.com/display/CLOVER/clover-report#clover-report-Fileset]
with an includes package of the package you wish to include.

e.g
<fileset includes=""**/com/package/name/**""/>

Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
NPE when loading coverage db ,CLOV-239,67067,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Obsolete,npellow,mstudman,mstudman,18/Apr/2008 3:55 PM,22/Jan/2014 10:52 AM,15/Nov/2024 6:09 PM,03/Jun/2009 6:20 AM,2.2.1,,,,,won't fix,,,Database,,,,,,,0,,,,,,,,,"Context for this JIRA is that the project in question is one module of a multi-module project. Eclipse had just started up, the other module hadn't yet finished loading. 

database.loadCoverageData(new CoverageDataSpec(testFilter, (now - lastFullBuildStamp) + CloverPlugin.getInstance().getCoverageSpanInMillis(), true, true, true));

java.lang.NullPointerException
	at com.cenqua.clover.registry.TestCaseInfo.getQualifiedName(TestCaseInfo.java:270)
	at com.cenqua.clover.registry.ClassInfo.addTestCase(ClassInfo.java:52)
	at com.cenqua.clover.registry.ClassInfo.copy(ClassInfo.java:252)
	at com.cenqua.clover.registry.FileInfo.copy(FileInfo.java:285)
	at com.cenqua.clover.registry.PackageInfo.copy(PackageInfo.java:137)
	at com.cenqua.clover.registry.ProjectInfo.copy(ProjectInfo.java:107)
	at com.cenqua.clover.registry.ProjectInfo.copy(ProjectInfo.java:90)
	at com.cenqua.clover.CloverDatabase.loadCoverageData(CloverDatabase.java:118)
	at com.cenqua.clover.eclipse.projects.model.LoadCoverageJob.loadDatabase(LoadCoverageJob.java:110)
	at com.cenqua.clover.eclipse.projects.model.LoadCoverageJob.run(LoadCoverageJob.java:73)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)

    public String getQualifiedName() {
        return runtimeType.getQualifiedName() + ""."" + getTestName();
    }

Maybe it should return runtimeTypeName + ""."" + getTestName() ?
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwsn:",11719,,,,,90799,,,,,,,,,,,2008-05-27 06:12:04.539,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmlzb:",75310,,,,,,,,,,,"1|hwor5b:",90910,519782400,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqmn3:",77816,,,,,,,,,,,,,,,,,,,,,,,,,,90801,,"1|hwoqgf:",90801,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/May/2008 6:12 AM;npellow;Did you work around this for eclipse?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Non-test classes in test packages are being counted in coverage metrics,CLOV-235,66931,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,stephenjpack,stephenjpack,16/Apr/2008 3:13 PM,22/Jan/2014 12:00 PM,15/Nov/2024 6:09 PM,01/May/2008 6:17 AM,2.1.0,2.2,2.2.1,,,2.3.1,,,Instrumentation,,,,,,,4,,,,,,,,,"Classes in the test branch of code that aren't test cases are being treated as source classes in all of the metrics reported.  The coverage bar shows that test classes aren't included in the statistics (Coverage, project risks, least tested methods, etc), but inner classes in test cases are, as well as any other classes in the test root.

I forced the maven plugin to resolve to clover-2.2.1 instead of the default 2.1, and saw the same behavior.

I realize I can exclude the test root from instrumentation entirely with the includesTestSourceRoots configuration: that fixes the skewed statistics, but then I don't get some useful information.  It seems incorrect that inner classes of a test case appear under Coverage instead of Test Coverage.

I have attached an extremely simple project that exposes this behavior, as well as the generated maven site with the clover report (in the target directory).  I removed our license from project.basedir.","Consumed via maven-clover-plugin-3.7; maven 2.0.9; jdk1.4.2_17 & jdk1.5.0_15; Win Vista",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/2008 3:13 PM;stephenjpack;CloverIssue.zip;https://jira.atlassian.com/secure/attachment/25140/CloverIssue.zip","29/Apr/2008 1:33 AM;npellow;SimpleJavaProject-4.0-SNAPSHOT.tar.gz;https://jira.atlassian.com/secure/attachment/25301/SimpleJavaProject-4.0-SNAPSHOT.tar.gz","30/Apr/2008 12:18 AM;npellow;clover-2.2.1.jar;https://jira.atlassian.com/secure/attachment/25341/clover-2.2.1.jar","30/Apr/2008 12:15 AM;npellow;maven-clover2-plugin-4.0-SNAPSHOT.jar;https://jira.atlassian.com/secure/attachment/25340/maven-clover2-plugin-4.0-SNAPSHOT.jar",,,,,,,,,,,,,true,,"1|hwbws7:",11717,,,,,90797,,,,,,,,,,,2008-04-29 01:12:29.381,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm07:",75314,,,,,,,,,,,"1|hwor4v:",90908,521942400,true,,,,,,,,,,375c6fd5f7a9(mark.d.smith9),npellow(npellow),stephenjpack(stephenjpack),dcafb1e31571(yanhuang),,,,,,,,,,,,,,,,"1|hwqkhb:",77246,,,,,,,,,,,,,,,,,,,,,,,,,,90799,,"1|hwoqfz:",90799,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Apr/2008 1:12 AM;npellow;I can confirm that this is a bug in version 3.7 of the plugin.

This has be fixed in version 4.0 if the plugin. I'll attach the modified pom (upgraded to use version 4.0-SNAPSHOT of the plugin).
We are hoping to release version 4.0 of the plugin next week.

In the meantime, you can checkout and install the current snapshot of the plugin via:
{code}
$> svn co https://svn.atlassian.com/svn/public/contrib/clover/maven-clover-plugin/trunk maven-clover-plugin
$> mvn install
{code}

then unzip the attached project and run:
{code}
$> mvn clean clover2:instrument clover2:clover
{code}

Note that the artifactId is currently maven-clover2-plugin.

Please let me know how you go.

Cheers,
Nick;;;","29/Apr/2008 1:33 AM;npellow;This archive includes a generated Clover2 report using the latest version of the plugin - 4.0-SNAPSHOT.

Please confirm that this is the expected behavior.
;;;","29/Apr/2008 2:36 PM;stephenjpack;Yes, the snapshot-generated report is the behavior I'd expect.  Thanks for the quick work!;;;","29/Apr/2008 3:16 PM;stephenjpack;It seems the Eclipse Plug-in exhibits similar behavior.  I've logged issue CEP-106.;;;","29/Apr/2008 8:20 PM;dcafb1e31571;What version of maven-plugin are you using? I downloaded and tried to build it with ""mvn plugin:install"". However, here is the error:

D:\tmp\maven-clover-plugin>mvn plugin:install
[INFO] Scanning for projects...
[INFO] Searching repository for plugin with prefix: 'plugin'.
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Required goal not found: plugin:install
[INFO] ------------------------------------------------------------------------
[INFO] For more information, run Maven with the -e switch
[INFO] ------------------------------------------------------------------------
[INFO] Total time: < 1 second
[INFO] Finished at: Tue Apr 29 13:18:07 PDT 2008
[INFO] Final Memory: 2M/508M
[INFO] ------------------------------------------------------------------------

I tried it with both maven 2.0.7 and 2.0.9, all failed. Can you please publish the snapshot version of that plug-in jar and pom file?;;;","30/Apr/2008 12:15 AM;npellow;Copy this snapshot to:
{code}
~/.m2/repository/com/atlassian/maven/plugins/maven-clover2-plugin/
{code};;;","30/Apr/2008 12:18 AM;npellow;You may also need to copy this to:
{code}
~/.m2/repository/com/cenqua/clover/clover/2.2.1/
{code}

Please try without this first.;;;","30/Apr/2008 12:23 AM;npellow;Hi Yan, 

I'd incorrectly given you the command to deploy the maven1 plugin, not maven2.
I've now updated the above instructions (*mvn install* , not mvn plugin:install) that should work.

If not, I've attached the plugin SNAPSHOT, and the clover-2.2.1.jar to this issue.

We are however planning to release version 4.0 of the plugin next week.

Cheers,
Nick;;;","30/Apr/2008 3:23 PM;dcafb1e31571;Hi Nick,

I'm able to build 4.0-SNAPSHOT of this plugin after dropping your provided clover-2.2.1.jar to my local Maven 2 repository. Is it a updated clover 2.2.1 jar because I see the size of existing one is much smaller (7k vs. 6.2M)?

Now, I'm able to run ""clover2:instrument"" in my project. However, when I run ""clover2:clover"", I got this error:

D:\maven1\Foundations\primarySpecific\xml>mvn clover2:clover  -DbuildLayer=runClover
[INFO] Scanning for projects...
[INFO] Searching repository for plugin with prefix: 'clover2'.
WAGON_VERSION: 1.0-beta-2
[INFO] ----------------------------------------------------------------------------
[INFO] Building Xml Specific
[INFO]    task-segment: [clover2:clover]
[INFO] ----------------------------------------------------------------------------
[WARNING] POM for 'com.cenqua.clover:clover:pom:2.2.1:runtime' is invalid. It will be ignored for artifact resolution. R
eason: Failed to validate POM for project com.cenqua.clover:clover at Artifact [com.cenqua.clover:clover:pom:2.2.1:runti
me]
Downloading: http://m2repo.sd.intuit.com:8081/artifactory/repo/org/apache/ant/ant/1.7.0/ant-1.7.0.pom
9K downloaded
Downloading: http://m2repo.sd.intuit.com:8081/artifactory/repo/org/apache/ant/ant/1.7.0/ant-1.7.0.jar
1259K downloaded
[INFO] Setting property: classpath.resource.loader.class => 'org.codehaus.plexus.velocity.ContextClassLoaderResourceLoad
er'.
[INFO] Setting property: velocimacro.messages.on => 'false'.
[INFO] Setting property: resource.loader => 'classpath'.
[INFO] Setting property: resource.manager.logwhenfound => 'false'.
[INFO] **************************************************************
[INFO] Starting Jakarta Velocity v1.4
[INFO] RuntimeInstance initializing.
[INFO] Default Properties File: org\apache\velocity\runtime\defaults\velocity.properties
[INFO] Default ResourceManager initializing. (class org.apache.velocity.runtime.resource.ResourceManagerImpl)
[INFO] Resource Loader Instantiated: org.codehaus.plexus.velocity.ContextClassLoaderResourceLoader
[INFO] ClasspathResourceLoader : initialization starting.
[INFO] ClasspathResourceLoader : initialization complete.
[INFO] ResourceCache : initialized. (class org.apache.velocity.runtime.resource.ResourceCacheImpl)
[INFO] Default ResourceManager initialization complete.
[INFO] Loaded System Directive: org.apache.velocity.runtime.directive.Literal
[INFO] Loaded System Directive: org.apache.velocity.runtime.directive.Macro
[INFO] Loaded System Directive: org.apache.velocity.runtime.directive.Parse
[INFO] Loaded System Directive: org.apache.velocity.runtime.directive.Include
[INFO] Loaded System Directive: org.apache.velocity.runtime.directive.Foreach
[INFO] Created: 20 parsers.
[INFO] Velocimacro : initialization starting.
[INFO] Velocimacro : adding VMs from VM library template : VM_global_library.vm
[ERROR] ResourceManager : unable to find resource 'VM_global_library.vm' in any resource loader.
[INFO] Velocimacro : error using  VM library template VM_global_library.vm : org.apache.velocity.exception.ResourceNotFo
undException: Unable to find resource 'VM_global_library.vm'
[INFO] Velocimacro :  VM library template macro registration complete.
[INFO] Velocimacro : allowInline = true : VMs can be defined inline in templates
[INFO] Velocimacro : allowInlineToOverride = false : VMs defined inline may NOT replace previous VM definitions
[INFO] Velocimacro : allowInlineLocal = false : VMs defined inline will be  global in scope if allowed.
[INFO] Velocimacro : initialization complete.
[INFO] Velocity successfully started.
[INFO] [clover2:clover]
[INFO] Using /default-clover-report descriptor.
[INFO] Using Clover report descriptor: c:\temp\plexus-resources2001234104tmp
[INFO] ------------------------------------------------------------------------
[ERROR] FATAL ERROR
[INFO] ------------------------------------------------------------------------
[INFO] null
Illegal character in path at index 18: file:/C:/Documents and Settings/Yhuang1/.m2/repository/org/apache/ant/ant/1.7.0/a
nt-1.7.0.jar
[INFO] ------------------------------------------------------------------------
[INFO] Trace
java.lang.IllegalArgumentException
        at java.net.URI.create(URI.java:842)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.apache.tools.ant.launch.Locator.fromURI(Locator.java:162)
        at org.apache.tools.ant.launch.Locator.getResourceSource(Locator.java:119)
        at org.apache.tools.ant.launch.Locator.getClassSource(Locator.java:90)
        at org.apache.tools.ant.Project.setAntLib(Project.java:313)
        at org.apache.tools.ant.Project.initProperties(Project.java:309)
        at org.apache.tools.ant.Project.init(Project.java:295)
        at com.atlassian.maven.plugin.clover.CloverReportMojo.createReport(CloverReportMojo.java:320)
        at com.atlassian.maven.plugin.clover.CloverReportMojo.createAllReportTypes(CloverReportMojo.java:301)
        at com.atlassian.maven.plugin.clover.CloverReportMojo.executeReport(CloverReportMojo.java:285)
        at org.apache.maven.reporting.AbstractMavenReport.generate(AbstractMavenReport.java:101)
        at org.apache.maven.reporting.AbstractMavenReport.execute(AbstractMavenReport.java:66)
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:443)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:539)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandaloneGoal(DefaultLifecycleExecutor.java:493)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:463)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.jav
a:311)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:278)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:143)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:334)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:125)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:280)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
        at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
        at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)
        at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
Caused by: java.net.URISyntaxException: Illegal character in path at index 18: file:/C:/Documents and Settings/Yhuang1/.
m2/repository/org/apache/ant/ant/1.7.0/ant-1.7.0.jar
        at java.net.URI$Parser.fail(URI.java:2816)
        at java.net.URI$Parser.checkChars(URI.java:2989)
        at java.net.URI$Parser.parseHierarchical(URI.java:3073)
        at java.net.URI$Parser.parse(URI.java:3021)
        at java.net.URI.<init>(URI.java:578)
        at java.net.URI.create(URI.java:840)
        ... 33 more
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 6 seconds
[INFO] Finished at: Wed Apr 30 08:18:55 PDT 2008
[INFO] Final Memory: 8M/508M
[INFO] ------------------------------------------------------------------------

Please advise.

Thanks
Yan;;;","01/May/2008 12:46 AM;375c6fd5f7a9;We are having the same issue with the maven1 plugin.  Is there any chance of it being updated soon as well?

Thanks,
Mark.
;;;","01/May/2008 6:10 AM;npellow;Hi Mark, 

We've done a soft release of the plugin (ie no announcement yet), and you can follow the instructions here: http://confluence.atlassian.com/display/CLOVER/Clover-for-Maven+1+Installation+Guide to get the latest versions of both the plugin, and the clover.jar artifact.

If you have any problems running or installing the plugin, please raise a JIRA here:
http://developer.atlassian.com/jira/browse/CLMVNONE .

Cheers,
Nick;;;","01/May/2008 6:17 AM;npellow;I've created the following issue against the Maven Clover Plugin http://developer.atlassian.com/jira/browse/CLMVN-44 
to track this. 

Could you please upload the pom.xml you are using so I can try and reproduce this. This looks to be caused by the space in the path to the ant.jar?;;;","01/May/2008 6:22 AM;375c6fd5f7a9;Thanks for the reply Nick.  This is to be used on an offline network, so
I have to grab it manually.  From a look around the site I assume
https://maven.atlassian.com/repository/public/maven/maven-clover-plugin/
2.2.1/maven-clover-plugin-2.2.1.jar is the correct url for the updated
jar?

Cheers,
Mark.
 

;;;","01/May/2008 7:08 AM;npellow;Hi Mark, 

The URL you have posted is correct if you are installing the Maven1 Clover plugin.
Most of this thread however is talking about the Maven2 Clover plugin.

If you are still having problems with the Maven1 Clover plugin, could you please raise a JIRA against the Maven1 plugin, here: http://developer.atlassian.com/jira/browse/CLMVNONE  . 

Sorry for the confusion.

Cheers,
Nick;;;","01/May/2008 4:35 PM;dcafb1e31571;Nick,

I just downloaded the clover2 plugin source tree and tried to build it on Linux. However, it failed because it's now depending on an unexisting clover version 2.2.2-SNAPSHOT as defined in pom.xml there:

    <cloverVersion>2.2.2-SNAPSHOT</cloverVersion>

Is there a way you could publish a working 4.0-SNAPSHOT version somewhere so that it'll save me some time to go through build? 


;;;","01/May/2008 5:36 PM;dcafb1e31571;Nick,

One small comment - I'm seeing this defect has been marked as ""fixed"" & ""closed"" here. I'm not sure if it's correct though ... Basically, I'm not able to use the latest 4.0-SNAPSHOT to verify the code coverage result ...

Thanks;;;","02/May/2008 12:30 AM;npellow;Hi Yan, 

The issue you are having has only to do with the maven clover plugin. So I've created a JIRA against that project here: 
http://developer.atlassian.com/jira/browse/CLMVN-44 .

re: <cloverVersion>2.2.2-SNAPSHOT</cloverVersion>,
could you try changing that back to 2.2.1, ie:
<cloverVersion>2.2.1</cloverVersion> 

Also please note, that the SNAPSHOT is by no means stable or final - it is the bleeding edge of the plugin.

Cheers,
Nick
;;;","02/May/2008 12:58 AM;375c6fd5f7a9;Hi Nick.

As requested: http://developer.atlassian.com/jira/browse/CLMVNONE-6

I'll remove my watch from this issue now and watch the new one.

Thanks,
Mark.
 

;;;","02/May/2008 3:31 AM;dcafb1e31571;Hi Nick,

I just confirmed the ""illegal char"" issue is a bug in 4.0-SNAPSHOT of maven-clover2-plugin on Windows environment. Please see my finding at http://developer.atlassian.com/jira/browse/CLMVN-44.

Thanks!;;;",,,,,,,,
Linked current reports appear to be broken.,CLOV-234,66839,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,15/Apr/2008 4:32 AM,28/Jul/2008 6:15 AM,15/Nov/2024 6:09 PM,15/Apr/2008 5:36 AM,,,,,,2.3,,,,,,,,,,0,,,,,,,,,"PMD, Lucene and Backport Concurrent Util appear to have broken links to the current report.

This is due to these reports having linked JSON reports.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtfj:",103091,,,,,90796,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm0f:",75315,,,,,,,,,,,"1|hwor4n:",90907,514425600,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqm7r:",77709,,,,,,,,,,,,,,,,,,,,,,,,,,90798,,"1|hwoqfr:",90798,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Apr/2008 5:36 AM;npellow;JON reports will no longer be linked;;;","28/Jul/2008 6:15 AM;npellow;Also removing XML reports from links as this is confusing to Pete.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
NPE thrown when rendering stacktrace under certain circumstances,CLOV-231,66681,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,npellow,npellow,11/Apr/2008 4:16 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,13/Apr/2008 11:15 PM,2.2,,,,,2.2.1,,,Reporting,,,,,,11/Apr/2008 12:00 AM,0,,,,,,,,,"This appears to happen when JNI calls are made, and for assert statements.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtfb:",103090,,,,,90795,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm13:",75318,,,,,,,,,,,"1|hwor4f:",90906,523756800,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqk1z:",77160,,,,,,,,,,,,,,,,,,,,,,,,,,90797,,"1|hwoqfj:",90797,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
borders aren't being rendered on Test Summary page in IE7,CLOV-229,66560,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,gcrain,npellow,npellow,09/Apr/2008 12:26 AM,23/Apr/2008 2:03 AM,15/Nov/2024 6:09 PM,23/Apr/2008 2:03 AM,,,,,,2.3,,,Reporting,,,,,,,0,,,,,,,,,"This could most likely be fixed by adding a &nbsp; to the td.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtf3:",103089,,,,,90794,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm1j:",75320,,,,,,,,,,,"1|hwor47:",90905,523929600,true,,,,,,,,,,gcrain(gcrain),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqskn:",79600,,,,,,,,,,,,,,,,,,,,,,,,,,90796,,"1|hwoqfb:",90796,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Per-test highlighting doesn't work in IE7,CLOV-228,66559,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,gcrain,npellow,npellow,09/Apr/2008 12:25 AM,06/May/2008 5:54 AM,15/Nov/2024 6:09 PM,06/May/2008 5:54 AM,,,,,,2.3,,,Reporting,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtev:",103088,,,,,90793,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm1r:",75321,,,,,,,,,,,"1|hwor3z:",90904,523929600,true,,,,,,,,,,gcrain(gcrain),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqe53:",76165,,,,,,,,,,,,,,,,,,,,,,,,,,90795,,"1|hwoqf3:",90795,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inline Help Popup doesn't work in IE7,CLOV-227,66558,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,gcrain,npellow,npellow,09/Apr/2008 12:24 AM,01/May/2008 4:23 AM,15/Nov/2024 6:09 PM,01/May/2008 4:23 AM,,,,,,2.3,,,Reporting,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqten:",103087,,,,,90792,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm1z:",75322,,,,,,,,,,,"1|hwor3r:",90903,523929600,true,,,,,,,,,,gcrain(gcrain),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqpkn:",78700,,,,,,,,,,,,,,,,,,,,,,,,,,90794,,"1|hwoqev:",90794,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Result Summary page (test-summary.vm) is being overwritten for multiple test runs.,CLOV-225,66515,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,npellow,npellow,08/Apr/2008 7:26 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,09/Apr/2008 1:23 AM,2.1.0,,,,,2.2,,,Reporting,,,,,,,0,,,,,,,,,"See the following locations for examples of this bug:

{quote}
 http://troy/bamboo/download/CCD-SANITY/artifacts/build-529/CODEC/custom/org/apache/commons/codec/language/RefinedSoundexTest_testDifference.html
 http://troy/bamboo/download/CCD-SANITY/artifacts/build-528/UTIL-CONCURRENT/default-pkg/ThreadPoolExecutorTest_testSetRejectedExecutionHandlerNull.html
{quote}

NB. in both cases, multiple test runs are involved for the same test
Maybe best to append the test-case-id to the filename",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqte7:",103085,,,,,90790,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm2f:",75324,,,,,,,,,,,"1|hwor3b:",90901,524016000,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwog9z:",64518,,,,,,,,,,,,,,,,,,,,,,,,,,90792,,"1|hwoqef:",90792,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
page errors when clicking + on failed tests in the test results page,CLOV-223,66505,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,gcrain,gcrain,08/Apr/2008 6:24 AM,09/Apr/2008 1:22 AM,15/Nov/2024 6:09 PM,09/Apr/2008 1:22 AM,,,,,,2.2,,,,,,,,,,0,,,,,,,,,see screenshot,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Apr/2008 6:24 AM;gcrain;errormessage.jpg;https://jira.atlassian.com/secure/attachment/24981/errormessage.jpg",,,,,,,,,,,,,,,,true,,"1|hwqtdz:",103084,,,,,90788,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm2v:",75326,,,,,,,,,,,"1|hwor2v:",90899,524016000,true,,,,,,,,,,bhumphreys(bhumphreys),gcrain(gcrain),,,,,,,,,,,,,,,,,,"1|hwqsiv:",79592,,,,,,,,,,,,,,,,,,,,,,,,,,90790,,"1|hwoqdz:",90790,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Apr/2008 6:44 AM;gcrain;sanity project with failing test is here 
http://troy.sydney.atlassian.com/bamboo/download/CCD-SANITY/artifacts/build-534/TESTNG/test/mannotation/test-MAnnotationSampleTest.html;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
" fix expanded test link, popup positioning",CLOV-222,66492,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,bhumphreys,bhumphreys,08/Apr/2008 2:01 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,08/Apr/2008 2:10 AM,,,,,,2.2,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtdr:",103083,,,,,90787,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm33:",75327,,,,,,,,,,,"1|hwor2n:",90898,524016000,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwogfr:",64554,,,,,,,,,,,,,,,,,,,,,,,,,,90789,,"1|hwoqdr:",90789,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover report generation is skipped when using the clean goal if <includes> are specified.,CLOV-219,66357,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,1d6c5a7445c5,1d6c5a7445c5,03/Apr/2008 10:31 AM,22/Jan/2014 11:59 AM,15/Nov/2024 6:09 PM,03/Apr/2008 11:03 PM,,,,,,2.3.2,,,Reporting,,,,,,,0,,,,,,,,,"When includes are specified in a project's pom file in the clover configuration sections. Running mvn clean test site skips clover report generation reporting that no sources were found, then clover report generation skipped no clover db found.

Running mvn clean test site succeeds if the includes are removed from the configuration.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwrb:",11713,,,,,80032,,,,,,,,,,,2008-04-03 23:03:29.055,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm3j:",75329,,,,,,,,,,,"1|hwn5jb:",80146,512956800,true,,,,,,,,,,npellow(npellow),1d6c5a7445c5(pedrocadiz),,,,,,,,,,,,,,,,,,"1|hwqmnj:",77818,,,,,,,,,,,,,,,,,,,,,,,,,,80034,,"1|hwn4uf:",80037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Apr/2008 11:03 PM;npellow;Hi Peter, 

I've recreated this issue in the JIRA instance for the Maven Clover Plugin, which is over here: http://developer.atlassian.com/jira/browse/CLMVN-37 since this is an open source project.

I will try and look into this issue before we release the next version of the plugin. Is it possible you provide a small sample project which exposes the problem you are having. Examples of such projects are here: http://svn.atlassian.com/fisheye/browse/public/contrib/clover/maven-clover-plugin/trunk/src/it .

Cheers,
Nick


;;;","13/Aug/2008 11:44 PM;npellow;Hi Peter, 

Did you have any luck getting the plugin working? I can not reproduce this issue. Please ensure that your includes pattern matches at least some source files.
Otherwise, Clover will not be able to generate a report.

I am closing this, and the corresponding CLMVN-37. Please feel free to reopen if you are still seeing the problem, after upgrading to maven-clover2-plugin:2.3.2

Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,,,,,,
clover instrument goal fails when using a valid evaluation license.,CLOV-218,66356,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Duplicate,npellow,1d6c5a7445c5,1d6c5a7445c5,03/Apr/2008 10:25 AM,03/Apr/2008 10:36 PM,15/Nov/2024 6:09 PM,03/Apr/2008 10:36 PM,,,,,,2.2,,,Instrumentation,,,,,,,0,,,,,,,,,"Running the maven command mvn clover:instrument goal when using an evaluation license fails, reporting that the license has expired even although there is still some time left on the license.",maven 2.0.5 / maven-clover-plug-in 3.7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwp9jj:",92609,,,,,80033,,,,,,,,,,,2008-04-03 22:36:15.454,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm3r:",75330,,,,,,,,,,,"1|hwn5jj:",80147,524361600,true,,,,,,,,,,npellow(npellow),1d6c5a7445c5(pedrocadiz),,,,,,,,,,,,,,,,,,"1|hwqsk7:",79598,,,,,,,,,,,,,,,,,,,,,,,,,,80035,,"1|hwn4un:",80038,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Apr/2008 10:36 PM;npellow;Hi Peter, 

Thanks for reporting this. This issue has been resolved for the upcoming 4.0 release of the maven clover plugin.
The original issue is here: http://developer.atlassian.com/jira/browse/CLMVN-20.

Cheers,
Nick Pellow.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Turning off test rewriting causes a compilation failure,CLOV-217,66350,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,npellow,npellow,03/Apr/2008 6:58 AM,03/Dec/2012 11:41 AM,15/Nov/2024 6:09 PM,07/Apr/2008 7:43 AM,,,,,,2.2,,,Instrumentation,,,,,,,0,,,,,,,,,"If tests should not be rewritten so as test results can be recorded, a compilation error occurs.
I will commit a failing test to show this.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtdb:",103081,,,,,90785,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm3z:",75331,,,,,,,,,,,"1|hwor27:",90896,524102400,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqsjr:",79596,,,,,,,,,,,,,,,,,,,,,,,,,,90787,,"1|hwoqdb:",90787,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Apr/2008 7:43 AM;npellow;Tested and works now with the maven clover plugin.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
else filter working incorrectly,CLOV-216,66348,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,bhumphreys,gcrain,gcrain,03/Apr/2008 5:48 AM,22/Jan/2014 10:24 AM,15/Nov/2024 6:09 PM,09/Sep/2008 4:27 AM,,,,,,won't fix,,,Instrumentation,,,,,,,0,,,,,,,,,"Running pmd-3.8 sanity project. Ive added to the report filter=""static constructor else catch assert"". 

the ""if"" line is filtered (with message ""Filtered by:"") when there is an else statement after it. 

eg. 

1 if (o != null) {

2    processRule(o);

3 } else {

4    processRule(data);

5 }

both lines 1 and 4 are filtered. line 4 has the correct message ""Filtered by: else""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtd3:",103080,,,,,90784,,,,,,,,,,,2008-09-09 04:27:16.763,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm47:",75332,,,,,,,,,,,"1|hwor1z:",90895,510710400,true,,,,,,,,,,bhumphreys(bhumphreys),gcrain(gcrain),,,,,,,,,,,,,,,,,,"1|hwr4a7:",82260,,,,,,,,,,,,,,,,,,,,,,,,,,90786,,"1|hwoqd3:",90786,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Sep/2008 4:27 AM;bhumphreys;HTML reports are line-based rather than strictly statement based. We won't be fixing this in a hurry.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Investigate Clover behaviour when the System new line char is changed,CLOV-207,66239,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Not a bug,npellow,npellow,npellow,01/Apr/2008 11:10 PM,22/Jan/2014 10:38 AM,15/Nov/2024 6:09 PM,01/Apr/2008 11:36 PM,,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"Investigate how Clover behaves if a non-standard system New Line char is set in the JDK.
see also: http://forums.atlassian.com/thread.jspa?messageID=257277617#257277617
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtcn:",103078,,,,,90780,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm5j:",75338,,,,,,,,,,,"1|hwor13:",90891,524534400,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqmnb:",77817,,,,,,,,,,,,,,,,,,,,,,,,,,90782,,"1|hwoqc7:",90782,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Apr/2008 11:36 PM;npellow;This is not an issue in Clover2 as it uses a binary database format.
Please upgrade to Clover2 if your build requires a non-standard line.separator char to be set.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Inline Help Popup has stopped working.,CLOV-206,66203,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,npellow,npellow,01/Apr/2008 7:41 AM,09/Apr/2008 2:18 AM,15/Nov/2024 6:09 PM,09/Apr/2008 2:18 AM,,,,,,2.2,,,,,,,,,,0,,,,,,,,,This is since the upgrade of overlib?,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtcf:",103077,,,,,90779,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm5r:",75339,,,,,,,,,,,"1|hwor0v:",90890,523929600,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqp13:",78553,,,,,,,,,,,,,,,,,,,,,,,,,,90781,,"1|hwoqbz:",90781,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Apr/2008 6:08 AM;npellow;This may have been the result of some aggresive caching done by Safari on my laptop.
Seems to be working here. ;;;","09/Apr/2008 2:16 AM;npellow;The overlib library is only working on the src-file page.
The dashboard, plus other pages don't have it properly included.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
nullXXX recording files created in the run directory,CLOV-204,66147,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Highest,Fixed,bhumphreys,npellow,npellow,31/Mar/2008 11:54 AM,03/Dec/2012 11:38 AM,15/Nov/2024 6:09 PM,08/Apr/2008 2:11 AM,,,,,,2.2,,,,,,,,,,0,,,,,,,,,"from: http://forums.atlassian.com/message.jspa?messageID=257277432#257277432
{quote}
null1psg_X0_0 and null1psg_Y0_0
{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtbz:",103075,,,,,90777,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm67:",75341,,,,,,,,,,,"1|hwor0f:",90888,524707200,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqw1j:",80282,,,,,,,,,,,,,,,,,,,,,,,,,,90779,,"1|hwoqbj:",90779,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Context filter names cannot have spaces in them,CLOV-201,65834,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Not a bug,npellow,mstudman,mstudman,22/Mar/2008 1:21 AM,22/Jan/2014 10:38 AM,15/Nov/2024 6:09 PM,27/Mar/2008 4:53 AM,2.1.0,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"See thread: http://forums.atlassian.com/thread.jspa?threadID=23136&tstart=0

I've also encountered this recently in Clover-for-Eclipse.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtbj:",103073,,,,,90775,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm6v:",75344,,,,,,,,,,,"1|hwoqzz:",90886,525484800,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqshz:",79588,,,,,,,,,,,,,,,,,,,,,,,,,,90777,,"1|hwoqb3:",90777,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Case statements in a switch have the startColumn > endColumn,CLOV-200,65825,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,sginter,sginter,21/Mar/2008 4:14 PM,02/Jul/2008 6:05 AM,15/Nov/2024 6:09 PM,02/Jul/2008 5:39 AM,,,,,,2.3.2,,,Instrumentation,,,,,,,0,,,,,,,,,"endColumn is always 1 for me

test class:
{code}
public class NotNested {
    public static void main(String[] args) {
        System.out.println(""NotNested.main"");
        int x = 7;
        int y;
        switch(x) {
            case 1: y =1;break;
            case 2: y =1;break;
            case 3: y =1;break;
        }
    }
}
{code}",Head version of clover2 used for idea7 plugin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwox3j:",90427,,,,,77315,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm73:",75345,,,,,,,,,,,"1|hwmpwv:",77429,525571200,true,,,,,,,,,,bhumphreys(bhumphreys),sginter(sginter),,,,,,,,,,,,,,,,,,"1|hwqtev:",79757,,,,,,,,,,,,,,,,,,,,,,,,,,77315,,"1|hwmp7j:",77318,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Mar/2008 4:27 PM;sginter;previous description made no sense ;-);;;",,,,,,,,,,,,,,,,,,,,,,,,,,
incorrect data is being extracted from history points,CLOV-196,65660,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,gcrain,gcrain,gcrain,18/Mar/2008 5:19 AM,31/Mar/2008 4:57 AM,15/Nov/2024 6:09 PM,31/Mar/2008 4:57 AM,2.1.0,,,,,2.2,,,,,,,,,,0,,,,,,,,,"the last of the inner classes in a file is being given the metrics of the whole file, rather than the class. 

eg. in the following xml          

<file name=""AbstractInstrTask.java"">
            <class name=""AbstractInstrTask"">
               <metrics coveredelements=""64"" coveredconditionals=""16"" conditionals=""24"" statements=""63"" coveredmethods=""7"" coveredstatements=""41"" methods=""15"" complexity=""38"" elements=""102""/>
            </class>
            <class name=""AbstractInstrTask.StatementContextDef"">
               <metrics coveredelements=""14"" coveredconditionals=""2"" conditionals=""4"" statements=""8"" coveredmethods=""6"" coveredstatements=""6"" methods=""6"" complexity=""10"" elements=""18""/>
            </class>
            <class name=""AbstractInstrTask.MethodContextDef"">
               <metrics coveredelements=""15"" coveredconditionals=""4"" conditionals=""6"" statements=""9"" coveredmethods=""4"" coveredstatements=""7"" methods=""4"" complexity=""8"" elements=""19""/>
            </class>
            <metrics coveredelements=""93"" coveredconditionals=""22"" conditionals=""34"" ncloc=""201"" statements=""80"" coveredmethods=""17"" coveredstatements=""54"" loc=""281"" methods=""25"" classes=""3"" complexity=""56"" elements=""139""/>
...
the last of the inner classes (AbstractInstrTask.MethodContextDef) is given coveredelements=""93"" and elements=""139"" - rather than as it is supposed to have: coveredelements=""15"" and elements=""19""

the problem is somewhere in XmlConverter.getFromXmlFile()",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqtbb:",103072,,,,,90774,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm7b:",75346,,,,,,,,,,,"1|hwoqzr:",90885,525830400,true,,,,,,,,,,gcrain(gcrain),,,,,,,,,,,,,,,,,,,"1|hwqk7z:",77194,,,,,,,,,,,,,,,,,,,,,,,,,,90776,,"1|hwoqav:",90776,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Maven-clover-plug-in and Eclipse-Clover-plug in give different coverage results.,CLOV-194,65544,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,npellow,1d6c5a7445c5,1d6c5a7445c5,14/Mar/2008 10:48 AM,22/Jan/2014 11:37 AM,15/Nov/2024 6:09 PM,28/May/2008 5:09 AM,2.1.0,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"I have a project for which the Clover plug in for eclipse reports a coverage of 88.7%, but the Maven-clover-plug-in reports code coverage of 81.2%.

I suspect that the variation is caused by the includes, excludes settings.

I've set the includes in the Eclipse plugin as:

    src/main/java/**/*.java 

and the excludes as:

    src/test/java/**/*.java

In the maven pom file I've configured the excludes as:

<excludes>
 <exclude>src/test/java/**/*.java</exclude>
</excludes>

but whenever I add:

<includes>
 <include>src/main/java/**/*.java</include>
</includes>

The maven colver plug in reports that no sources could be found.

Thanks,

Peter Johnstone
","Eclipse V3.2, Eclipse Clover Plug-in v2.1.0, Maven-clover-plug-in V3.7. OS windows XP",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwpj:",11705,,,,,80034,,,,,,,,,,,2008-05-28 05:09:03.819,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm7r:",75348,,,,,,,,,,,"1|hwn5jr:",80148,519696000,true,,,,,,,,,,npellow(npellow),1d6c5a7445c5(pedrocadiz),,,,,,,,,,,,,,,,,,"1|hwqs1r:",79363,,,,,,,,,,,,,,,,,,,,,,,,,,80036,,"1|hwn4uv:",80039,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Apr/2008 10:18 AM;1d6c5a7445c5;Further information on this issue:

I've managed to get the includes section working in the projects parent pom, and have discovered that when the includes section in the parent pom matches those in eclipse, the clover results for the project still do not match. 

I have also discovered that if the clean goal is specified and the project pom contains include entries, then the project skips the clover report generation reporting that it cant find the clover database. 

Additionally if I try running the clover:instrument  goal using an evaluation license, clover reports that the license has expired even although I still have some time left on the evaluation license.

I realise that these are seperate issues, so I will raise these separately and add links in a further comment once I have done so.

Thanks,

Peter Johnstone.;;;","03/Apr/2008 10:35 AM;1d6c5a7445c5;Clover instrument issue: CLOV-218

Clover clean / includes issue: CLOV-219;;;","28/May/2008 5:09 AM;npellow;Both these issues have been raised against the maven plugin;;;",,,,,,,,,,,,,,,,,,,,,,,,
incorrect test totals for sub-classed tests,CLOV-189,65363,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,npellow,npellow,12/Mar/2008 6:00 AM,03/Dec/2012 11:38 AM,15/Nov/2024 6:09 PM,27/Mar/2008 4:45 AM,2.1.0,,,,,2.2,,,,,,,,,,0,,,,,,,,,more information here: http://forums.atlassian.com/thread.jspa?threadID=24158&tstart=0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Mar/2008 6:22 AM;npellow;clov-189.tar.gz;https://jira.atlassian.com/secure/attachment/24813/clov-189.tar.gz",,,,,,,,,,,,,,,,true,,"1|hwqtb3:",103071,,,,,90770,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm8v:",75353,,,,,,,,,,,"1|hwoqyv:",90881,526176000,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqrav:",79155,,,,,,,,,,,,,,,,,,,,,,,,,,90772,,"1|hwoq9z:",90772,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Mar/2008 4:45 AM;npellow;This happens when unit tests are not run in the same jvm.
If running JUnit from Ant, ensure that <junit forkmode=""once"" fork=""true""...> are set. 
The default forkmode is 'perTest' which causes inherited test results to be missed.

Please use forkmode=""once"" until we release a fix for this.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"Artifact[ejb:my.wonderful.artifact] has 2 candidates, please provide a classifier.",CLOV-184,65170,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Invalid,npellow,924489c72524,924489c72524,07/Mar/2008 11:58 AM,22/Jan/2014 10:47 AM,15/Nov/2024 6:09 PM,14/Aug/2008 2:04 AM,,,,,,won't fix,,,Maven plugin,,,,,,,0,,,,,,,,,"Running clover over our project with maven gives

[INFO] Executed tasks
[INFO] [ear:generate-application-xml]
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Artifact[ejb:my.wonderful.artifact] has 2 candidates, please provide a classifier.

A little google'ing directs to http://jira.codehaus.org/browse/MCLOVER-77 which lets me assume that the atlassian plugin has similar problems. Can you verify that, please?

It talks about a way to workaround that problem: 

""This can be fixed by specifying a classifier in the Modules section for the ear, but means that you must create two poms (or use complicated profiles), one with the classifier set to clover and one set to the empty string. This is a pain and hard to maintain.""

Can you tell detail of how to specify a classifier there?

Thanks,
   Thomas


","Linux, jdk1.6, maven 2.0.8, maven-clover-plugin 3.6",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwa7:",11636,,,,,90769,,,,,,,,,,,2008-08-08 04:09:49.654,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmm9j:",75356,,,,,,,,,,,"1|hwoqyn:",90880,512956800,true,,,,,,,,,,npellow(npellow),924489c72524(tarand),,,,,,,,,,,,,,,,,,"1|hwqdfj:",76047,,,,,,,,,,,,,,,,,,,,,,,,,,90771,,"1|hwoq9r:",90771,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Aug/2008 4:09 AM;npellow;Hi Thomas, 

Have you tried specifying the classifier as outlined here: http://maven.apache.org/plugins/maven-ear-plugin/modules.html ?
Clover classifiers all clovered artifacts with the ""clover"" classifier.

Something I've not tested however is worth a try: instead of using 2 pom.xmls, or a profile would be to simply specify the classifier as a maven property.
The default should be the empty string, and when you run clover, pass the property on the command line using -D .

Also, please also upgrade to the latest version of the maven-clover2-plugin, (version 2.3.2).

Let me know how you go.

Cheers,
Nick

 ;;;","14/Aug/2008 2:04 AM;npellow;Sorry Thomas, 

I can not provide any further information on this.

Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,,,,,,
add testsources element to clover-check,CLOV-180,64963,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,gcrain,gcrain,gcrain,05/Mar/2008 4:19 AM,03/Dec/2012 11:37 AM,15/Nov/2024 6:09 PM,25/Mar/2008 11:37 PM,2.1.0,,,,,2.2,,,Ant Tasks,,,,,,,1,,,,,,,,,"without this, clover-check isnt meaningful if testsources is used in clover-report",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Mar/2008 11:09 PM;npellow;clover.jar;https://jira.atlassian.com/secure/attachment/24826/clover.jar",,,,,,,,,,,,,,,,true,,"1|hwqtan:",103069,,,,,90767,,,,,,,,,,,2008-03-06 09:25:26.116,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmma7:",75359,,,,,,,,,,,"1|hwoqy7:",90878,525052800,true,,,,,,,,,,gcrain(gcrain),90f69117c75d(greg.allen@lehman.com),npellow(npellow),,,,,,,,,,,,,,,,,"1|hwogsv:",64627,,,,,,,,,,,,,,,,,,,,,,,,,,90769,,"1|hwoq9b:",90769,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Mar/2008 9:25 AM;90f69117c75d;if a patch to 2.1.0 or a beta of 2.2 was available with a fix for this, I would be keen to test. thanks!;;;","25/Mar/2008 6:58 AM;npellow;Here is a patched 2.1 development build containing the fix for this .
You can now supply a nested <testsources> element to clover-check.
This will also be available in the upcoming 2.2 release.
Simply copy this clover.jar over the top of your existing clover.jar .;;;","27/Mar/2008 2:56 PM;90f69117c75d;This almost works. However, it is also necessary to be able to define the source fileset.

For example:

    <target name=""with.clover"">
        <property name=""clover.enabled"" value=""true"" />

        <fileset id=""clover.sources"" dir=""${basedir}"">
            <include name=""*/src/java/"" />
            <include name=""*/test/java/"" />
            <exclude name=""gensrc/"" />
        </fileset>

        <clover-setup enabled=""${clover.enabled}"" initstring=""${clover.db}"">
            <fileset refid=""clover.sources"" />
...


When the clover-check targets are calculated they seem to be including our generated classes, found under gensrc/. We do not wish to consider the generated classes for coverage, and they are already properly omitted from the coverage reports.

Can clover-check limit itself to just the fileset already configured in clover-setup? If not can it accept a fileset itself, just like clover-report?;;;",,,,,,,,,,,,,,,,,,,,,,,,
package-info.java is not instrumentable,CLOV-172,64667,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Not a bug,npellow,230bb21c3586,230bb21c3586,27/Feb/2008 3:29 AM,22/Jan/2014 10:38 AM,15/Nov/2024 6:09 PM,27/Feb/2008 8:32 PM,2.0.3,,,,,won't fix,,,,,,,,,,0,,,,,,,,,"Java's standard 'package-info.java' classes do not contain any classes (they CAN, but no-one DOES, and the JLS describes it as 'very bad form' -- 7.4.1.1). However, by default, Clover tries to instrument these and fails somewhat dismally.

It's easy enough to exclude them (<exclude name=""**/package-info.java"" /> in the Ant task should do it) but it seems to me that Clover should probably skip these by default to avoid having to do this step.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt9j:",103064,,,,,90761,,,,,,,,,,,2008-02-27 20:32:23.048,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmbr:",75366,,,,,,,,,,,"1|hwoqwv:",90872,527472000,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),230bb21c3586(cowan),,,,,,,,,,,,,,,,,"1|hwqa07:",75476,,,,,,,,,,,,,,,,,,,,,,,,,,90763,,"1|hwoq7z:",90763,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Feb/2008 3:41 AM;230bb21c3586;Please disregard -- not an issue with Clover, false alarm.

I've actually uncovered what I believe to be a bug in Sun's javac. Sorry for the inconvenience.;;;","27/Feb/2008 8:32 PM;bhumphreys;No problem Paul :-D;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"historical reports ""loading coverage database from: null""",CLOV-164,64098,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,gcrain,gcrain,14/Feb/2008 4:15 AM,25/Mar/2008 7:06 AM,15/Nov/2024 6:09 PM,25/Mar/2008 7:06 AM,2.1.0,,,,,2.2,,,,,,,,,,0,,,,,,,,,historical report shouldnt be loading coverage data.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt8v:",103061,,,,,90757,,,,,,,,,,,2008-03-25 06:42:36.623,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmd3:",75372,,,,,,,,,,,"1|hwoqvz:",90868,525225600,true,,,,,,,,,,gcrain(gcrain),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqsif:",79590,,,,,,,,,,,,,,,,,,,,,,,,,,90759,,"1|hwoq73:",90759,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Mar/2008 6:42 AM;npellow;now reads 
for current: ""Loading coverage databse from: <initString>"" 
for historical: ""Loading historical coverage data from: <historyDir>"";;;",,,,,,,,,,,,,,,,,,,,,,,,,,
NullPointerException when <chart> tag is missing title attribute,CLOV-163,64097,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,gcrain,gcrain,14/Feb/2008 4:14 AM,03/Dec/2012 11:37 AM,15/Nov/2024 6:09 PM,25/Mar/2008 7:08 AM,2.1.0,,,,,2.2,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt8n:",103060,,,,,90756,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmdb:",75373,,,,,,,,,,,"1|hwoqvr:",90867,528681600,true,,,,,,,,,,gcrain(gcrain),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqscn:",79476,,,,,,,,,,,,,,,,,,,,,,,,,,90758,,"1|hwoq6v:",90758,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Regression: CloverInstr breaks on default package and non-existent destdir,CLOV-153,63324,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,ahempel,bhumphreys,29/Jan/2008 7:35 AM,29/Jan/2008 1:34 PM,15/Nov/2024 6:09 PM,29/Jan/2008 1:34 PM,2.0.3,,,,,2.1.0,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt73:",103053,,,,,90748,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmfb:",75382,,,,,,,,,,,"1|hwoqtz:",90859,530064000,true,,,,,,,,,,ahempel(ahempel),bhumphreys(bhumphreys),,,,,,,,,,,,,,,,,,"1|hwouhr:",66887,,,,,,,,,,,,,,,,,,,,,,,,,,90750,,"1|hwoq53:",90750,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect instrumented code created when using generics in return type,CLOV-151,63200,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Fixed,npellow,44c5aaab647c,44c5aaab647c,24/Jan/2008 11:10 AM,25/Jan/2008 9:48 AM,15/Nov/2024 6:09 PM,25/Jan/2008 7:18 AM,2.0.3,,,,,2.1.0,,,,,,,,,,0,,,,,,,,,"When instrumenting code that has a generic in the return type, the code that is created does not properly add spaces inside the instrumented generic.

The source code:
{noformat}
@SuppressWarnings(""unchecked"")
public Class<? extends Throwable> getExpectedException() throws IllegalStateException {

    final Annotation testAnnotation = getMethod().getAnnotation(this.testAnnotationClass);
    final Class<? extends Throwable> expectedAttribute = (Class<? extends Throwable>) AnnotationUtils.getValue(testAnnotation, ""expected"");

    Class<? extends Throwable> expectedException = testAnnotation != null && expectedAttribute != this.noneClass ? expectedAttribute : null;
    return expectedException;
}    
{noformat}

results in the following compilation error.

{noformat}
public Class<? extends Throwable> getExpectedException() throws IllegalStateException {__CLR2_0_32qe2qefbt77v7t.R.globalSliceStart(getClass(),3556);int p=0;java.lang.Throwable t=null;try{Class<?extendsThrowable> r=__CLR2_0_3jx7tkw2qs();p=1;return r;}catch(java.lang.Error e){t=e;throw e;}catch(java.lang.RuntimeException e){t=e;throw e;}finally{__CLR2_0_32qe2qefbt77v7t.R.globalSliceEnd(getClass(),3556,p,t);}}public Class<?extendsThrowable>  __CLR2_0_3jx7tkw2qs() throws IllegalStateException{__CLR2_0_32qe2qefbt77v7t.R.E[3556]++;
{noformat}

Note the segment that says {{try{Class<?extendsThrowable> r=}} and how it is missing two spaces.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt6v:",103052,,,,,90747,,,,,,,,,,,2008-01-25 04:21:39.148,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmfj:",75383,,,,,,,,,,,"1|hwoqtr:",90858,530409600,true,,,,,,,,,,44c5aaab647c(nebhale),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqtnr:",79808,,,,,,,,,,,,,,,,,,,,,,,,,,90749,,"1|hwoq4v:",90749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jan/2008 4:21 AM;npellow;This is indeed a bug. We will have fix for this in the upcoming Clover 2.1 release.;;;","25/Jan/2008 5:09 AM;npellow;In review CLOV-19.;;;","25/Jan/2008 7:18 AM;npellow;This has been fixed and will be released with the upcoming Clover 2.1 release.;;;","25/Jan/2008 8:37 AM;44c5aaab647c;Is there any anticipated release date for 2.1?  The JIRA still says 14 Dec, 2007.;;;","25/Jan/2008 9:25 AM;npellow;Hi Ben, 

We are in the final stages of preparing Clover 2.1 for release. If all goes to plan, we will have a release out next week.
(I've updated the JIRA with a release date of Thursday 31 January)

Thank you for reporting this bug. I can send you a release candidate of 2.1 earlier in the week if this is a show stopper for you.

Best Regards,
Nick;;;","25/Jan/2008 9:48 AM;44c5aaab647c;We'd love it to test (that particular bug stopped our entire build so we don't know if there might be more beyond it), but it isn't a show stopper for us.  Thanks again for the quick work.;;;",,,,,,,,,,,,,,,,,,,,,
Movers HTML seems a bit off,CLOV-145,62835,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Low,Fixed,mstudman,mstudman,mstudman,16/Jan/2008 4:35 PM,03/Dec/2012 11:38 AM,15/Nov/2024 6:09 PM,31/Jan/2008 2:29 PM,2.0.3,,,,,2.1.0,,,,,,,,,,0,,,,,,,,,"Losers aren't bolded, negative bar graphs aren't right justified.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt6n:",103051,,,,,90745,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmg7:",75386,,,,,,,,,,,"1|hwoqtb:",90856,531187200,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwqkxr:",77374,,,,,,,,,,,,,,,,,,,,,,,,,,90747,,"1|hwoq4f:",90747,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invalid Javascript when generating <APP_CLASS>.js for app classes covered by tests not present in the model,CLOV-135,62342,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Obsolete,mstudman,mstudman,mstudman,07/Jan/2008 2:23 PM,22/Jan/2014 10:50 AM,15/Nov/2024 6:09 PM,15/Jan/2008 12:16 AM,2.0.3,,,,,won't fix,,,,,,,,,,0,,,,,,,,,This can occur when test classes are in one project and instrumented with one initstring but some of the app classes it covers (directly or indirectly) are in a different project and instrumented with a different initstring.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt5r:",103047,,,,,90740,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmhr:",75393,,,,,,,,,,,"1|hwoqs7:",90851,531273600,true,,,,,,,,,,mstudman(mstudman),,,,,,,,,,,,,,,,,,,"1|hwoga7:",64519,,,,,,,,,,,,,,,,,,,,,,,,,,90742,,"1|hwoq3b:",90742,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jan/2008 3:05 PM;mstudman;Fix applied. Scheduled for next build.;;;","15/Jan/2008 12:16 AM;mstudman;Fixed by brendan's merge work.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect reports generated from XML produced by JUnit 3 suites,CLOV-130,61824,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,,e64e536854ef,e64e536854ef,18/Dec/2007 6:16 AM,13/Aug/2019 6:52 AM,15/Nov/2024 6:09 PM,13/Aug/2019 6:52 AM,2.0.3,,,,,long term roadmap,,,Ant Tasks,,,,,,,0,,,,,,,,,"If you configure JUnit to run in Ant using JUnit 3 style suites:

{code:xml}
<junit failureproperty=""specs.failed"" fork=""true"" forkmode=""perBatch"">
    <classpath refid=""spec.class.path""/>
    <test todir=""${spec.results.dir}"" name=""com.googlecode.instinct.test.suite.AtomicTestSuite""/>
    <test todir=""${spec.results.dir}"" name=""com.googlecode.instinct.test.suite.SlowTestSuite""/>
    <test todir=""${spec.results.dir}"" name=""com.googlecode.instinct.test.suite.AllSpecificationsSuite""/>
    <formatter type=""xml""/>
    <formatter type=""brief"" usefile=""false""/>
</junit>
{code}

Where a suite looks like:

{code}
public final class AtomicTestSuite {
    private static final TestAggregator AGGREGATOR = new TestAggregatorImpl(AtomicTestSuite.class);

    private AtomicTestSuite() {
        throw new UnsupportedOperationException();
    }

    public static Test suite() {
        return AGGREGATOR.aggregate(""Atomic"", "".*AtomicTest"");
    }
}
{code}

And the Clover report is generated as follows:

{code:xml}
<clover-report initString=""${coverage.database}"">
    <current outfile=""${coverage.dir}"" title=""${project.shortname} Specification/Test Code Coverage"">
        <format type=""html""/>
        <testsources dir=""${test.src.dir}"" includes=""**/*""/>
        <testsources dir=""${spec.src.dir}"" includes=""**/*""/>
        <testresults dir=""${spec.results.dir}"" includes=""TEST-*.xml""/>
    </current>
</clover-report>
{code}

Clover detects the correct coverage:

{noformat} 
[clover-check] coverage = 0.7861462
[clover-check] Coverage check PASSED
{noformat} 

But produces reports that show incorrect coverage in the summary (see screenshot) but correct coverage in the class view line-by-line (see other screenshot). 

If you don't supply the test result XML files, all is well and correct reports come out:

{code:xml}
<clover-report initString=""${coverage.database}"">
    <current outfile=""${coverage.dir}"" title=""${project.shortname} Specification/Test Code Coverage"">
        <format type=""html""/>
        <testsources dir=""${test.src.dir}"" includes=""**/*""/>
        <testsources dir=""${spec.src.dir}"" includes=""**/*""/>
    </current>
</clover-report>
{code}
","Linux gonzales 2.6.22-14-generic #1 SMP Sun Oct 14 23:05:12 GMT 2007 i686 GNU/Linux
Ubuntu 7.10 
java version ""1.5.0_12""
Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_12-b04)
Java HotSpot(TM) Server VM (build 1.5.0_12-b04, mixed mode)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Dec/2007 6:16 AM;e64e536854ef;CloverBadCoverageDetails.png;https://jira.atlassian.com/secure/attachment/23285/CloverBadCoverageDetails.png","18/Dec/2007 6:16 AM;e64e536854ef;CloverBadCoverageSummary.png;https://jira.atlassian.com/secure/attachment/23284/CloverBadCoverageSummary.png","18/Dec/2007 6:16 AM;e64e536854ef;TEST-com.googlecode.instinct.test.suite.AtomicTestSuite.xml;https://jira.atlassian.com/secure/attachment/23283/TEST-com.googlecode.instinct.test.suite.AtomicTestSuite.xml","21/Dec/2007 5:06 AM;e64e536854ef;instinct-clover-run.txt.zip;https://jira.atlassian.com/secure/attachment/23325/instinct-clover-run.txt.zip",,,,,,,,,,,,,true,,"1|hwbux3:",11415,,,,,53157,,,,,,,,,,,2007-12-20 05:10:17.755,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmif:",75396,,,,,,,,,,,"1|hwiofb:",53311,533433600,true,,,,,,,,,,npellow(npellow),e64e536854ef(tomjadams),,,,,,,,,,,,,,,,,,"1|hwfkxz:",80004,,,,,,,,,,,,,,,,,,,,,,,,,,53157,,"1|hwinhz:",53164,,,Severity 2 - Major,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/2007 5:10 AM;npellow;Hi Tom, 

Are there any clues in the Ant logs (also when run with the {{\-debug}} flag) why this may be occurring? e.g. are you sure the includes pattern you have specified to the {{<testresults/>}} fileset matches your TEST-results.xml correctly? The Ant Junit Task will also generate result files named {{TESTS-*.xml}}.

Is there a reason why you need to supply the {{<testresults>}} ? This should be used as a fallback option only if Clover's built-in test result recording wont work.


Cheers,
Nick





;;;","21/Dec/2007 5:02 AM;e64e536854ef;Hey Nick,

The filename pattern is correct, see attached file. I don't need to supply the result files at the moment, however Instinct is currently testing itself partially with JUnit and partially with itself, and over time I'll be moving further away JUnit and more towards self hosting. I was getting some strange coverage reports also, which led me to add the results back in. I also want to help you guys make clover work better, which in turn makes my life easier on client sites! :)

Cheers,
Tom;;;","21/Dec/2007 5:06 AM;e64e536854ef;Nick, 

Debug output from the clover report.

Tom;;;",,,,,,,,,,,,,,,,,,,,,,,,
"<clover-setup enabled=""false""> is not respected in some situations",CLOV-129,61803,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,bhumphreys,bhumphreys,18/Dec/2007 12:42 AM,27/Dec/2007 10:40 PM,15/Nov/2024 6:09 PM,27/Dec/2007 10:40 PM,2.0.3,,,,,2.1.0,,,Ant Tasks,,,,,,,0,,,,,,,,,<clover-setup> should go to more lengths to ensure that the CloverCompilerAdapter is removed as the build compiler,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt5b:",103045,,,,,90737,,,,,,,,,,,2007-12-18 00:58:25.897,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmin:",75397,,,,,,,,,,,"1|hwoqrj:",90848,533692800,true,,,,,,,,,,bhumphreys(bhumphreys),e64e536854ef(tomjadams),,,,,,,,,,,,,,,,,,"1|hwqw1r:",80283,,,,,,,,,,,,,,,,,,,,,,,,,,90739,,"1|hwoq2n:",90739,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Dec/2007 12:58 AM;e64e536854ef;Problem manifests itself in Instinct core, available at:

svn checkout http://instinct.googlecode.com/svn/trunk/core instinct-core

See build.xml & build-quality.xml.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
"maven-bamboo-plugin's maven-metadata.xml says that version 3.1 is the latest, when it's not...",CLOV-118,61350,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,High,Not a bug,mparfianowicz,b45e4ad8cb8b,b45e4ad8cb8b,05/Dec/2007 8:26 PM,22/Jan/2014 11:59 AM,15/Nov/2024 6:09 PM,22/Jan/2014 11:59 AM,2.0.3,,,,,won't fix,,,Maven plugin,,,,,,,0,,,,,,,,,"Look at http://repository.atlassian.com/maven2/com/atlassian/maven/plugins/maven-clover-plugin/maven-metadata.xml, it shows that version 3.1 of the plugin is the latest when version 3.6 is... version 3.1 pulls in an old version of Clover, etc etc and lots of things stop working.  Here's the suspect snippet from that URL...


{code}
<metadata>
    <groupId>com.atlassian.maven.plugins</groupId>
    <artifactId>maven-clover-plugin</artifactId>
    <version>3.0b1</version>
    <versioning>
        <latest>3.1</latest>
        <versions>
            <version>3.0b1</version>
            <version>3.0-beta-2</version>
            <version>3.0-beta-3</version>
            <version>3.0-beta-4</version>
            <version>3.0-beta-5</version>
            <version>3.1</version>
            <version>3.1.1</version>
            <version>3.3</version>
            <version>3.4</version>
            <version>3.5</version>
            <version>3.6</version>
        </versions>
        <lastUpdated>20071204003220</lastUpdated>
    </versioning>
</metadata>
{code}

I noticed this because my pom included this plugin, note the missing version.

{code}
<plugin>
    <groupId>com.atlassian.maven.plugins</groupId>
    <artifactId>maven-clover-plugin</artifactId>
    <configuration>
        <licenseLocation>config/clover/clover.license</licenseLocation>
        <generateXml>true</generateXml>
        <generateHtml>true</generateHtml>
    </configuration>
</plugin>
{code}

This approach is nice so that we automatically pick up new version of the plugin and clover.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbw9b:",11632,,,,,23943,,,,,,,,,,,2008-05-29 04:54:23.201,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmkf:",75405,,,,,,,,,,,"1|hwe52f:",25132,519609600,true,,,,,,,,,,b45e4ad8cb8b(xianpants),mparfianowicz(mparfianowicz),npellow(npellow),,,,,,,,,,,,,,,,,"1|hwksfj:",40439,,,,,,,,,,,,,,,,,,,,,,,,,,23943,,"1|hwdxsn:",23959,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/May/2008 4:54 AM;npellow;Hi Christian, 

Thanks for reporting this. The latest release of the maven clover plugin has a new artifactId:
maven-clover-plugin --> maven-clover2-plugin.
The meta-data is here: http://repository.atlassian.com/maven2/com/atlassian/maven/plugins/maven-clover2-plugin/maven-metadata.xml

Please let me know if you are still having an issue.

Cheers,
Nick;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Clover 2.x doesn't report when Definite Assignment rules prevent instrumentation,CLOV-115,61083,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,bhumphreys,bhumphreys,30/Nov/2007 1:41 AM,21/May/2012 12:16 PM,15/Nov/2024 6:09 PM,10/Dec/2007 3:15 AM,2.0.3,,,,,2.1.0,,,,,,,,,,0,,,,,,,,,see http://www.cenqua.com/forums/thread.jspa?messageID=17690#17690,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt4f:",103041,,,,,90730,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmkv:",75407,,,,,,,,,,,"1|hwoqpz:",90841,535248000,true,,,,,,,,,,bhumphreys(bhumphreys),,,,,,,,,,,,,,,,,,,"1|hwqshj:",79586,,,,,,,,,,,,,,,,,,,,,,,,,,90732,,"1|hwoq13:",90732,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
rename <testsources/> element in clover-setup to <testcases/> ,CLOV-108,60695,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Won't Fix,npellow,e64e536854ef,e64e536854ef,20/Nov/2007 1:49 AM,22/Jan/2014 10:24 AM,15/Nov/2024 6:09 PM,03/Jun/2009 4:17 AM,2.0.2,,,,,won't fix,,,Ant Tasks,,,,,,,0,,,,,,,,,"In the clover report, utility code used from tests are mistakenly assigned to source tab, and hence appear in coverage results, lowering the overall coverage figure.

Clover is enabled as follows:

{code:xml}
<fileset id=""main.covered.fileset"" dir=""${main.src.dir}"">
    <include name=""**/*.java""/>
</fileset>

<property name=""src.dir"" value=""src""/>
<property name=""main.src.dir"" value=""${src.dir}/main/java""/>
<property name=""spec.src.dir"" value=""${src.dir}/spec/java""/>

 <clover-setup initstring=""${coverage.db}"" flushpolicy=""threaded"" flushinterval=""${coverage.flush.interval}"">
            <fileset refid=""main.covered.fileset""/>
            <testsources dir=""${spec.src.dir}"">
                <testclass>
                    <testmethod annotation=""Specification""/>
                </testclass>
            </testsources>
        </clover-setup>
{code}

I would imagine that all items in the {{dir}} attribute of the {{testsources}} element would be considered non-production classes (i.e. used for tests), and then those that match the convention (the ""testclass"" element & children) would be considered ""tests"" and used for the reverse lookup when you want to find what tests cover what classes.","dev@hill:~$ uname -a
Linux hill 2.6.22-14-generic #1 SMP Sun Oct 14 23:05:12 GMT 2007 i686 GNU/Linux
dev@hill:~$ java -version
java version ""1.6.0_03""
Java(TM) SE Runtime Environment (build 1.6.0_03-b05)
Java HotSpot(TM) Server VM (build 1.6.0_03-b05, mixed mode)
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwbwhz:",11671,,,,,90725,,,,,,,,,,,2007-11-20 02:37:37.662,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmmf:",75414,,,,,,,,,,,"1|hwoqov:",90836,487641600,true,,,,,,,,,,npellow(npellow),e64e536854ef(tomjadams),,,,,,,,,,,,,,,,,,"1|hwqlsn:",77611,,,,,,,,,,,,,,,,,,,,,,,,,,90727,,"1|hwopzz:",90727,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Nov/2007 2:37 AM;npellow;Hi Tom, 

Unfortunately, that is not the case. {{testsources}} in {{clover-setup}} would probably be better named {{testcases}}. It is only used for test case detection.
(As an aside, I'm working on adding the <or> and <and> elements right now. I'll get you a build this week hopefully.)

Filtering of test utility/non-production classes is done at report time, using the {{[<testsources/>|http://confluence.atlassian.com/display/CLOVER/clover-report#clover-report-Testsources]}} fileset.

Cheers,
Nick;;;","20/Nov/2007 3:08 AM;e64e536854ef;Hey Nick,

Thanks for that, I guess I better re-read the docs before posting any more bugs :)

Cheers,
Tom;;;","20/Nov/2007 3:17 AM;npellow;Hi Tom, 

No problem. This is obviously a usability issue we will need to look into one day. Who reads docs anyway?!
I'll look into renaming {{testsources}} in {{clover-setup}} to {{testcases}} and the possibility of marking any file in the fileset to be part of the test section of the report.


Cheers,
Nick;;;","20/Nov/2007 3:19 AM;npellow;I think <testcases/> is more self documenting of what this fileset actually does.;;;","20/Nov/2007 3:26 AM;e64e536854ef;I think my real problem is that it's set in two places. I can appreciate that there are reasons why this needs to be done, but I'd assumed that as I'd already set the ""test sources"" it'd find them. Renaming sounds like a good idea.

Cheers,
Tom;;;","03/Jun/2009 4:17 AM;npellow;Leaving as-is. This has become of an issue with Clover's improved test-detection.;;;",,,,,,,,,,,,,,,,,,,,,
Test Results in Method Interstitials are incorrect,CLOV-103,60545,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,15/Nov/2007 3:22 AM,21/May/2012 12:02 PM,15/Nov/2024 6:09 PM,15/Nov/2007 11:52 PM,2.0.2,,,,,2.0.3,,,,,,,,,,0,,,,,,,,,"The test results which appear in the source of a test case are incorrect.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt3b:",103036,,,,,90721,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmnj:",75419,,,,,,,,,,,"1|hwoqnz:",90832,536544000,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqr53:",79117,,,,,,,,,,,,,,,,,,,,,,,,,,90723,,"1|hwopz3:",90723,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Multiple testsources in clover-setup are ignored,CLOV-96,60172,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,07/Nov/2007 5:09 AM,21/May/2012 12:06 PM,15/Nov/2024 6:09 PM,21/Nov/2007 7:06 AM,2.0.2,,,,,2.0.3,,,Ant Tasks,,,,,,,1,,,,,,,,,"It appears there is a bug which causes only the first testsources element in clover-setup to be respected.

e.g. the following will only recognise classes ending in TC as tests.

{code}
    <clover-setup initString=""${clover.dir}/db/clover_coverage.db"" preserve=""false"">
      <testsources dir=""${test.home}"">
		<testclass name="".*TC"">
			<testmethod name=""test.*""/>
		</testclass>
      </testsources>
      <testsources dir=""${test.home}"">
		<testclass name="".*Test""/>
	  </testsources>
    </clover-setup>
{code}

see also: http://www.cenqua.com/forums/thread.jspa?messageID=17534#17534",,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-95,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt1z:",103030,,,,,90715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmp3:",75426,,,,,,,,,,,"1|hwoqmn:",90826,537235200,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqybr:",80877,,,,,,,,,,,,,,,,,,,,,,,,,,90717,,"1|hwopxr:",90717,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clover incorrectly reports failing Instinct specifications when they expect an exception,CLOV-94,60134,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,e64e536854ef,e64e536854ef,06/Nov/2007 10:40 PM,24/May/2012 1:28 PM,15/Nov/2024 6:09 PM,31/Jan/2008 2:51 PM,2.0.2,,,,,2.1.0,,,Documentation,,,,,,,0,,,,,,,,,"Clover reports a ""failure"" when running Instinct specifications that expect an exception. Instinct does not propagate the exception (perhaps JUnit 4 does), and instead handles it during specification running.

Here's an example of what causes the failure, a screenshot is attached shoing how this manifests in the HTML report).

{code}
@Specification(expectedException = IllegalArgumentException.class, withMessage = ""Population cannot be chunked with chunk size (-1) less than 1"")
public void shouldNotAcceptNegativeChunkSize() {
    new PopulationToChunkMapperImpl(-1);
}
{code}

Changing the code to the following ""works"" (i.e. doesn't cause Clover to fail).

{code}
public void shouldNotAcceptNegativeChunkSize() {
    try {
        new PopulationToChunkMapperImpl(-1);
        throw new RuntimeException(""Expected exception not thrown"");
    } catch (IllegalArgumentException e) {
        // all good
    }
}
{code}

Clover is enabled/configured as follows:

{code:xml}
<clover-setup initstring=""${coverage.db}"" tmpdir=""${coverage.results.dir}/tmp"" flushpolicy=""threaded""
        flushinterval=""${coverage.flush.interval}"">
    <fileset refid=""main.covered.fileset""/>
    <testsources dir=""${spec.src.dir}"">
        <testclass>
            <testmethod annotation=""Specification""/>
        </testclass>
    </testsources>
</clover-setup>
{code}

Maybe it's got something to do with how clover is configured. For example Instinct will also run spec methods (analogous to JUnit test methods) beginning with ""should"" and ""must"" however these do not appear to work correctly in all circumstances.


This may be related to this issue: http://jira.atlassian.com/browse/CLOV-90.","Linux duke 2.6.22-14-generic #1 SMP Sun Oct 14 23:05:12 GMT 2007 i686 GNU/Linux
",,,,,,,,,,,,,,,,,,,,,,,,,CLOV-90,,,,,,,,,,"06/Nov/2007 10:40 PM;e64e536854ef;CloverFailingSpecification.png;https://jira.atlassian.com/secure/attachment/22797/CloverFailingSpecification.png",,,,,,,,,,,,,,,,true,,"1|hwpbpr:",92988,,,,,80455,,,,,,,,,,,2007-11-07 05:36:08.403,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmpj:",75428,,,,,,,,,,,"1|hwn7zb:",80569,393811200,true,,,,,,,,,,mparfianowicz(mparfianowicz),mstudman(mstudman),npellow(npellow),e64e536854ef(tomjadams),,,,,,,,,,,,,,,,"1|hwog5r:",64490,,,,,,,,,,,,,,,,,,,,,,,,,,80457,,"1|hwn7af:",80460,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Nov/2007 5:36 AM;npellow;Hi Tom, 

Thank you for reporting this. It is directly related to CLOV-90. Clover does not recognize any Test annotations such as @Specification.

The solution we are planning will involve parsing your test result TEST-\*.xml files. This is infact how Clover2 originally got your test results. Initially this will be a fallback option only for tests which use Annotations to determine passes/fails. We may try to get a little smarter in the future with annotations but this will not be a top priority since reading TEST-*.xml files will also work. 

Do you generate xml results for your Inspect tests? Is the format the same as that produced by the Ant JUnit task?


Cheers,
Nick;;;","08/Nov/2007 12:31 AM;e64e536854ef;Hey Nick,

No, Instinct does not generate any XML report files (it may do so in the future). This approach sounds like a bit of a hack to me, as a lot of projects don't even run JUnit with XML reports turned on. As clover is hooked into the build, it may be better to use another mechanism to detect build failures. One way I can think of off the top of my head is to monitor ant warning level logging. Another approach would be to define custom regex's to run over ant output, for example ""FAILED"" would be a way to detect Instinct failures, JUnit would be similar.

Another approach would be to allow this feature to be turned off. It may be a silly question, but why does clover need to detect failures? Surely this is the job of the tool (JUnit, Instinct, TestNG, etc.) to generate reports, etc. I think it's nice to have this feature (it means I don't have to write a tool for Instinct to generate XML), but maybe not everyone wants it.

One thing I'm still not sure of is why clover thinks it's a failure. There's no XML to parse and Instinct does not propagate the exception. The only thing I can think of is that it's parsing the source code and seeing the ""expectedException"" attribute or the Exception.class.

Thanks,
Tom;;;","08/Nov/2007 5:32 AM;npellow;G'Day Tom, 

The beta version of Clover2 used the XML test result files. The format used by the Ant JUnit task seems to have been made a quasi standard for test result xml. It is produced by the Maven-Surefire test runner  and TestNG also. As part of the Clover2 integration process - users had to ensure that their JUnit task was configured with an xml formatter. We will be re-enabling this feature in the next release.

Having Clover2 display the test results is quite useful. Like you say - it is a single place to look. By default - Clover2 will exclude coverage attributed to a test which failed. This can be turned off by setting the includeFailedTestCoverage attribute on the [{{<current/>}}| http://confluence.atlassian.com/display/CLOVER/clover-report#clover-report-Current] element to 'true'.

I've just raised [this JIRA | http://jira.atlassian.com/browse/CLOV-99] to allow test results to be turned off as you suggest. I'll hopefully get you a build of 2.0.3 next week.

{quote}
One thing I'm still not sure of is why clover thinks it's a failure. There's no XML to parse and Instinct does not propagate the exception.
{quote}

How does Instinct detect a test pass? If your test method throws any exception, Clover will mark this test as failed. It does no parsing or processing of annotations.  Clover is catching the Exception, marking the test as failed, and then throwing the exception again. In other words - Clover ""sees"" the exception before instinct does.

Cheers,
Nick


;;;","08/Nov/2007 10:17 AM;e64e536854ef;Hey Nick,

Thanks again for the quick comments, you guys take this stuff seriously don't you! Good to see things are still looking good after your move to Atlassian. And well done for supporting Aussie open source also!

I thought about the issue a bit more and realised that you must be doing something like wrapping the method body in order to detect exceptions. As you suggest, Instinct will reflectively run spec methods and if they're annotated to expect failures, will allow the expected exception to mean a successful run.

Even though it's a de facto standard, I still think the XML way is a hack. There are ""test"" frameworks that support other formats like agiledox.

Is it not possible to specify another way to figure out if test failures are expected? Basically you need to figure out if the test framework was expecting the error. TestNG, JUnit and Instinct all support the annotation way of documenting expected exceptions. It'd be pretty easy to keep this stuff around so that you can reconcile it. A cleaner (but more work) would be to write custom (or allow users or framework developers) checkers for each test framework. You could hand each one the java.lang.reflect.Method that failed and the exception you caught and allow the checker to confirm it's expected or not. 

That's probably getting a bit carried away though :) It's great to know we can include the ""failed"" test coverage in the results, for our project it increases the coverage by 12%. This will suit us nicely.

Thanks,
Tom;;;","21/Nov/2007 7:05 AM;npellow;We are planning to support better built-in test result collection in the future.

For now (as of 2.0.3) however - Clover will be able to read a set of TEST-*.xml files as produced by the Ant Junit task, or the Maven Surefire plugin.;;;","31/Jan/2008 2:51 PM;mstudman;Clover now understands how Instinct specifies expected exception types and reports correctly on these. We still need to do more work to make sure Clover also tests the expected exception message if specified. http://jira.atlassian.com/browse/CLOV-154;;;","24/May/2012 1:28 PM;mparfianowicz;I have documented Instinct and all other supported frameworks here: [Clover+test+detection|http://confluence.atlassian.com/display/CLOVER/Clover+test+detection];;;",,,,,,,,,,,,,,,,,,,,
NPE thrown from velocity template when no tests are instrumented,CLOV-91,59990,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,02/Nov/2007 5:30 AM,21/May/2012 12:01 PM,15/Nov/2024 6:09 PM,05/Nov/2007 5:01 AM,2.0.2,,,,,2.0.3,,,,,,,,,,0,,,,,,,,,"see: https://support.atlassian.com/browse/CLV-4668

Investigate what circumstances cause:

{code}
Velocity.Method truncateStart threw exception for reference $renderUtil in template html_res/coverage-graph.vm at [7,33]
{code}

I am suspecting this happens when *no* unit-tests are instrumented.

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt1j:",103028,,,,,90712,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmq7:",75431,,,,,,,,,,,"1|hwoqlz:",90823,537235200,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqs3b:",79370,,,,,,,,,,,,,,,,,,,,,,,,,,90714,,"1|hwopx3:",90714,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/2007 4:59 AM;npellow;After further investigation - this occurs when there is no {{name}} attribute defined on the {{project}} element in an ant build.xml, or if there is no {{projectName}} attribute set on the clover-report of clover-html-report tasks.

The current work around is to define either {{projectName}} on the clover report tasks, or to ensure the build.xml has a {{name}} attribute on the {{project}} element.;;;","07/Nov/2007 6:30 AM;npellow;This is now fixed and occurred when there was no project name defined - either on the clover-report task, or in the <project> element of the build file.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Clover test method rewriting doesn't respect the expected attribute on JUnit @Test annotations ,CLOV-90,59963,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,mstudman,mstudman,01/Nov/2007 9:36 PM,02/Jan/2008 6:46 PM,15/Nov/2024 6:09 PM,20/Nov/2007 5:19 AM,2.0.1,,,,,2.0.3,,,,,,,,,,0,,,,,,,,,"for an example, see : https://support.atlassian.com/browse/CLV-4666

This fix will require some thought and may require clover to use TEST-*.xml files for determining test results.",,,,,,,,,,,,,,,,,,,,,,,,,,,,CLOV-94,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt1b:",103027,,,,,90711,,,,,,,,,,,2007-11-07 06:23:12.583,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmqf:",75432,,,,,,,,,,,"1|hwoqlr:",90822,532310400,true,,,,,,,,,,44c5aaab647c(nebhale),mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,"1|hwog5j:",64488,,,,,,,,,,,,,,,,,,,,,,,,,,90713,,"1|hwopwv:",90713,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/2007 10:05 PM;mstudman;Mind if I have a go at this one, Nicko?;;;","07/Nov/2007 6:23 AM;npellow;
Re-add ability for Clover to gather test results via the TEST-*.xml files. ;;;","20/Nov/2007 3:59 PM;44c5aaab647c;Is there a reason that you wouldn't just update the rewriting to properly handle this?  I'm a huge fan of how it works now and don't want to have to go back to adding TEST-*.xml files.
;;;","20/Nov/2007 10:37 PM;npellow;Hi Ben, 

I'm a big fan of not having to provide TEST-*.xml as well! We are planning to allow the re-writing to handle @Expected and @Test annotations in the future. Re-adding the TEST-*.xml is the fastest and most reliable way to ensure that test results for the majority of frameworks can be read.

Sorry for the inconvenience for the time being.

Cheers,
Nick;;;","02/Jan/2008 6:46 PM;mstudman;This has now been properly fixed in http://jira.atlassian.com/browse/CLOV-121 so that TEST-*.xml files don't need to be fed to Clover anymore. This will be released as part of Clover 2.1;;;",,,,,,,,,,,,,,,,,,,,,,
OOM Writing Reports,CLOV-84,59747,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,392fb6eb772b,392fb6eb772b,26/Oct/2007 5:16 PM,21/May/2012 11:59 AM,15/Nov/2024 6:09 PM,02/Nov/2007 2:58 AM,2.0.1,,,,,2.0.2,,,,,,,,,,0,,,,,,,,,"Clover 2 is generating an OOM while writing reports for a large build.  The build output is:

---
26-Oct-2007 03:13:12  clover-guard: 
26-Oct-2007 03:13:12      [javac] WARNING: The <testresults> element is deprecated. It will be ignored. 
26-Oct-2007 03:13:12      [javac] WARNING: The <testresults> element is deprecated. It will be ignored. 
26-Oct-2007 03:13:12      [javac] WARNING: The <testresults> element is deprecated. It will be ignored. 
26-Oct-2007 03:13:12  [clover-report] Clover Version 2.0.1, built on October 19 2007 
26-Oct-2007 03:13:12  [clover-report] Loaded from: /n/​bin/​ant/​apache-ant-1.6.5/​lib/​clover.jar 
26-Oct-2007 03:13:12  [clover-report] Clover: Open Source License registered to Limewire. 
26-Oct-2007 03:13:12  [clover-report] Loading coverage database from: '/n/​bin/​bamboo/​data/​xml-data/​build-dir/​LW-NIGHTLY/​limewire/​clover/​clover.db' 
26-Oct-2007 03:14:55  [clover-report] Writing report to '/n/​bin/​bamboo/​data/​xml-data/​build-dir/​LW-NIGHTLY/​limewire/​clover/​html' 
26-Oct-2007 03:17:06   
26-Oct-2007 03:17:06  BUILD FAILED 
26-Oct-2007 03:17:06  java.lang.OutOfMemoryError: Java heap space 
---

(You can ignore the ​ character -- that's just Bamboo adding a character that doesn't display on IE6.)

I've attached the clover.db used for that build.  You can reproduce the problem by checking out limewire with:
 cvs -d:pserver:guest@cvs.limewire.org:/cvs login
 type guest for the password
 cvs -d:pserver:guest@cvs.limewire.org:/cvs checkout limewire

Then create a clover subdirectory within 'limewire', copy the clover.db into there.  From the limewire directory, type: ant with.clover clover2html
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/2007 5:16 PM;392fb6eb772b;clover.db;https://jira.atlassian.com/secure/attachment/22645/clover.db",,,,,,,,,,,,,,,,true,,"1|hwqt0v:",103025,,,,,90709,,,,,,,,,,,2007-11-01 04:42:05.024,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmr3:",75435,,,,,,,,,,,"1|hwoqlb:",90820,537667200,true,,,,,,,,,,npellow(npellow),392fb6eb772b(sberlin),,,,,,,,,,,,,,,,,,"1|hwog33:",64472,,,,,,,,,,,,,,,,,,,,,,,,,,90711,,"1|hwopwf:",90711,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/2007 4:42 AM;npellow;Hi Sam, 

I'm currently running test-all since I need the coverage recording files to generate a clover report.

Also, sorry this JIRA went so long unanswered, it did not appear on my radar as it was not assigned to the release I was working on. 
FYI - http://support.atlassian.com would be more appropriate for this kind of request as we have a support team monitoring that instance of JIRA constantly. 

Cheers and I hope I can give you some more news re your OOME soon.

Cheers,
Nick;;;","01/Nov/2007 9:57 AM;392fb6eb772b;All right -- sorry about the posting in the wrong place.  Good luck running the [incredibly long] tests.  Don't be dismayed by the lots of failures!;;;","02/Nov/2007 2:50 AM;npellow;No problem, Sam. Tests ran overnight, they took about 164 minutes to run. I'm going to close this case, and have created you a support case over at: http://support.atlassian.com/browse/CLV-4667 . Please let me know if you have problems viewing that issue.

Best Regards,
Nick

;;;","02/Nov/2007 2:58 AM;npellow;This issue is replace by: http://support.atlassian.com/browse/CLV-4667;;;",,,,,,,,,,,,,,,,,,,,,,,
Test instrumentation appears not to be respecting ///CLOVER:OFF source directive,CLOV-78,59596,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,bhumphreys,npellow,npellow,24/Oct/2007 7:03 AM,02/Jul/2008 6:07 AM,15/Nov/2024 6:09 PM,02/Jul/2008 6:07 AM,2.0.1,,,,,2.3.2,,,Instrumentation,,,,,,,0,,,,,,,,,This causes a compilation error as the instrumented test methods reference the static inner class setup by Clover at the start of each file.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqt07:",103022,,,,,90706,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmrz:",75439,,,,,,,,,,,"1|hwoqkn:",90817,538444800,true,,,,,,,,,,bhumphreys(bhumphreys),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqw47:",80294,,,,,,,,,,,,,,,,,,,,,,,,,,90708,,"1|hwopvr:",90708,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Instrument tests with return values correctly,CLOV-73,59569,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,23/Oct/2007 11:59 PM,21/May/2012 11:45 AM,15/Nov/2024 6:09 PM,26/Oct/2007 3:16 AM,2.0.1,,,,,2.0.2,,,,,,,,,,0,,,,,,,,,,velocity,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqszb:",103018,,,,,90702,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmsv:",75443,,,,,,,,,,,"1|hwoqjr:",90813,538272000,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqr5r:",79122,,,,,,,,,,,,,,,,,,,,,,,,,,90704,,"1|hwopuv:",90704,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/2007 3:16 AM;npellow;finished review;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Handle annotations when instrumenting test methods,CLOV-71,59525,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,22/Oct/2007 11:46 PM,21/May/2012 12:01 PM,15/Nov/2024 6:09 PM,23/Oct/2007 5:46 AM,2.0.1,,,,,2.0.2,,,,,,,,,,0,,,,,,,,,"http://www.cenqua.com/forums/thread.jspa?messageID=17454&#17454

Remove all annotations from synthetic test methods",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,"1|hwqsyv:",103016,,,,,90700,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmtb:",75445,,,,,,,,,,,"1|hwoqjb:",90811,538531200,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqlnj:",77541,,,,,,,,,,,,,,,,,,,,,,,,,,90702,,"1|hwopuf:",90702,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Oct/2007 5:46 AM;npellow;Annotations are now removed from synthetic test methods.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
NPE thrown from Logger.getInstance(),CLOV-59,59335,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,18/Oct/2007 12:41 AM,21/May/2012 11:44 AM,15/Nov/2024 6:09 PM,19/Oct/2007 1:14 AM,2 final,,,,,2.0.1,,,,,,,,,,0,,,,,,,,,"see: http://www.cenqua.com/forums/thread.jspa?messageID=17424&#17424
{quote}
Exception in thread ""CloverShutdownFlusher"" java.lang.NullPointerException
Exception in thread ""CloverShutdownFlusher"" at com.cenqua.clover.Logger.a(2.0.0-build-684:28)
at com.cenqua.clover.Logger.a(2.0.0-build-684:32)
at com_cenqua_clover.a.run(2.0.0-build-684:200)
java.lang.NullPointerException
at com.cenqua.clover.Logger.a(2.0.0-build-684:28)
at com.cenqua.clover.Logger.a(2.0.0-build-684:32)
at com_cenqua_clover.a.run(2.0.0-build-684:200)
{quote}

The LoggerFactory is somehow being set to null.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hwqsxj:",103010,,,,,90694,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmv3:",75453,,,,,,,,,,,"1|hwoqhz:",90805,538876800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqt53:",79700,,,,,,,,,,,,,,,,,,,,,,,,,,90696,,"1|hwopt3:",90696,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Oct/2007 1:14 AM;npellow;I could not reproduce this - nor see exactly how it is occuring.
I've moved the initialisation of the Logger to a static block on the Clover class.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Instrumenter fails on enum with single semicolon in body,CLOV-50,59183,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,mstudman,mstudman,mstudman,15/Oct/2007 1:01 PM,21/May/2012 11:43 AM,15/Nov/2024 6:09 PM,25/Oct/2007 3:16 AM,2 final,,,,,2.0.2,,,,,,,,,,0,,,,,,,,,"public enum Foo {
  ;
}

This fails in Clover but passes in javac. The problem is enumBody states that the constant block is mandatory when in fact it is optional.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hwqsw7:",103004,,,,,90688,,,,,,,,,,,2007-10-19 04:00:11.255,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmwf:",75459,,,,,,,,,,,"1|hwoqgn:",90799,538876800,true,,,,,,,,,,mstudman(mstudman),npellow(npellow),,,,,,,,,,,,,,,,,,"1|hwqmdb:",77739,,,,,,,,,,,,,,,,,,,,,,,,,,90690,,"1|hwoprr:",90690,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/2007 2:27 PM;mstudman;public enum Foo { ,; } also fails.;;;","15/Oct/2007 11:25 PM;mstudman;Fix committed for 2.0 release.;;;","19/Oct/2007 4:00 AM;npellow;Rolled back until we can remove the warning from Antlr.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Maven multi-module aggregate reports fail to include test results,CLOV-40,58926,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Duplicate,tom@atlassian.com,b45e4ad8cb8b,b45e4ad8cb8b,11/Oct/2007 12:41 AM,07/Nov/2007 3:10 AM,15/Nov/2024 6:09 PM,07/Nov/2007 3:10 AM,2 final,,,,,2.1.0,,,,,,,,,,3,,,,,,,,,"Given the following directory structure:

* root/master
* root/submodule1
* root/submodule2
* root/...

When trying to create an aggregated Clover report from the master directory of a mult-module project, I'm witnessing two related problems:

1) In the generate report (master/target/site/clover/index.html), there are no test results and the error message ""No test results could be found. Please ensure that you have configured the location of your test results correctly using the <testresults> nested element."" is displayed.

2) The following error occurs many times during the clover:aggregate goal: WARN: test class not found: com.ducks.deal.ClientSiteServiceImplTest. Obviously, it's repeated for each test class.

I'm using the command line: mvn clean clover:instrument clover:aggregate clover:clover

Note that when I use the command line ""mvn clean clover:instrument clover:clover"" (no aggregate) I get valid, error free reports in each submodule.

How are we supposed to produce a complete aggregated clover report from master which includes test results?

It seems like the clover:aggregate goal should gather all of the surefire test results in to target/clover/surefire-reports, or work around the fact that the results are located in the submodule target/clover/surefire-reports directories.

I've attached the output from ""mvn clean clover:instrument clover:aggregate clover:clover"".

Reference: http://www.cenqua.com/forums/thread.jspa?threadID=3257","Maven 2.0.7, Clover 2.0b2.1, Plugin 2.0-beta5",,,,,,,,,,,,,,,,,,,,,,,CLOV-28,,,,,,,,,,,,"11/Oct/2007 12:41 AM;b45e4ad8cb8b;clover-bug-output.txt;https://jira.atlassian.com/secure/attachment/22438/clover-bug-output.txt",,,,,,,,,,,,,,,,,,"1|hwqsun:",102997,,,,,90681,,,,,,,,,,,2007-10-11 04:46:45.03,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmyf:",75468,,,,,,,,,,,"1|hwoqf3:",90792,539049600,true,,,,,,,,,,b45e4ad8cb8b(xianpants),npellow(npellow),febf8888ee66(robmonie),tom@atlassian.com(tom@atlassian.com),,,,,,,,,,,,,,,,"1|hwqk0f:",77143,,,,,,,,,,,,,,,,,,,,,,,,,,90683,,"1|hwopq7:",90683,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/2007 4:46 AM;tom@atlassian.com;This is not a specific Maven problem -- when the underlying ant task correctly aggregates the test results this should work.;;;","15/Oct/2007 7:17 AM;febf8888ee66;I'm getting somewhat similar results as described above although even without using the aggregate goal I have incorrect reports at the module level.  

I've tried running both at the command line using mvn clean clover:instrument clover:aggregate clover:clover

and...

using the following pom.xml configuration and running mvn clean site

<plugin>
                <artifactId>maven-clover-plugin</artifactId>
                <groupId>com.atlassian.maven.plugins</groupId>
                <version>3.0-beta-5</version>
                <configuration>
                    <jdk>1.5</jdk>
                    <licenseLocation>clover.license</licenseLocation>
                    <cloverDatabase>${user.home}/clover-database/concoursedirectory/cloverdb</cloverDatabase>
                    <cloverMergeDatabase>${user.home}/clover-database/concoursedirectory/clovermergedb</cloverMergeDatabase>
                    
                    <includes>
                        <include>**/*.java</include>
                    </includes>
 
                    <execution>
                        <id>main</id>
                        <phase>verify</phase>
                        <goals>
                            <goal>instrument</goal>
                            <goal>aggregate</goal>
                        </goals>
                    </execution>
                     
                    <execution>
                        <id>site</id>
                        <phase>pre-site</phase>
                        <goals>
                            <goal>instrument</goal>
                            <goal>aggregate</goal>
                        </goals>
                    </execution>

                    <generateHtml>true</generateHtml>
                    <generateXml>true</generateXml>

                </configuration>
            </plugin>

This problem is basically rendering the tool useless to us at the moment.  Obviously it would be great to get this working with aggregation but if there's an interim configuration we could use to get the module level coverage reports working that would be great.

cheers,
rob;;;","17/Oct/2007 10:55 AM;npellow;this looks to be a duplicate of CLOV-28? 
Per-Test data is not yet aggregated after databases are merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,
repackage licensing code to avoid conflicts with internal code,CLOV-36,58620,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,04/Oct/2007 2:29 AM,04/Oct/2007 7:24 AM,15/Nov/2024 6:09 PM,04/Oct/2007 7:24 AM,2 final,,,,,2 final,,,,,,,,,,0,,,,,,,,,This allows Clover to run over FishEye with a different version of the licensing library.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hwqstr:",102993,,,,,90677,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmzb:",75472,,,,,,,,,,,"1|hwoqe7:",90788,540172800,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqkx3:",77371,,,,,,,,,,,,,,,,,,,,,,,,,,90679,,"1|hwoppb:",90679,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/2007 4:34 AM;npellow;Currently under review CR-1148.;;;","04/Oct/2007 7:24 AM;npellow;Fixed, tested with FishEye.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
CloverMergeTask can not find CloverDatabaseSpec,CLOV-33,58524,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,02/Oct/2007 10:04 AM,21/May/2012 11:35 AM,15/Nov/2024 6:09 PM,17/Oct/2007 11:02 AM,2 final,,,,,2 final,,,,,,,,,,0,,,,,,,,,This is an obfuscation bug.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hwqst3:",102990,,,,,90674,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmmzz:",75475,,,,,,,,,,,"1|hwoqdj:",90785,540345600,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwr3rj:",82111,,,,,,,,,,,,,,,,,,,,,,,,,,90676,,"1|hwopon:",90676,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Memory Leak in clover-report ,CLOV-29,58184,Bug,Closed,CLOV,Clover,software,mparfianowicz,This is a public issue tracker for Atlassian Clover - a code coverage tool for Java and Groovy.,http://www.atlassian.com/software/clover/,Medium,Fixed,npellow,npellow,npellow,25/Sep/2007 3:38 AM,21/May/2012 11:34 AM,15/Nov/2024 6:09 PM,25/Sep/2007 3:39 AM,2 final,,,,,2 final,,,,,,,,,,0,,,,,,,,,"Michael did some investigation on the comments made in this thread: http://www.cenqua.com/forums/thread.jspa?messageID=17270&tstart=0#17270 

It seems like a CloverDatabase instance is retained by the RenderFileAction class (via a static field used for thread local initialisation).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hwqssf:",102987,,,,,90670,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"2|hwmn0v:",75479,,,,,,,,,,,"1|hwoqcn:",90781,540950400,true,,,,,,,,,,npellow(npellow),,,,,,,,,,,,,,,,,,,"1|hwqyhz:",80937,,,,,,,,,,,,,,,,,,,,,,,,,,90672,,"1|hwopnr:",90672,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/2007 3:39 AM;npellow;Michael implemented the fix for this.
I ran YourKit over the new version and can confirm that memory is released once clover-report has run. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
